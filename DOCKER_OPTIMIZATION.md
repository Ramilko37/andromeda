# üê≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ Docker –æ–±—Ä–∞–∑–∞

–ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4GB –Ω–∞ Railway), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

## üìä –¢–µ–∫—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

Dockerfile —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- ‚úÖ Multi-stage build (builder + runtime)
- ‚úÖ Production dependencies —Ç–æ–ª—å–∫–æ
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ node_modules

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BuildKit (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BuildKit, –Ω–æ –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å:

```bash
DOCKER_BUILDKIT=1 docker build -t your-image .
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ï—Å–ª–∏ –æ–±—Ä–∞–∑ –≤—Å–µ –µ—â–µ –±–æ–ª—å—à–æ–π, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **Railway**: –û–±–Ω–æ–≤–∏—Ç–µ—Å—å –Ω–∞ Pro –ø–ª–∞–Ω (–ª–∏–º–∏—Ç 8GB) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker BuildKit
2. **Render**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile —Å multi-stage build
3. **Fly.io**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—Ä–∞–∑–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .dockerignore

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.dockerignore` –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã:

```
node_modules
dist
*.md
docs/
__tests__/
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å–ª–æ–µ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `dive` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞:

```bash
dive your-image-name
```

## üéØ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway BuildKit** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):

   - Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BuildKit –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –û–Ω –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å–ª–æ–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ**:

   ```bash
   docker build -t test-image .
   docker images test-image
   ```

3. **–ï—Å–ª–∏ –≤—Å–µ –µ—â–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π**:
   - –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Railway (8GB –ª–∏–º–∏—Ç)
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (Fly.io, Render)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- ElizaOS –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ —Å React, Tailwind)
- Multi-stage build —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ
- Railway –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Railway Docker Limits](https://docs.railway.app/deploy/dockerfiles)
- [Docker Multi-stage Builds](https://docs.docker.com/build/building/multi-stage/)
