const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BUKiar2Z.js","assets/tex-Cppo0RY3.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-WgofotgN.js","assets/csharp-CX12Zw3r.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-CCoi5OLL.js","assets/vue-html-DAAvJJDi.js","assets/vue-vine-_Ih-lPRR.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js","assets/mermaid.core-CyFstu-e.js","assets/main-BlchgsS9.js"])))=>i.map(i=>d[i]);
var hP=Object.defineProperty;var s=(e,t)=>hP(e,"name",{value:t,configurable:!0});import{g as a0,j as b,S as Zl,r as H,R as yE,a as wE,T as xE,P as _E,C as o0,b as EE,X as ei,O as l0,c as u0,D as c0,d as pP,e as mP,f as gP,h as vP,i as SE,k as bP,l as kE,m as TE,L as vb,n as bb,o as AE,p as yP,V as wP,G as xP,q as NE,I as _P,s as Es,t as EP,u as CE,v as SP,w as ME,x as kP,y as ca,z as TP,A as IE,B as OE,E as RE,F as jE,H as LE,J as Cn,K as AP,M as NP,N as CP,Q as MP,U as IP,W as OP,Y as RP,Z as jP,_ as LP,$ as PE,a0 as DE,a1 as BE,a2 as zE,a3 as UE,a4 as FE,a5 as Ni,a6 as PP,a7 as $E,a8 as HE,a9 as DP,aa as VE,ab as Nn,ac as yb,ad as Yc,ae as GE,af as ZE,ag as BP,ah as zP,ai as wb,aj as JE,ak as UP,al as FP,am as WE,an as $P,ao as xo,ap as Wp,aq as Ks,ar as cs,as as D6,at as No,au as HP,av as hs,aw as Rn,ax as En,ay as QE,az as XE,aA as KE,aB as qE,aC as YE,aD as ci,aE as d0,aF as VP,aG as GP,aH as ZP,aI as f0,aJ as h0,aK as Vu,aL as Co,aM as Pa,aN as B6,aO as JP,aP as ed,aQ as p0,aR as hc,aS as WP,aT as z6,aU as QP,aV as e7,aW as XP,aX as t7,aY as r7,aZ as n7,a_ as i7,a$ as s7,b0 as KP,b1 as xb,b2 as A1,b3 as a7,b4 as qP,b5 as rh,b6 as _b,b7 as Eb,b8 as U6,b9 as F6,ba as $6,bb as m0,bc as td,bd as Sb,be as o7,bf as N1,bg as Yn,bh as l7,bi as u7,bj as Ho,bk as pc,bl as c7,bm as H6,bn as jl,bo as kb,bp as rd,bq as nh,br as d7,bs as YP,bt as Tb,bu as mc,bv as hi,bw as eD,bx as tD,by as Si,bz as Qp,bA as rD,bB as ki,bC as ml,bD as nD,bE as Rd,bF as Ab,bG as iD,bH as Nb,bI as f7,bJ as h7,bK as sD,bL as aD,bM as oD,bN as lD,bO as Cb,bP as uD,bQ as cD,bR as dD,bS as Mb,bT as Ib,bU as fD,bV as p7,bW as C1,bX as hD,bY as m7,bZ as pD,b_ as mD,b$ as gD,c0 as vD,c1 as bD,c2 as yD,c3 as wD,c4 as xD,c5 as _D,c6 as g7,c7 as v7,c8 as b7,c9 as y7,ca as ED,cb as SD,cc as kD,cd as M1,ce as TD,cf as AD,cg as g0,ch as ND,ci as w7,cj as CD,ck as MD,cl as Xp,cm as V6,cn as G6,co as ID,cp as Ob,cq as OD,cr as RD,cs as jD,ct as LD,cu as PD,cv as DD,cw as BD,cx as zD,cy as UD,cz as FD,cA as Li,cB as $D}from"./react-vendor-x2SlH6Lf.js";import{_ as fe}from"./main-BlchgsS9.js";function x7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=x7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}s(x7,"r$3");function v0(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=x7(e))&&(n&&(n+=" "),n+=t);return n}s(v0,"clsx");const Z6=s(e=>typeof e=="boolean"?`${e}`:e===0?"0":e,"falsyToString"),J6=v0,ma=s((e,t)=>r=>{var n;if(t?.variants==null)return J6(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const h=r?.[c],f=o?.[c];if(h===null)return null;const v=Z6(h)||Z6(f);return i[c][v]}),l=r&&Object.entries(r).reduce((c,h)=>{let[f,v]=h;return v===void 0||(c[f]=v),c},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,h)=>{let{class:f,className:v,...m}=h;return Object.entries(m).every(w=>{let[_,A]=w;return Array.isArray(A)?A.includes({...o,...l}[_]):{...o,...l}[_]===A})?[...c,f,v]:c},[]);return J6(e,a,u,r?.class,r?.className)},"cva"),wl="user",jd="client_chat",Gu="client_group_chat",gc=512;var Rf=(e=>(e.REQUIRED="required",e.OPTIONAL="optional",e))(Rf||{});const sl={name:"required",username:"optional",system:"required","settings.voice.model":"optional",bio:"optional",topics:"optional",adjectives:"optional","style.all":"optional","style.chat":"optional","style.post":"optional"};var jf={exports:{}},HD=jf.exports,W6;function VD(){return W6||(W6=1,(function(e,t){(function(r,n){e.exports=n()})(HD,(function(){var r=1e3,n=6e4,i=36e5,o="millisecond",a="second",l="minute",u="hour",c="day",h="week",f="month",v="quarter",m="year",w="date",_="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:s(function(g){var x=["th","st","nd","rd"],E=g%100;return"["+g+(x[(E-20)%10]||x[E]||x[0])+"]"},"ordinal")},R=s(function(g,x,E){var T=String(g);return!T||T.length>=x?g:""+Array(x+1-T.length).join(E)+g},"m"),L={s:R,z:s(function(g){var x=-g.utcOffset(),E=Math.abs(x),T=Math.floor(E/60),N=E%60;return(x<=0?"+":"-")+R(T,2,"0")+":"+R(N,2,"0")},"z"),m:s(function g(x,E){if(x.date()<E.date())return-g(E,x);var T=12*(E.year()-x.year())+(E.month()-x.month()),N=x.clone().add(T,f),k=E-N<0,p=x.clone().add(T+(k?-1:1),f);return+(-(T+(E-N)/(k?N-p:p-N))||0)},"t2"),a:s(function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},"a"),p:s(function(g){return{M:f,y:m,w:h,d:c,D:w,h:u,m:l,s:a,ms:o,Q:v}[g]||String(g||"").toLowerCase().replace(/s$/,"")},"p"),u:s(function(g){return g===void 0},"u")},P="en",F={};F[P]=I;var Z="$isDayjsObject",G=s(function(g){return g instanceof d||!(!g||!g[Z])},"S"),se=s(function g(x,E,T){var N;if(!x)return P;if(typeof x=="string"){var k=x.toLowerCase();F[k]&&(N=k),E&&(F[k]=E,N=k);var p=x.split("-");if(!N&&p.length>1)return g(p[0])}else{var S=x.name;F[S]=x,N=S}return!T&&N&&(P=N),N||!T&&P},"t2"),U=s(function(g,x){if(G(g))return g.clone();var E=typeof x=="object"?x:{};return E.date=g,E.args=arguments,new d(E)},"O"),X=L;X.l=se,X.i=G,X.w=function(g,x){return U(g,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var d=(function(){function g(E){this.$L=se(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[Z]=!0}s(g,"M2");var x=g.prototype;return x.parse=function(E){this.$d=(function(T){var N=T.date,k=T.utc;if(N===null)return new Date(NaN);if(X.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var p=N.match(A);if(p){var S=p[2]-1||0,C=(p[7]||"0").substring(0,3);return k?new Date(Date.UTC(p[1],S,p[3]||1,p[4]||0,p[5]||0,p[6]||0,C)):new Date(p[1],S,p[3]||1,p[4]||0,p[5]||0,p[6]||0,C)}}return new Date(N)})(E),this.init()},x.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},x.$utils=function(){return X},x.isValid=function(){return this.$d.toString()!==_},x.isSame=function(E,T){var N=U(E);return this.startOf(T)<=N&&N<=this.endOf(T)},x.isAfter=function(E,T){return U(E)<this.startOf(T)},x.isBefore=function(E,T){return this.endOf(T)<U(E)},x.$g=function(E,T,N){return X.u(E)?this[T]:this.set(N,E)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(E,T){var N=this,k=!!X.u(T)||T,p=X.p(E),S=s(function(ne,ie){var Qe=X.w(N.$u?Date.UTC(N.$y,ie,ne):new Date(N.$y,ie,ne),N);return k?Qe:Qe.endOf(c)},"l2"),C=s(function(ne,ie){return X.w(N.toDate()[ne].apply(N.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(ie)),N)},"$2"),O=this.$W,B=this.$M,z=this.$D,$="set"+(this.$u?"UTC":"");switch(p){case m:return k?S(1,0):S(31,11);case f:return k?S(1,B):S(0,B+1);case h:var W=this.$locale().weekStart||0,oe=(O<W?O+7:O)-W;return S(k?z-oe:z+(6-oe),B);case c:case w:return C($+"Hours",0);case u:return C($+"Minutes",1);case l:return C($+"Seconds",2);case a:return C($+"Milliseconds",3);default:return this.clone()}},x.endOf=function(E){return this.startOf(E,!1)},x.$set=function(E,T){var N,k=X.p(E),p="set"+(this.$u?"UTC":""),S=(N={},N[c]=p+"Date",N[w]=p+"Date",N[f]=p+"Month",N[m]=p+"FullYear",N[u]=p+"Hours",N[l]=p+"Minutes",N[a]=p+"Seconds",N[o]=p+"Milliseconds",N)[k],C=k===c?this.$D+(T-this.$W):T;if(k===f||k===m){var O=this.clone().set(w,1);O.$d[S](C),O.init(),this.$d=O.set(w,Math.min(this.$D,O.daysInMonth())).$d}else S&&this.$d[S](C);return this.init(),this},x.set=function(E,T){return this.clone().$set(E,T)},x.get=function(E){return this[X.p(E)]()},x.add=function(E,T){var N,k=this;E=Number(E);var p=X.p(T),S=s(function(B){var z=U(k);return X.w(z.date(z.date()+Math.round(B*E)),k)},"y2");if(p===f)return this.set(f,this.$M+E);if(p===m)return this.set(m,this.$y+E);if(p===c)return S(1);if(p===h)return S(7);var C=(N={},N[l]=n,N[u]=i,N[a]=r,N)[p]||1,O=this.$d.getTime()+E*C;return X.w(O,this)},x.subtract=function(E,T){return this.add(-1*E,T)},x.format=function(E){var T=this,N=this.$locale();if(!this.isValid())return N.invalidDate||_;var k=E||"YYYY-MM-DDTHH:mm:ssZ",p=X.z(this),S=this.$H,C=this.$m,O=this.$M,B=N.weekdays,z=N.months,$=N.meridiem,W=s(function(ie,Qe,Ne,ve){return ie&&(ie[Qe]||ie(T,k))||Ne[Qe].slice(0,ve)},"h2"),oe=s(function(ie){return X.s(S%12||12,ie,"0")},"d2"),ne=$||function(ie,Qe,Ne){var ve=ie<12?"AM":"PM";return Ne?ve.toLowerCase():ve};return k.replace(M,(function(ie,Qe){return Qe||(function(Ne){switch(Ne){case"YY":return String(T.$y).slice(-2);case"YYYY":return X.s(T.$y,4,"0");case"M":return O+1;case"MM":return X.s(O+1,2,"0");case"MMM":return W(N.monthsShort,O,z,3);case"MMMM":return W(z,O);case"D":return T.$D;case"DD":return X.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return W(N.weekdaysMin,T.$W,B,2);case"ddd":return W(N.weekdaysShort,T.$W,B,3);case"dddd":return B[T.$W];case"H":return String(S);case"HH":return X.s(S,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ne(S,C,!0);case"A":return ne(S,C,!1);case"m":return String(C);case"mm":return X.s(C,2,"0");case"s":return String(T.$s);case"ss":return X.s(T.$s,2,"0");case"SSS":return X.s(T.$ms,3,"0");case"Z":return p}return null})(ie)||p.replace(":","")}))},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(E,T,N){var k,p=this,S=X.p(T),C=U(E),O=(C.utcOffset()-this.utcOffset())*n,B=this-C,z=s(function(){return X.m(p,C)},"D2");switch(S){case m:k=z()/12;break;case f:k=z();break;case v:k=z()/3;break;case h:k=(B-O)/6048e5;break;case c:k=(B-O)/864e5;break;case u:k=B/i;break;case l:k=B/n;break;case a:k=B/r;break;default:k=B}return N?k:X.a(k)},x.daysInMonth=function(){return this.endOf(f).$D},x.$locale=function(){return F[this.$L]},x.locale=function(E,T){if(!E)return this.$L;var N=this.clone(),k=se(E,T,!0);return k&&(N.$L=k),N},x.clone=function(){return X.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},g})(),y=d.prototype;return U.prototype=y,[["$ms",o],["$s",a],["$m",l],["$H",u],["$W",c],["$M",f],["$y",m],["$D",w]].forEach((function(g){y[g[1]]=function(x){return this.$g(x,g[0],g[1])}})),U.extend=function(g,x){return g.$i||(g(x,d,U),g.$i=!0),U},U.locale=se,U.isDayjs=G,U.unix=function(g){return U(1e3*g)},U.en=F[P],U.Ls=F,U.p={},U}))})(jf)),jf.exports}s(VD,"requireDayjs_min");var GD=VD();const _7=a0(GD);var Lf={exports:{}},ZD=Lf.exports,Q6;function JD(){return Q6||(Q6=1,(function(e,t){(function(r,n){e.exports=n()})(ZD,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var a=i.prototype,l=a.format;o.en.formats=r,a.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,h=(function(f,v){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(m,w,_){var A=_&&_.toUpperCase();return w||v[_]||r[_]||v[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(M,I,R){return I||R.slice(1)}))}))})(u,c===void 0?{}:c);return l.call(this,h)}}}))})(Lf)),Lf.exports}s(JD,"requireLocalizedFormat");var WD=JD();const QD=a0(WD),Rb="-",XD=s(e=>{const t=qD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s(a=>{const l=a.split(Rb);return l[0]===""&&l.length!==1&&l.shift(),E7(l,t)||KD(a)},"getClassGroupId"),getConflictingClassGroupIds:s((a,l)=>{const u=r[a]||[];return l&&n[a]?[...u,...n[a]]:u},"getConflictingClassGroupIds")}},"createClassGroupUtils"),E7=s((e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?E7(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Rb);return t.validators.find(({validator:a})=>a(o))?.classGroupId},"getGroupRecursive"),X6=/^\[(.+)\]$/,KD=s(e=>{if(X6.test(e)){const t=X6.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},"getGroupIdForArbitraryProperty"),qD=s(e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)I1(r[i],n,i,t);return n},"createClassMap"),I1=s((e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:K6(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(YD(i)){I1(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{I1(a,K6(t,o),r,n)})})},"processClassesRecursively"),K6=s((e,t)=>{let r=e;return t.split(Rb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},"getPart"),YD=s(e=>e.isThemeGetter,"isThemeGetter"),eB=s(e=>{if(e<1)return{get:s(()=>{},"get"),set:s(()=>{},"set")};let t=0,r=new Map,n=new Map;const i=s((o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)},"update");return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},"createLruCache"),O1="!",R1=":",tB=R1.length,rB=s(e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s(i=>{const o=[];let a=0,l=0,u=0,c;for(let w=0;w<i.length;w++){let _=i[w];if(a===0&&l===0){if(_===R1){o.push(i.slice(u,w)),u=w+tB;continue}if(_==="/"){c=w;continue}}_==="["?a++:_==="]"?a--:_==="("?l++:_===")"&&l--}const h=o.length===0?i:i.substring(u),f=nB(h),v=f!==h,m=c&&c>u?c-u:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:f,maybePostfixModifierPosition:m}},"parseClassName");if(t){const i=t+R1,o=n;n=s(a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0},"parseClassName")}if(r){const i=n;n=s(o=>r({className:o,parseClassName:i}),"parseClassName")}return n},"createParseClassName"),nB=s(e=>e.endsWith(O1)?e.substring(0,e.length-1):e.startsWith(O1)?e.substring(1):e,"stripImportantModifier"),iB=s(e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return s(n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i},"sortModifiers")},"createSortModifiers"),sB=s(e=>({cache:eB(e.cacheSize),parseClassName:rB(e),sortModifiers:iB(e),...XD(e)}),"createConfigUtils"),aB=/\s+/,oB=s((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],l=e.trim().split(aB);let u="";for(let c=l.length-1;c>=0;c-=1){const h=l[c],{isExternal:f,modifiers:v,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}=r(h);if(f){u=h+(u.length>0?" "+u:u);continue}let A=!!_,M=n(A?w.substring(0,_):w);if(!M){if(!A){u=h+(u.length>0?" "+u:u);continue}if(M=n(w),!M){u=h+(u.length>0?" "+u:u);continue}A=!1}const I=o(v).join(":"),R=m?I+O1:I,L=R+M;if(a.includes(L))continue;a.push(L);const P=i(M,A);for(let F=0;F<P.length;++F){const Z=P[F];a.push(R+Z)}u=h+(u.length>0?" "+u:u)}return u},"mergeClassList");function lB(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=S7(t))&&(n&&(n+=" "),n+=r);return n}s(lB,"twJoin");const S7=s(e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=S7(e[n]))&&(r&&(r+=" "),r+=t);return r},"toValue");function uB(e,...t){let r,n,i,o=a;function a(u){const c=t.reduce((h,f)=>f(h),e());return r=sB(c),n=r.cache.get,i=r.cache.set,o=l,l(u)}s(a,"initTailwindMerge");function l(u){const c=n(u);if(c)return c;const h=oB(u,r);return i(u,h),h}return s(l,"tailwindMerge"),s(function(){return o(lB.apply(null,arguments))},"callTailwindMerge")}s(uB,"createTailwindMerge");const dn=s(e=>{const t=s(r=>r[e]||[],"themeGetter");return t.isThemeGetter=!0,t},"fromTheme"),k7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,T7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cB=/^\d+\/\d+$/,dB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,al=s(e=>cB.test(e),"isFraction"),sr=s(e=>!!e&&!Number.isNaN(Number(e)),"isNumber$1"),wa=s(e=>!!e&&Number.isInteger(Number(e)),"isInteger"),Kp=s(e=>e.endsWith("%")&&sr(e.slice(0,-1)),"isPercent"),Ls=s(e=>dB.test(e),"isTshirtSize"),gB=s(()=>!0,"isAny"),vB=s(e=>fB.test(e)&&!hB.test(e),"isLengthOnly"),A7=s(()=>!1,"isNever"),bB=s(e=>pB.test(e),"isShadow"),yB=s(e=>mB.test(e),"isImage"),wB=s(e=>!Pt(e)&&!Dt(e),"isAnyNonArbitrary"),xB=s(e=>Jl(e,M7,A7),"isArbitrarySize"),Pt=s(e=>k7.test(e),"isArbitraryValue"),Ka=s(e=>Jl(e,I7,vB),"isArbitraryLength"),qp=s(e=>Jl(e,TB,sr),"isArbitraryNumber"),q6=s(e=>Jl(e,N7,A7),"isArbitraryPosition"),_B=s(e=>Jl(e,C7,yB),"isArbitraryImage"),Ld=s(e=>Jl(e,O7,bB),"isArbitraryShadow"),Dt=s(e=>T7.test(e),"isArbitraryVariable"),fu=s(e=>Wl(e,I7),"isArbitraryVariableLength"),EB=s(e=>Wl(e,AB),"isArbitraryVariableFamilyName"),Y6=s(e=>Wl(e,N7),"isArbitraryVariablePosition"),SB=s(e=>Wl(e,M7),"isArbitraryVariableSize"),kB=s(e=>Wl(e,C7),"isArbitraryVariableImage"),Pd=s(e=>Wl(e,O7,!0),"isArbitraryVariableShadow"),Jl=s((e,t,r)=>{const n=k7.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},"getIsArbitraryValue"),Wl=s((e,t,r=!1)=>{const n=T7.exec(e);return n?n[1]?t(n[1]):r:!1},"getIsArbitraryVariable"),N7=s(e=>e==="position"||e==="percentage","isLabelPosition"),C7=s(e=>e==="image"||e==="url","isLabelImage"),M7=s(e=>e==="length"||e==="size"||e==="bg-size","isLabelSize"),I7=s(e=>e==="length","isLabelLength"),TB=s(e=>e==="number","isLabelNumber"),AB=s(e=>e==="family-name","isLabelFamilyName"),O7=s(e=>e==="shadow","isLabelShadow"),NB=s(()=>{const e=dn("color"),t=dn("font"),r=dn("text"),n=dn("font-weight"),i=dn("tracking"),o=dn("leading"),a=dn("breakpoint"),l=dn("container"),u=dn("spacing"),c=dn("radius"),h=dn("shadow"),f=dn("inset-shadow"),v=dn("text-shadow"),m=dn("drop-shadow"),w=dn("blur"),_=dn("perspective"),A=dn("aspect"),M=dn("ease"),I=dn("animate"),R=s(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"scaleBreak"),L=s(()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],"scalePosition"),P=s(()=>[...L(),Dt,Pt],"scalePositionWithArbitrary"),F=s(()=>["auto","hidden","clip","visible","scroll"],"scaleOverflow"),Z=s(()=>["auto","contain","none"],"scaleOverscroll"),G=s(()=>[Dt,Pt,u],"scaleUnambiguousSpacing"),se=s(()=>[al,"full","auto",...G()],"scaleInset"),U=s(()=>[wa,"none","subgrid",Dt,Pt],"scaleGridTemplateColsRows"),X=s(()=>["auto",{span:["full",wa,Dt,Pt]},wa,Dt,Pt],"scaleGridColRowStartAndEnd"),d=s(()=>[wa,"auto",Dt,Pt],"scaleGridColRowStartOrEnd"),y=s(()=>["auto","min","max","fr",Dt,Pt],"scaleGridAutoColsRows"),g=s(()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],"scaleAlignPrimaryAxis"),x=s(()=>["start","end","center","stretch","center-safe","end-safe"],"scaleAlignSecondaryAxis"),E=s(()=>["auto",...G()],"scaleMargin"),T=s(()=>[al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],"scaleSizing"),N=s(()=>[e,Dt,Pt],"scaleColor"),k=s(()=>[...L(),Y6,q6,{position:[Dt,Pt]}],"scaleBgPosition"),p=s(()=>["no-repeat",{repeat:["","x","y","space","round"]}],"scaleBgRepeat"),S=s(()=>["auto","cover","contain",SB,xB,{size:[Dt,Pt]}],"scaleBgSize"),C=s(()=>[Kp,fu,Ka],"scaleGradientStopPosition"),O=s(()=>["","none","full",c,Dt,Pt],"scaleRadius"),B=s(()=>["",sr,fu,Ka],"scaleBorderWidth"),z=s(()=>["solid","dashed","dotted","double"],"scaleLineStyle"),$=s(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"scaleBlendMode"),W=s(()=>[sr,Kp,Y6,q6],"scaleMaskImagePosition"),oe=s(()=>["","none",w,Dt,Pt],"scaleBlur"),ne=s(()=>["none",sr,Dt,Pt],"scaleRotate"),ie=s(()=>["none",sr,Dt,Pt],"scaleScale"),Qe=s(()=>[sr,Dt,Pt],"scaleSkew"),Ne=s(()=>[al,"full",...G()],"scaleTranslate");return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[gB],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[wB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",sr],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",al,Pt,Dt,A]}],container:["container"],columns:[{columns:[sr,Pt,Dt,l]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[wa,"auto",Dt,Pt]}],basis:[{basis:[al,"full","auto",l,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[sr,al,"auto","initial","none",Pt]}],grow:[{grow:["",sr,Dt,Pt]}],shrink:[{shrink:["",sr,Dt,Pt]}],order:[{order:[wa,"first","last","none",Dt,Pt]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":d()}],"col-end":[{"col-end":d()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":d()}],"row-end":[{"row-end":d()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":y()}],"auto-rows":[{"auto-rows":y()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...g(),"normal"]}],"justify-items":[{"justify-items":[...x(),"normal"]}],"justify-self":[{"justify-self":["auto",...x()]}],"align-content":[{content:["normal",...g()]}],"align-items":[{items:[...x(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...x(),{baseline:["","last"]}]}],"place-content":[{"place-content":g()}],"place-items":[{"place-items":[...x(),"baseline"]}],"place-self":[{"place-self":["auto",...x()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[l,"screen",...T()]}],"min-w":[{"min-w":[l,"screen","none",...T()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",r,fu,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Dt,qp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Kp,Pt]}],"font-family":[{font:[EB,Pt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Dt,Pt]}],"line-clamp":[{"line-clamp":[sr,"none",Dt,qp]}],leading:[{leading:[o,...G()]}],"list-image":[{"list-image":["none",Dt,Pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Dt,Pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[sr,"from-font","auto",Dt,Ka]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[sr,"auto",Dt,Pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt,Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt,Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:p()}],"bg-size":[{bg:S()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wa,Dt,Pt],radial:["",Dt,Pt],conic:[wa,Dt,Pt]},kB,_B]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:C()}],"gradient-via-pos":[{via:C()}],"gradient-to-pos":[{to:C()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[sr,Dt,Pt]}],"outline-w":[{outline:["",sr,fu,Ka]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",h,Pd,Ld]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",f,Pd,Ld]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[sr,Ka]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",v,Pd,Ld]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[sr,Dt,Pt]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[sr]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[Dt,Pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[sr]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:p()}],"mask-size":[{mask:S()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Dt,Pt]}],filter:[{filter:["","none",Dt,Pt]}],blur:[{blur:oe()}],brightness:[{brightness:[sr,Dt,Pt]}],contrast:[{contrast:[sr,Dt,Pt]}],"drop-shadow":[{"drop-shadow":["","none",m,Pd,Ld]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",sr,Dt,Pt]}],"hue-rotate":[{"hue-rotate":[sr,Dt,Pt]}],invert:[{invert:["",sr,Dt,Pt]}],saturate:[{saturate:[sr,Dt,Pt]}],sepia:[{sepia:["",sr,Dt,Pt]}],"backdrop-filter":[{"backdrop-filter":["","none",Dt,Pt]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[sr,Dt,Pt]}],"backdrop-contrast":[{"backdrop-contrast":[sr,Dt,Pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",sr,Dt,Pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[sr,Dt,Pt]}],"backdrop-invert":[{"backdrop-invert":["",sr,Dt,Pt]}],"backdrop-opacity":[{"backdrop-opacity":[sr,Dt,Pt]}],"backdrop-saturate":[{"backdrop-saturate":[sr,Dt,Pt]}],"backdrop-sepia":[{"backdrop-sepia":["",sr,Dt,Pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Dt,Pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[sr,"initial",Dt,Pt]}],ease:[{ease:["linear","initial",M,Dt,Pt]}],delay:[{delay:[sr,Dt,Pt]}],animate:[{animate:["none",I,Dt,Pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Dt,Pt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Dt,Pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt,Pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt,Pt]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[sr,fu,Ka,qp]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},"getDefaultConfig"),R7=uB(NB);function Fe(...e){return R7(v0(e))}s(Fe,"cn$1");_7.extend(QD);const _o=_7,Mo=s(e=>e.substring(0,2),"formatAgentName");function ta(){return URL.createObjectURL(new Blob).split("/").pop()}s(ta,"randomUUID");function Io(){const e="elizaos-client-user-id",t=localStorage.getItem(e);if(t)return t;const r=ta();return localStorage.setItem(e,r),r}s(Io,"getEntityId");const j7=s((e,t=gc,r=.8)=>new Promise((n,i)=>{const o=new FileReader;o.onload=a=>{if(a.target?.result){const l=new Image;l.src=a.target.result,l.onload=()=>{const u=document.createElement("canvas");let c=l.width,h=l.height;c>h?c>t&&(h*=t/c,c=t):h>t&&(c*=t/h,h=t),u.width=c,u.height=h,u.getContext("2d")?.drawImage(l,0,0,c,h);const v=u.toDataURL("image/jpeg",r);n(v)},l.onerror=i}},o.onerror=i,o.readAsDataURL(e)}),"compressImage"),e3=["/images/agents/agent1.png","/images/agents/agent2.png","/images/agents/agent3.png","/images/agents/agent4.png","/images/agents/agent5.png"],vc=s(e=>{if(e?.settings?.avatar)return e.settings.avatar;if(e?.id){let t=0;for(let n=0;n<e.id.length;n++){const i=e.id.charCodeAt(n);t=(t<<5)-t+i,t|=0}const r=Math.abs(t)%e3.length;return e3[r]}return"/elizaos-icon.png"},"getAgentAvatar"),jb=s((e,t,r)=>{if(e?.name&&e.name.trim()!=="")return e.name;if(t&&t.length>0){const n=t.filter(i=>i.id!==r&&i.name);if(n.length===0&&t.some(i=>i.id===r&&i.name)){const i=t.find(o=>o.id===r);return i&&i.name||"Unnamed Group"}if(n.length>0)return n.map(i=>i.name).slice(0,3).join(", ")+(n.length>3?"...":"")}return"Unnamed Group"},"generateGroupName"),Lb=ma("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-red-800 text-white shadow-xs hover:bg-red-600 focus-visible:ring-red-400/20 dark:focus-visible:ring-red-500",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-auto w-auto"}},defaultVariants:{variant:"default",size:"default"}});function dt({className:e,variant:t,size:r,asChild:n=!1,...i}){const o=n?Zl:"button";return b.jsx(o,{"data-slot":"button",className:Fe(Lb({variant:t,size:r,className:e})),...i})}s(dt,"Button$1");const sn=H.forwardRef(({className:e,type:t,...r},n)=>b.jsx("input",{type:t,className:Fe("flex h-12 w-full rounded border border-input bg-card px-4 py-3 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,"data-testid":r["data-testid"]||"input",...r}));sn.displayName="Input";const pi=H.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>b.jsx(yE,{ref:i,decorative:r,orientation:t,className:Fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),"data-testid":n["data-testid"]||"separator",...n}));pi.displayName=yE.displayName;const L7=wE,CB=xE,MB=_E,P7=H.forwardRef(({className:e,...t},r)=>b.jsx(l0,{className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));P7.displayName=l0.displayName;const IB=ma("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Pb=H.forwardRef(({side:e="right",className:t,children:r,...n},i)=>b.jsxs(MB,{children:[b.jsx(P7,{}),b.jsxs(o0,{ref:i,className:Fe(IB({side:e}),t),...n,children:[b.jsxs(EE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[b.jsx(ei,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));Pb.displayName=o0.displayName;const OB=H.forwardRef(({className:e,...t},r)=>b.jsx(u0,{ref:r,className:Fe("text-lg font-semibold text-foreground",e),...t}));OB.displayName=u0.displayName;const RB=H.forwardRef(({className:e,...t},r)=>b.jsx(c0,{ref:r,className:Fe("text-sm text-muted-foreground",e),...t}));RB.displayName=c0.displayName;function bc({className:e,...t}){return b.jsx("div",{className:Fe("animate-pulse rounded-md bg-primary/10",e),"data-testid":t["data-testid"]||"skeleton",...t})}s(bc,"Skeleton");const Tl=pP,tn=mP,rn=gP,Wr=H.forwardRef(({className:e,sideOffset:t=4,...r},n)=>b.jsx(vP,{children:b.jsx(SE,{ref:n,sideOffset:t,className:Fe("z-50 overflow-hidden select-none rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Wr.displayName=SE.displayName;const Yp=768;function jB(){const[e,t]=H.useState(void 0);return H.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Yp-1}px)`),n=s(()=>{t(window.innerWidth<Yp)},"onChange");return r.addEventListener("change",n),t(window.innerWidth<Yp),()=>r.removeEventListener("change",n)},[]),!!e}s(jB,"useIsMobile");const LB="sidebar:state",PB=3600*24*7,DB="16rem",BB="18rem",zB="3rem",UB="b",D7=H.createContext(null);function b0(){const e=H.useContext(D7);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}s(b0,"useSidebar");const B7=H.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:o,...a},l)=>{const u=jB(),[c,h]=H.useState(!1),[f,v]=H.useState(e),m=t??f,w=H.useCallback(I=>{const R=typeof I=="function"?I(m):I;r?r(R):v(R),document.cookie=`${LB}=${R}; path=/; max-age=${PB}`},[r,m]),_=H.useCallback(()=>u?h(I=>!I):w(I=>!I),[u,w,h]);H.useEffect(()=>{const I=s(R=>{R.key===UB&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),_())},"handleKeyDown");return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[_]);const A=m?"expanded":"collapsed",M=H.useMemo(()=>({state:A,open:m,setOpen:w,isMobile:u,openMobile:c,setOpenMobile:h,toggleSidebar:_}),[A,m,w,u,c,h,_]);return b.jsx(D7.Provider,{value:M,children:b.jsx(Tl,{delayDuration:0,children:b.jsx("div",{style:{"--sidebar-width":DB,"--sidebar-width-icon":zB,...i},className:Fe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-card",n),ref:l,...a,children:o})})})});B7.displayName="SidebarProvider";const z7=H.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...o},a)=>{const{isMobile:l,state:u,openMobile:c,setOpenMobile:h}=b0();return r==="none"?b.jsx("div",{className:Fe("flex h-full w-[--sidebar-width] flex-col bg-card text-sidebar-foreground",n),ref:a,...o,children:i}):l?b.jsx(L7,{open:c,onOpenChange:h,...o,children:b.jsx(Pb,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-card p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":BB},side:e,children:b.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):b.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":t,"data-side":e,children:[b.jsx("div",{className:Fe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),b.jsx("div",{className:Fe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:b.jsx("div",{"data-sidebar":"sidebar",className:"flex m-4 rounded-md w-full flex-col group-data-[variant=floating]:rounded-md group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});z7.displayName="Sidebar";const FB=H.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=b0();return b.jsxs(dt,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Fe("h-7 w-7",e),onClick:s(o=>{t?.(o),i()},"onClick"),"data-testid":"sidebar-toggle",...r,children:[b.jsx(bP,{}),b.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});FB.displayName="SidebarTrigger";const $B=H.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=b0();return b.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Fe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-card-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-card","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});$B.displayName="SidebarRail";const U7=H.forwardRef(({className:e,...t},r)=>b.jsx("main",{ref:r,className:Fe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));U7.displayName="SidebarInset";const HB=H.forwardRef(({className:e,...t},r)=>b.jsx(sn,{ref:r,"data-sidebar":"input",className:Fe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));HB.displayName="SidebarInput";const F7=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"header",className:Fe("flex flex-col gap-2 p-2",e),...t}));F7.displayName="SidebarHeader";const $7=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"footer",className:Fe("flex flex-col gap-2 p-2",e),...t}));$7.displayName="SidebarFooter";const VB=H.forwardRef(({className:e,...t},r)=>b.jsx(pi,{ref:r,"data-sidebar":"separator",className:Fe("mx-2 w-auto bg-card-border",e),...t}));VB.displayName="SidebarSeparator";const H7=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"content",className:Fe("flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto overflow-x-hidden group-data-[collapsible=icon]:overflow-hidden",e),...t}));H7.displayName="SidebarContent";const y0=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"group",className:Fe("relative flex w-full min-w-0 flex-col p-0.5",e),...t}));y0.displayName="SidebarGroup";const GB=H.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Zl:"div";return b.jsx(i,{ref:n,"data-sidebar":"group-label",className:Fe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});GB.displayName="SidebarGroupLabel";const ZB=H.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Zl:"button";return b.jsx(i,{ref:n,"data-sidebar":"group-action",className:Fe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});ZB.displayName="SidebarGroupAction";const w0=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"group-content",className:Fe("w-full text-sm p-0 m-0",e),...t}));w0.displayName="SidebarGroupContent";const Eo=H.forwardRef(({className:e,...t},r)=>b.jsx("ul",{ref:r,"data-sidebar":"menu",className:Fe("flex w-full min-w-0 flex-col gap-0.5",e),...t}));Eo.displayName="SidebarMenu";const Xi=H.forwardRef(({className:e,...t},r)=>b.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Fe("group/menu-item relative",e),...t}));Xi.displayName="SidebarMenuItem";const JB=ma("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Oo=H.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:o,...a},l)=>{const u=e?Zl:"button",{isMobile:c,state:h}=b0(),f=b.jsx(u,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:Fe(JB({variant:r,size:n}),o),...a});return i?(typeof i=="string"&&(i={children:i}),b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:f}),b.jsx(Wr,{side:"right",align:"center",hidden:h!=="collapsed"||c,...i})]})):f});Oo.displayName="SidebarMenuButton";const WB=H.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const o=t?Zl:"button";return b.jsx(o,{ref:i,"data-sidebar":"menu-action",className:Fe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});WB.displayName="SidebarMenuAction";const QB=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Fe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));QB.displayName="SidebarMenuBadge";const x0=H.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=H.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return b.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Fe("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&b.jsx(bc,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),b.jsx(bc,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});x0.displayName="SidebarMenuSkeleton";const XB=H.forwardRef(({className:e,...t},r)=>b.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Fe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));XB.displayName="SidebarMenuSub";const KB=H.forwardRef(({...e},t)=>b.jsx("li",{ref:t,...e}));KB.displayName="SidebarMenuSubItem";const qB=H.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},o)=>{const a=e?Zl:"a";return b.jsx(a,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Fe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-card-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-card-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});qB.displayName="SidebarMenuSubButton";const YB=ma("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hi({className:e,variant:t,...r}){return b.jsx("div",{className:Fe(YB({variant:t}),e),"data-testid":r["data-testid"]||"badge",...r})}s(Hi,"Badge$1");const ez=ma("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Al=H.forwardRef(({className:e,...t},r)=>b.jsx(kE,{ref:r,className:Fe(ez(),e),...t}));Al.displayName=kE.displayName;const tz=s(({tag:e,onRemove:t})=>b.jsxs(Hi,{variant:"outline",className:"flex items-center gap-1.5 pr-1.5 text-sm py-1 px-2 transition-colors hover:bg-accent hover:text-accent-foreground",children:[e,b.jsxs(dt,{type:"button",variant:"ghost",size:"icon",onClick:s(()=>t(e),"onClick"),className:"hover:bg-accent/20 rounded-full p-0.5 transition-colors h-auto w-auto min-w-0 min-h-0",children:[b.jsx(ei,{className:"h-3 w-3"}),b.jsxs("span",{className:"sr-only",children:["Remove ",e]})]})]}),"Tag"),rz=s(({tags:e,onRemove:t})=>b.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(r=>b.jsx(tz,{tag:r,onRemove:t},r))}),"TagList"),nz=s(({value:e,onChange:t,onKeyDown:r,onAdd:n})=>b.jsxs("div",{className:"relative",children:[b.jsx(sn,{value:e,onChange:t,onKeyDown:r,placeholder:"Type and press Enter or click Add...",className:Fe("bg-background pr-16",!e&&"text-muted-foreground")}),e.trim()&&b.jsx(dt,{size:"sm",onClick:n,className:"absolute top-1/2 -translate-y-1/2 right-2 h-7 px-3",children:"Add"})]}),"TagInput");function iz({title:e,data:t,onChange:r}){const[n,i]=H.useState(""),o=s(()=>{const u=n.trim();u&&!t.includes(u)&&(r([...t,u]),i(""))},"addTag"),a=s(u=>{u.key==="Enter"&&(u.preventDefault(),o())},"handleKeyDown"),l=s(u=>{r(t.filter(c=>c!==u))},"removeTag");return b.jsxs("div",{className:"space-y-2",children:[b.jsx(Al,{children:e}),b.jsxs("div",{className:"p-2 bg-card rounded border border-input",children:[b.jsx(rz,{tags:t,onRemove:l}),b.jsx(nz,{value:n,onChange:s(u=>i(u.target.value),"onChange"),onKeyDown:a,onAdd:o})]})]})}s(iz,"ArrayInput");const Db=TE,_0=H.forwardRef(({className:e,...t},r)=>b.jsx(vb,{ref:r,className:Fe("inline-flex items-center bg-transparent border-b border-sidebar-border w-full",e),...t}));_0.displayName=vb.displayName;const yc=H.forwardRef(({className:e,...t},r)=>b.jsx(bb,{ref:r,className:Fe("inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-muted-foreground bg-transparent transition-all hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:border-b-2 data-[state=active]:border-b-primary relative",e),...t}));yc.displayName=bb.displayName;const Fi=H.forwardRef(({className:e,...t},r)=>b.jsx(AE,{ref:r,className:Fe("text-foreground ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fi.displayName=AE.displayName;const nd=H.forwardRef(({className:e,...t},r)=>b.jsx("textarea",{className:Fe("flex min-h-[120px] w-full rounded border border-input bg-card px-4 py-3 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,"data-testid":t["data-testid"]||"textarea",...t}));nd.displayName="Textarea";const sz=1,az=3e3;let em=0;function oz(){return em=(em+1)%Number.MAX_SAFE_INTEGER,em.toString()}s(oz,"genId");const tm=new Map,t3=s(e=>{if(tm.has(e))return;const t=setTimeout(()=>{tm.delete(e),tc({type:"REMOVE_TOAST",toastId:e})},az);tm.set(e,t)},"addToRemoveQueue"),lz=s((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;if(r)t3(r);else for(const n of e.toasts)t3(n.id);return{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},"reducer"),Pf=[];let Df={toasts:[]};function tc(e){Df=lz(Df,e);for(const t of Pf)t(Df)}s(tc,"dispatch");function uz({...e}){const t=oz(),r=s(i=>tc({type:"UPDATE_TOAST",toast:{...i,id:t}}),"update"),n=s(()=>tc({type:"DISMISS_TOAST",toastId:t}),"dismiss");return tc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s(i=>{i||n()},"onOpenChange")}}),{id:t,dismiss:n,update:r}}s(uz,"toast");function Mr(){const[e,t]=H.useState(Df);return H.useEffect(()=>(Pf.push(t),()=>{const r=Pf.indexOf(t);r>-1&&Pf.splice(r,1)}),[]),{...e,toast:uz,dismiss:s(r=>tc({type:"DISMISS_TOAST",toastId:r}),"dismiss")}}s(Mr,"useToast");function cz(e){return e.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()}s(cz,"sanitizeFilename");function dz(e){const t={id:e.id,name:e.name,username:e.username,system:e.system,templates:e.templates,bio:e.bio,messageExamples:e.messageExamples,postExamples:e.postExamples,topics:e.topics,adjectives:e.adjectives,knowledge:e.knowledge,plugins:e.plugins,settings:e.settings?{...e.settings}:void 0,style:e.style};if(t.settings&&"secrets"in t.settings){const{secrets:r,...n}=t.settings;t.settings=n}return Object.fromEntries(Object.entries(t).filter(([r,n])=>n!=null))}s(dz,"agentToCharacterData");function fz(e){const t=new Date().toISOString().split("T")[0];return`${cz(e||"agent")}-${t}.json`}s(fz,"generateExportFilename");function hz(e,t){const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}s(hz,"downloadJsonFile");function Bb(e,t){try{const r=dz(e),n=fz(e.name);return hz(r,n),t&&t({title:"Character Exported",description:`${e.name}'s character data has been downloaded as ${n}`}),{success:!0,filename:n}}catch(r){return console.error("Failed to export character:",r),t&&t({title:"Export Failed",description:"Failed to export character data. Please try again.",variant:"destructive"}),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}s(Bb,"exportCharacterAsJson");const sa=yP,rm=xP,aa=wP,ys=H.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(NE,{ref:n,className:Fe("flex h-12 w-full items-center justify-between whitespace-nowrap rounded border border-input bg-card px-4 py-3 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,b.jsx(_P,{asChild:!0,children:b.jsx(Es,{className:"h-4 w-4 opacity-50"})})]}));ys.displayName=NE.displayName;const V7=H.forwardRef(({className:e,...t},r)=>b.jsx(RE,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:b.jsx(jE,{className:"h-4 w-4"})}));V7.displayName=RE.displayName;const G7=H.forwardRef(({className:e,...t},r)=>b.jsx(LE,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:b.jsx(Es,{className:"h-4 w-4"})}));G7.displayName=LE.displayName;const ws=H.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>b.jsx(EP,{children:b.jsxs(CE,{ref:i,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-input bg-card text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[b.jsx(V7,{}),b.jsx(SP,{className:Fe("p-2",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),b.jsx(G7,{})]})}));ws.displayName=CE.displayName;const j1=H.forwardRef(({className:e,...t},r)=>b.jsx(OE,{ref:r,className:Fe("px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",e),...t}));j1.displayName=OE.displayName;const yr=H.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(ME,{ref:n,className:Fe("relative flex w-full cursor-default select-none items-center rounded py-3 pl-4 pr-8 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[b.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(kP,{children:b.jsx(ca,{className:"h-4 w-4"})})}),b.jsx(TP,{children:t})]}));yr.displayName=ME.displayName;const L1=H.forwardRef(({className:e,...t},r)=>b.jsx(IE,{ref:r,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));L1.displayName=IE.displayName;const Z7={elevenlabs:"@elizaos/plugin-elevenlabs",openai:"@elizaos/plugin-openai",none:""},pz=[{value:"none",label:"No Voice",provider:"none"}],mz=[],zb=[{value:"EXAVITQu4vr4xnSDxMaL",label:"ElevenLabs - Rachel (Default)",provider:"elevenlabs",gender:"female",language:"en",features:["natural","professional"]},{value:"21m00Tcm4TlvDq8ikWAM",label:"ElevenLabs - Adam",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]},{value:"AZnzlk1XvdvUeBnXmlld",label:"ElevenLabs - Domi",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"MF3mGyEYCl7XYWbV9V6O",label:"ElevenLabs - Elli",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"TxGEqnHWrfWFTfGW9XjX",label:"ElevenLabs - Josh",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]}],J7=[{value:"alloy",label:"OpenAI - Alloy",provider:"openai",gender:"female",language:"en",features:["natural","versatile"]},{value:"echo",label:"OpenAI - Echo",provider:"openai",gender:"male",language:"en",features:["natural","professional"]},{value:"fable",label:"OpenAI - Fable",provider:"openai",gender:"male",language:"en",features:["natural","narrative"]},{value:"onyx",label:"OpenAI - Onyx",provider:"openai",gender:"male",language:"en",features:["natural","deep"]},{value:"nova",label:"OpenAI - Nova",provider:"openai",gender:"female",language:"en",features:["natural","friendly"]},{value:"shimmer",label:"OpenAI - Shimmer",provider:"openai",gender:"female",language:"en",features:["natural","bright"]},{value:"ash",label:"OpenAI - Ash",provider:"openai",gender:"male",language:"en",features:["natural","calm"]},{value:"coral",label:"OpenAI - Coral",provider:"openai",gender:"female",language:"en",features:["natural","warm"]},{value:"sage",label:"OpenAI - Sage",provider:"openai",gender:"female",language:"en",features:["natural","wise"]},{value:"ballad",label:"OpenAI - Ballad",provider:"openai",gender:"male",language:"en",features:["natural","melodic"]}],W7=s(()=>[...pz,...mz,...zb,...J7],"getAllVoiceModels"),P1=s(e=>W7().find(t=>t.value===e),"getVoiceModelByValue");function gz(){const[e,t]=H.useState(null);return H.useEffect(()=>{const r=localStorage.getItem("ELEVENLABS_API_KEY");t(r)},[]),Cn({queryKey:["elevenlabs-voices",e],queryFn:s(async()=>{if(!e)return[];try{const r=await fetch("https://api.elevenlabs.io/v2/voices",{method:"GET",headers:{"xi-api-key":e}});if(!r.ok)return console.error("Failed to fetch ElevenLabs voices:",r.statusText),[];const n=await r.json(),i=zb.map(l=>l.value);return n.voices.filter(l=>!i.includes(l.voice_id)).map(l=>({value:l.voice_id,label:`ElevenLabs - ${l.name} (Custom)`,provider:"elevenlabs",gender:l.labels?.gender==="female"?"female":"male",language:"en",features:[l.category||"professional",l.labels?.description||"natural"]}))}catch(r){return console.error("Error fetching ElevenLabs voices:",r),[]}},"queryFn"),staleTime:3600*1e3,refetchOnWindowFocus:!1})}s(gz,"useElevenLabsVoices");function wc({...e}){return b.jsx(AP,{"data-slot":"dropdown-menu",...e})}s(wc,"DropdownMenu");function xc({...e}){return b.jsx(NP,{"data-slot":"dropdown-menu-trigger",...e})}s(xc,"DropdownMenuTrigger");function _c({className:e,sideOffset:t=4,onPointerDown:r,onPointerDownOutside:n,onCloseAutoFocus:i,...o}){const a=H.useRef(!1),l=H.useCallback(h=>{a.current=!0,r?.(h)},[r]),u=H.useCallback(h=>{a.current=!0,n?.(h)},[n]),c=H.useCallback(h=>{if(i)return i(h);a.current&&(h.preventDefault(),a.current=!1)},[i]);return b.jsx(CP,{children:b.jsx(MP,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md border p-1 shadow-lg",e),onPointerDown:l,onPointerDownOutside:u,onCloseAutoFocus:c,...o})})}s(_c,"DropdownMenuContent");function ps({className:e,inset:t,variant:r="default",...n}){return b.jsx(IP,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Fe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground data-[variant=destructive]:font-normal relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm font-medium outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n})}s(ps,"DropdownMenuItem");function vz({className:e,inset:t,...r}){return b.jsx(RP,{"data-slot":"dropdown-menu-label","data-inset":t,className:Fe("text-muted-foreground px-2 py-1.5 text-xs font-medium data-[inset]:pl-8",e),...r})}s(vz,"DropdownMenuLabel");function ih({className:e,...t}){return b.jsx(OP,{"data-slot":"dropdown-menu-separator",className:Fe("bg-border -mx-1 my-1 h-px",e),...t})}s(ih,"DropdownMenuSeparator");const Q7=[{id:"none",label:"None (Start Blank)",description:"Start with an empty configuration",template:{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}}},{id:"discord-bot",label:"Discord Bot",description:"Interactive Discord bot that handles server interactions",template:{name:"Discord Assistant",username:"discordbot",system:"You are a Discord bot designed to assist users in a Discord server. You respond to messages, handle commands, and provide helpful information to community members. You should be friendly, helpful, and maintain a consistent personality. Focus on providing value to the community through clear, concise responses.",bio:["Helpful Discord community assistant","Responds to commands and natural language queries","Assists with server-specific information and resources","Maintains a friendly and helpful tone"],topics:["Discord server","Community assistance","Command handling","Server information"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-discord"],style:{all:["Be friendly and helpful","Use clear, concise language","Follow Discord conventions"],chat:["Respond promptly to queries","Use appropriate formatting for clarity","Reference relevant commands when helpful"],post:["Structure longer responses with clear sections","Use embeds for rich content when appropriate"]},settings:{secrets:{}}}},{id:"telegram-bot",label:"Telegram Bot",description:"Interactive bot for Telegram channels and groups",template:{name:"Telegram Assistant",username:"telegrambot",system:"You are a helpful Telegram bot designed to assist users in channels and groups. You respond to commands and natural language queries, providing information, assistance, and engaging with users in a friendly manner. You can handle both one-on-one conversations and group interactions, adapting your tone and content accordingly while respecting privacy and community guidelines.",bio:["Interactive Telegram bot","Assists users in channels and groups","Responds to commands and natural language"],topics:["Channel information","User assistance","Content sharing","Group moderation","FAQ responses"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-telegram"],style:{all:["Be concise and clear","Use Telegram-friendly formatting","Respond promptly to user queries"],chat:["Handle commands efficiently","Include relevant emoji when appropriate","Maintain conversation context"],post:["Structure longer messages clearly","Use formatting for better readability","Include relevant links when helpful"]},settings:{clients:["telegram"],allowDirectMessages:!0,shouldOnlyJoinInAllowedGroups:!1,messageTrackingLimit:100,secrets:{}}}},{id:"slack-bot",label:"Slack Bot",description:"Interactive bot for Slack workspaces",template:{name:"Slack Assistant",username:"slackbot",system:"You are a specialized assistant for Slack workspaces. You help teams by answering questions, providing information, and facilitating collaboration. You can respond to direct messages and channel mentions, maintaining a helpful and professional tone that aligns with the organization's culture. Keep responses concise and relevant to the conversation context.",bio:["Specialized Slack workspace assistant","Facilitates team collaboration","Provides timely responses to queries"],topics:["Workspace information","Team collaboration","Company policies","Resource access","Task management"],adjectives:["Responsive","Helpful","Organized","Team-oriented","Professional"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-slack"],style:{all:["Be concise and clear","Match the tone of the workspace","Use Slack-appropriate formatting"],chat:["Reference relevant messages when appropriate","Use thread replies for detailed responses","Include emojis when fitting the workspace culture"],post:["Structure information with clear sections","Use bullet points for lists","Include relevant links when helpful"]},settings:{secrets:{}}}},{id:"twitter-agent",label:"Twitter/X Agent",description:"Manages Twitter presence and engagement",template:{name:"Twitter Agent",username:"twitteragent",system:"You are a Twitter engagement specialist designed to help create and manage effective Twitter content. You assist with drafting tweets, responding to mentions, analyzing engagement metrics, and suggesting content strategies. Your tone should match the brand voice while maintaining authenticity and encouraging audience interaction. Keep tweets concise and impactful within character limits.",bio:["Twitter engagement specialist","Creates compelling social content","Manages audience interactions"],topics:["Tweet creation","Audience engagement","Content strategy","Trend analysis","Brand voice"],adjectives:["Engaging","Concise","Strategic","Conversational","Creative"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-twitter"],style:{all:["Be concise and impactful","Stay within character limits","Use platform-appropriate formatting"],chat:["Match brand voice in replies","Be conversational and authentic","Use hashtags strategically"],post:["Draft varied content types","Suggest engaging visuals or polls","Include call-to-actions when appropriate"]},settings:{TWITTER_DRY_RUN:!1,MAX_TWEET_LENGTH:280,TWITTER_ENABLE_POST_GENERATION:!0,TWITTER_POST_INTERVAL_MIN:90,TWITTER_POST_INTERVAL_MAX:180,secrets:{}}}},{id:"github-bot",label:"GitHub Repository Assistant",description:"Helps manage GitHub repositories and development workflows",template:{name:"GitHub Assistant",username:"githubasst",system:"You are a GitHub repository assistant designed to help development teams manage their workflow and codebase. You can assist with pull request reviews, issue triage, documentation updates, and providing information about repository structure and conventions. Maintain a technical but approachable tone, and prioritize accuracy in all technical information.",bio:["GitHub repository management specialist","Assists with development workflows","Provides code and documentation support"],topics:["Pull requests","Issue tracking","Repository structure","Code reviews","Development workflows"],adjectives:["Technical","Precise","Helpful","Organized","Knowledgeable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-github"],style:{all:["Use technically precise language","Reference GitHub concepts appropriately","Link to relevant documentation when helpful"],chat:["Be concise in comments","Format code snippets properly","Summarize technical points clearly"],post:["Structure longer responses with clear headings","Use code blocks with syntax highlighting","Link to specific lines of code when relevant"]},settings:{secrets:{}}}},{id:"instagram-agent",label:"Instagram Content Manager",description:"Creates and manages content for Instagram",template:{name:"Instagram Manager",username:"instagrammgr",system:"You are an Instagram content specialist designed to help create and manage engaging Instagram presence. You assist with content creation, caption writing, hashtag strategy, engagement tactics, and understanding analytics. Your approach emphasizes visual storytelling, authenticity, and building connections with followers. Maintain a voice that matches the brand identity while adapting to Instagram's evolving features and trends.",bio:["Instagram content creation specialist","Develops engaging visual storytelling","Optimizes profile engagement"],topics:["Content creation","Caption writing","Hashtag strategy","Engagement tactics","Visual aesthetics"],adjectives:["Creative","Visual","Engaging","Trend-aware","Authentic"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-instagram"],style:{all:["Balance visual description with compelling text","Maintain brand voice consistency","Consider current platform trends"],chat:["Provide actionable content suggestions","Reference visual elements clearly","Include relevant hashtag recommendations"],post:["Craft captions that enhance visual content","Suggest content series and themes","Balance promotional with authentic content"]},settings:{POST_INTERVAL_MIN:90,POST_INTERVAL_MAX:180,ENABLE_ACTION_PROCESSING:!0,ACTION_INTERVAL:5,MAX_ACTIONS_PROCESSING:1,secrets:{}}}}];function X7(e){return Q7.find(t=>t.id===e)}s(X7,"getTemplateById");const Ub=jP,bz=LP,K7=H.forwardRef(({className:e,...t},r)=>b.jsx(FE,{className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));K7.displayName=FE.displayName;const E0=H.forwardRef(({className:e,...t},r)=>b.jsxs(bz,{children:[b.jsx(K7,{}),b.jsx(PE,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));E0.displayName=PE.displayName;const S0=s(({className:e,...t})=>b.jsx("div",{className:Fe("flex flex-col space-y-2 text-center sm:text-left",e),...t}),"AlertDialogHeader");S0.displayName="AlertDialogHeader";const k0=s(({className:e,...t})=>b.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"AlertDialogFooter");k0.displayName="AlertDialogFooter";const T0=H.forwardRef(({className:e,...t},r)=>b.jsx(DE,{ref:r,className:Fe("text-lg font-semibold",e),...t}));T0.displayName=DE.displayName;const A0=H.forwardRef(({className:e,...t},r)=>b.jsx(BE,{ref:r,className:Fe("text-sm text-muted-foreground",e),...t}));A0.displayName=BE.displayName;const N0=H.forwardRef(({className:e,...t},r)=>b.jsx(UE,{ref:r,className:Fe(Lb(),e),...t}));N0.displayName=UE.displayName;const C0=H.forwardRef(({className:e,...t},r)=>b.jsx(zE,{ref:r,className:Fe(Lb({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));C0.displayName=zE.displayName;function yz({open:e,onOpenChange:t,missingSecrets:r,onConfirm:n,onCancel:i}){return b.jsx(Ub,{open:e,onOpenChange:t,children:b.jsxs(E0,{children:[b.jsxs(S0,{children:[b.jsxs(T0,{className:"flex items-center gap-2",children:[b.jsx(Ni,{className:"h-5 w-5 text-yellow-500"}),"Missing Required Configuration"]}),b.jsxs(A0,{className:"space-y-3",children:[b.jsx("p",{children:"The following required secrets are missing or empty. Your agent may not function properly without these values."}),b.jsx("div",{className:"bg-muted rounded-md p-3 space-y-2",children:r.map(o=>b.jsxs("div",{className:"text-sm",children:[b.jsx("code",{className:"font-mono font-semibold",children:o.name}),o.plugin&&b.jsxs("span",{className:"text-muted-foreground ml-2",children:["(required by ",o.plugin,")"]}),o.description&&b.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:o.description})]},o.name))}),b.jsx("p",{className:"text-sm",children:"Do you want to save anyway?"})]})]}),b.jsxs(k0,{children:[b.jsx(C0,{onClick:i,children:"Go Back"}),b.jsx(N0,{onClick:n,className:"bg-yellow-600 hover:bg-yellow-700",children:"Save Anyway"})]})]})})}s(yz,"MissingSecretsDialog");var Tn={},wz=Object.create,{getPrototypeOf:xz,defineProperty:Ec,getOwnPropertyNames:q7,getOwnPropertyDescriptor:_z}=Object,Y7=Object.prototype.hasOwnProperty,mi=s((e,t,r)=>{r=e!=null?wz(xz(e)):{};let n=t||!e||!e.__esModule?Ec(r,"default",{value:e,enumerable:!0}):r;for(let i of q7(e))Y7.call(n,i)||Ec(n,i,{get:s(()=>e[i],"get"),enumerable:!0});return n},"Dq"),r3=new WeakMap,rr=s(e=>{var t=r3.get(e),r;return t||(t=Ec({},"__esModule",{value:!0}),(e&&typeof e=="object"||typeof e=="function")&&q7(e).map(n=>!Y7.call(t,n)&&Ec(t,n,{get:s(()=>e[n],"get"),enumerable:!(r=_z(e,n))||r.enumerable})),r3.set(e,t),t)},"W6"),ft=s((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"y$"),Ln=s((e,t)=>{for(var r in t)Ec(e,r,{get:t[r],enumerable:!0,configurable:!0,set:s(n=>t[r]=()=>n,"set")})},"Nq"),Vo=s((e,t)=>()=>(e&&(t=e(e=0)),t),"aK"),Bf=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:s((t,r)=>(typeof require<"u"?require:t)[r],"get")}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),Ez=ft((e,t)=>{function r(n,i){typeof i=="boolean"&&(i={forever:i}),this._originalTimeouts=JSON.parse(JSON.stringify(n)),this._timeouts=n,this._options=i||{},this._maxRetryTime=i&&i.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}s(r,"j8"),t.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(n){if(this._timeout&&clearTimeout(this._timeout),!n)return!1;var i=new Date().getTime();if(n&&i-this._operationStart>=this._maxRetryTime)return this._errors.push(n),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(n);var o=this._timeouts.shift();if(o===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),o=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},o),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(n,i){this._fn=n,i&&(i.timeout&&(this._operationTimeout=i.timeout),i.cb&&(this._operationTimeoutCb=i.cb));var o=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){o._operationTimeoutCb()},o._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},r.prototype.try=function(n){console.log("Using RetryOperation.try() is deprecated"),this.attempt(n)},r.prototype.start=function(n){console.log("Using RetryOperation.start() is deprecated"),this.attempt(n)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(this._errors.length===0)return null;for(var n={},i=null,o=0,a=0;a<this._errors.length;a++){var l=this._errors[a],u=l.message,c=(n[u]||0)+1;n[u]=c,c>=o&&(i=l,o=c)}return i}}),Sz=ft(e=>{var t=Ez();e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var o=[],a=0;a<n.retries;a++)o.push(this.createTimeout(a,n));return r&&r.forever&&!o.length&&o.push(this.createTimeout(a,n)),o.sort(function(l,u){return l-u}),o},e.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,o=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return o=Math.min(o,n.maxTimeout),o},e.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var o in r)typeof r[o]=="function"&&i.push(o)}for(var a=0;a<i.length;a++){var l=i[a],u=r[l];r[l]=function(c){var h=e.operation(n),f=Array.prototype.slice.call(arguments,1),v=f.pop();f.push(function(m){h.retry(m)||(m&&(arguments[0]=h.mainError()),v.apply(this,arguments))}),h.attempt(function(){c.apply(r,f)})}.bind(r,u),r[l].options=n}}}),Fb=ft((e,t)=>{var r=Sz(),n=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{static{s(this,"VO")}constructor(c){super(),c instanceof Error?(this.originalError=c,{message:c}=c):(this.originalError=Error(c),this.originalError.stack=this.stack),this.name="AbortError",this.message=c}}var o=s((u,c,h)=>{let f=h.retries-(c-1);return u.attemptNumber=c,u.retriesLeft=f,u},"dN"),a=s(u=>n.includes(u),"lN"),l=s((u,c)=>new Promise((h,f)=>{c={onFailedAttempt:s(()=>{},"onFailedAttempt"),retries:10,...c};let v=r.operation(c);v.attempt(async m=>{try{h(await u(m))}catch(w){if(!(w instanceof Error)){f(TypeError(`Non-error was thrown: "${w}". You should only throw errors.`));return}if(w instanceof i)v.stop(),f(w.originalError);else if(w instanceof TypeError&&!a(w.message))v.stop(),f(w);else{o(w,m,c);try{await c.onFailedAttempt(w)}catch(_){f(_);return}v.retry(w)||f(v.mainError())}}})}),"NJ");t.exports=l,t.exports.default=l,t.exports.AbortError=i}),kz=ft((e,t)=>{var r=Object.prototype.hasOwnProperty,n="~";function i(){}s(i,"WP"),Object.create&&(i.prototype=Object.create(null),!new i().__proto__&&(n=!1));function o(c,h,f){this.fn=c,this.context=h,this.once=f||!1}s(o,"MC");function a(c,h,f,v,m){if(typeof f!="function")throw TypeError("The listener must be a function");var w=new o(f,v||c,m),_=n?n+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],w]:c._events[_].push(w):(c._events[_]=w,c._eventsCount++),c}s(a,"NT");function l(c,h){--c._eventsCount===0?c._events=new i:delete c._events[h]}s(l,"A1");function u(){this._events=new i,this._eventsCount=0}s(u,"Eq"),u.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)r.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var v=0,m=f.length,w=Array(m);v<m;v++)w[v]=f[v].fn;return w},u.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},u.prototype.emit=function(c,h,f,v,m,w){var _=n?n+c:c;if(!this._events[_])return!1;var A=this._events[_],M=arguments.length,I,R;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,f),!0;case 4:return A.fn.call(A.context,h,f,v),!0;case 5:return A.fn.call(A.context,h,f,v,m),!0;case 6:return A.fn.call(A.context,h,f,v,m,w),!0}for(R=1,I=Array(M-1);R<M;R++)I[R-1]=arguments[R];A.fn.apply(A.context,I)}else{var L=A.length,P;for(R=0;R<L;R++)switch(A[R].once&&this.removeListener(c,A[R].fn,void 0,!0),M){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,h);break;case 3:A[R].fn.call(A[R].context,h,f);break;case 4:A[R].fn.call(A[R].context,h,f,v);break;default:if(!I)for(P=1,I=Array(M-1);P<M;P++)I[P-1]=arguments[P];A[R].fn.apply(A[R].context,I)}}return!0},u.prototype.on=function(c,h,f){return a(this,c,h,f,!1)},u.prototype.once=function(c,h,f){return a(this,c,h,f,!0)},u.prototype.removeListener=function(c,h,f,v){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return l(this,m),this;var w=this._events[m];if(w.fn)w.fn===h&&(!v||w.once)&&(!f||w.context===f)&&l(this,m);else{for(var _=0,A=[],M=w.length;_<M;_++)(w[_].fn!==h||v&&!w[_].once||f&&w[_].context!==f)&&A.push(w[_]);A.length?this._events[m]=A.length===1?A[0]:A:l(this,m)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&l(this,h)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,typeof t<"u"&&(t.exports=u)}),Tz=ft((e,t)=>{t.exports=(r,n)=>(n=n||(()=>{}),r.then(i=>new Promise(o=>{o(n())}).then(()=>i),i=>new Promise(o=>{o(n())}).then(()=>{throw i})))}),Az=ft((e,t)=>{var r=Tz();class n extends Error{static{s(this,"nO")}constructor(a){super(a),this.name="TimeoutError"}}var i=s((o,a,l)=>new Promise((u,c)=>{if(typeof a!="number"||a<0)throw TypeError("Expected `milliseconds` to be a positive number");if(a===1/0){u(o);return}let h=setTimeout(()=>{if(typeof l=="function"){try{u(l())}catch(m){c(m)}return}let f=typeof l=="string"?l:`Promise timed out after ${a} milliseconds`,v=l instanceof Error?l:new n(f);typeof o.cancel=="function"&&o.cancel(),c(v)},a);r(o.then(u,c),()=>{clearTimeout(h)})}),"RT");t.exports=i,t.exports.default=i,t.exports.TimeoutError=n}),Nz=ft(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,i){let o=0,a=r.length;for(;a>0;){let l=a/2|0,u=o+l;i(r[u],n)<=0?(o=++u,a-=l+1):a=l}return o}s(t,"CC"),e.default=t}),Cz=ft(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Nz();class r{static{s(this,"bT")}constructor(){this._queue=[]}enqueue(i,o){o=Object.assign({priority:0},o);let a={priority:o.priority,run:i};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(a);return}let l=t.default(this._queue,a,(u,c)=>c.priority-u.priority);this._queue.splice(l,0,a)}dequeue(){let i=this._queue.shift();return i?.run}filter(i){return this._queue.filter(o=>o.priority===i.priority).map(o=>o.run)}get size(){return this._queue.length}}e.default=r}),$b=ft(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=kz(),r=Az(),n=Cz(),i=s(()=>{},"V1"),o=new r.TimeoutError;class a extends t{static{s(this,"xT")}constructor(u){var c,h,f,v;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,u=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},u),!(typeof u.intervalCap=="number"&&u.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(h=(c=u.intervalCap)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""}\` (${typeof u.intervalCap})`);if(u.interval===void 0||!(Number.isFinite(u.interval)&&u.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(v=(f=u.interval)===null||f===void 0?void 0:f.toString())!==null&&v!==void 0?v:""}\` (${typeof u.interval})`);this._carryoverConcurrencyCount=u.carryoverConcurrencyCount,this._isIntervalIgnored=u.intervalCap===1/0||u.interval===0,this._intervalCap=u.intervalCap,this._interval=u.interval,this._queue=new u.queueClass,this._queueClass=u.queueClass,this.concurrency=u.concurrency,this._timeout=u.timeout,this._throwOnTimeout=u.throwOnTimeout===!0,this._isPaused=u.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let u=Date.now();if(this._intervalId===void 0){let c=this._intervalEnd-u;if(c<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},c)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let u=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let c=this._queue.dequeue();return c?(this.emit("active"),c(),u&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(u){if(!(typeof u=="number"&&u>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${u}\` (${typeof u})`);this._concurrency=u,this._processQueue()}async add(u,c={}){return new Promise((h,f)=>{let v=s(async()=>{this._pendingCount++,this._intervalCount++;try{let m=this._timeout===void 0&&c.timeout===void 0?u():r.default(Promise.resolve(u()),c.timeout===void 0?this._timeout:c.timeout,()=>{(c.throwOnTimeout===void 0?this._throwOnTimeout:c.throwOnTimeout)&&f(o)});h(await m)}catch(m){f(m)}this._next()},"_");this._queue.enqueue(v,c),this._tryToStartAnother(),this.emit("add")})}async addAll(u,c){return Promise.all(u.map(async h=>this.add(h,c)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(u=>{let c=this._resolveEmpty;this._resolveEmpty=()=>{c(),u()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(u=>{let c=this._resolveIdle;this._resolveIdle=()=>{c(),u()}})}get size(){return this._queue.size}sizeBy(u){return this._queue.filter(u).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(u){this._timeout=u}}e.default=a}),M0=ft((e,t)=>{var r=Number.MAX_SAFE_INTEGER||9007199254740991,n=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:n,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),I0=ft((e,t)=>{var r=typeof process=="object"&&Tn&&Tn.NODE_DEBUG&&/\bsemver\b/i.test(Tn.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};t.exports=r}),id=ft((e,t)=>{var{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=M0(),o=I0();e=t.exports={};var a=e.re=[],l=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],h=e.t={},f=0,v="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[v,n]],w=s(A=>{for(let[M,I]of m)A=A.split(`${M}*`).join(`${M}{0,${I}}`).split(`${M}+`).join(`${M}{1,${I}}`);return A},"BC"),_=s((A,M,I)=>{let R=w(M),L=f++;o(A,L,M),h[A]=L,u[L]=M,c[L]=R,a[L]=new RegExp(M,I?"g":void 0),l[L]=new RegExp(R,I?"g":void 0)},"P6");_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),_("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${v}+`),_("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),_("FULL",`^${u[h.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),_("LOOSE",`^${u[h.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),_("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",u[h.COERCE],!0),_("COERCERTLFULL",u[h.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",_("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",_("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),Hb=ft((e,t)=>{var r=Object.freeze({loose:!0}),n=Object.freeze({}),i=s(o=>o?typeof o!="object"?r:o:n,"FC");t.exports=i}),e9=ft((e,t)=>{var r=/^[0-9]+$/,n=s((o,a)=>{if(typeof o=="number"&&typeof a=="number")return o===a?0:o<a?-1:1;let l=r.test(o),u=r.test(a);return l&&u&&(o=+o,a=+a),o===a?0:l&&!u?-1:u&&!l?1:o<a?-1:1},"iT"),i=s((o,a)=>n(a,o),"aC");t.exports={compareIdentifiers:n,rcompareIdentifiers:i}}),Vn=ft((e,t)=>{var r=I0(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=M0(),{safeRe:o,t:a}=id(),l=Hb(),{compareIdentifiers:u}=e9();class c{static{s(this,"N8")}constructor(f,v){if(v=l(v),f instanceof c){if(f.loose===!!v.loose&&f.includePrerelease===!!v.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>n)throw TypeError(`version is longer than ${n} characters`);r("SemVer",f,v),this.options=v,this.loose=!!v.loose,this.includePrerelease=!!v.includePrerelease;let m=f.trim().match(v.loose?o[a.LOOSE]:o[a.FULL]);if(!m)throw TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>i||this.major<0)throw TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(w=>{if(/^[0-9]+$/.test(w)){let _=+w;if(_>=0&&_<i)return _}return w}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(r("SemVer.compare",this.version,this.options,f),!(f instanceof c)){if(typeof f=="string"&&f===this.version)return 0;f=new c(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof c||(f=new c(f,this.options)),this.major<f.major?-1:this.major>f.major?1:this.minor<f.minor?-1:this.minor>f.minor?1:this.patch<f.patch?-1:this.patch>f.patch?1:0}comparePre(f){if(f instanceof c||(f=new c(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let v=0;do{let m=this.prerelease[v],w=f.prerelease[v];if(r("prerelease compare",v,m,w),m===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(m===void 0)return-1;if(m===w)continue;return u(m,w)}while(++v)}compareBuild(f){f instanceof c||(f=new c(f,this.options));let v=0;do{let m=this.build[v],w=f.build[v];if(r("build compare",v,m,w),m===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(m===void 0)return-1;if(m===w)continue;return u(m,w)}while(++v)}inc(f,v,m){if(f.startsWith("pre")){if(!v&&m===!1)throw Error("invalid increment argument: identifier is empty");if(v){let w=`-${v}`.match(this.options.loose?o[a.PRERELEASELOOSE]:o[a.PRERELEASE]);if(!w||w[1]!==v)throw Error(`invalid identifier: ${v}`)}}switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",v,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",v,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",v,m),this.inc("pre",v,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",v,m),this.inc("pre",v,m);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let w=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[w];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(v===this.prerelease.join(".")&&m===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(w)}}if(v){let _=[v,w];m===!1&&(_=[v]),u(this.prerelease[0],v)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=c}),Ql=ft((e,t)=>{var r=Vn(),n=s((i,o,a=!1)=>{if(i instanceof r)return i;try{return new r(i,o)}catch(l){if(!a)return null;throw l}},"eC");t.exports=n}),Mz=ft((e,t)=>{var r=Ql(),n=s((i,o)=>{let a=r(i,o);return a?a.version:null},"$E");t.exports=n}),Iz=ft((e,t)=>{var r=Ql(),n=s((i,o)=>{let a=r(i.trim().replace(/^[=v]+/,""),o);return a?a.version:null},"KE");t.exports=n}),Oz=ft((e,t)=>{var r=Vn(),n=s((i,o,a,l,u)=>{typeof a=="string"&&(u=l,l=a,a=void 0);try{return new r(i instanceof r?i.version:i,a).inc(o,l,u).version}catch{return null}},"_E");t.exports=n}),Rz=ft((e,t)=>{var r=Ql(),n=s((i,o)=>{let a=r(i,null,!0),l=r(o,null,!0),u=a.compare(l);if(u===0)return null;let c=u>0,h=c?a:l,f=c?l:a,v=!!h.prerelease.length;if(f.prerelease.length&&!v){if(!f.patch&&!f.minor)return"major";if(f.compareMain(h)===0)return f.minor&&!f.patch?"minor":"patch"}let m=v?"pre":"";return a.major!==l.major?m+"major":a.minor!==l.minor?m+"minor":a.patch!==l.patch?m+"patch":"prerelease"},"PE");t.exports=n}),jz=ft((e,t)=>{var r=Vn(),n=s((i,o)=>new r(i,o).major,"OE");t.exports=n}),Lz=ft((e,t)=>{var r=Vn(),n=s((i,o)=>new r(i,o).minor,"vE");t.exports=n}),Pz=ft((e,t)=>{var r=Vn(),n=s((i,o)=>new r(i,o).patch,"WE");t.exports=n}),Dz=ft((e,t)=>{var r=Ql(),n=s((i,o)=>{let a=r(i,o);return a&&a.prerelease.length?a.prerelease:null},"JE");t.exports=n}),Yi=ft((e,t)=>{var r=Vn(),n=s((i,o,a)=>new r(i,a).compare(new r(o,a)),"TE");t.exports=n}),Bz=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(o,i,a),"ZE");t.exports=n}),zz=ft((e,t)=>{var r=Yi(),n=s((i,o)=>r(i,o,!0),"XE");t.exports=n}),Vb=ft((e,t)=>{var r=Vn(),n=s((i,o,a)=>{let l=new r(i,a),u=new r(o,a);return l.compare(u)||l.compareBuild(u)},"kE");t.exports=n}),Uz=ft((e,t)=>{var r=Vb(),n=s((i,o)=>i.sort((a,l)=>r(a,l,o)),"GE");t.exports=n}),Fz=ft((e,t)=>{var r=Vb(),n=s((i,o)=>i.sort((a,l)=>r(l,a,o)),"SE");t.exports=n}),O0=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(i,o,a)>0,"NE");t.exports=n}),Gb=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(i,o,a)<0,"EE");t.exports=n}),t9=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(i,o,a)===0,"RE");t.exports=n}),r9=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(i,o,a)!==0,"DE");t.exports=n}),Zb=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(i,o,a)>=0,"bE");t.exports=n}),Jb=ft((e,t)=>{var r=Yi(),n=s((i,o,a)=>r(i,o,a)<=0,"yE");t.exports=n}),n9=ft((e,t)=>{var r=t9(),n=r9(),i=O0(),o=Zb(),a=Gb(),l=Jb(),u=s((c,h,f,v)=>{switch(h){case"===":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c===f;case"!==":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c!==f;case"":case"=":case"==":return r(c,f,v);case"!=":return n(c,f,v);case">":return i(c,f,v);case">=":return o(c,f,v);case"<":return a(c,f,v);case"<=":return l(c,f,v);default:throw TypeError(`Invalid operator: ${h}`)}},"lE");t.exports=u}),$z=ft((e,t)=>{var r=Vn(),n=Ql(),{safeRe:i,t:o}=id(),a=s((l,u)=>{if(l instanceof r)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;u=u||{};let c=null;if(!u.rtl)c=l.match(u.includePrerelease?i[o.COERCEFULL]:i[o.COERCE]);else{let _=u.includePrerelease?i[o.COERCERTLFULL]:i[o.COERCERTL],A;for(;(A=_.exec(l))&&(!c||c.index+c[0].length!==l.length);)(!c||A.index+A[0].length!==c.index+c[0].length)&&(c=A),_.lastIndex=A.index+A[1].length+A[2].length;_.lastIndex=-1}if(c===null)return null;let h=c[2],f=c[3]||"0",v=c[4]||"0",m=u.includePrerelease&&c[5]?`-${c[5]}`:"",w=u.includePrerelease&&c[6]?`+${c[6]}`:"";return n(`${h}.${f}.${v}${m}${w}`,u)},"nE");t.exports=a}),Hz=ft((e,t)=>{class r{static{s(this,"xw")}constructor(){this.max=1e3,this.map=new Map}get(i){let o=this.map.get(i);if(o!==void 0)return this.map.delete(i),this.map.set(i,o),o}delete(i){return this.map.delete(i)}set(i,o){if(!this.delete(i)&&o!==void 0){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(i,o)}return this}}t.exports=r}),es=ft((e,t)=>{var r=/\s+/g;class n{static{s(this,"ZP")}constructor(T,N){if(N=a(N),T instanceof n)return T.loose===!!N.loose&&T.includePrerelease===!!N.includePrerelease?T:new n(T.raw,N);if(T instanceof l)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=T.trim().replace(r," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let k=this.set[0];if(this.set=this.set.filter(p=>!M(p[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(let p of this.set)if(p.length===1&&I(p[0])){this.set=[p];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");let N=this.set[T];for(let k=0;k<N.length;k++)k>0&&(this.formatted+=" "),this.formatted+=N[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){let N=((this.options.includePrerelease&&_)|(this.options.loose&&A))+":"+T,k=o.get(N);if(k)return k;let p=this.options.loose,S=p?h[f.HYPHENRANGELOOSE]:h[f.HYPHENRANGE];T=T.replace(S,g(this.options.includePrerelease)),u("hyphen replace",T),T=T.replace(h[f.COMPARATORTRIM],v),u("comparator trim",T),T=T.replace(h[f.TILDETRIM],m),u("tilde trim",T),T=T.replace(h[f.CARETTRIM],w),u("caret trim",T);let C=T.split(" ").map($=>L($,this.options)).join(" ").split(/\s+/).map($=>y($,this.options));p&&(C=C.filter($=>(u("loose invalid filter",$,this.options),!!$.match(h[f.COMPARATORLOOSE])))),u("range list",C);let O=new Map,B=C.map($=>new l($,this.options));for(let $ of B){if(M($))return[$];O.set($.value,$)}O.size>1&&O.has("")&&O.delete("");let z=[...O.values()];return o.set(N,z),z}intersects(T,N){if(!(T instanceof n))throw TypeError("a Range is required");return this.set.some(k=>R(k,N)&&T.set.some(p=>R(p,N)&&k.every(S=>p.every(C=>S.intersects(C,N)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new c(T,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if(x(this.set[N],T,this.options))return!0;return!1}}t.exports=n;var i=Hz(),o=new i,a=Hb(),l=R0(),u=I0(),c=Vn(),{safeRe:h,t:f,comparatorTrimReplace:v,tildeTrimReplace:m,caretTrimReplace:w}=id(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:A}=M0(),M=s(E=>E.value==="<0.0.0-0","dw"),I=s(E=>E.value==="","$h"),R=s((E,T)=>{let N=!0,k=E.slice(),p=k.pop();for(;N&&k.length;)N=k.every(S=>p.intersects(S,T)),p=k.pop();return N},"lw"),L=s((E,T)=>(E=E.replace(h[f.BUILD],""),u("comp",E,T),E=G(E,T),u("caret",E),E=F(E,T),u("tildes",E),E=U(E,T),u("xrange",E),E=d(E,T),u("stars",E),E),"qh"),P=s(E=>!E||E.toLowerCase()==="x"||E==="*","gq"),F=s((E,T)=>E.trim().split(/\s+/).map(N=>Z(N,T)).join(" "),"Kh"),Z=s((E,T)=>{let N=T.loose?h[f.TILDELOOSE]:h[f.TILDE];return E.replace(N,(k,p,S,C,O)=>{u("tilde",E,k,p,S,C,O);let B;return P(p)?B="":P(S)?B=`>=${p}.0.0 <${+p+1}.0.0-0`:P(C)?B=`>=${p}.${S}.0 <${p}.${+S+1}.0-0`:O?(u("replaceTilde pr",O),B=`>=${p}.${S}.${C}-${O} <${p}.${+S+1}.0-0`):B=`>=${p}.${S}.${C} <${p}.${+S+1}.0-0`,u("tilde return",B),B})},"_h"),G=s((E,T)=>E.trim().split(/\s+/).map(N=>se(N,T)).join(" "),"Ph"),se=s((E,T)=>{u("caret",E,T);let N=T.loose?h[f.CARETLOOSE]:h[f.CARET],k=T.includePrerelease?"-0":"";return E.replace(N,(p,S,C,O,B)=>{u("caret",E,p,S,C,O,B);let z;return P(S)?z="":P(C)?z=`>=${S}.0.0${k} <${+S+1}.0.0-0`:P(O)?S==="0"?z=`>=${S}.${C}.0${k} <${S}.${+C+1}.0-0`:z=`>=${S}.${C}.0${k} <${+S+1}.0.0-0`:B?(u("replaceCaret pr",B),S==="0"?C==="0"?z=`>=${S}.${C}.${O}-${B} <${S}.${C}.${+O+1}-0`:z=`>=${S}.${C}.${O}-${B} <${S}.${+C+1}.0-0`:z=`>=${S}.${C}.${O}-${B} <${+S+1}.0.0-0`):(u("no pr"),S==="0"?C==="0"?z=`>=${S}.${C}.${O}${k} <${S}.${C}.${+O+1}-0`:z=`>=${S}.${C}.${O}${k} <${S}.${+C+1}.0-0`:z=`>=${S}.${C}.${O} <${+S+1}.0.0-0`),u("caret return",z),z})},"jh"),U=s((E,T)=>(u("replaceXRanges",E,T),E.split(/\s+/).map(N=>X(N,T)).join(" ")),"Oh"),X=s((E,T)=>{E=E.trim();let N=T.loose?h[f.XRANGELOOSE]:h[f.XRANGE];return E.replace(N,(k,p,S,C,O,B)=>{u("xRange",E,k,p,S,C,O,B);let z=P(S),$=z||P(C),W=$||P(O),oe=W;return p==="="&&oe&&(p=""),B=T.includePrerelease?"-0":"",z?p===">"||p==="<"?k="<0.0.0-0":k="*":p&&oe?($&&(C=0),O=0,p===">"?(p=">=",$?(S=+S+1,C=0,O=0):(C=+C+1,O=0)):p==="<="&&(p="<",$?S=+S+1:C=+C+1),p==="<"&&(B="-0"),k=`${p+S}.${C}.${O}${B}`):$?k=`>=${S}.0.0${B} <${+S+1}.0.0-0`:W&&(k=`>=${S}.${C}.0${B} <${S}.${+C+1}.0-0`),u("xRange return",k),k})},"Yh"),d=s((E,T)=>(u("replaceStars",E,T),E.trim().replace(h[f.STAR],"")),"vh"),y=s((E,T)=>(u("replaceGTE0",E,T),E.trim().replace(h[T.includePrerelease?f.GTE0PRE:f.GTE0],"")),"zh"),g=s(E=>(T,N,k,p,S,C,O,B,z,$,W,oe)=>(P(k)?N="":P(p)?N=`>=${k}.0.0${E?"-0":""}`:P(S)?N=`>=${k}.${p}.0${E?"-0":""}`:C?N=`>=${N}`:N=`>=${N}${E?"-0":""}`,P(z)?B="":P($)?B=`<${+z+1}.0.0-0`:P(W)?B=`<${z}.${+$+1}.0-0`:oe?B=`<=${z}.${$}.${W}-${oe}`:E?B=`<${z}.${$}.${+W+1}-0`:B=`<=${B}`,`${N} ${B}`.trim()),"Wh"),x=s((E,T,N)=>{for(let k=0;k<E.length;k++)if(!E[k].test(T))return!1;if(T.prerelease.length&&!N.includePrerelease){for(let k=0;k<E.length;k++)if(u(E[k].semver),E[k].semver!==l.ANY&&E[k].semver.prerelease.length>0){let p=E[k].semver;if(p.major===T.major&&p.minor===T.minor&&p.patch===T.patch)return!0}return!1}return!0},"Hh")}),R0=ft((e,t)=>{var r=Symbol("SemVer ANY");class n{static{s(this,"x1")}static get ANY(){return r}constructor(v,m){if(m=i(m),v instanceof n){if(v.loose===!!m.loose)return v;v=v.value}v=v.trim().split(/\s+/).join(" "),u("comparator",v,m),this.options=m,this.loose=!!m.loose,this.parse(v),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(v){let m=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],w=v.match(m);if(!w)throw TypeError(`Invalid comparator: ${v}`);this.operator=w[1]!==void 0?w[1]:"",this.operator==="="&&(this.operator=""),w[2]?this.semver=new c(w[2],this.options.loose):this.semver=r}toString(){return this.value}test(v){if(u("Comparator.test",v,this.options.loose),this.semver===r||v===r)return!0;if(typeof v=="string")try{v=new c(v,this.options)}catch{return!1}return l(v,this.operator,this.semver,this.options)}intersects(v,m){if(!(v instanceof n))throw TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new h(v.value,m).test(this.value):v.operator===""?v.value===""?!0:new h(this.value,m).test(v.semver):(m=i(m),m.includePrerelease&&(this.value==="<0.0.0-0"||v.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||v.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&v.operator.startsWith(">")||this.operator.startsWith("<")&&v.operator.startsWith("<")||this.semver.version===v.semver.version&&this.operator.includes("=")&&v.operator.includes("=")||l(this.semver,"<",v.semver,m)&&this.operator.startsWith(">")&&v.operator.startsWith("<")||l(this.semver,">",v.semver,m)&&this.operator.startsWith("<")&&v.operator.startsWith(">")))}}t.exports=n;var i=Hb(),{safeRe:o,t:a}=id(),l=n9(),u=I0(),c=Vn(),h=es()}),j0=ft((e,t)=>{var r=es(),n=s((i,o,a)=>{try{o=new r(o,a)}catch{return!1}return o.test(i)},"Th");t.exports=n}),Vz=ft((e,t)=>{var r=es(),n=s((i,o)=>new r(i,o).set.map(a=>a.map(l=>l.value).join(" ").trim().split(" ")),"Zh");t.exports=n}),Gz=ft((e,t)=>{var r=Vn(),n=es(),i=s((o,a,l)=>{let u=null,c=null,h=null;try{h=new n(a,l)}catch{return null}return o.forEach(f=>{h.test(f)&&(!u||c.compare(f)===-1)&&(u=f,c=new r(u,l))}),u},"kh");t.exports=i}),Zz=ft((e,t)=>{var r=Vn(),n=es(),i=s((o,a,l)=>{let u=null,c=null,h=null;try{h=new n(a,l)}catch{return null}return o.forEach(f=>{h.test(f)&&(!u||c.compare(f)===1)&&(u=f,c=new r(u,l))}),u},"Vh");t.exports=i}),Jz=ft((e,t)=>{var r=Vn(),n=es(),i=O0(),o=s((a,l)=>{a=new n(a,l);let u=new r("0.0.0");if(a.test(u)||(u=new r("0.0.0-0"),a.test(u)))return u;u=null;for(let c=0;c<a.set.length;++c){let h=a.set[c],f=null;h.forEach(v=>{let m=new r(v.semver.version);switch(v.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!f||i(m,f))&&(f=m);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${v.operator}`)}}),f&&(!u||i(u,f))&&(u=f)}return u&&a.test(u)?u:null},"Mh");t.exports=o}),Wz=ft((e,t)=>{var r=es(),n=s((i,o)=>{try{return new r(i,o).range||"*"}catch{return null}},"Ch");t.exports=n}),Wb=ft((e,t)=>{var r=Vn(),n=R0(),{ANY:i}=n,o=es(),a=j0(),l=O0(),u=Gb(),c=Jb(),h=Zb(),f=s((v,m,w,_)=>{v=new r(v,_),m=new o(m,_);let A,M,I,R,L;switch(w){case">":A=l,M=c,I=u,R=">",L=">=";break;case"<":A=u,M=h,I=l,R="<",L="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(v,m,_))return!1;for(let P=0;P<m.set.length;++P){let F=m.set[P],Z=null,G=null;if(F.forEach(se=>{se.semver===i&&(se=new n(">=0.0.0")),Z=Z||se,G=G||se,A(se.semver,Z.semver,_)?Z=se:I(se.semver,G.semver,_)&&(G=se)}),Z.operator===R||Z.operator===L||(!G.operator||G.operator===R)&&M(v,G.semver))return!1;if(G.operator===L&&I(v,G.semver))return!1}return!0},"bh");t.exports=f}),Qz=ft((e,t)=>{var r=Wb(),n=s((i,o,a)=>r(i,o,">",a),"yh");t.exports=n}),Xz=ft((e,t)=>{var r=Wb(),n=s((i,o,a)=>r(i,o,"<",a),"xh");t.exports=n}),Kz=ft((e,t)=>{var r=es(),n=s((i,o,a)=>(i=new r(i,a),o=new r(o,a),i.intersects(o,a)),"ch");t.exports=n}),qz=ft((e,t)=>{var r=j0(),n=Yi();t.exports=(i,o,a)=>{let l=[],u=null,c=null,h=i.sort((w,_)=>n(w,_,a));for(let w of h)r(w,o,a)?(c=w,!u&&(u=w)):(c&&l.push([u,c]),c=null,u=null);u&&l.push([u,null]);let f=[];for(let[w,_]of l)w===_?f.push(w):!_&&w===h[0]?f.push("*"):_?w===h[0]?f.push(`<=${_}`):f.push(`${w} - ${_}`):f.push(`>=${w}`);let v=f.join(" || "),m=typeof o.raw=="string"?o.raw:String(o);return v.length<m.length?v:o}}),Yz=ft((e,t)=>{var r=es(),n=R0(),{ANY:i}=n,o=j0(),a=Yi(),l=s((m,w,_={})=>{if(m===w)return!0;m=new r(m,_),w=new r(w,_);let A=!1;e:for(let M of m.set){for(let I of w.set){let R=h(M,I,_);if(A=A||R!==null,R)continue e}if(A)return!1}return!0},"dh"),u=[new n(">=0.0.0-0")],c=[new n(">=0.0.0")],h=s((m,w,_)=>{if(m===w)return!0;if(m.length===1&&m[0].semver===i){if(w.length===1&&w[0].semver===i)return!0;_.includePrerelease?m=u:m=c}if(w.length===1&&w[0].semver===i){if(_.includePrerelease)return!0;w=c}let A=new Set,M,I;for(let U of m)U.operator===">"||U.operator===">="?M=f(M,U,_):U.operator==="<"||U.operator==="<="?I=v(I,U,_):A.add(U.semver);if(A.size>1)return null;let R;if(M&&I){if(R=a(M.semver,I.semver,_),R>0)return null;if(R===0&&(M.operator!==">="||I.operator!=="<="))return null}for(let U of A){if(M&&!o(U,String(M),_)||I&&!o(U,String(I),_))return null;for(let X of w)if(!o(U,String(X),_))return!1;return!0}let L,P,F,Z,G=I&&!_.includePrerelease&&I.semver.prerelease.length?I.semver:!1,se=M&&!_.includePrerelease&&M.semver.prerelease.length?M.semver:!1;G&&G.prerelease.length===1&&I.operator==="<"&&G.prerelease[0]===0&&(G=!1);for(let U of w){if(Z=Z||U.operator===">"||U.operator===">=",F=F||U.operator==="<"||U.operator==="<=",M){if(se&&U.semver.prerelease&&U.semver.prerelease.length&&U.semver.major===se.major&&U.semver.minor===se.minor&&U.semver.patch===se.patch&&(se=!1),U.operator===">"||U.operator===">="){if(L=f(M,U,_),L===U&&L!==M)return!1}else if(M.operator===">="&&!o(M.semver,String(U),_))return!1}if(I){if(G&&U.semver.prerelease&&U.semver.prerelease.length&&U.semver.major===G.major&&U.semver.minor===G.minor&&U.semver.patch===G.patch&&(G=!1),U.operator==="<"||U.operator==="<="){if(P=v(I,U,_),P===U&&P!==I)return!1}else if(I.operator==="<="&&!o(I.semver,String(U),_))return!1}if(!U.operator&&(I||M)&&R!==0)return!1}return!(M&&F&&!I&&R!==0||I&&Z&&!M&&R!==0||se||G)},"rh"),f=s((m,w,_)=>{if(!m)return w;let A=a(m.semver,w.semver,_);return A>0?m:A<0||w.operator===">"&&m.operator===">="?w:m},"SZ"),v=s((m,w,_)=>{if(!m)return w;let A=a(m.semver,w.semver,_);return A<0?m:A>0||w.operator==="<"&&m.operator==="<="?w:m},"MZ");t.exports=l}),eU=ft((e,t)=>{var r=id(),n=M0(),i=Vn(),o=e9(),a=Ql(),l=Mz(),u=Iz(),c=Oz(),h=Rz(),f=jz(),v=Lz(),m=Pz(),w=Dz(),_=Yi(),A=Bz(),M=zz(),I=Vb(),R=Uz(),L=Fz(),P=O0(),F=Gb(),Z=t9(),G=r9(),se=Zb(),U=Jb(),X=n9(),d=$z(),y=R0(),g=es(),x=j0(),E=Vz(),T=Gz(),N=Zz(),k=Jz(),p=Wz(),S=Wb(),C=Qz(),O=Xz(),B=Kz(),z=qz(),$=Yz();t.exports={parse:a,valid:l,clean:u,inc:c,diff:h,major:f,minor:v,patch:m,prerelease:w,compare:_,rcompare:A,compareLoose:M,compareBuild:I,sort:R,rsort:L,gt:P,lt:F,eq:Z,neq:G,gte:se,lte:U,cmp:X,coerce:d,Comparator:y,Range:g,satisfies:x,toComparators:E,maxSatisfying:T,minSatisfying:N,minVersion:k,validRange:p,outside:S,gtr:C,ltr:O,intersects:B,simplifyRange:z,subset:$,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}}),tU=ft((e,t)=>{t.exports=function(r,n){if(typeof r!="string")throw TypeError("Expected a string");return n=typeof n>"u"?"_":n,r.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()}}),rU=ft((e,t)=>{var r=/[\p{Lu}]/u,n=/[\p{Ll}]/u,i=/^[\p{Lu}](?![\p{Lu}])/gu,o=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,l=new RegExp("^"+a.source),u=new RegExp(a.source+o.source,"gu"),c=new RegExp("\\d+"+o.source,"gu"),h=s((w,_,A)=>{let M=!1,I=!1,R=!1;for(let L=0;L<w.length;L++){let P=w[L];M&&r.test(P)?(w=w.slice(0,L)+"-"+w.slice(L),M=!1,R=I,I=!0,L++):I&&R&&n.test(P)?(w=w.slice(0,L-1)+"-"+w.slice(L-1),R=I,I=!1,M=!0):(M=_(P)===P&&A(P)!==P,R=I,I=A(P)===P&&_(P)!==P)}return w},"aR"),f=s((w,_)=>(i.lastIndex=0,w.replace(i,A=>_(A))),"QR"),v=s((w,_)=>(u.lastIndex=0,c.lastIndex=0,w.replace(u,(A,M)=>_(M)).replace(c,A=>_(A))),"eR"),m=s((w,_)=>{if(!(typeof w=="string"||Array.isArray(w)))throw TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(w)?w=w.map(I=>I.trim()).filter(I=>I.length).join("-"):w=w.trim(),w.length===0)return"";let A=_.locale===!1?I=>I.toLowerCase():I=>I.toLocaleLowerCase(_.locale),M=_.locale===!1?I=>I.toUpperCase():I=>I.toLocaleUpperCase(_.locale);return w.length===1?_.pascalCase?M(w):A(w):(w!==A(w)&&(w=h(w,A,M)),w=w.replace(l,""),_.preserveConsecutiveUppercase?w=f(w,A):w=A(w),_.pascalCase&&(w=M(w.charAt(0))+w.slice(1)),v(w,M))},"QZ");t.exports=m,t.exports.default=m}),nU=ft((e,t)=>{var r=s((o=0)=>a=>`\x1B[${38+o};5;${a}m`,"Of"),n=s((o=0)=>(a,l,u)=>`\x1B[${38+o};2;${a};${l};${u}m`,"Yf");function i(){let o=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(let[l,u]of Object.entries(a)){for(let[c,h]of Object.entries(u))a[c]={open:`\x1B[${h[0]}m`,close:`\x1B[${h[1]}m`},u[c]=a[c],o.set(h[0],h[1]);Object.defineProperty(a,l,{value:u,enumerable:!1})}return Object.defineProperty(a,"codes",{value:o,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=r(),a.color.ansi16m=n(),a.bgColor.ansi256=r(10),a.bgColor.ansi16m=n(10),Object.defineProperties(a,{rgbToAnsi256:{value:s((l,u,c)=>l===u&&u===c?l<8?16:l>248?231:Math.round((l-8)/247*24)+232:16+36*Math.round(l/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),"value"),enumerable:!1},hexToRgb:{value:s(l=>{let u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(l.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));let h=Number.parseInt(c,16);return[h>>16&255,h>>8&255,h&255]},"value"),enumerable:!1},hexToAnsi256:{value:s(l=>a.rgbToAnsi256(...a.hexToRgb(l)),"value"),enumerable:!1}}),a}s(i,"YI"),Object.defineProperty(t,"exports",{enumerable:!0,get:i})}),iU=ft(e=>{e.byteLength=u,e.toByteArray=h,e.fromByteArray=m;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,a=i.length;o<a;++o)t[o]=i[o],r[i.charCodeAt(o)]=o;var o,a;r[45]=62,r[95]=63;function l(w){var _=w.length;if(_%4>0)throw Error("Invalid string. Length must be a multiple of 4");var A=w.indexOf("=");A===-1&&(A=_);var M=A===_?0:4-A%4;return[A,M]}s(l,"KA");function u(w){var _=l(w),A=_[0],M=_[1];return(A+M)*3/4-M}s(u,"gg");function c(w,_,A){return(_+A)*3/4-A}s(c,"yg");function h(w){var _,A=l(w),M=A[0],I=A[1],R=new n(c(w,M,I)),L=0,P=I>0?M-4:M,F;for(F=0;F<P;F+=4)_=r[w.charCodeAt(F)]<<18|r[w.charCodeAt(F+1)]<<12|r[w.charCodeAt(F+2)]<<6|r[w.charCodeAt(F+3)],R[L++]=_>>16&255,R[L++]=_>>8&255,R[L++]=_&255;return I===2&&(_=r[w.charCodeAt(F)]<<2|r[w.charCodeAt(F+1)]>>4,R[L++]=_&255),I===1&&(_=r[w.charCodeAt(F)]<<10|r[w.charCodeAt(F+1)]<<4|r[w.charCodeAt(F+2)]>>2,R[L++]=_>>8&255,R[L++]=_&255),R}s(h,"ug");function f(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}s(f,"xg");function v(w,_,A){for(var M,I=[],R=_;R<A;R+=3)M=(w[R]<<16&16711680)+(w[R+1]<<8&65280)+(w[R+2]&255),I.push(f(M));return I.join("")}s(v,"cg");function m(w){for(var _,A=w.length,M=A%3,I=[],R=16383,L=0,P=A-M;L<P;L+=R)I.push(v(w,L,L+R>P?P:L+R));return M===1?(_=w[A-1],I.push(t[_>>2]+t[_<<4&63]+"==")):M===2&&(_=(w[A-2]<<8)+w[A-1],I.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),I.join("")}s(m,"pg")}),ti=ft(e=>{e.__esModule=!0,e.extend=o,e.indexOf=c,e.escapeExpression=h,e.isEmpty=f,e.createFrame=v,e.blockParams=m,e.appendContextPath=w;var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,n=/[&<>"'`=]/;function i(_){return t[_]}s(i,"sg");function o(_){for(var A=1;A<arguments.length;A++)for(var M in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],M)&&(_[M]=arguments[A][M]);return _}s(o,"OA");var a=Object.prototype.toString;e.toString=a;var l=s(function(_){return typeof _=="function"},"lz");l(/x/)&&(e.isFunction=l=s(function(_){return typeof _=="function"&&a.call(_)==="[object Function]"},"lz")),e.isFunction=l;var u=Array.isArray||function(_){return _&&typeof _=="object"?a.call(_)==="[object Array]":!1};e.isArray=u;function c(_,A){for(var M=0,I=_.length;M<I;M++)if(_[M]===A)return M;return-1}s(c,"$y");function h(_){if(typeof _!="string"){if(_&&_.toHTML)return _.toHTML();if(_==null)return"";if(!_)return _+"";_=""+_}return n.test(_)?_.replace(r,i):_}s(h,"qy");function f(_){return!_&&_!==0?!0:!!(u(_)&&_.length===0)}s(f,"Ky");function v(_){var A=o({},_);return A._parent=_,A}s(v,"_y");function m(_,A){return _.path=A,_}s(m,"Py");function w(_,A){return(_?_+".":"")+A}s(w,"jy")}),ts=ft((e,t)=>{e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(i,o){var a=o&&o.loc,l=void 0,u=void 0,c=void 0,h=void 0;a&&(l=a.start.line,u=a.end.line,c=a.start.column,h=a.end.column,i+=" - "+l+":"+c);for(var f=Error.prototype.constructor.call(this,i),v=0;v<r.length;v++)this[r[v]]=f[r[v]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{a&&(this.lineNumber=l,this.endLineNumber=u,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:h,enumerable:!0})):(this.column=c,this.endColumn=h))}catch{}}s(n,"nz"),n.prototype=Error(),e.default=n,t.exports=e.default}),sU=ft((e,t)=>{e.__esModule=!0;var r=ti();e.default=function(n){n.registerHelper("blockHelperMissing",function(i,o){var{inverse:a,fn:l}=o;if(i===!0)return l(this);if(i===!1||i==null)return a(this);if(r.isArray(i))return i.length>0?(o.ids&&(o.ids=[o.name]),n.helpers.each(i,o)):a(this);if(o.data&&o.ids){var u=r.createFrame(o.data);u.contextPath=r.appendContextPath(o.data.contextPath,o.name),o={data:u}}return l(i,o)})},t.exports=e.default}),aU=ft((e,t)=>{e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}s(r,"Sy");var n=ti(),i=ts(),o=r(i);e.default=function(a){a.registerHelper("each",function(l,u){if(!u)throw new o.default("Must pass iterator to #each");var{fn:c,inverse:h}=u,f=0,v="",m=void 0,w=void 0;u.data&&u.ids&&(w=n.appendContextPath(u.data.contextPath,u.ids[0])+"."),n.isFunction(l)&&(l=l.call(this)),u.data&&(m=n.createFrame(u.data));function _(L,P,F){m&&(m.key=L,m.index=P,m.first=P===0,m.last=!!F,w&&(m.contextPath=w+L)),v=v+c(l[L],{data:m,blockParams:n.blockParams([l[L],L],[w+L,null])})}if(s(_,"w"),l&&typeof l=="object")if(n.isArray(l))for(var A=l.length;f<A;f++)f in l&&_(f,f,f===l.length-1);else if(typeof Symbol=="function"&&l[Symbol.iterator]){for(var M=[],I=l[Symbol.iterator](),R=I.next();!R.done;R=I.next())M.push(R.value);l=M;for(var A=l.length;f<A;f++)_(f,f,f===l.length-1)}else(function(){var L=void 0;Object.keys(l).forEach(function(P){L!==void 0&&_(L,f-1),L=P,f++}),L!==void 0&&_(L,f-1,!0)})();return f===0&&(v=h(this)),v})},t.exports=e.default}),oU=ft((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}s(r,"hy");var n=ts(),i=r(n);e.default=function(o){o.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default}),lU=ft((e,t)=>{e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}s(r,"by");var n=ti(),i=ts(),o=r(i);e.default=function(a){a.registerHelper("if",function(l,u){if(arguments.length!=2)throw new o.default("#if requires exactly one argument");return n.isFunction(l)&&(l=l.call(this)),!u.hash.includeZero&&!l||n.isEmpty(l)?u.inverse(this):u.fn(this)}),a.registerHelper("unless",function(l,u){if(arguments.length!=2)throw new o.default("#unless requires exactly one argument");return a.helpers.if.call(this,l,{fn:u.inverse,inverse:u.fn,hash:u.hash})})},t.exports=e.default}),uU=ft((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],i=arguments[arguments.length-1],o=0;o<arguments.length-1;o++)n.push(arguments[o]);var a=1;i.hash.level!=null?a=i.hash.level:i.data&&i.data.level!=null&&(a=i.data.level),n[0]=a,r.log.apply(r,n)})},t.exports=e.default}),cU=ft((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(n,i,o){return n&&o.lookupProperty(n,i)})},t.exports=e.default}),dU=ft((e,t)=>{e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}s(r,"dy");var n=ti(),i=ts(),o=r(i);e.default=function(a){a.registerHelper("with",function(l,u){if(arguments.length!=2)throw new o.default("#with requires exactly one argument");n.isFunction(l)&&(l=l.call(this));var c=u.fn;if(n.isEmpty(l))return u.inverse(this);var h=u.data;return u.data&&u.ids&&(h=n.createFrame(u.data),h.contextPath=n.appendContextPath(u.data.contextPath,u.ids[0])),c(l,{data:h,blockParams:n.blockParams([l],[h&&h.contextPath])})})},t.exports=e.default}),i9=ft(e=>{e.__esModule=!0,e.registerDefaultHelpers=A,e.moveHelperToHooks=M;function t(I){return I&&I.__esModule?I:{default:I}}s(t,"G_");var r=sU(),n=t(r),i=aU(),o=t(i),a=oU(),l=t(a),u=lU(),c=t(u),h=uU(),f=t(h),v=cU(),m=t(v),w=dU(),_=t(w);function A(I){n.default(I),o.default(I),l.default(I),c.default(I),f.default(I),m.default(I),_.default(I)}s(A,"ju");function M(I,R,L){I.helpers[R]&&(I.hooks[R]=I.helpers[R],!L&&delete I.helpers[R])}s(M,"Ou")}),fU=ft((e,t)=>{e.__esModule=!0;var r=ti();e.default=function(n){n.registerDecorator("inline",function(i,o,a,l){var u=i;return o.partials||(o.partials={},u=s(function(c,h){var f=a.partials;a.partials=r.extend({},f,o.partials);var v=i(c,h);return a.partials=f,v},"O")),o.partials[l.args[0]]=l.fn,u})},t.exports=e.default}),hU=ft(e=>{e.__esModule=!0,e.registerDefaultDecorators=i;function t(o){return o&&o.__esModule?o:{default:o}}s(t,"wu");var r=fU(),n=t(r);function i(o){n.default(o)}s(i,"Xu")}),s9=ft((e,t)=>{e.__esModule=!0;var r=ti(),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:s(function(i){if(typeof i=="string"){var o=r.indexOf(n.methodMap,i.toLowerCase());o>=0?i=o:i=parseInt(i,10)}return i},"lookupLevel"),log:s(function(i){if(i=n.lookupLevel(i),typeof console<"u"&&n.lookupLevel(n.level)<=i){var o=n.methodMap[i];console[o]||(o="log");for(var a=arguments.length,l=Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];console[o].apply(console,l)}},"log")};e.default=n,t.exports=e.default}),pU=ft(e=>{e.__esModule=!0,e.createNewLookupObject=r;var t=ti();function r(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.extend.apply(void 0,[Object.create(null)].concat(i))}s(r,"Cu")}),a9=ft(e=>{e.__esModule=!0,e.createProtoAccessControl=a,e.resultIsAllowed=l,e.resetLoggedProperties=h;function t(f){return f&&f.__esModule?f:{default:f}}s(t,"Iu");var r=pU(),n=s9(),i=t(n),o=Object.create(null);function a(f){var v=Object.create(null);v.constructor=!1,v.__defineGetter__=!1,v.__defineSetter__=!1,v.__lookupGetter__=!1;var m=Object.create(null);return m.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(m,f.allowedProtoProperties),defaultValue:f.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(v,f.allowedProtoMethods),defaultValue:f.allowProtoMethodsByDefault}}}s(a,"bu");function l(f,v,m){return u(typeof f=="function"?v.methods:v.properties,m)}s(l,"gu");function u(f,v){return f.whitelist[v]!==void 0?f.whitelist[v]===!0:f.defaultValue!==void 0?f.defaultValue:(c(v),!1)}s(u,"lA");function c(f){o[f]!==!0&&(o[f]=!0,i.default.log("error",'Handlebars: Access has been denied to resolve the property "'+f+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}s(c,"yu");function h(){Object.keys(o).forEach(function(f){delete o[f]})}s(h,"uu")}),Qb=ft(e=>{e.__esModule=!0,e.HandlebarsEnvironment=_;function t(M){return M&&M.__esModule?M:{default:M}}s(t,"rA");var r=ti(),n=ts(),i=t(n),o=i9(),a=hU(),l=s9(),u=t(l),c=a9(),h="4.7.8";e.VERSION=h;var f=8;e.COMPILER_REVISION=f;var v=7;e.LAST_COMPATIBLE_COMPILER_REVISION=v;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};e.REVISION_CHANGES=m;var w="[object Object]";function _(M,I,R){this.helpers=M||{},this.partials=I||{},this.decorators=R||{},o.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}s(_,"Qz"),_.prototype={constructor:_,logger:u.default,log:u.default.log,registerHelper:s(function(M,I){if(r.toString.call(M)===w){if(I)throw new i.default("Arg not supported with multiple helpers");r.extend(this.helpers,M)}else this.helpers[M]=I},"registerHelper"),unregisterHelper:s(function(M){delete this.helpers[M]},"unregisterHelper"),registerPartial:s(function(M,I){if(r.toString.call(M)===w)r.extend(this.partials,M);else{if(typeof I>"u")throw new i.default('Attempting to register a partial called "'+M+'" as undefined');this.partials[M]=I}},"registerPartial"),unregisterPartial:s(function(M){delete this.partials[M]},"unregisterPartial"),registerDecorator:s(function(M,I){if(r.toString.call(M)===w){if(I)throw new i.default("Arg not supported with multiple decorators");r.extend(this.decorators,M)}else this.decorators[M]=I},"registerDecorator"),unregisterDecorator:s(function(M){delete this.decorators[M]},"unregisterDecorator"),resetLoggedPropertyAccesses:s(function(){c.resetLoggedProperties()},"resetLoggedPropertyAccesses")};var A=u.default.log;e.log=A,e.createFrame=r.createFrame,e.logger=u.default}),mU=ft((e,t)=>{e.__esModule=!0;function r(n){this.string=n}s(r,"ez"),r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default}),gU=ft(e=>{e.__esModule=!0,e.wrapHelper=t;function t(r,n){if(typeof r!="function")return r;var i=s(function(){var o=arguments[arguments.length-1];return arguments[arguments.length-1]=n(o),r.apply(this,arguments)},"K");return i}s(t,"zx")}),vU=ft(e=>{e.__esModule=!0,e.checkRevision=f,e.template=v,e.wrapProgram=m,e.resolvePartial=w,e.invokePartial=_,e.noop=A;function t(P){return P&&P.__esModule?P:{default:P}}s(t,"Tx");function r(P){if(P&&P.__esModule)return P;var F={};if(P!=null)for(var Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&(F[Z]=P[Z]);return F.default=P,F}s(r,"wx");var n=ti(),i=r(n),o=ts(),a=t(o),l=Qb(),u=i9(),c=gU(),h=a9();function f(P){var F=P&&P[0]||1,Z=l.COMPILER_REVISION;if(!(F>=l.LAST_COMPATIBLE_COMPILER_REVISION&&F<=l.COMPILER_REVISION))if(F<l.LAST_COMPATIBLE_COMPILER_REVISION){var G=l.REVISION_CHANGES[Z],se=l.REVISION_CHANGES[F];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+G+") or downgrade your runtime to an older version ("+se+").")}else throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+P[1]+").")}s(f,"kx");function v(P,F){if(!F)throw new a.default("No environment passed to template");if(!P||!P.main)throw new a.default("Unknown template object: "+typeof P);P.main.decorator=P.main_d,F.VM.checkRevision(P.compiler);var Z=P.compiler&&P.compiler[0]===7;function G(X,d,y){y.hash&&(d=i.extend({},d,y.hash),y.ids&&(y.ids[0]=!0)),X=F.VM.resolvePartial.call(this,X,d,y);var g=i.extend({},y,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),x=F.VM.invokePartial.call(this,X,d,g);if(x==null&&F.compile&&(y.partials[y.name]=F.compile(X,P.compilerOptions,F),x=y.partials[y.name](d,g)),x!=null){if(y.indent){for(var E=x.split(`
`),T=0,N=E.length;T<N&&!(!E[T]&&T+1===N);T++)E[T]=y.indent+E[T];x=E.join(`
`)}return x}else throw new a.default("The partial "+y.name+" could not be compiled when running in runtime-only mode")}s(G,"P");var se={strict:s(function(X,d,y){if(!X||!(d in X))throw new a.default('"'+d+'" not defined in '+X,{loc:y});return se.lookupProperty(X,d)},"strict"),lookupProperty:s(function(X,d){var y=X[d];if(y==null||Object.prototype.hasOwnProperty.call(X,d)||h.resultIsAllowed(y,se.protoAccessControl,d))return y},"lookupProperty"),lookup:s(function(X,d){for(var y=X.length,g=0;g<y;g++){var x=X[g]&&se.lookupProperty(X[g],d);if(x!=null)return X[g][d]}},"lookup"),lambda:s(function(X,d){return typeof X=="function"?X.call(d):X},"lambda"),escapeExpression:i.escapeExpression,invokePartial:G,fn:s(function(X){var d=P[X];return d.decorator=P[X+"_d"],d},"fn"),programs:[],program:s(function(X,d,y,g,x){var E=this.programs[X],T=this.fn(X);return d||x||g||y?E=m(this,X,T,d,y,g,x):E||(E=this.programs[X]=m(this,X,T)),E},"program"),data:s(function(X,d){for(;X&&d--;)X=X._parent;return X},"data"),mergeIfNeeded:s(function(X,d){var y=X||d;return X&&d&&X!==d&&(y=i.extend({},d,X)),y},"mergeIfNeeded"),nullContext:Object.seal({}),noop:F.VM.noop,compilerInfo:P.compiler};function U(X){var d=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=d.data;U._setup(d),!d.partial&&P.useData&&(y=M(X,y));var g=void 0,x=P.useBlockParams?[]:void 0;P.useDepths&&(d.depths?g=X!=d.depths[0]?[X].concat(d.depths):d.depths:g=[X]);function E(T){return""+P.main(se,T,se.helpers,se.partials,y,x,g)}return s(E,"X"),E=I(P.main,E,se,d.depths||[],y,x),E(X,d)}return s(U,"O"),U.isTop=!0,U._setup=function(X){if(X.partial)se.protoAccessControl=X.protoAccessControl,se.helpers=X.helpers,se.partials=X.partials,se.decorators=X.decorators,se.hooks=X.hooks;else{var d=i.extend({},F.helpers,X.helpers);R(d,se),se.helpers=d,P.usePartial&&(se.partials=se.mergeIfNeeded(X.partials,F.partials)),(P.usePartial||P.useDecorators)&&(se.decorators=i.extend({},F.decorators,X.decorators)),se.hooks={},se.protoAccessControl=h.createProtoAccessControl(X);var y=X.allowCallsToHelperMissing||Z;u.moveHelperToHooks(se,"helperMissing",y),u.moveHelperToHooks(se,"blockHelperMissing",y)}},U._child=function(X,d,y,g){if(P.useBlockParams&&!y)throw new a.default("must pass block params");if(P.useDepths&&!g)throw new a.default("must pass parent depths");return m(se,X,P[X],d,0,y,g)},U}s(v,"Ax");function m(P,F,Z,G,se,U,X){function d(y){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],x=X;return X&&y!=X[0]&&!(y===P.nullContext&&X[0]===null)&&(x=[y].concat(X)),Z(P,y,P.helpers,P.partials,g.data||G,U&&[g.blockParams].concat(U),x)}return s(d,"z"),d=I(Z,d,P,X,G,U),d.program=F,d.depth=X?X.length:0,d.blockParams=se||0,d}s(m,"Vj");function w(P,F,Z){return P?!P.call&&!Z.name&&(Z.name=P,P=Z.partials[P]):Z.name==="@partial-block"?P=Z.data["partial-block"]:P=Z.partials[Z.name],P}s(w,"Gx");function _(P,F,Z){var G=Z.data&&Z.data["partial-block"];Z.partial=!0,Z.ids&&(Z.data.contextPath=Z.ids[0]||Z.data.contextPath);var se=void 0;if(Z.fn&&Z.fn!==A&&(function(){Z.data=l.createFrame(Z.data);var U=Z.fn;se=Z.data["partial-block"]=function(X){var d=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return d.data=l.createFrame(d.data),d.data["partial-block"]=G,U(X,d)},U.partials&&(Z.partials=i.extend({},Z.partials,U.partials))})(),P===void 0&&se&&(P=se),P===void 0)throw new a.default("The partial "+Z.name+" could not be found");if(P instanceof Function)return P(F,Z)}s(_,"Vx");function A(){return""}s(A,"FA");function M(P,F){return(!F||!("root"in F))&&(F=F?l.createFrame(F):{},F.root=P),F}s(M,"Sx");function I(P,F,Z,G,se,U){if(P.decorator){var X={};F=P.decorator(F,X,Z,G&&G[0],se,U,G),i.extend(F,X)}return F}s(I,"aA");function R(P,F){Object.keys(P).forEach(function(Z){var G=P[Z];P[Z]=L(G,F)})}s(R,"Mx");function L(P,F){var Z=F.lookupProperty;return c.wrapHelper(P,function(G){return i.extend({lookupProperty:Z},G)})}s(L,"Nx")}),o9=ft((e,t)=>{e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var n=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=n),r}},t.exports=e.default}),bU=ft((e,t)=>{e.__esModule=!0;function r(I){return I&&I.__esModule?I:{default:I}}s(r,"qW");function n(I){if(I&&I.__esModule)return I;var R={};if(I!=null)for(var L in I)Object.prototype.hasOwnProperty.call(I,L)&&(R[L]=I[L]);return R.default=I,R}s(n,"KW");var i=Qb(),o=n(i),a=mU(),l=r(a),u=ts(),c=r(u),h=ti(),f=n(h),v=vU(),m=n(v),w=o9(),_=r(w);function A(){var I=new o.HandlebarsEnvironment;return f.extend(I,o),I.SafeString=l.default,I.Exception=c.default,I.Utils=f,I.escapeExpression=f.escapeExpression,I.VM=m,I.template=function(R){return m.template(R,I)},I}s(A,"KG");var M=A();M.create=A,_.default(M),M.default=M,e.default=M,t.exports=e.default}),l9=ft((e,t)=>{e.__esModule=!0;var r={helpers:{helperExpression:s(function(n){return n.type==="SubExpression"||(n.type==="MustacheStatement"||n.type==="BlockStatement")&&!!(n.params&&n.params.length||n.hash)},"helperExpression"),scopedId:s(function(n){return/^\.|this\b/.test(n.original)},"scopedId"),simpleId:s(function(n){return n.parts.length===1&&!r.helpers.scopedId(n)&&!n.depth},"simpleId")}};e.default=r,t.exports=e.default}),yU=ft((e,t)=>{e.__esModule=!0;var r=(function(){var n={trace:s(function(){},"trace"),yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:s(function(a,l,u,c,h,f,v){var m=f.length-1;switch(h){case 1:return f[m-1];case 2:this.$=c.prepareProgram(f[m]);break;case 3:this.$=f[m];break;case 4:this.$=f[m];break;case 5:this.$=f[m];break;case 6:this.$=f[m];break;case 7:this.$=f[m];break;case 8:this.$=f[m];break;case 9:this.$={type:"CommentStatement",value:c.stripComment(f[m]),strip:c.stripFlags(f[m],f[m]),loc:c.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[m],value:f[m],loc:c.locInfo(this._$)};break;case 11:this.$=c.prepareRawBlock(f[m-2],f[m-1],f[m],this._$);break;case 12:this.$={path:f[m-3],params:f[m-2],hash:f[m-1]};break;case 13:this.$=c.prepareBlock(f[m-3],f[m-2],f[m-1],f[m],!1,this._$);break;case 14:this.$=c.prepareBlock(f[m-3],f[m-2],f[m-1],f[m],!0,this._$);break;case 15:this.$={open:f[m-5],path:f[m-4],params:f[m-3],hash:f[m-2],blockParams:f[m-1],strip:c.stripFlags(f[m-5],f[m])};break;case 16:this.$={path:f[m-4],params:f[m-3],hash:f[m-2],blockParams:f[m-1],strip:c.stripFlags(f[m-5],f[m])};break;case 17:this.$={path:f[m-4],params:f[m-3],hash:f[m-2],blockParams:f[m-1],strip:c.stripFlags(f[m-5],f[m])};break;case 18:this.$={strip:c.stripFlags(f[m-1],f[m-1]),program:f[m]};break;case 19:var w=c.prepareBlock(f[m-2],f[m-1],f[m],f[m],!1,this._$),_=c.prepareProgram([w],f[m-1].loc);_.chained=!0,this.$={strip:f[m-2].strip,program:_,chain:!0};break;case 20:this.$=f[m];break;case 21:this.$={path:f[m-1],strip:c.stripFlags(f[m-2],f[m])};break;case 22:this.$=c.prepareMustache(f[m-3],f[m-2],f[m-1],f[m-4],c.stripFlags(f[m-4],f[m]),this._$);break;case 23:this.$=c.prepareMustache(f[m-3],f[m-2],f[m-1],f[m-4],c.stripFlags(f[m-4],f[m]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[m-3],params:f[m-2],hash:f[m-1],indent:"",strip:c.stripFlags(f[m-4],f[m]),loc:c.locInfo(this._$)};break;case 25:this.$=c.preparePartialBlock(f[m-2],f[m-1],f[m],this._$);break;case 26:this.$={path:f[m-3],params:f[m-2],hash:f[m-1],strip:c.stripFlags(f[m-4],f[m])};break;case 27:this.$=f[m];break;case 28:this.$=f[m];break;case 29:this.$={type:"SubExpression",path:f[m-3],params:f[m-2],hash:f[m-1],loc:c.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[m],loc:c.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:c.id(f[m-2]),value:f[m],loc:c.locInfo(this._$)};break;case 32:this.$=c.id(f[m-1]);break;case 33:this.$=f[m];break;case 34:this.$=f[m];break;case 35:this.$={type:"StringLiteral",value:f[m],original:f[m],loc:c.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[m]),original:Number(f[m]),loc:c.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:f[m]==="true",original:f[m]==="true",loc:c.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:c.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:c.locInfo(this._$)};break;case 40:this.$=f[m];break;case 41:this.$=f[m];break;case 42:this.$=c.preparePath(!0,f[m],this._$);break;case 43:this.$=c.preparePath(!1,f[m],this._$);break;case 44:f[m-2].push({part:c.id(f[m]),original:f[m],separator:f[m-1]}),this.$=f[m-2];break;case 45:this.$=[{part:c.id(f[m]),original:f[m]}];break;case 46:this.$=[];break;case 47:f[m-1].push(f[m]);break;case 48:this.$=[];break;case 49:f[m-1].push(f[m]);break;case 50:this.$=[];break;case 51:f[m-1].push(f[m]);break;case 58:this.$=[];break;case 59:f[m-1].push(f[m]);break;case 64:this.$=[];break;case 65:f[m-1].push(f[m]);break;case 70:this.$=[];break;case 71:f[m-1].push(f[m]);break;case 78:this.$=[];break;case 79:f[m-1].push(f[m]);break;case 82:this.$=[];break;case 83:f[m-1].push(f[m]);break;case 86:this.$=[];break;case 87:f[m-1].push(f[m]);break;case 90:this.$=[];break;case 91:f[m-1].push(f[m]);break;case 94:this.$=[];break;case 95:f[m-1].push(f[m]);break;case 98:this.$=[f[m]];break;case 99:f[m-1].push(f[m]);break;case 100:this.$=[f[m]];break;case 101:f[m-1].push(f[m]);break}},"performAction"),table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:s(function(a,l){throw Error(a)},"parseError"),parse:s(function(a){var l=this,u=[0],c=[null],h=[],f=this.table,v="",m=0,w=0,_=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var A=this.lexer.yylloc;h.push(A);var M=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function I(){var y=l.lexer.lex()||1;return typeof y!="number"&&(y=l.symbols_[y]||y),y}s(I,"g");for(var R,L,P,F,Z={},G,se,U,X;;){if(L=u[u.length-1],this.defaultActions[L]?P=this.defaultActions[L]:((R===null||typeof R>"u")&&(R=I()),P=f[L]&&f[L][R]),typeof P>"u"||!P.length||!P[0]){var d="";{X=[];for(G in f[L])this.terminals_[G]&&G>2&&X.push("'"+this.terminals_[G]+"'");this.lexer.showPosition?d="Parse error on line "+(m+1)+`:
`+this.lexer.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[R]||R)+"'":d="Parse error on line "+(m+1)+": Unexpected "+(R==1?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(d,{text:this.lexer.match,token:this.terminals_[R]||R,line:this.lexer.yylineno,loc:A,expected:X})}}if(P[0]instanceof Array&&P.length>1)throw Error("Parse Error: multiple actions possible at state: "+L+", token: "+R);switch(P[0]){case 1:u.push(R),c.push(this.lexer.yytext),h.push(this.lexer.yylloc),u.push(P[1]),R=null,w=this.lexer.yyleng,v=this.lexer.yytext,m=this.lexer.yylineno,A=this.lexer.yylloc,_>0;break;case 2:if(se=this.productions_[P[1]][1],Z.$=c[c.length-se],Z._$={first_line:h[h.length-(se||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(se||1)].first_column,last_column:h[h.length-1].last_column},M&&(Z._$.range=[h[h.length-(se||1)].range[0],h[h.length-1].range[1]]),F=this.performAction.call(Z,v,w,m,this.yy,P[1],c,h),typeof F<"u")return F;se&&(u=u.slice(0,-1*se*2),c=c.slice(0,-1*se),h=h.slice(0,-1*se)),u.push(this.productions_[P[1]][0]),c.push(Z.$),h.push(Z._$),U=f[u[u.length-2]][u[u.length-1]],u.push(U);break;case 3:return!0}}return!0},"parse")},i=(function(){var a={EOF:1,parseError:s(function(l,u){if(this.yy.parser)this.yy.parser.parseError(l,u);else throw Error(l)},"parseError"),setInput:s(function(l){return this._input=l,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:s(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:s(function(l){var u=l.length,c=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u-1),this.offset-=u;var h=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===h.length?this.yylloc.first_column:0)+h[h.length-c.length].length-c[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-u]),this},"unput"),more:s(function(){return this._more=!0,this},"more"),less:s(function(l){this.unput(this.match.slice(l))},"less"),pastInput:s(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:s(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:s(function(){var l=this.pastInput(),u=Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),next:s(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,c,h,f;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),m=0;m<v.length&&(c=this._input.match(this.rules[v[m]]),!(c&&(!u||c[0].length>u[0].length)&&(u=c,h=m,!this.options.flex)));m++);return u?(f=u[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],l=this.performAction.call(this,this.yy,this,v[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:s(function(){var l=this.next();return typeof l<"u"?l:this.lex()},"lex"),begin:s(function(l){this.conditionStack.push(l)},"begin"),popState:s(function(){return this.conditionStack.pop()},"popState"),_currentRules:s(function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"_currentRules"),topState:s(function(){return this.conditionStack[this.conditionStack.length-2]},"topState"),pushState:s(function(l){this.begin(l)},"pushState")};return a.options={},a.performAction=function(l,u,c,h){function f(v,m){return u.yytext=u.yytext.substring(v,u.yyleng-m+v)}switch(s(f,"w"),c){case 0:if(u.yytext.slice(-2)==="\\\\"?(f(0,1),this.begin("mu")):u.yytext.slice(-1)==="\\"?(f(0,1),this.begin("emu")):this.begin("mu"),u.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(f(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(u.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return u.yytext=f(1,2).replace(/\\"/g,'"'),80;case 32:return u.yytext=f(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return u.yytext=u.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a})();n.lexer=i;function o(){this.yy={}}return s(o,"K"),o.prototype=n,n.Parser=o,new o})();e.default=r,t.exports=e.default}),Xb=ft((e,t)=>{e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}s(r,"Qx");var n=ts(),i=r(n);function o(){this.parents=[]}s(o,"Sj"),o.prototype={constructor:o,mutating:!1,acceptKey:s(function(c,h){var f=this.accept(c[h]);if(this.mutating){if(f&&!o.prototype[f.type])throw new i.default('Unexpected node type "'+f.type+'" found when accepting '+h+" on "+c.type);c[h]=f}},"acceptKey"),acceptRequired:s(function(c,h){if(this.acceptKey(c,h),!c[h])throw new i.default(c.type+" requires "+h)},"acceptRequired"),acceptArray:s(function(c){for(var h=0,f=c.length;h<f;h++)this.acceptKey(c,h),!c[h]&&(c.splice(h,1),h--,f--)},"acceptArray"),accept:s(function(c){if(c){if(!this[c.type])throw new i.default("Unknown type: "+c.type,c);this.current&&this.parents.unshift(this.current),this.current=c;var h=this[c.type](c);if(this.current=this.parents.shift(),!this.mutating||h)return h;if(h!==!1)return c}},"accept"),Program:s(function(c){this.acceptArray(c.body)},"Program"),MustacheStatement:a,Decorator:a,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:s(function(c){u.call(this,c),this.acceptKey(c,"program")},"PartialBlockStatement"),ContentStatement:s(function(){},"ContentStatement"),CommentStatement:s(function(){},"CommentStatement"),SubExpression:a,PathExpression:s(function(){},"PathExpression"),StringLiteral:s(function(){},"StringLiteral"),NumberLiteral:s(function(){},"NumberLiteral"),BooleanLiteral:s(function(){},"BooleanLiteral"),UndefinedLiteral:s(function(){},"UndefinedLiteral"),NullLiteral:s(function(){},"NullLiteral"),Hash:s(function(c){this.acceptArray(c.pairs)},"Hash"),HashPair:s(function(c){this.acceptRequired(c,"value")},"HashPair")};function a(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}s(a,"Mj");function l(c){a.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}s(l,"JG");function u(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}s(u,"TG"),e.default=o,t.exports=e.default}),wU=ft((e,t)=>{e.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}s(r,"qc");var n=Xb(),i=r(n);function o(){var h=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=h}s(o,"i8"),o.prototype=new i.default,o.prototype.Program=function(h){var f=!this.options.ignoreStandalone,v=!this.isRootSeen;this.isRootSeen=!0;for(var m=h.body,w=0,_=m.length;w<_;w++){var A=m[w],M=this.accept(A);if(M){var I=a(m,w,v),R=l(m,w,v),L=M.openStandalone&&I,P=M.closeStandalone&&R,F=M.inlineStandalone&&I&&R;M.close&&u(m,w,!0),M.open&&c(m,w,!0),f&&F&&(u(m,w),c(m,w)&&A.type==="PartialStatement"&&(A.indent=/([ \t]+$)/.exec(m[w-1].original)[1])),f&&L&&(u((A.program||A.inverse).body),c(m,w)),f&&P&&(u(m,w),c((A.inverse||A.program).body))}}return h},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(h){this.accept(h.program),this.accept(h.inverse);var f=h.program||h.inverse,v=h.program&&h.inverse,m=v,w=v;if(v&&v.chained)for(m=v.body[0].program;w.chained;)w=w.body[w.body.length-1].program;var _={open:h.openStrip.open,close:h.closeStrip.close,openStandalone:l(f.body),closeStandalone:a((m||f).body)};if(h.openStrip.close&&u(f.body,null,!0),v){var A=h.inverseStrip;A.open&&c(f.body,null,!0),A.close&&u(m.body,null,!0),h.closeStrip.open&&c(w.body,null,!0),!this.options.ignoreStandalone&&a(f.body)&&l(m.body)&&(c(f.body),u(m.body))}else h.closeStrip.open&&c(f.body,null,!0);return _},o.prototype.Decorator=o.prototype.MustacheStatement=function(h){return h.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(h){var f=h.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function a(h,f,v){f===void 0&&(f=h.length);var m=h[f-1],w=h[f-2];if(!m)return v;if(m.type==="ContentStatement")return(w||!v?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(m.original)}s(a,"jW");function l(h,f,v){f===void 0&&(f=-1);var m=h[f+1],w=h[f+2];if(!m)return v;if(m.type==="ContentStatement")return(w||!v?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(m.original)}s(l,"OW");function u(h,f,v){var m=h[f==null?0:f+1];if(!(!m||m.type!=="ContentStatement"||!v&&m.rightStripped)){var w=m.value;m.value=m.value.replace(v?/^\s+/:/^[ \t]*\r?\n?/,""),m.rightStripped=m.value!==w}}s(u,"S_");function c(h,f,v){var m=h[f==null?h.length-1:f-1];if(!(!m||m.type!=="ContentStatement"||!v&&m.leftStripped)){var w=m.value;return m.value=m.value.replace(v?/\s+$/:/[ \t]+$/,""),m.leftStripped=m.value!==w,m.leftStripped}}s(c,"oK"),e.default=o,t.exports=e.default}),xU=ft(e=>{e.__esModule=!0,e.SourceLocation=o,e.id=a,e.stripFlags=l,e.stripComment=u,e.preparePath=c,e.prepareMustache=h,e.prepareRawBlock=f,e.prepareBlock=v,e.prepareProgram=m,e.preparePartialBlock=w;function t(_){return _&&_.__esModule?_:{default:_}}s(t,"Oc");var r=ts(),n=t(r);function i(_,A){if(A=A.path?A.path.original:A,_.path.original!==A){var M={loc:_.path.loc};throw new n.default(_.path.original+" doesn't match "+A,M)}}s(i,"vW");function o(_,A){this.source=_,this.start={line:A.first_line,column:A.first_column},this.end={line:A.last_line,column:A.last_column}}s(o,"vc");function a(_){return/^\[.*\]$/.test(_)?_.substring(1,_.length-1):_}s(a,"zc");function l(_,A){return{open:_.charAt(2)==="~",close:A.charAt(A.length-3)==="~"}}s(l,"Wc");function u(_){return _.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}s(u,"Hc");function c(_,A,M){M=this.locInfo(M);for(var I=_?"@":"",R=[],L=0,P=0,F=A.length;P<F;P++){var Z=A[P].part,G=A[P].original!==Z;if(I+=(A[P].separator||"")+Z,!G&&(Z===".."||Z==="."||Z==="this")){if(R.length>0)throw new n.default("Invalid path: "+I,{loc:M});Z===".."&&L++}else R.push(Z)}return{type:"PathExpression",data:_,depth:L,parts:R,original:I,loc:M}}s(c,"Jc");function h(_,A,M,I,R,L){var P=I.charAt(3)||I.charAt(2),F=P!=="{"&&P!=="&",Z=/\*/.test(I);return{type:Z?"Decorator":"MustacheStatement",path:_,params:A,hash:M,escaped:F,strip:R,loc:this.locInfo(L)}}s(h,"Tc");function f(_,A,M,I){i(_,M),I=this.locInfo(I);var R={type:"Program",body:A,strip:{},loc:I};return{type:"BlockStatement",path:_.path,params:_.params,hash:_.hash,program:R,openStrip:{},inverseStrip:{},closeStrip:{},loc:I}}s(f,"wc");function v(_,A,M,I,R,L){I&&I.path&&i(_,I);var P=/\*/.test(_.open);A.blockParams=_.blockParams;var F=void 0,Z=void 0;if(M){if(P)throw new n.default("Unexpected inverse block on decorator",M);M.chain&&(M.program.body[0].closeStrip=I.strip),Z=M.strip,F=M.program}return R&&(R=F,F=A,A=R),{type:P?"DecoratorBlock":"BlockStatement",path:_.path,params:_.params,hash:_.hash,program:A,inverse:F,openStrip:_.strip,inverseStrip:Z,closeStrip:I&&I.strip,loc:this.locInfo(L)}}s(v,"Zc");function m(_,A){if(!A&&_.length){var M=_[0].loc,I=_[_.length-1].loc;M&&I&&(A={source:M.source,start:{line:M.start.line,column:M.start.column},end:{line:I.end.line,column:I.end.column}})}return{type:"Program",body:_,strip:{},loc:A}}s(m,"fc");function w(_,A,M,I){return i(_,M),{type:"PartialBlockStatement",name:_.path,params:_.params,hash:_.hash,program:A,openStrip:_.strip,closeStrip:M&&M.strip,loc:this.locInfo(I)}}s(w,"Xc")}),_U=ft(e=>{e.__esModule=!0,e.parseWithoutProcessing=f,e.parse=v;function t(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(w[_]=m[_]);return w.default=m,w}s(t,"Dc");function r(m){return m&&m.__esModule?m:{default:m}}s(r,"GG");var n=yU(),i=r(n),o=wU(),a=r(o),l=xU(),u=t(l),c=ti();e.parser=i.default;var h={};c.extend(h,u);function f(m,w){if(m.type==="Program")return m;i.default.yy=h,h.locInfo=function(A){return new h.SourceLocation(w&&w.srcName,A)};var _=i.default.parse(m);return _}s(f,"VG");function v(m,w){var _=f(m,w),A=new a.default(w);return A.accept(_)}s(v,"cc")}),EU=ft(e=>{e.__esModule=!0,e.Compiler=u,e.precompile=c,e.compile=h;function t(m){return m&&m.__esModule?m:{default:m}}s(t,"NG");var r=ts(),n=t(r),i=ti(),o=l9(),a=t(o),l=[].slice;function u(){}s(u,"WW"),u.prototype={compiler:u,equals:s(function(m){var w=this.opcodes.length;if(m.opcodes.length!==w)return!1;for(var _=0;_<w;_++){var A=this.opcodes[_],M=m.opcodes[_];if(A.opcode!==M.opcode||!f(A.args,M.args))return!1}w=this.children.length;for(var _=0;_<w;_++)if(!this.children[_].equals(m.children[_]))return!1;return!0},"equals"),guid:0,compile:s(function(m,w){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=w,this.stringParams=w.stringParams,this.trackIds=w.trackIds,w.blockParams=w.blockParams||[],w.knownHelpers=i.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},w.knownHelpers),this.accept(m)},"compile"),compileProgram:s(function(m){var w=new this.compiler,_=w.compile(m,this.options),A=this.guid++;return this.usePartial=this.usePartial||_.usePartial,this.children[A]=_,this.useDepths=this.useDepths||_.useDepths,A},"compileProgram"),accept:s(function(m){if(!this[m.type])throw new n.default("Unknown type: "+m.type,m);this.sourceNode.unshift(m);var w=this[m.type](m);return this.sourceNode.shift(),w},"accept"),Program:s(function(m){this.options.blockParams.unshift(m.blockParams);for(var w=m.body,_=w.length,A=0;A<_;A++)this.accept(w[A]);return this.options.blockParams.shift(),this.isSimple=_===1,this.blockParams=m.blockParams?m.blockParams.length:0,this},"Program"),BlockStatement:s(function(m){v(m);var{program:w,inverse:_}=m;w=w&&this.compileProgram(w),_=_&&this.compileProgram(_);var A=this.classifySexpr(m);A==="helper"?this.helperSexpr(m,w,_):A==="simple"?(this.simpleSexpr(m),this.opcode("pushProgram",w),this.opcode("pushProgram",_),this.opcode("emptyHash"),this.opcode("blockValue",m.path.original)):(this.ambiguousSexpr(m,w,_),this.opcode("pushProgram",w),this.opcode("pushProgram",_),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},"BlockStatement"),DecoratorBlock:s(function(m){var w=m.program&&this.compileProgram(m.program),_=this.setupFullMustacheParams(m,w,void 0),A=m.path;this.useDecorators=!0,this.opcode("registerDecorator",_.length,A.original)},"DecoratorBlock"),PartialStatement:s(function(m){this.usePartial=!0;var w=m.program;w&&(w=this.compileProgram(m.program));var _=m.params;if(_.length>1)throw new n.default("Unsupported number of partial arguments: "+_.length,m);_.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):_.push({type:"PathExpression",parts:[],depth:0}));var A=m.name.original,M=m.name.type==="SubExpression";M&&this.accept(m.name),this.setupFullMustacheParams(m,w,void 0,!0);var I=m.indent||"";this.options.preventIndent&&I&&(this.opcode("appendContent",I),I=""),this.opcode("invokePartial",M,A,I),this.opcode("append")},"PartialStatement"),PartialBlockStatement:s(function(m){this.PartialStatement(m)},"PartialBlockStatement"),MustacheStatement:s(function(m){this.SubExpression(m),m.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},"MustacheStatement"),Decorator:s(function(m){this.DecoratorBlock(m)},"Decorator"),ContentStatement:s(function(m){m.value&&this.opcode("appendContent",m.value)},"ContentStatement"),CommentStatement:s(function(){},"CommentStatement"),SubExpression:s(function(m){v(m);var w=this.classifySexpr(m);w==="simple"?this.simpleSexpr(m):w==="helper"?this.helperSexpr(m):this.ambiguousSexpr(m)},"SubExpression"),ambiguousSexpr:s(function(m,w,_){var A=m.path,M=A.parts[0],I=w!=null||_!=null;this.opcode("getContext",A.depth),this.opcode("pushProgram",w),this.opcode("pushProgram",_),A.strict=!0,this.accept(A),this.opcode("invokeAmbiguous",M,I)},"ambiguousSexpr"),simpleSexpr:s(function(m){var w=m.path;w.strict=!0,this.accept(w),this.opcode("resolvePossibleLambda")},"simpleSexpr"),helperSexpr:s(function(m,w,_){var A=this.setupFullMustacheParams(m,w,_),M=m.path,I=M.parts[0];if(this.options.knownHelpers[I])this.opcode("invokeKnownHelper",A.length,I);else{if(this.options.knownHelpersOnly)throw new n.default("You specified knownHelpersOnly, but used the unknown helper "+I,m);M.strict=!0,M.falsy=!0,this.accept(M),this.opcode("invokeHelper",A.length,M.original,a.default.helpers.simpleId(M))}},"helperSexpr"),PathExpression:s(function(m){this.addDepth(m.depth),this.opcode("getContext",m.depth);var w=m.parts[0],_=a.default.helpers.scopedId(m),A=!m.depth&&!_&&this.blockParamIndex(w);A?this.opcode("lookupBlockParam",A,m.parts):w?m.data?(this.options.data=!0,this.opcode("lookupData",m.depth,m.parts,m.strict)):this.opcode("lookupOnContext",m.parts,m.falsy,m.strict,_):this.opcode("pushContext")},"PathExpression"),StringLiteral:s(function(m){this.opcode("pushString",m.value)},"StringLiteral"),NumberLiteral:s(function(m){this.opcode("pushLiteral",m.value)},"NumberLiteral"),BooleanLiteral:s(function(m){this.opcode("pushLiteral",m.value)},"BooleanLiteral"),UndefinedLiteral:s(function(){this.opcode("pushLiteral","undefined")},"UndefinedLiteral"),NullLiteral:s(function(){this.opcode("pushLiteral","null")},"NullLiteral"),Hash:s(function(m){var w=m.pairs,_=0,A=w.length;for(this.opcode("pushHash");_<A;_++)this.pushParam(w[_].value);for(;_--;)this.opcode("assignToHash",w[_].key);this.opcode("popHash")},"Hash"),opcode:s(function(m){this.opcodes.push({opcode:m,args:l.call(arguments,1),loc:this.sourceNode[0].loc})},"opcode"),addDepth:s(function(m){m&&(this.useDepths=!0)},"addDepth"),classifySexpr:s(function(m){var w=a.default.helpers.simpleId(m.path),_=w&&!!this.blockParamIndex(m.path.parts[0]),A=!_&&a.default.helpers.helperExpression(m),M=!_&&(A||w);if(M&&!A){var I=m.path.parts[0],R=this.options;R.knownHelpers[I]?A=!0:R.knownHelpersOnly&&(M=!1)}return A?"helper":M?"ambiguous":"simple"},"classifySexpr"),pushParams:s(function(m){for(var w=0,_=m.length;w<_;w++)this.pushParam(m[w])},"pushParams"),pushParam:s(function(m){var w=m.value!=null?m.value:m.original||"";if(this.stringParams)w.replace&&(w=w.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),m.depth&&this.addDepth(m.depth),this.opcode("getContext",m.depth||0),this.opcode("pushStringParam",w,m.type),m.type==="SubExpression"&&this.accept(m);else{if(this.trackIds){var _=void 0;if(m.parts&&!a.default.helpers.scopedId(m)&&!m.depth&&(_=this.blockParamIndex(m.parts[0])),_){var A=m.parts.slice(1).join(".");this.opcode("pushId","BlockParam",_,A)}else w=m.original||w,w.replace&&(w=w.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",m.type,w)}this.accept(m)}},"pushParam"),setupFullMustacheParams:s(function(m,w,_,A){var M=m.params;return this.pushParams(M),this.opcode("pushProgram",w),this.opcode("pushProgram",_),m.hash?this.accept(m.hash):this.opcode("emptyHash",A),M},"setupFullMustacheParams"),blockParamIndex:s(function(m){for(var w=0,_=this.options.blockParams.length;w<_;w++){var A=this.options.blockParams[w],M=A&&i.indexOf(A,m);if(A&&M>=0)return[w,M]}},"blockParamIndex")};function c(m,w,_){if(m==null||typeof m!="string"&&m.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+m);w=w||{},!("data"in w)&&(w.data=!0),w.compat&&(w.useDepths=!0);var A=_.parse(m,w),M=new _.Compiler().compile(A,w);return new _.JavaScriptCompiler().compile(M,w)}s(c,"Bc");function h(m,w,_){if(w===void 0&&(w={}),m==null||typeof m!="string"&&m.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+m);w=i.extend({},w),!("data"in w)&&(w.data=!0),w.compat&&(w.useDepths=!0);var A=void 0;function M(){var R=_.parse(m,w),L=new _.Compiler().compile(R,w),P=new _.JavaScriptCompiler().compile(L,w,void 0,!0);return _.template(P)}s(M,"_");function I(R,L){return A||(A=M()),A.call(this,R,L)}return s(I,"O"),I._setup=function(R){return A||(A=M()),A._setup(R)},I._child=function(R,L,P,F){return A||(A=M()),A._child(R,L,P,F)},I}s(h,"tc");function f(m,w){if(m===w)return!0;if(i.isArray(m)&&i.isArray(w)&&m.length===w.length){for(var _=0;_<m.length;_++)if(!f(m[_],w[_]))return!1;return!0}}s(f,"CG");function v(m){if(!m.path.parts){var w=m.path;m.path={type:"PathExpression",data:!1,depth:0,parts:[w.original+""],original:w.original+"",loc:w.loc}}}s(v,"MG")}),SU=ft(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,i=90,o=97,a=122,l=48,u=57,c=43,h=47,f=26,v=52;return n<=r&&r<=i?r-n:o<=r&&r<=a?r-o+f:l<=r&&r<=u?r-l+v:r==c?62:r==h?63:-1}}),u9=ft(e=>{var t=SU(),r=5,n=1<<r,i=n-1,o=n;function a(u){return u<0?(-u<<1)+1:(u<<1)+0}s(a,"Kp");function l(u){var c=(u&1)===1,h=u>>1;return c?-h:h}s(l,"_p"),e.encode=function(u){var c="",h,f=a(u);do h=f&i,f>>>=r,f>0&&(h|=o),c+=t.encode(h);while(f>0);return c},e.decode=function(u,c,h){var f=u.length,v=0,m=0,w,_;do{if(c>=f)throw Error("Expected more digits in base 64 VLQ value.");if(_=t.decode(u.charCodeAt(c++)),_===-1)throw Error("Invalid base64 digit: "+u.charAt(c-1));w=!!(_&o),_&=i,v=v+(_<<m),m+=r}while(w);h.value=l(v),h.rest=c}}),sd=ft(e=>{function t(L,P,F){if(P in L)return L[P];if(arguments.length===3)return F;throw Error('"'+P+'" is a required argument.')}s(t,"Yp"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(L){var P=L.match(r);return P?{scheme:P[1],auth:P[2],host:P[3],port:P[4],path:P[5]}:null}s(i,"C7"),e.urlParse=i;function o(L){var P="";return L.scheme&&(P+=L.scheme+":"),P+="//",L.auth&&(P+=L.auth+"@"),L.host&&(P+=L.host),L.port&&(P+=":"+L.port),L.path&&(P+=L.path),P}s(o,"M4"),e.urlGenerate=o;function a(L){var P=L,F=i(L);if(F){if(!F.path)return L;P=F.path}for(var Z=e.isAbsolute(P),G=P.split(/\/+/),se,U=0,X=G.length-1;X>=0;X--)se=G[X],se==="."?G.splice(X,1):se===".."?U++:U>0&&(se===""?(G.splice(X+1,U),U=0):(G.splice(X,2),U--));return P=G.join("/"),P===""&&(P=Z?"/":"."),F?(F.path=P,o(F)):P}s(a,"TW"),e.normalize=a;function l(L,P){L===""&&(L="."),P===""&&(P=".");var F=i(P),Z=i(L);if(Z&&(L=Z.path||"/"),F&&!F.scheme)return Z&&(F.scheme=Z.scheme),o(F);if(F||P.match(n))return P;if(Z&&!Z.host&&!Z.path)return Z.host=P,o(Z);var G=P.charAt(0)==="/"?P:a(L.replace(/\/+$/,"")+"/"+P);return Z?(Z.path=G,o(Z)):G}s(l,"yG"),e.join=l,e.isAbsolute=function(L){return L.charAt(0)==="/"||r.test(L)};function u(L,P){L===""&&(L="."),L=L.replace(/\/$/,"");for(var F=0;P.indexOf(L+"/")!==0;){var Z=L.lastIndexOf("/");if(Z<0||(L=L.slice(0,Z),L.match(/^([^\/]+:\/)?\/*$/)))return P;++F}return Array(F+1).join("../")+P.substr(L.length+1)}s(u,"zp"),e.relative=u;var c=(function(){var L=Object.create(null);return!("__proto__"in L)})();function h(L){return L}s(h,"xG");function f(L){return m(L)?"$"+L:L}s(f,"Wp"),e.toSetString=c?h:f;function v(L){return m(L)?L.slice(1):L}s(v,"Hp"),e.fromSetString=c?h:v;function m(L){if(!L)return!1;var P=L.length;if(P<9||L.charCodeAt(P-1)!==95||L.charCodeAt(P-2)!==95||L.charCodeAt(P-3)!==111||L.charCodeAt(P-4)!==116||L.charCodeAt(P-5)!==111||L.charCodeAt(P-6)!==114||L.charCodeAt(P-7)!==112||L.charCodeAt(P-8)!==95||L.charCodeAt(P-9)!==95)return!1;for(var F=P-10;F>=0;F--)if(L.charCodeAt(F)!==36)return!1;return!0}s(m,"cG");function w(L,P,F){var Z=A(L.source,P.source);return Z!==0||(Z=L.originalLine-P.originalLine,Z!==0)||(Z=L.originalColumn-P.originalColumn,Z!==0||F)||(Z=L.generatedColumn-P.generatedColumn,Z!==0)||(Z=L.generatedLine-P.generatedLine,Z!==0)?Z:A(L.name,P.name)}s(w,"Jp"),e.compareByOriginalPositions=w;function _(L,P,F){var Z=L.generatedLine-P.generatedLine;return Z!==0||(Z=L.generatedColumn-P.generatedColumn,Z!==0||F)||(Z=A(L.source,P.source),Z!==0)||(Z=L.originalLine-P.originalLine,Z!==0)||(Z=L.originalColumn-P.originalColumn,Z!==0)?Z:A(L.name,P.name)}s(_,"Tp"),e.compareByGeneratedPositionsDeflated=_;function A(L,P){return L===P?0:L===null?1:P===null?-1:L>P?1:-1}s(A,"N4");function M(L,P){var F=L.generatedLine-P.generatedLine;return F!==0||(F=L.generatedColumn-P.generatedColumn,F!==0)||(F=A(L.source,P.source),F!==0)||(F=L.originalLine-P.originalLine,F!==0)||(F=L.originalColumn-P.originalColumn,F!==0)?F:A(L.name,P.name)}s(M,"wp"),e.compareByGeneratedPositionsInflated=M;function I(L){return JSON.parse(L.replace(/^\)]}'[^\n]*\n/,""))}s(I,"Zp"),e.parseSourceMapInput=I;function R(L,P,F){if(P=P||"",L&&(L[L.length-1]!=="/"&&P[0]!=="/"&&(L+="/"),P=L+P),F){var Z=i(F);if(!Z)throw Error("sourceMapURL could not be parsed");if(Z.path){var G=Z.path.lastIndexOf("/");G>=0&&(Z.path=Z.path.substring(0,G+1))}P=l(o(Z),P)}return a(P)}s(R,"fp"),e.computeSourceURL=R}),c9=ft(e=>{var t=sd(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}s(i,"ZK"),i.fromArray=function(o,a){for(var l=new i,u=0,c=o.length;u<c;u++)l.add(o[u],a);return l},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(o,a){var l=n?o:t.toSetString(o),u=n?this.has(o):r.call(this._set,l),c=this._array.length;(!u||a)&&this._array.push(o),u||(n?this._set.set(o,c):this._set[l]=c)},i.prototype.has=function(o){if(n)return this._set.has(o);var a=t.toSetString(o);return r.call(this._set,a)},i.prototype.indexOf=function(o){if(n){var a=this._set.get(o);if(a>=0)return a}else{var l=t.toSetString(o);if(r.call(this._set,l))return this._set[l]}throw Error('"'+o+'" is not in the set.')},i.prototype.at=function(o){if(o>=0&&o<this._array.length)return this._array[o];throw Error("No element indexed by "+o)},i.prototype.toArray=function(){return this._array.slice()},e.ArraySet=i}),kU=ft(e=>{var t=sd();function r(i,o){var a=i.generatedLine,l=o.generatedLine,u=i.generatedColumn,c=o.generatedColumn;return l>a||l==a&&c>=u||t.compareByGeneratedPositionsInflated(i,o)<=0}s(r,"yp");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s(n,"Ej"),n.prototype.unsortedForEach=function(i,o){this._array.forEach(i,o)},n.prototype.add=function(i){r(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},e.MappingList=n}),d9=ft(e=>{var t=u9(),r=sd(),n=c9().ArraySet,i=kU().MappingList;function o(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}s(o,"Z8"),o.prototype._version=3,o.fromSourceMap=function(a){var l=a.sourceRoot,u=new o({file:a.file,sourceRoot:l});return a.eachMapping(function(c){var h={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(h.source=c.source,l!=null&&(h.source=r.relative(l,h.source)),h.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(h.name=c.name)),u.addMapping(h)}),a.sources.forEach(function(c){var h=c;l!==null&&(h=r.relative(l,c)),u._sources.has(h)||u._sources.add(h);var f=a.sourceContentFor(c);f!=null&&u.setSourceContent(c,f)}),u},o.prototype.addMapping=function(a){var l=r.getArg(a,"generated"),u=r.getArg(a,"original",null),c=r.getArg(a,"source",null),h=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(l,u,c,h),c!=null&&(c=String(c),!this._sources.has(c)&&this._sources.add(c)),h!=null&&(h=String(h),!this._names.has(h)&&this._names.add(h)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:c,name:h})},o.prototype.setSourceContent=function(a,l){var u=a;this._sourceRoot!=null&&(u=r.relative(this._sourceRoot,u)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(u)]=l):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(a,l,u){var c=l;if(l==null){if(a.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=a.file}var h=this._sourceRoot;h!=null&&(c=r.relative(h,c));var f=new n,v=new n;this._mappings.unsortedForEach(function(m){if(m.source===c&&m.originalLine!=null){var w=a.originalPositionFor({line:m.originalLine,column:m.originalColumn});w.source!=null&&(m.source=w.source,u!=null&&(m.source=r.join(u,m.source)),h!=null&&(m.source=r.relative(h,m.source)),m.originalLine=w.line,m.originalColumn=w.column,w.name!=null&&(m.name=w.name))}var _=m.source;_!=null&&!f.has(_)&&f.add(_);var A=m.name;A!=null&&!v.has(A)&&v.add(A)},this),this._sources=f,this._names=v,a.sources.forEach(function(m){var w=a.sourceContentFor(m);w!=null&&(u!=null&&(m=r.join(u,m)),h!=null&&(m=r.relative(h,m)),this.setSourceContent(m,w))},this)},o.prototype._validateMapping=function(a,l,u,c){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!l&&!u&&!c)){if(a&&"line"in a&&"column"in a&&l&&"line"in l&&"column"in l&&a.line>0&&a.column>=0&&l.line>0&&l.column>=0&&u)return;throw Error("Invalid mapping: "+JSON.stringify({generated:a,source:u,original:l,name:c}))}},o.prototype._serializeMappings=function(){for(var a=0,l=1,u=0,c=0,h=0,f=0,v="",m,w,_,A,M=this._mappings.toArray(),I=0,R=M.length;I<R;I++){if(w=M[I],m="",w.generatedLine!==l)for(a=0;w.generatedLine!==l;)m+=";",l++;else if(I>0){if(!r.compareByGeneratedPositionsInflated(w,M[I-1]))continue;m+=","}m+=t.encode(w.generatedColumn-a),a=w.generatedColumn,w.source!=null&&(A=this._sources.indexOf(w.source),m+=t.encode(A-f),f=A,m+=t.encode(w.originalLine-1-c),c=w.originalLine-1,m+=t.encode(w.originalColumn-u),u=w.originalColumn,w.name!=null&&(_=this._names.indexOf(w.name),m+=t.encode(_-h),h=_)),v+=m}return v},o.prototype._generateSourcesContent=function(a,l){return a.map(function(u){if(!this._sourcesContents)return null;l!=null&&(u=r.relative(l,u));var c=r.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},o.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.SourceMapGenerator=o}),TU=ft(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,i,o,a,l){var u=Math.floor((n-r)/2)+r,c=a(i,o[u],!0);return c===0?u:c>0?n-u>1?t(u,n,i,o,a,l):l==e.LEAST_UPPER_BOUND?n<o.length?n:-1:u:u-r>1?t(r,u,i,o,a,l):l==e.LEAST_UPPER_BOUND?u:r<0?-1:r}s(t,"kW"),e.search=function(r,n,i,o){if(n.length===0)return-1;var a=t(-1,n.length,r,n,i,o||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&i(n[a],n[a-1],!0)===0;)--a;return a}}),AU=ft(e=>{function t(i,o,a){var l=i[o];i[o]=i[a],i[a]=l}s(t,"GW");function r(i,o){return Math.round(i+Math.random()*(o-i))}s(r,"rp");function n(i,o,a,l){if(a<l){var u=r(a,l),c=a-1;t(i,u,l);for(var h=i[l],f=a;f<l;f++)o(i[f],h)<=0&&(c+=1,t(i,c,f));t(i,c+1,f);var v=c+1;n(i,o,a,v-1),n(i,o,v+1,l)}}s(n,"VW"),e.quickSort=function(i,o){n(i,o,0,i.length-1)}}),NU=ft(e=>{var t=sd(),r=TU(),n=c9().ArraySet,i=u9(),o=AU().quickSort;function a(h,f){var v=h;return typeof h=="string"&&(v=t.parseSourceMapInput(h)),v.sections!=null?new c(v,f):new l(v,f)}s(a,"E6"),a.fromSourceMap=function(h,f){return l.fromSourceMap(h,f)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:s(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:s(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")}),a.prototype._charIsMappingSeparator=function(h,f){var v=h.charAt(f);return v===";"||v===","},a.prototype._parseMappings=function(h,f){throw Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(h,f,v){var m=f||null,w=v||a.GENERATED_ORDER,_;switch(w){case a.GENERATED_ORDER:_=this._generatedMappings;break;case a.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var A=this.sourceRoot;_.map(function(M){var I=M.source===null?null:this._sources.at(M.source);return I=t.computeSourceURL(A,I,this._sourceMapURL),{source:I,generatedLine:M.generatedLine,generatedColumn:M.generatedColumn,originalLine:M.originalLine,originalColumn:M.originalColumn,name:M.name===null?null:this._names.at(M.name)}},this).forEach(h,m)},a.prototype.allGeneratedPositionsFor=function(h){var f=t.getArg(h,"line"),v={source:t.getArg(h,"source"),originalLine:f,originalColumn:t.getArg(h,"column",0)};if(v.source=this._findSourceIndex(v.source),v.source<0)return[];var m=[],w=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(w>=0){var _=this._originalMappings[w];if(h.column===void 0)for(var A=_.originalLine;_&&_.originalLine===A;)m.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++w];else for(var M=_.originalColumn;_&&_.originalLine===f&&_.originalColumn==M;)m.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++w]}return m},e.SourceMapConsumer=a;function l(h,f){var v=h;typeof h=="string"&&(v=t.parseSourceMapInput(h));var m=t.getArg(v,"version"),w=t.getArg(v,"sources"),_=t.getArg(v,"names",[]),A=t.getArg(v,"sourceRoot",null),M=t.getArg(v,"sourcesContent",null),I=t.getArg(v,"mappings"),R=t.getArg(v,"file",null);if(m!=this._version)throw Error("Unsupported version: "+m);A&&(A=t.normalize(A)),w=w.map(String).map(t.normalize).map(function(L){return A&&t.isAbsolute(A)&&t.isAbsolute(L)?t.relative(A,L):L}),this._names=n.fromArray(_.map(String),!0),this._sources=n.fromArray(w,!0),this._absoluteSources=this._sources.toArray().map(function(L){return t.computeSourceURL(A,L,f)}),this.sourceRoot=A,this.sourcesContent=M,this._mappings=I,this._sourceMapURL=f,this.file=R}s(l,"Aq"),l.prototype=Object.create(a.prototype),l.prototype.consumer=a,l.prototype._findSourceIndex=function(h){var f=h;if(this.sourceRoot!=null&&(f=t.relative(this.sourceRoot,f)),this._sources.has(f))return this._sources.indexOf(f);var v;for(v=0;v<this._absoluteSources.length;++v)if(this._absoluteSources[v]==h)return v;return-1},l.fromSourceMap=function(h,f){var v=Object.create(l.prototype),m=v._names=n.fromArray(h._names.toArray(),!0),w=v._sources=n.fromArray(h._sources.toArray(),!0);v.sourceRoot=h._sourceRoot,v.sourcesContent=h._generateSourcesContent(v._sources.toArray(),v.sourceRoot),v.file=h._file,v._sourceMapURL=f,v._absoluteSources=v._sources.toArray().map(function(F){return t.computeSourceURL(v.sourceRoot,F,f)});for(var _=h._mappings.toArray().slice(),A=v.__generatedMappings=[],M=v.__originalMappings=[],I=0,R=_.length;I<R;I++){var L=_[I],P=new u;P.generatedLine=L.generatedLine,P.generatedColumn=L.generatedColumn,L.source&&(P.source=w.indexOf(L.source),P.originalLine=L.originalLine,P.originalColumn=L.originalColumn,L.name&&(P.name=m.indexOf(L.name)),M.push(P)),A.push(P)}return o(v.__originalMappings,t.compareByOriginalPositions),v},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:s(function(){return this._absoluteSources.slice()},"get")});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s(u,"oG"),l.prototype._parseMappings=function(h,f){for(var v=1,m=0,w=0,_=0,A=0,M=0,I=h.length,R=0,L={},P={},F=[],Z=[],G,se,U,X,d;R<I;)if(h.charAt(R)===";")v++,R++,m=0;else if(h.charAt(R)===",")R++;else{for(G=new u,G.generatedLine=v,X=R;X<I&&!this._charIsMappingSeparator(h,X);X++);if(se=h.slice(R,X),U=L[se],U)R+=se.length;else{for(U=[];R<X;)i.decode(h,R,P),d=P.value,R=P.rest,U.push(d);if(U.length===2)throw Error("Found a source, but no line and column");if(U.length===3)throw Error("Found a source and line, but no column");L[se]=U}G.generatedColumn=m+U[0],m=G.generatedColumn,U.length>1&&(G.source=A+U[1],A+=U[1],G.originalLine=w+U[2],w=G.originalLine,G.originalLine+=1,G.originalColumn=_+U[3],_=G.originalColumn,U.length>4&&(G.name=M+U[4],M+=U[4])),Z.push(G),typeof G.originalLine=="number"&&F.push(G)}o(Z,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=Z,o(F,t.compareByOriginalPositions),this.__originalMappings=F},l.prototype._findMapping=function(h,f,v,m,w,_){if(h[v]<=0)throw TypeError("Line must be greater than or equal to 1, got "+h[v]);if(h[m]<0)throw TypeError("Column must be greater than or equal to 0, got "+h[m]);return r.search(h,f,w,_)},l.prototype.computeColumnSpans=function(){for(var h=0;h<this._generatedMappings.length;++h){var f=this._generatedMappings[h];if(h+1<this._generatedMappings.length){var v=this._generatedMappings[h+1];if(f.generatedLine===v.generatedLine){f.lastGeneratedColumn=v.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(h){var f={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},v=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(h,"bias",a.GREATEST_LOWER_BOUND));if(v>=0){var m=this._generatedMappings[v];if(m.generatedLine===f.generatedLine){var w=t.getArg(m,"source",null);w!==null&&(w=this._sources.at(w),w=t.computeSourceURL(this.sourceRoot,w,this._sourceMapURL));var _=t.getArg(m,"name",null);return _!==null&&(_=this._names.at(_)),{source:w,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(h){return h==null}):!1},l.prototype.sourceContentFor=function(h,f){if(!this.sourcesContent)return null;var v=this._findSourceIndex(h);if(v>=0)return this.sourcesContent[v];var m=h;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var w;if(this.sourceRoot!=null&&(w=t.urlParse(this.sourceRoot))){var _=m.replace(/^file:\/\//,"");if(w.scheme=="file"&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!w.path||w.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(f)return null;throw Error('"'+m+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(h){var f=t.getArg(h,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var v={source:f,originalLine:t.getArg(h,"line"),originalColumn:t.getArg(h,"column")},m=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(h,"bias",a.GREATEST_LOWER_BOUND));if(m>=0){var w=this._originalMappings[m];if(w.source===v.source)return{line:t.getArg(w,"generatedLine",null),column:t.getArg(w,"generatedColumn",null),lastColumn:t.getArg(w,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=l;function c(h,f){var v=h;typeof h=="string"&&(v=t.parseSourceMapInput(h));var m=t.getArg(v,"version"),w=t.getArg(v,"sections");if(m!=this._version)throw Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var _={line:-1,column:0};this._sections=w.map(function(A){if(A.url)throw Error("Support for url field in sections not implemented.");var M=t.getArg(A,"offset"),I=t.getArg(M,"line"),R=t.getArg(M,"column");if(I<_.line||I===_.line&&R<_.column)throw Error("Section offsets must be ordered and non-overlapping.");return _=M,{generatedOffset:{generatedLine:I+1,generatedColumn:R+1},consumer:new a(t.getArg(A,"map"),f)}})}s(c,"R8"),c.prototype=Object.create(a.prototype),c.prototype.constructor=a,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:s(function(){for(var h=[],f=0;f<this._sections.length;f++)for(var v=0;v<this._sections[f].consumer.sources.length;v++)h.push(this._sections[f].consumer.sources[v]);return h},"get")}),c.prototype.originalPositionFor=function(h){var f={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},v=r.search(f,this._sections,function(w,_){var A=w.generatedLine-_.generatedOffset.generatedLine;return A||w.generatedColumn-_.generatedOffset.generatedColumn}),m=this._sections[v];return m?m.consumer.originalPositionFor({line:f.generatedLine-(m.generatedOffset.generatedLine-1),column:f.generatedColumn-(m.generatedOffset.generatedLine===f.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(h){return h.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(h,f){for(var v=0;v<this._sections.length;v++){var m=this._sections[v],w=m.consumer.sourceContentFor(h,!0);if(w)return w}if(f)return null;throw Error('"'+h+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(h){for(var f=0;f<this._sections.length;f++){var v=this._sections[f];if(v.consumer._findSourceIndex(t.getArg(h,"source"))!==-1){var m=v.consumer.generatedPositionFor(h);if(m){var w={line:m.line+(v.generatedOffset.generatedLine-1),column:m.column+(v.generatedOffset.generatedLine===m.line?v.generatedOffset.generatedColumn-1:0)};return w}}}return{line:null,column:null}},c.prototype._parseMappings=function(h,f){this.__generatedMappings=[],this.__originalMappings=[];for(var v=0;v<this._sections.length;v++)for(var m=this._sections[v],w=m.consumer._generatedMappings,_=0;_<w.length;_++){var A=w[_],M=m.consumer._sources.at(A.source);M=t.computeSourceURL(m.consumer.sourceRoot,M,this._sourceMapURL),this._sources.add(M),M=this._sources.indexOf(M);var I=null;A.name&&(I=m.consumer._names.at(A.name),this._names.add(I),I=this._names.indexOf(I));var R={source:M,generatedLine:A.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(m.generatedOffset.generatedLine===A.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:I};this.__generatedMappings.push(R),typeof R.originalLine=="number"&&this.__originalMappings.push(R)}o(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),o(this.__originalMappings,t.compareByOriginalPositions)},e.IndexedSourceMapConsumer=c}),CU=ft(e=>{var t=d9().SourceMapGenerator,r=sd(),n=/(\r?\n)/,i=10,o="$$$isSourceNode$$$";function a(l,u,c,h,f){this.children=[],this.sourceContents={},this.line=l??null,this.column=u??null,this.source=c??null,this.name=f??null,this[o]=!0,h!=null&&this.add(h)}s(a,"K8"),a.fromStringWithSourceMap=function(l,u,c){var h=new a,f=l.split(n),v=0,m=s(function(){var I=L(),R=L()||"";return I+R;function L(){return v<f.length?f[v++]:void 0}},"z"),w=1,_=0,A=null;return u.eachMapping(function(I){if(A!==null)if(w<I.generatedLine)M(A,m()),w++,_=0;else{var R=f[v]||"",L=R.substr(0,I.generatedColumn-_);f[v]=R.substr(I.generatedColumn-_),_=I.generatedColumn,M(A,L),A=I;return}for(;w<I.generatedLine;)h.add(m()),w++;if(_<I.generatedColumn){var R=f[v]||"";h.add(R.substr(0,I.generatedColumn)),f[v]=R.substr(I.generatedColumn),_=I.generatedColumn}A=I},this),v<f.length&&(A&&M(A,m()),h.add(f.splice(v).join(""))),u.sources.forEach(function(I){var R=u.sourceContentFor(I);R!=null&&(c!=null&&(I=r.join(c,I)),h.setSourceContent(I,R))}),h;function M(I,R){if(I===null||I.source===void 0)h.add(R);else{var L=c?r.join(c,I.source):I.source;h.add(new a(I.originalLine,I.originalColumn,L,R,I.name))}}s(M,"X")},a.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(u){this.add(u)},this);else if(l[o]||typeof l=="string")l&&this.children.push(l);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},a.prototype.prepend=function(l){if(Array.isArray(l))for(var u=l.length-1;u>=0;u--)this.prepend(l[u]);else if(l[o]||typeof l=="string")this.children.unshift(l);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},a.prototype.walk=function(l){for(var u,c=0,h=this.children.length;c<h;c++)u=this.children[c],u[o]?u.walk(l):u!==""&&l(u,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(l){var u,c,h=this.children.length;if(h>0){for(u=[],c=0;c<h-1;c++)u.push(this.children[c]),u.push(l);u.push(this.children[c]),this.children=u}return this},a.prototype.replaceRight=function(l,u){var c=this.children[this.children.length-1];return c[o]?c.replaceRight(l,u):typeof c=="string"?this.children[this.children.length-1]=c.replace(l,u):this.children.push("".replace(l,u)),this},a.prototype.setSourceContent=function(l,u){this.sourceContents[r.toSetString(l)]=u},a.prototype.walkSourceContents=function(l){for(var u=0,c=this.children.length;u<c;u++)this.children[u][o]&&this.children[u].walkSourceContents(l);for(var h=Object.keys(this.sourceContents),u=0,c=h.length;u<c;u++)l(r.fromSetString(h[u]),this.sourceContents[h[u]])},a.prototype.toString=function(){var l="";return this.walk(function(u){l+=u}),l},a.prototype.toStringWithSourceMap=function(l){var u={code:"",line:1,column:0},c=new t(l),h=!1,f=null,v=null,m=null,w=null;return this.walk(function(_,A){u.code+=_,A.source!==null&&A.line!==null&&A.column!==null?((f!==A.source||v!==A.line||m!==A.column||w!==A.name)&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:u.line,column:u.column},name:A.name}),f=A.source,v=A.line,m=A.column,w=A.name,h=!0):h&&(c.addMapping({generated:{line:u.line,column:u.column}}),f=null,h=!1);for(var M=0,I=_.length;M<I;M++)_.charCodeAt(M)===i?(u.line++,u.column=0,M+1===I?(f=null,h=!1):h&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:u.line,column:u.column},name:A.name})):u.column++}),this.walkSourceContents(function(_,A){c.setSourceContent(_,A)}),{code:u.code,map:c}},e.SourceNode=a}),MU=ft(e=>{e.SourceMapGenerator=d9().SourceMapGenerator,e.SourceMapConsumer=NU().SourceMapConsumer,e.SourceNode=CU().SourceNode}),IU=ft((e,t)=>{e.__esModule=!0;var r=ti(),n=void 0;try{(typeof define!="function"||!define.amd)&&(i=MU(),n=i.SourceNode)}catch{}var i;n||(n=s(function(l,u,c,h){this.src="",h&&this.add(h)},"N_"),n.prototype={add:s(function(l){r.isArray(l)&&(l=l.join("")),this.src+=l},"add"),prepend:s(function(l){r.isArray(l)&&(l=l.join("")),this.src=l+this.src},"prepend"),toStringWithSourceMap:s(function(){return{code:this.toString()}},"toStringWithSourceMap"),toString:s(function(){return this.src},"toString")});function o(l,u,c){if(r.isArray(l)){for(var h=[],f=0,v=l.length;f<v;f++)h.push(u.wrap(l[f],c));return h}else if(typeof l=="boolean"||typeof l=="number")return l+"";return l}s(o,"MW");function a(l){this.srcFile=l,this.source=[]}s(a,"tG"),a.prototype={isEmpty:s(function(){return!this.source.length},"isEmpty"),prepend:s(function(l,u){this.source.unshift(this.wrap(l,u))},"prepend"),push:s(function(l,u){this.source.push(this.wrap(l,u))},"push"),merge:s(function(){var l=this.empty();return this.each(function(u){l.add(["  ",u,`
`])}),l},"merge"),each:s(function(l){for(var u=0,c=this.source.length;u<c;u++)l(this.source[u])},"each"),empty:s(function(){var l=this.currentLocation||{start:{}};return new n(l.start.line,l.start.column,this.srcFile)},"empty"),wrap:s(function(l){var u=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return l instanceof n?l:(l=o(l,this,u),new n(u.start.line,u.start.column,this.srcFile,l))},"wrap"),functionCall:s(function(l,u,c){return c=this.generateList(c),this.wrap([l,u?"."+u+"(":"(",c,")"])},"functionCall"),quotedString:s(function(l){return'"'+(l+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},"quotedString"),objectLiteral:s(function(l){var u=this,c=[];Object.keys(l).forEach(function(f){var v=o(l[f],u);v!=="undefined"&&c.push([u.quotedString(f),":",v])});var h=this.generateList(c);return h.prepend("{"),h.add("}"),h},"objectLiteral"),generateList:s(function(l){for(var u=this.empty(),c=0,h=l.length;c<h;c++)c&&u.add(","),u.add(o(l[c],this));return u},"generateList"),generateArray:s(function(l){var u=this.generateList(l);return u.prepend("["),u.add("]"),u},"generateArray")},e.default=a,t.exports=e.default}),OU=ft((e,t)=>{e.__esModule=!0;function r(v){return v&&v.__esModule?v:{default:v}}s(r,"sG");var n=Qb(),i=ts(),o=r(i),a=ti(),l=IU(),u=r(l);function c(v){this.value=v}s(c,"R4");function h(){}s(h,"I4"),h.prototype={nameLookup:s(function(v,m){return this.internalNameLookup(v,m)},"nameLookup"),depthedLookup:s(function(v){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(v),")"]},"depthedLookup"),compilerInfo:s(function(){var v=n.COMPILER_REVISION,m=n.REVISION_CHANGES[v];return[v,m]},"compilerInfo"),appendToBuffer:s(function(v,m,w){return a.isArray(v)||(v=[v]),v=this.source.wrap(v,m),this.environment.isSimple?["return ",v,";"]:w?["buffer += ",v,";"]:(v.appendToBuffer=!0,v)},"appendToBuffer"),initializeBuffer:s(function(){return this.quotedString("")},"initializeBuffer"),internalNameLookup:s(function(v,m){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",v,",",JSON.stringify(m),")"]},"internalNameLookup"),lookupPropertyFunctionIsUsed:!1,compile:s(function(v,m,w,_){this.environment=v,this.options=m,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!_,this.name=this.environment.name,this.isChild=!!w,this.context=w||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(v,m),this.useDepths=this.useDepths||v.useDepths||v.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||v.useBlockParams;var A=v.opcodes,M=void 0,I=void 0,R=void 0,L=void 0;for(R=0,L=A.length;R<L;R++)M=A[R],this.source.currentLocation=M.loc,I=I||M.loc,this[M.opcode].apply(this,M.args);if(this.source.currentLocation=I,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),_?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var P=this.createFunctionContext(_);if(this.isChild)return P;var F={compiler:this.compilerInfo(),main:P};this.decorators&&(F.main_d=this.decorators,F.useDecorators=!0);var Z=this.context,G=Z.programs,se=Z.decorators;for(R=0,L=G.length;R<L;R++)G[R]&&(F[R]=G[R],se[R]&&(F[R+"_d"]=se[R],F.useDecorators=!0));return this.environment.usePartial&&(F.usePartial=!0),this.options.data&&(F.useData=!0),this.useDepths&&(F.useDepths=!0),this.useBlockParams&&(F.useBlockParams=!0),this.options.compat&&(F.compat=!0),_?F.compilerOptions=this.options:(F.compiler=JSON.stringify(F.compiler),this.source.currentLocation={start:{line:1,column:0}},F=this.objectLiteral(F),m.srcName?(F=F.toStringWithSourceMap({file:m.destName}),F.map=F.map&&F.map.toString()):F=F.toString()),F},"compile"),preamble:s(function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},"preamble"),createFunctionContext:s(function(v){var m=this,w="",_=this.stackVars.concat(this.registers.list);_.length>0&&(w+=", "+_.join(", "));var A=0;Object.keys(this.aliases).forEach(function(R){var L=m.aliases[R];L.children&&L.referenceCount>1&&(w+=", alias"+ ++A+"="+R,L.children[0]="alias"+A)}),this.lookupPropertyFunctionIsUsed&&(w+=", "+this.lookupPropertyFunctionVarDeclaration());var M=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&M.push("blockParams"),this.useDepths&&M.push("depths");var I=this.mergeSource(w);return v?(M.push(I),Function.apply(this,M)):this.source.wrap(["function(",M.join(","),`) {
  `,I,"}"])},"createFunctionContext"),mergeSource:s(function(v){var m=this.environment.isSimple,w=!this.forceBuffer,_=void 0,A=void 0,M=void 0,I=void 0;return this.source.each(function(R){R.appendToBuffer?(M?R.prepend("  + "):M=R,I=R):(M&&(A?M.prepend("buffer += "):_=!0,I.add(";"),M=I=void 0),A=!0,!m&&(w=!1))}),w?M?(M.prepend("return "),I.add(";")):A||this.source.push('return "";'):(v+=", buffer = "+(_?"":this.initializeBuffer()),M?(M.prepend("return buffer + "),I.add(";")):this.source.push("return buffer;")),v&&this.source.prepend("var "+v.substring(2)+(_?"":`;
`)),this.source.merge()},"mergeSource"),lookupPropertyFunctionVarDeclaration:s(function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},"lookupPropertyFunctionVarDeclaration"),blockValue:s(function(v){var m=this.aliasable("container.hooks.blockHelperMissing"),w=[this.contextName(0)];this.setupHelperArgs(v,0,w);var _=this.popStack();w.splice(1,0,_),this.push(this.source.functionCall(m,"call",w))},"blockValue"),ambiguousBlockValue:s(function(){var v=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs("",0,m,!0),this.flushInline();var w=this.topStack();m.splice(1,0,w),this.pushSource(["if (!",this.lastHelper,") { ",w," = ",this.source.functionCall(v,"call",m),"}"])},"ambiguousBlockValue"),appendContent:s(function(v){this.pendingContent?v=this.pendingContent+v:this.pendingLocation=this.source.currentLocation,this.pendingContent=v},"appendContent"),append:s(function(){if(this.isInline())this.replaceStack(function(m){return[" != null ? ",m,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var v=this.popStack();this.pushSource(["if (",v," != null) { ",this.appendToBuffer(v,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},"append"),appendEscaped:s(function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},"appendEscaped"),getContext:s(function(v){this.lastContext=v},"getContext"),pushContext:s(function(){this.pushStackLiteral(this.contextName(this.lastContext))},"pushContext"),lookupOnContext:s(function(v,m,w,_){var A=0;!_&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(v[A++])):this.pushContext(),this.resolvePath("context",v,A,m,w)},"lookupOnContext"),lookupBlockParam:s(function(v,m){this.useBlockParams=!0,this.push(["blockParams[",v[0],"][",v[1],"]"]),this.resolvePath("context",m,1)},"lookupBlockParam"),lookupData:s(function(v,m,w){v?this.pushStackLiteral("container.data(data, "+v+")"):this.pushStackLiteral("data"),this.resolvePath("data",m,0,!0,w)},"lookupData"),resolvePath:s(function(v,m,w,_,A){var M=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&A,this,m,w,v));return}for(var I=m.length;w<I;w++)this.replaceStack(function(R){var L=M.nameLookup(R,m[w],v);return _?[" && ",L]:[" != null ? ",L," : ",R]})},"resolvePath"),resolvePossibleLambda:s(function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},"resolvePossibleLambda"),pushStringParam:s(function(v,m){this.pushContext(),this.pushString(m),m!=="SubExpression"&&(typeof v=="string"?this.pushString(v):this.pushStackLiteral(v))},"pushStringParam"),emptyHash:s(function(v){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(v?"undefined":"{}")},"emptyHash"),pushHash:s(function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},"pushHash"),popHash:s(function(){var v=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(v.ids)),this.stringParams&&(this.push(this.objectLiteral(v.contexts)),this.push(this.objectLiteral(v.types))),this.push(this.objectLiteral(v.values))},"popHash"),pushString:s(function(v){this.pushStackLiteral(this.quotedString(v))},"pushString"),pushLiteral:s(function(v){this.pushStackLiteral(v)},"pushLiteral"),pushProgram:s(function(v){v!=null?this.pushStackLiteral(this.programExpression(v)):this.pushStackLiteral(null)},"pushProgram"),registerDecorator:s(function(v,m){var w=this.nameLookup("decorators",m,"decorator"),_=this.setupHelperArgs(m,v);this.decorators.push(["fn = ",this.decorators.functionCall(w,"",["fn","props","container",_])," || fn;"])},"registerDecorator"),invokeHelper:s(function(v,m,w){var _=this.popStack(),A=this.setupHelper(v,m),M=[];w&&M.push(A.name),M.push(_),!this.options.strict&&M.push(this.aliasable("container.hooks.helperMissing"));var I=["(",this.itemsSeparatedBy(M,"||"),")"],R=this.source.functionCall(I,"call",A.callParams);this.push(R)},"invokeHelper"),itemsSeparatedBy:s(function(v,m){var w=[];w.push(v[0]);for(var _=1;_<v.length;_++)w.push(m,v[_]);return w},"itemsSeparatedBy"),invokeKnownHelper:s(function(v,m){var w=this.setupHelper(v,m);this.push(this.source.functionCall(w.name,"call",w.callParams))},"invokeKnownHelper"),invokeAmbiguous:s(function(v,m){this.useRegister("helper");var w=this.popStack();this.emptyHash();var _=this.setupHelper(0,v,m),A=this.lastHelper=this.nameLookup("helpers",v,"helper"),M=["(","(helper = ",A," || ",w,")"];this.options.strict||(M[0]="(helper = ",M.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",M,_.paramsInit?["),(",_.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",_.callParams)," : helper))"])},"invokeAmbiguous"),invokePartial:s(function(v,m,w){var _=[],A=this.setupParams(m,1,_);v&&(m=this.popStack(),delete A.name),w&&(A.indent=JSON.stringify(w)),A.helpers="helpers",A.partials="partials",A.decorators="container.decorators",v?_.unshift(m):_.unshift(this.nameLookup("partials",m,"partial")),this.options.compat&&(A.depths="depths"),A=this.objectLiteral(A),_.push(A),this.push(this.source.functionCall("container.invokePartial","",_))},"invokePartial"),assignToHash:s(function(v){var m=this.popStack(),w=void 0,_=void 0,A=void 0;this.trackIds&&(A=this.popStack()),this.stringParams&&(_=this.popStack(),w=this.popStack());var M=this.hash;w&&(M.contexts[v]=w),_&&(M.types[v]=_),A&&(M.ids[v]=A),M.values[v]=m},"assignToHash"),pushId:s(function(v,m,w){v==="BlockParam"?this.pushStackLiteral("blockParams["+m[0]+"].path["+m[1]+"]"+(w?" + "+JSON.stringify("."+w):"")):v==="PathExpression"?this.pushString(m):v==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},"pushId"),compiler:h,compileChildren:s(function(v,m){for(var w=v.children,_=void 0,A=void 0,M=0,I=w.length;M<I;M++){_=w[M],A=new this.compiler;var R=this.matchExistingProgram(_);if(R==null){this.context.programs.push("");var L=this.context.programs.length;_.index=L,_.name="program"+L,this.context.programs[L]=A.compile(_,m,this.context,!this.precompile),this.context.decorators[L]=A.decorators,this.context.environments[L]=_,this.useDepths=this.useDepths||A.useDepths,this.useBlockParams=this.useBlockParams||A.useBlockParams,_.useDepths=this.useDepths,_.useBlockParams=this.useBlockParams}else _.index=R.index,_.name="program"+R.index,this.useDepths=this.useDepths||R.useDepths,this.useBlockParams=this.useBlockParams||R.useBlockParams}},"compileChildren"),matchExistingProgram:s(function(v){for(var m=0,w=this.context.environments.length;m<w;m++){var _=this.context.environments[m];if(_&&_.equals(v))return _}},"matchExistingProgram"),programExpression:s(function(v){var m=this.environment.children[v],w=[m.index,"data",m.blockParams];return(this.useBlockParams||this.useDepths)&&w.push("blockParams"),this.useDepths&&w.push("depths"),"container.program("+w.join(", ")+")"},"programExpression"),useRegister:s(function(v){this.registers[v]||(this.registers[v]=!0,this.registers.list.push(v))},"useRegister"),push:s(function(v){return v instanceof c||(v=this.source.wrap(v)),this.inlineStack.push(v),v},"push"),pushStackLiteral:s(function(v){this.push(new c(v))},"pushStackLiteral"),pushSource:s(function(v){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),v&&this.source.push(v)},"pushSource"),replaceStack:s(function(v){var m=["("],w=void 0,_=void 0,A=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var M=this.popStack(!0);if(M instanceof c)w=[M.value],m=["(",w],A=!0;else{_=!0;var I=this.incrStack();m=["((",this.push(I)," = ",M,")"],w=this.topStack()}var R=v.call(this,w);A||this.popStack(),_&&this.stackSlot--,this.push(m.concat(R,")"))},"replaceStack"),incrStack:s(function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},"incrStack"),topStackName:s(function(){return"stack"+this.stackSlot},"topStackName"),flushInline:s(function(){var v=this.inlineStack;this.inlineStack=[];for(var m=0,w=v.length;m<w;m++){var _=v[m];if(_ instanceof c)this.compileStack.push(_);else{var A=this.incrStack();this.pushSource([A," = ",_,";"]),this.compileStack.push(A)}}},"flushInline"),isInline:s(function(){return this.inlineStack.length},"isInline"),popStack:s(function(v){var m=this.isInline(),w=(m?this.inlineStack:this.compileStack).pop();if(!v&&w instanceof c)return w.value;if(!m){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return w},"popStack"),topStack:s(function(){var v=this.isInline()?this.inlineStack:this.compileStack,m=v[v.length-1];return m instanceof c?m.value:m},"topStack"),contextName:s(function(v){return this.useDepths&&v?"depths["+v+"]":"depth"+v},"contextName"),quotedString:s(function(v){return this.source.quotedString(v)},"quotedString"),objectLiteral:s(function(v){return this.source.objectLiteral(v)},"objectLiteral"),aliasable:s(function(v){var m=this.aliases[v];return m?(m.referenceCount++,m):(m=this.aliases[v]=this.source.wrap(v),m.aliasable=!0,m.referenceCount=1,m)},"aliasable"),setupHelper:s(function(v,m,w){var _=[],A=this.setupHelperArgs(m,v,_,w),M=this.nameLookup("helpers",m,"helper"),I=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:_,paramsInit:A,name:M,callParams:[I].concat(_)}},"setupHelper"),setupParams:s(function(v,m,w){var _={},A=[],M=[],I=[],R=!w,L=void 0;R&&(w=[]),_.name=this.quotedString(v),_.hash=this.popStack(),this.trackIds&&(_.hashIds=this.popStack()),this.stringParams&&(_.hashTypes=this.popStack(),_.hashContexts=this.popStack());var P=this.popStack(),F=this.popStack();(F||P)&&(_.fn=F||"container.noop",_.inverse=P||"container.noop");for(var Z=m;Z--;)L=this.popStack(),w[Z]=L,this.trackIds&&(I[Z]=this.popStack()),this.stringParams&&(M[Z]=this.popStack(),A[Z]=this.popStack());return R&&(_.args=this.source.generateArray(w)),this.trackIds&&(_.ids=this.source.generateArray(I)),this.stringParams&&(_.types=this.source.generateArray(M),_.contexts=this.source.generateArray(A)),this.options.data&&(_.data="data"),this.useBlockParams&&(_.blockParams="blockParams"),_},"setupParams"),setupHelperArgs:s(function(v,m,w,_){var A=this.setupParams(v,m,w);return A.loc=JSON.stringify(this.source.currentLocation),A=this.objectLiteral(A),_?(this.useRegister("options"),w.push("options"),["options=",A]):w?(w.push(A),""):A},"setupHelperArgs")},(function(){for(var v="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),m=h.RESERVED_WORDS={},w=0,_=v.length;w<_;w++)m[v[w]]=!0})(),h.isValidJavaScriptVariableName=function(v){return!h.RESERVED_WORDS[v]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(v)};function f(v,m,w,_,A){var M=m.popStack(),I=w.length;for(v&&I--;_<I;_++)M=m.nameLookup(M,w[_],A);return v?[m.aliasable("container.strict"),"(",M,", ",m.quotedString(w[_]),", ",JSON.stringify(m.source.currentLocation)," )"]:M}s(f,"Wm"),e.default=h,t.exports=e.default}),RU=ft((e,t)=>{e.__esModule=!0;function r(I){return I&&I.__esModule?I:{default:I}}s(r,"R7");var n=bU(),i=r(n),o=l9(),a=r(o),l=_U(),u=EU(),c=OU(),h=r(c),f=Xb(),v=r(f),m=o9(),w=r(m),_=i.default.create;function A(){var I=_();return I.compile=function(R,L){return u.compile(R,L,I)},I.precompile=function(R,L){return u.precompile(R,L,I)},I.AST=a.default,I.Compiler=u.Compiler,I.JavaScriptCompiler=h.default,I.Parser=l.parser,I.parse=l.parse,I.parseWithoutProcessing=l.parseWithoutProcessing,I}s(A,"_V");var M=A();M.create=A,w.default(M),M.Visitor=v.default,M.default=M,e.default=M,t.exports=e.default}),jU=ft(e=>{e.__esModule=!0,e.print=i,e.PrintVisitor=o;function t(a){return a&&a.__esModule?a:{default:a}}s(t,"Em");var r=Xb(),n=t(r);function i(a){return new o().accept(a)}s(i,"Im");function o(){this.padding=0}s(o,"y6"),o.prototype=new n.default,o.prototype.pad=function(a){for(var l="",u=0,c=this.padding;u<c;u++)l+="  ";return l+=a+`
`,l},o.prototype.Program=function(a){var l="",u=a.body,c=void 0,h=void 0;if(a.blockParams){var f="BLOCK PARAMS: [";for(c=0,h=a.blockParams.length;c<h;c++)f+=" "+a.blockParams[c];f+=" ]",l+=this.pad(f)}for(c=0,h=u.length;c<h;c++)l+=this.accept(u[c]);return this.padding--,l},o.prototype.MustacheStatement=function(a){return this.pad("{{ "+this.SubExpression(a)+" }}")},o.prototype.Decorator=function(a){return this.pad("{{ DIRECTIVE "+this.SubExpression(a)+" }}")},o.prototype.BlockStatement=o.prototype.DecoratorBlock=function(a){var l="";return l+=this.pad((a.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,l+=this.pad(this.SubExpression(a)),a.program&&(l+=this.pad("PROGRAM:"),this.padding++,l+=this.accept(a.program),this.padding--),a.inverse&&(a.program&&this.padding++,l+=this.pad("{{^}}"),this.padding++,l+=this.accept(a.inverse),this.padding--,a.program&&this.padding--),this.padding--,l},o.prototype.PartialStatement=function(a){var l="PARTIAL:"+a.name.original;return a.params[0]&&(l+=" "+this.accept(a.params[0])),a.hash&&(l+=" "+this.accept(a.hash)),this.pad("{{> "+l+" }}")},o.prototype.PartialBlockStatement=function(a){var l="PARTIAL BLOCK:"+a.name.original;return a.params[0]&&(l+=" "+this.accept(a.params[0])),a.hash&&(l+=" "+this.accept(a.hash)),l+=" "+this.pad("PROGRAM:"),this.padding++,l+=this.accept(a.program),this.padding--,this.pad("{{> "+l+" }}")},o.prototype.ContentStatement=function(a){return this.pad("CONTENT[ '"+a.value+"' ]")},o.prototype.CommentStatement=function(a){return this.pad("{{! '"+a.value+"' }}")},o.prototype.SubExpression=function(a){for(var l=a.params,u=[],c=void 0,h=0,f=l.length;h<f;h++)u.push(this.accept(l[h]));return l="["+u.join(", ")+"]",c=a.hash?" "+this.accept(a.hash):"",this.accept(a.path)+" "+l+c},o.prototype.PathExpression=function(a){var l=a.parts.join("/");return(a.data?"@":"")+"PATH:"+l},o.prototype.StringLiteral=function(a){return'"'+a.value+'"'},o.prototype.NumberLiteral=function(a){return"NUMBER{"+a.value+"}"},o.prototype.BooleanLiteral=function(a){return"BOOLEAN{"+a.value+"}"},o.prototype.UndefinedLiteral=function(){return"UNDEFINED"},o.prototype.NullLiteral=function(){return"NULL"},o.prototype.Hash=function(a){for(var l=a.pairs,u=[],c=0,h=l.length;c<h;c++)u.push(this.accept(l[c]));return"HASH{"+u.join(", ")+"}"},o.prototype.HashPair=function(a){return a.key+"="+this.accept(a.value)}}),LU=ft((e,t)=>{var r=RU().default,n=jU();r.PrintVisitor=n.PrintVisitor,r.print=n.print,t.exports=r;function i(o,a){var l=s((()=>({})),"K"),u=l.readFileSync(a,"utf8");o.exports=r.compile(u)}s(i,"vV"),Bf.extensions&&(Bf.extensions[".handlebars"]=i,Bf.extensions[".hbs"]=i)}),Kb={};Ln(Kb,{sep:s(()=>_9,"sep"),resolve:s(()=>sh,"resolve"),relative:s(()=>m9,"relative"),posix:s(()=>D1,"posix"),parse:s(()=>x9,"parse"),normalize:s(()=>qb,"normalize"),join:s(()=>p9,"join"),isAbsolute:s(()=>h9,"isAbsolute"),format:s(()=>w9,"format"),extname:s(()=>y9,"extname"),dirname:s(()=>v9,"dirname"),delimiter:s(()=>E9,"delimiter"),default:s(()=>S9,"default"),basename:s(()=>b9,"basename"),_makeLong:s(()=>g9,"_makeLong")});function Ss(e){if(typeof e!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(e))}s(Ss,"B8");function f9(e,t){for(var r="",n=0,i=-1,o=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=l,o=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,o=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,o=0}else a===46&&o!==-1?++o:o=-1}return r}s(f9,"ZV");function PU(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}s(PU,"ym");function sh(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var i;n>=0?i=arguments[n]:(r===void 0&&(r=process.cwd()),i=r),Ss(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=f9(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."}s(sh,"bj");function qb(e){if(Ss(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=f9(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e}s(qb,"IW");function h9(e){return Ss(e),e.length>0&&e.charCodeAt(0)===47}s(h9,"fV");function p9(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];Ss(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":qb(e)}s(p9,"XV");function m9(e,t){if(Ss(e),Ss(t),e===t||(e=sh(e),t=sh(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,i=n-r,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var a=t.length,l=a-o,u=i<l?i:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(t.charCodeAt(o+h)===47)return t.slice(o+h+1);if(h===0)return t.slice(o+h)}else i>u&&(e.charCodeAt(r+h)===47?c=h:h===0&&(c=0));break}var f=e.charCodeAt(r+h),v=t.charCodeAt(o+h);if(f!==v)break;f===47&&(c=h)}var m="";for(h=r+c+1;h<=n;++h)(h===n||e.charCodeAt(h)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+t.slice(o+c):(o+=c,t.charCodeAt(o)===47&&++o,t.slice(o))}s(m9,"kV");function g9(e){return e}s(g9,"AV");function v9(e){if(Ss(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===47){if(!i){n=o;break}}else i=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)}s(v9,"GV");function b9(e,t){if(t!==void 0&&typeof t!="string")throw TypeError('"ext" argument must be a string');Ss(e);var r=0,n=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,l=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(u===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)}}s(b9,"VV");function y9(e){Ss(e);for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(l===47){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1?"":e.slice(t,n)}s(y9,"SV");function w9(e){if(e===null||typeof e!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return PU("/",e)}s(w9,"MV");function x9(e){Ss(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,i;n?(t.root="/",i=1):i=0;for(var o=-1,a=0,l=-1,u=!0,c=e.length-1,h=0;c>=i;--c){if(r=e.charCodeAt(c),r===47){if(!u){a=c+1;break}continue}l===-1&&(u=!1,l=c+1),r===46?o===-1?o=c:h!==1&&(h=1):o!==-1&&(h=-1)}return o===-1||l===-1||h===0||h===1&&o===l-1&&o===a+1?l!==-1&&(a===0&&n?t.base=t.name=e.slice(1,l):t.base=t.name=e.slice(a,l)):(a===0&&n?(t.name=e.slice(1,o),t.base=e.slice(1,l)):(t.name=e.slice(a,o),t.base=e.slice(a,l)),t.ext=e.slice(o,l)),a>0?t.dir=e.slice(0,a-1):n&&(t.dir="/"),t}s(x9,"NV");var _9="/",E9=":",D1,S9,k9=Vo(()=>{D1=(e=>(e.posix=e,e))({resolve:sh,normalize:qb,isAbsolute:h9,join:p9,relative:m9,_makeLong:g9,dirname:v9,basename:b9,extname:y9,format:w9,parse:x9,sep:_9,delimiter:E9,win32:null,posix:null}),S9=D1}),Yb={};Ln(Yb,{uptime:s(()=>UU,"uptime"),type:s(()=>VU,"type"),totalmem:s(()=>$U,"totalmem"),tmpdir:s(()=>N9,"tmpdir"),tmpDir:s(()=>C9,"tmpDir"),release:s(()=>GU,"release"),platform:s(()=>JU,"platform"),networkInterfaces:s(()=>A9,"networkInterfaces"),loadavg:s(()=>zU,"loadavg"),hostname:s(()=>BU,"hostname"),homedir:s(()=>QU,"homedir"),getNetworkInterfaces:s(()=>T9,"getNetworkInterfaces"),freemem:s(()=>FU,"freemem"),endianness:s(()=>DU,"endianness"),cpus:s(()=>HU,"cpus"),arch:s(()=>ZU,"arch"),EOL:s(()=>WU,"EOL")});var DU=s(function(){return"LE"},"xm"),BU=s(function(){return typeof location<"u"?location.hostname:""},"cm"),zU=s(function(){return[]},"pm"),UU=s(function(){return 0},"mm"),FU=s(function(){return Number.MAX_VALUE},"dm"),$U=s(function(){return Number.MAX_VALUE},"lm"),HU=s(function(){return[]},"rm"),VU=s(function(){return"Browser"},"om"),GU=s(function(){return typeof navigator<"u"?navigator.appVersion:""},"nm"),T9=s(function(){return{}},"RV"),A9,ZU=s(function(){return"javascript"},"Bm"),JU=s(function(){return"browser"},"tm"),N9=s(function(){return"/tmp"},"IV"),C9,WU=`
`,QU=s(function(){return"/"},"am"),M9=Vo(()=>{A9=T9,C9=N9}),wn={};Ln(wn,{transcode:s(()=>q9,"transcode"),resolveObjectURL:s(()=>X9,"resolveObjectURL"),kStringMaxLength:s(()=>U9,"kStringMaxLength"),kMaxLength:s(()=>Sc,"kMaxLength"),isUtf8:s(()=>K9,"isUtf8"),isAscii:s(()=>_F,"isAscii"),default:s(()=>Y9,"default"),constants:s(()=>G9,"constants"),btoa:s(()=>F9,"btoa"),atob:s(()=>$9,"atob"),INSPECT_MAX_BYTES:s(()=>z9,"INSPECT_MAX_BYTES"),File:s(()=>H9,"File"),Buffer:s(()=>ot,"Buffer"),Blob:s(()=>V9,"Blob")});function XU(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}s(XU,"Qm");function KU(e,t){return(e+t)*3/4-t}s(KU,"em");function qU(e){var t,r=XU(e),n=r[0],i=r[1],o=new Uint8Array(KU(n,i)),a=0,l=i>0?n-4:n,u;for(u=0;u<l;u+=4)t=oi[e.charCodeAt(u)]<<18|oi[e.charCodeAt(u+1)]<<12|oi[e.charCodeAt(u+2)]<<6|oi[e.charCodeAt(u+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=oi[e.charCodeAt(u)]<<2|oi[e.charCodeAt(u+1)]>>4,o[a++]=t&255),i===1&&(t=oi[e.charCodeAt(u)]<<10|oi[e.charCodeAt(u+1)]<<4|oi[e.charCodeAt(u+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}s(qU,"sm");function YU(e){return Vi[e>>18&63]+Vi[e>>12&63]+Vi[e>>6&63]+Vi[e&63]}s(YU,"$d");function eF(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(YU(n));return i.join("")}s(eF,"qd");function n3(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,l=r-n;a<l;a+=o)i.push(eF(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i.push(Vi[t>>2]+Vi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Vi[t>>10]+Vi[t>>4&63]+Vi[t<<2&63]+"=")),i.join("")}s(n3,"LV");function Dd(e,t,r,n,i){var o,a,l=i*8-n-1,u=(1<<l)-1,c=u>>1,h=-7,f=r?i-1:0,v=r?-1:1,m=e[t+f];for(f+=v,o=m&(1<<-h)-1,m>>=-h,h+=l;h>0;o=o*256+e[t+f],f+=v,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=a*256+e[t+f],f+=v,h-=8);if(o===0)o=1-c;else{if(o===u)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-c}return(m?-1:1)*a*Math.pow(2,o-n)}s(Dd,"gj");function I9(e,t,r,n,i,o){var a,l,u,c=o*8-i-1,h=(1<<c)-1,f=h>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,w=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?t+=v/u:t+=v*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=h?(l=0,a=h):a+f>=1?(l=(t*u-1)*Math.pow(2,i),a=a+f):(l=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+m]=l&255,m+=w,l/=256,i-=8);for(a=a<<i|l,c+=i;c>0;e[r+m]=a&255,m+=w,a/=256,c-=8);e[r+m-w]|=_*128}s(I9,"xV");function ra(e){if(e>Sc)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,ot.prototype),t}s(ra,"fK");function nm(e,t,r){return class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}s(nm,"mW");function ot(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw TypeError('The "string" argument must be of type string. Received type number');return B1(e)}return O9(e,t,r)}s(ot,"J$");function O9(e,t,r){if(typeof e=="string")return rF(e,t);if(ArrayBuffer.isView(e))return nF(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ms(e,ArrayBuffer)||e&&ms(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ms(e,SharedArrayBuffer)||e&&ms(e.buffer,SharedArrayBuffer)))return U1(e,t,r);if(typeof e=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return ot.from(n,t,r);let i=iF(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return ot.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}s(O9,"mV");function R9(e){if(typeof e!="number")throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}s(R9,"dV");function tF(e,t,r){return R9(e),e<=0?ra(e):t!==void 0?typeof r=="string"?ra(e).fill(t,r):ra(e).fill(t):ra(e)}s(tF,"zd");function B1(e){return R9(e),ra(e<0?0:ey(e)|0)}s(B1,"dW");function rF(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!ot.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=j9(e,t)|0,n=ra(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}s(rF,"Wd");function z1(e){let t=e.length<0?0:ey(e.length)|0,r=ra(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}s(z1,"xW");function nF(e){if(ms(e,Uint8Array)){let t=new Uint8Array(e);return U1(t.buffer,t.byteOffset,t.byteLength)}return z1(e)}s(nF,"Hd");function U1(e,t,r){if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,ot.prototype),n}s(U1,"cW");function iF(e){if(ot.isBuffer(e)){let t=ey(e.length)|0,r=ra(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Number.isNaN(e.length)?ra(0):z1(e);if(e.type==="Buffer"&&Array.isArray(e.data))return z1(e.data)}s(iF,"Jd");function ey(e){if(e>=Sc)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Sc.toString(16)+" bytes");return e|0}s(ey,"lW");function j9(e,t){if(ot.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ms(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F1(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return B9(e).length;default:if(i)return n?-1:F1(e).length;t=(""+t).toLowerCase(),i=!0}}s(j9,"lV");function sF(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return mF(this,t,r);case"utf8":case"utf-8":return L9(this,t,r);case"ascii":return hF(this,t,r);case"latin1":case"binary":return pF(this,t,r);case"base64":return dF(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gF(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}s(sF,"Td");function qa(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}s(qa,"E_");function i3(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Number.isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=ot.from(t,n)),ot.isBuffer(t))return t.length===0?-1:s3(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):s3(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}s(i3,"rV");function s3(e,t,r,n,i){let o=1,a=e.length,l=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,r/=2}function u(h,f){return o===1?h[f]:h.readUInt16BE(f*o)}s(u,"J");let c;if(i){let h=-1;for(c=r;c<a;c++)if(u(e,c)===u(t,h===-1?0:c-h)){if(h===-1&&(h=c),c-h+1===l)return h*o}else h!==-1&&(c-=c-h),h=-1}else for(r+l>a&&(r=a-l),c=r;c>=0;c--){let h=!0;for(let f=0;f<l;f++)if(u(e,c+f)!==u(t,f)){h=!1;break}if(h)return c}return-1}s(s3,"gV");function aF(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let l=parseInt(t.substr(a*2,2),16);if(Number.isNaN(l))return a;e[r+a]=l}return a}s(aF,"wd");function oF(e,t,r,n){return L0(F1(t,e.length-r),e,r,n)}s(oF,"Zd");function lF(e,t,r,n){return L0(yF(t),e,r,n)}s(lF,"fd");function uF(e,t,r,n){return L0(B9(t),e,r,n)}s(uF,"Xd");function cF(e,t,r,n){return L0(wF(t,e.length-r),e,r,n)}s(cF,"kd");function dF(e,t,r){return t===0&&r===e.length?n3(e):n3(e.slice(t,r))}s(dF,"Ad");function L9(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let o=e[i],a=null,l=o>239?4:o>223?3:o>191?2:1;if(i+l<=r){let u,c,h,f;switch(l){case 1:o<128&&(a=o);break;case 2:u=e[i+1],(u&192)===128&&(f=(o&31)<<6|u&63,f>127&&(a=f));break;case 3:u=e[i+1],c=e[i+2],(u&192)===128&&(c&192)===128&&(f=(o&15)<<12|(u&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=e[i+1],c=e[i+2],h=e[i+3],(u&192)===128&&(c&192)===128&&(h&192)===128&&(f=(o&15)<<18|(u&63)<<12|(c&63)<<6|h&63,f>65535&&f<1114112&&(a=f))}}a===null?(a=65533,l=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=l}return fF(n)}s(L9,"oV");function fF(e){let t=e.length;if(t<=f3)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=f3));return r}s(fF,"Gd");function hF(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}s(hF,"Vd");function pF(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}s(pF,"Sd");function mF(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Q9[e[o]];return i}s(mF,"Md");function gF(e,t,r){let n=e.slice(t,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}s(gF,"Nd");function vn(e,t,r){if(e%1!==0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}s(vn,"Oq");function Jn(e,t,r,n,i,o){if(!ot.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}s(Jn,"Uq");function a3(e,t,r,n,i){D9(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,r}s(a3,"nV");function o3(e,t,r,n,i){D9(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o=o>>8,e[r+6]=o,o=o>>8,e[r+5]=o,o=o>>8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a=a>>8,e[r+2]=a,a=a>>8,e[r+1]=a,a=a>>8,e[r]=a,r+8}s(o3,"iV");function P9(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}s(P9,"BV");function l3(e,t,r,n,i){return t=+t,r=r>>>0,!i&&P9(e,t,r,4),I9(e,t,r,n,23,4),r+4}s(l3,"tV");function u3(e,t,r,n,i){return t=+t,r=r>>>0,!i&&P9(e,t,r,8),I9(e,t,r,n,52,8),r+8}s(u3,"UV");function c3(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}s(c3,"uV");function vF(e,t,r){xl(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&Zu(t,e.length-(r+1))}s(vF,"Cd");function D9(e,t,r,n,i,o){if(e>r||e<t){let a=typeof t=="bigint"?"n":"",l;throw t===0||t===BigInt(0)?l=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:l=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`,new ah("value",l,e)}vF(n,i,o)}s(D9,"FV");function xl(e,t){if(typeof e!="number")throw new J9(t,"number",e)}s(xl,"L4");function Zu(e,t,r){throw Math.floor(e)!==e?(xl(e,r),new ah("offset","an integer",e)):t<0?new Z9:new ah("offset",`>= 0 and <= ${t}`,e)}s(Zu,"D7");function bF(e){if(e=e.split("=")[0],e=e.trim().replace(W9,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}s(bF,"hd");function F1(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw Error("Invalid code point")}return o}s(F1,"pW");function yF(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}s(yF,"Rd");function wF(e,t){let r,n,i,o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}s(wF,"Id");function B9(e){return qU(bF(e))}s(B9,"aV");function L0(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}s(L0,"yj");function ms(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}s(ms,"U8");function xa(e){return typeof BigInt>"u"?xF:e}s(xa,"nK");function xF(){throw Error("BigInt not supported")}s(xF,"Ld");function im(e){return()=>{throw Error(e+" is not implemented for node:buffer browser polyfill")}}s(im,"rW");var Vi,oi,sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ya,d3,am,z9=50,Sc=2147483647,U9=536870888,F9,$9,H9,V9,G9,Z9,J9,ah,f3=4096,W9,Q9,X9,K9,_F=s(e=>{for(let t of e)if(t.charCodeAt(0)>127)return!1;return!0},"yd"),q9,Y9,kn=Vo(()=>{for(Vi=[],oi=[],Ya=0,d3=sm.length;Ya<d3;++Ya)Vi[Ya]=sm[Ya],oi[sm.charCodeAt(Ya)]=Ya;oi[45]=62,oi[95]=63,am=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,F9=globalThis.btoa,$9=globalThis.atob,H9=globalThis.File,V9=globalThis.Blob,G9={MAX_LENGTH:Sc,MAX_STRING_LENGTH:U9},Z9=nm("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J9=nm("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),ah=nm("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=c3(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=c3(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError),Object.defineProperty(ot.prototype,"parent",{enumerable:!0,get:s(function(){if(ot.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(ot.prototype,"offset",{enumerable:!0,get:s(function(){if(ot.isBuffer(this))return this.byteOffset},"get")}),ot.poolSize=8192,ot.from=function(e,t,r){return O9(e,t,r)},Object.setPrototypeOf(ot.prototype,Uint8Array.prototype),Object.setPrototypeOf(ot,Uint8Array),ot.alloc=function(e,t,r){return tF(e,t,r)},ot.allocUnsafe=function(e){return B1(e)},ot.allocUnsafeSlow=function(e){return B1(e)},ot.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ot.prototype},ot.compare=function(e,t){if(ms(e,Uint8Array)&&(e=ot.from(e,e.offset,e.byteLength)),ms(t,Uint8Array)&&(t=ot.from(t,t.offset,t.byteLength)),!ot.isBuffer(e)||!ot.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},ot.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ot.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=ot.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let o=e[r];if(ms(o,Uint8Array))i+o.length>n.length?(ot.isBuffer(o)||(o=ot.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else if(ot.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},ot.byteLength=j9,ot.prototype._isBuffer=!0,ot.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)qa(this,t,t+1);return this},ot.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)qa(this,t,t+3),qa(this,t+1,t+2);return this},ot.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)qa(this,t,t+7),qa(this,t+1,t+6),qa(this,t+2,t+5),qa(this,t+3,t+4);return this},ot.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?L9(this,0,e):sF.apply(this,arguments)},ot.prototype.toLocaleString=ot.prototype.toString,ot.prototype.equals=function(e){if(!ot.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e?!0:ot.compare(this,e)===0},ot.prototype.inspect=function(){let e="",t=z9;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},am&&(ot.prototype[am]=ot.prototype.inspect),ot.prototype.compare=function(e,t,r,n,i){if(ms(e,Uint8Array)&&(e=ot.from(e,e.offset,e.byteLength)),!ot.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,l=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r);for(let h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},ot.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},ot.prototype.indexOf=function(e,t,r){return i3(this,e,t,r,!0)},ot.prototype.lastIndexOf=function(e,t,r){return i3(this,e,t,r,!1)},ot.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return aF(this,e,t,r);case"utf8":case"utf-8":return oF(this,e,t,r);case"ascii":case"latin1":case"binary":return lF(this,e,t,r);case"base64":return uF(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cF(this,e,t,r);default:if(o)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ot.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,ot.prototype),n},ot.prototype.readUintLE=ot.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&vn(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},ot.prototype.readUintBE=ot.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&vn(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},ot.prototype.readUint8=ot.prototype.readUInt8=function(e,t){return e=e>>>0,!t&&vn(e,1,this.length),this[e]},ot.prototype.readUint16LE=ot.prototype.readUInt16LE=function(e,t){return e=e>>>0,!t&&vn(e,2,this.length),this[e]|this[e+1]<<8},ot.prototype.readUint16BE=ot.prototype.readUInt16BE=function(e,t){return e=e>>>0,!t&&vn(e,2,this.length),this[e]<<8|this[e+1]},ot.prototype.readUint32LE=ot.prototype.readUInt32LE=function(e,t){return e=e>>>0,!t&&vn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},ot.prototype.readUint32BE=ot.prototype.readUInt32BE=function(e,t){return e=e>>>0,!t&&vn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ot.prototype.readBigUInt64LE=xa(function(e){e=e>>>0,xl(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Zu(e,this.length-8);let n=t+this[++e]*256+this[++e]*65536+this[++e]*16777216,i=this[++e]+this[++e]*256+this[++e]*65536+r*16777216;return BigInt(n)+(BigInt(i)<<BigInt(32))}),ot.prototype.readBigUInt64BE=xa(function(e){e=e>>>0,xl(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Zu(e,this.length-8);let n=t*16777216+this[++e]*65536+this[++e]*256+this[++e],i=this[++e]*16777216+this[++e]*65536+this[++e]*256+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),ot.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&vn(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},ot.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&vn(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},ot.prototype.readInt8=function(e,t){return e=e>>>0,!t&&vn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},ot.prototype.readInt16LE=function(e,t){e=e>>>0,!t&&vn(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},ot.prototype.readInt16BE=function(e,t){e=e>>>0,!t&&vn(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},ot.prototype.readInt32LE=function(e,t){return e=e>>>0,!t&&vn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ot.prototype.readInt32BE=function(e,t){return e=e>>>0,!t&&vn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ot.prototype.readBigInt64LE=xa(function(e){e=e>>>0,xl(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Zu(e,this.length-8);let n=this[e+4]+this[e+5]*256+this[e+6]*65536+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*256+this[++e]*65536+this[++e]*16777216)}),ot.prototype.readBigInt64BE=xa(function(e){e=e>>>0,xl(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Zu(e,this.length-8);let n=(t<<24)+this[++e]*65536+this[++e]*256+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*16777216+this[++e]*65536+this[++e]*256+r)}),ot.prototype.readFloatLE=function(e,t){return e=e>>>0,!t&&vn(e,4,this.length),Dd(this,e,!0,23,4)},ot.prototype.readFloatBE=function(e,t){return e=e>>>0,!t&&vn(e,4,this.length),Dd(this,e,!1,23,4)},ot.prototype.readDoubleLE=function(e,t){return e=e>>>0,!t&&vn(e,8,this.length),Dd(this,e,!0,52,8)},ot.prototype.readDoubleBE=function(e,t){return e=e>>>0,!t&&vn(e,8,this.length),Dd(this,e,!1,52,8)},ot.prototype.writeUintLE=ot.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=t>>>0,r=r>>>0,!n){let a=Math.pow(2,8*r)-1;Jn(this,e,t,r,a,0)}let i=1,o=0;for(this[t]=e&255;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},ot.prototype.writeUintBE=ot.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=t>>>0,r=r>>>0,!n){let a=Math.pow(2,8*r)-1;Jn(this,e,t,r,a,0)}let i=r-1,o=1;for(this[t+i]=e&255;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},ot.prototype.writeUint8=ot.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,1,255,0),this[t]=e&255,t+1},ot.prototype.writeUint16LE=ot.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},ot.prototype.writeUint16BE=ot.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},ot.prototype.writeUint32LE=ot.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},ot.prototype.writeUint32BE=ot.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},ot.prototype.writeBigUInt64LE=xa(function(e,t=0){return a3(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeBigUInt64BE=xa(function(e,t=0){return o3(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=t>>>0,!n){let l=Math.pow(2,8*r-1);Jn(this,e,t,r,l-1,-l)}let i=0,o=1,a=0;for(this[t]=e&255;++i<r&&(o*=256);)e<0&&a===0&&this[t+i-1]!==0&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},ot.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=t>>>0,!n){let l=Math.pow(2,8*r-1);Jn(this,e,t,r,l-1,-l)}let i=r-1,o=1,a=0;for(this[t+i]=e&255;--i>=0&&(o*=256);)e<0&&a===0&&this[t+i+1]!==0&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},ot.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},ot.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},ot.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},ot.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},ot.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Jn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},ot.prototype.writeBigInt64LE=xa(function(e,t=0){return a3(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeBigInt64BE=xa(function(e,t=0){return o3(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeFloatLE=function(e,t,r){return l3(this,e,t,!0,r)},ot.prototype.writeFloatBE=function(e,t,r){return l3(this,e,t,!1,r)},ot.prototype.writeDoubleLE=function(e,t,r){return u3(this,e,t,!0,r)},ot.prototype.writeDoubleBE=function(e,t,r){return u3(this,e,t,!1,r)},ot.prototype.copy=function(e,t,r,n){if(!ot.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},ot.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw TypeError("encoding must be a string");if(typeof n=="string"&&!ot.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,!e&&(e=0);let i;if(typeof e=="number")for(i=t;i<r;++i)this[i]=e;else{let o=ot.isBuffer(e)?e:ot.from(e,n),a=o.length;if(a===0)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this},W9=/[^+/0-9A-Za-z-_]/g,Q9=(function(){let e=Array(256);for(let t=0;t<16;++t){let r=t*16;for(let n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n]}return e})(),X9=im("resolveObjectURL"),K9=im("isUtf8"),q9=im("transcode"),Y9=ot}),eS={};Ln(eS,{types:s(()=>LF,"types"),promisify:s(()=>G1,"promisify"),log:s(()=>nS,"log"),isUndefined:s(()=>Nl,"isUndefined"),isSymbol:s(()=>IF,"isSymbol"),isString:s(()=>D0,"isString"),isRegExp:s(()=>zf,"isRegExp"),isPrimitive:s(()=>OF,"isPrimitive"),isObject:s(()=>Xl,"isObject"),isNumber:s(()=>rS,"isNumber"),isNullOrUndefined:s(()=>MF,"isNullOrUndefined"),isNull:s(()=>P0,"isNull"),isFunction:s(()=>Ff,"isFunction"),isError:s(()=>Uf,"isError"),isDate:s(()=>H1,"isDate"),isBuffer:s(()=>RF,"isBuffer"),isBoolean:s(()=>ry,"isBoolean"),isArray:s(()=>tS,"isArray"),inspect:s(()=>Ra,"inspect"),inherits:s(()=>iS,"inherits"),format:s(()=>ty,"format"),deprecate:s(()=>EF,"deprecate"),default:s(()=>cS,"default"),debuglog:s(()=>lS,"debuglog"),callbackifyOnRejected:s(()=>iy,"callbackifyOnRejected"),callbackify:s(()=>aS,"callbackify"),_extend:s(()=>V1,"_extend"),TextEncoder:s(()=>Z1,"TextEncoder"),TextDecoder:s(()=>J1,"TextDecoder")});function ty(e,...t){if(!D0(e)){for(var r=[e],n=0;n<t.length;n++)r.push(Ra(t[n]));return r.join(" ")}for(var n=0,i=t.length,o=String(e).replace(oS,function(l){if(l==="%%")return"%";if(n>=i)return l;switch(l){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch{return"[Circular]"}default:return l}}),a=t[n];n<i;a=t[++n])P0(a)||!Xl(a)?o+=" "+a:o+=" "+Ra(a);return o}s(ty,"tW");function EF(e,t){if(typeof process>"u"||process?.noDeprecation===!0)return e;var r=!1;function n(...i){if(!r){if(process.throwDeprecation)throw Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,...i)}return s(n,"P"),n}s(EF,"pd");function SF(e,t){var r=Ra.styles[t];return r?"\x1B["+Ra.colors[r][0]+"m"+e+"\x1B["+Ra.colors[r][1]+"m":e}s(SF,"dd$1");function kF(e,t){return e}s(kF,"ld");function TF(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}s(TF,"rd");function oh(e,t,r){if(e.customInspect&&t&&Ff(t.inspect)&&t.inspect!==Ra&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return D0(n)||(n=oh(e,n,r)),n}var i=AF(e,t);if(i)return i;var o=Object.keys(t),a=TF(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),Uf(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return om(t);if(o.length===0){if(Ff(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(zf(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(H1(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Uf(t))return om(t)}var u="",c=!1,h=["{","}"];if(tS(t)&&(c=!0,h=["[","]"]),Ff(t)){var f=t.name?": "+t.name:"";u=" [Function"+f+"]"}if(zf(t)&&(u=" "+RegExp.prototype.toString.call(t)),H1(t)&&(u=" "+Date.prototype.toUTCString.call(t)),Uf(t)&&(u=" "+om(t)),o.length===0&&(!c||t.length==0))return h[0]+u+h[1];if(r<0)return zf(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var v;return c?v=NF(e,t,r,a,o):v=o.map(function(m){return $1(e,t,r,a,m,c)}),e.seen.pop(),CF(v,u,h)}s(oh,"pj");function AF(e,t){if(Nl(t))return e.stylize("undefined","undefined");if(D0(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(rS(t))return e.stylize(""+t,"number");if(ry(t))return e.stylize(""+t,"boolean");if(P0(t))return e.stylize("null","null")}s(AF,"od");function om(e){return"["+Error.prototype.toString.call(e)+"]"}s(om,"oW");function NF(e,t,r,n,i){for(var o=[],a=0,l=t.length;a<l;++a)sS(t,String(a))?o.push($1(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(u){u.match(/^\d+$/)||o.push($1(e,t,r,n,u,!0))}),o}s(NF,"nd");function $1(e,t,r,n,i,o){var a,l,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?u.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):u.set&&(l=e.stylize("[Setter]","special")),sS(n,i)||(a="["+i+"]"),l||(e.seen.indexOf(u.value)<0?(P0(r)?l=oh(e,u.value,null):l=oh(e,u.value,r-1),l.indexOf(`
`)>-1&&(o?l=l.split(`
`).map(function(c){return"  "+c}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(c){return"   "+c}).join(`
`))):l=e.stylize("[Circular]","special")),Nl(a)){if(o&&i.match(/^\d+$/))return l;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+l}s($1,"iW");function CF(e,t,r){var n=e.reduce(function(i,o){return o.indexOf(`
`)>=0,i+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}s(CF,"id$1");function tS(e){return Array.isArray(e)}s(tS,"QV");function ry(e){return typeof e=="boolean"}s(ry,"UW");function P0(e){return e===null}s(P0,"mj");function MF(e){return e==null}s(MF,"td");function rS(e){return typeof e=="number"}s(rS,"eV");function D0(e){return typeof e=="string"}s(D0,"dj");function IF(e){return typeof e=="symbol"}s(IF,"Ud");function Nl(e){return e===void 0}s(Nl,"b4");function zf(e){return Xl(e)&&ny(e)==="[object RegExp]"}s(zf,"uj");function Xl(e){return typeof e=="object"&&e!==null}s(Xl,"g4");function H1(e){return Xl(e)&&ny(e)==="[object Date]"}s(H1,"BW");function Uf(e){return Xl(e)&&(ny(e)==="[object Error]"||e instanceof Error)}s(Uf,"xj");function Ff(e){return typeof e=="function"}s(Ff,"cj");function OF(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}s(OF,"Fd");function RF(e){return e instanceof Buffer}s(RF,"ad");function ny(e){return Object.prototype.toString.call(e)}s(ny,"FW");function lm(e){return e<10?"0"+e.toString(10):e.toString(10)}s(lm,"nW");function jF(){var e=new Date,t=[lm(e.getHours()),lm(e.getMinutes()),lm(e.getSeconds())].join(":");return[e.getDate(),uS[e.getMonth()],t].join(" ")}s(jF,"ed");function nS(...e){console.log("%s - %s",jF(),ty.apply(null,e))}s(nS,"sV");function iS(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}s(iS,"$S");function V1(e,t){if(!t||!Xl(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}s(V1,"aW");function sS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(sS,"qS");function iy(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}s(iy,"QW");function aS(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');function t(...r){var n=r.pop();if(typeof n!="function")throw TypeError("The last argument must be of type Function");var i=this,o=s(function(...a){return n.apply(i,...a)},"O");e.apply(this,r).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(iy.bind(null,a,o))})}return s(t,"q"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),t}s(aS,"_S");var oS,lS,Ra,LF=s(()=>{},"Bd"),uS,G1,Z1,J1,cS,PF=Vo(()=>{oS=/%[sdj%]/g,lS=((e={},t={},r)=>((r=typeof process<"u"&&!1)&&(r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),t=new RegExp("^"+r+"$","i"),n=>(n=n.toUpperCase(),!e[n]&&(t.test(n)?e[n]=function(...i){console.error("%s: %s",n,pid,ty.apply(null,...i))}:e[n]=function(){}),e[n])))(),Ra=(e=>(e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.custom=Symbol.for("nodejs.util.inspect.custom"),e))(function(e,t,...r){var n={seen:[],stylize:kF};return r.length>=1&&(n.depth=r[0]),r.length>=2&&(n.colors=r[1]),ry(t)?n.showHidden=t:t&&V1(n,t),Nl(n.showHidden)&&(n.showHidden=!1),Nl(n.depth)&&(n.depth=2),Nl(n.colors)&&(n.colors=!1),n.colors&&(n.stylize=SF),oh(n,e,n.depth)}),uS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],G1=(e=>(e.custom=Symbol.for("nodejs.util.promisify.custom"),e))(function(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&e[kCustomPromisifiedSymbol]){var t=e[kCustomPromisifiedSymbol];if(typeof t!="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(...r){var n,i,o=new Promise(function(a,l){n=a,i=l});r.push(function(a,l){a?i(a):n(l)});try{e.apply(this,r)}catch(a){i(a)}return o}return s(t,"K"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),kCustomPromisifiedSymbol&&Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}),{TextEncoder:Z1,TextDecoder:J1}=globalThis,cS={TextEncoder:Z1,TextDecoder:J1,promisify:G1,log:nS,inherits:iS,_extend:V1,callbackifyOnRejected:iy,callbackify:aS}}),Ju={};Ln(Ju,{setMaxListeners:s(()=>pS,"setMaxListeners"),once:s(()=>fS,"once"),listenerCount:s(()=>mS,"listenerCount"),init:s(()=>Xs,"init"),getMaxListeners:s(()=>vS,"getMaxListeners"),getEventListeners:s(()=>hS,"getEventListeners"),default:s(()=>yS,"default"),captureRejectionSymbol:s(()=>K1,"captureRejectionSymbol"),addAbortListener:s(()=>bS,"addAbortListener"),EventEmitter:s(()=>Xs,"EventEmitter")});function dS(e,t){var{_events:r}=e;if(t[0]??=Error("Unhandled error."),!r)throw t[0];var n=r[Q1];if(n)for(var i of q1.call(n))i.apply(e,t);var o=r.error;if(!o)throw t[0];for(var i of q1.call(o))i.apply(e,t);return!0}s(dS,"TS");function DF(e,t,r,n){t.then(void 0,function(i){queueMicrotask(()=>BF(e,i,r,n))})}s(DF,"Kl");function BF(e,t,r,n){if(typeof e[X1]=="function")e[X1](t,r,...n);else try{e[Ma]=!1,e.emit("error",t)}finally{e[Ma]=!0}}s(BF,"_l");function h3(e,t,r){r.warned=!0;let n=Error(`Possible EventEmitter memory leak detected. ${r.length} ${String(t)} listeners added to [${e.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=r.length,console.warn(n)}s(h3,"wS");function p3(e,t,...r){this.removeListener(e,t),t.apply(this,r)}s(p3,"ZS");function fS(e,t,r){var n=r?.signal;if(gS(n,"options.signal"),n?.aborted)throw new Y1(void 0,{cause:n?.reason});let{resolve:i,reject:o,promise:a}=$newPromiseCapability(Promise),l=s(h=>{e.removeListener(t,u),n!=null&&Bd(n,"abort",c),o(h)},"z"),u=s((...h)=>{typeof e.removeListener=="function"&&e.removeListener("error",l),n!=null&&Bd(n,"abort",c),i(h)},"J");m3(e,t,u,{once:!0}),t!=="error"&&typeof e.once=="function"&&e.once("error",l);function c(){Bd(e,t,u),Bd(e,"error",l),o(new Y1(void 0,{cause:n?.reason}))}return s(c,"w"),n!=null&&m3(n,"abort",c,{once:!0}),a}s(fS,"fS");function hS(e,t){return e.listeners(t)}s(hS,"XS");function pS(e,...t){W1(e,"setMaxListeners",0);var r;if(t&&(r=t.length))for(let n=0;n<r;n++)t[n].setMaxListeners(e);else po=e}s(pS,"kS");function mS(e,t){return e.listenerCount(t)}s(mS,"AS");function Bd(e,t,r,n){typeof e.removeListener=="function"?e.removeListener(t,r):e.removeEventListener(t,r,n)}s(Bd,"lj");function m3(e,t,r,n){typeof e.on=="function"?n.once?e.once(t,r):e.on(t,r):e.addEventListener(t,r,n)}s(m3,"WS$1");function Ll(e,t,r){let n=TypeError(`The "${e}" argument must be of type ${t}. Received ${r}`);return n.code="ERR_INVALID_ARG_TYPE",n}s(Ll,"y4");function zF(e,t,r){let n=RangeError(`The "${e}" argument is out of range. It must be ${t}. Received ${r}`);return n.code="ERR_OUT_OF_RANGE",n}s(zF,"Ol");function gS(e,t){if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw Ll(t,"AbortSignal",e)}s(gS,"GS");function W1(e,t,r,n){if(typeof e!="number")throw Ll(t,"number",e);if(e<r||n!=null||Number.isNaN(e))throw zF(t,`${`>= ${r}`}`,e)}s(W1,"$H");function hu(e){if(typeof e!="function")throw TypeError("The listener must be a function")}s(hu,"L7");function UF(e,t){if(typeof e!="boolean")throw Ll(t,"boolean",e)}s(UF,"Yl");function vS(e){return e?._maxListeners??po}s(vS,"VS");function bS(e,t){if(e===void 0)throw Ll("signal","AbortSignal",e);if(gS(e,"signal"),typeof t!="function")throw Ll("listener","function",t);let r;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0}),r=s(()=>{e.removeEventListener("abort",t)},"K")),{__proto__:null,[Symbol.dispose](){r?.()}}}s(bS,"SS$1");var zd,Ma,Q1,g3,v3,X1,K1,q1,po=10,Xs=s(function(e){(this._events===void 0||this._events===this.__proto__._events)&&(this._events={__proto__:null},this._eventsCount=0),this._maxListeners??=void 0,(this[Ma]=e?.captureRejections?!!e?.captureRejections:Tr[Ma])&&(this.emit=$F)},"iK"),Tr,FF=s(function(e,...t){if(e==="error")return dS(this,t);var{_events:r}=this;if(r===void 0)return!1;var n=r[e];if(n===void 0)return!1;let i=n.length>1?n.slice():n;for(let o=0,{length:a}=i;o<a;o++){let l=i[o];switch(t.length){case 0:l.call(this);break;case 1:l.call(this,t[0]);break;case 2:l.call(this,t[0],t[1]);break;case 3:l.call(this,t[0],t[1],t[2]);break;default:l.apply(this,t);break}}return!0},"Pl"),$F=s(function(e,...t){if(e==="error")return dS(this,t);var{_events:r}=this;if(r===void 0)return!1;var n=r[e];if(n===void 0)return!1;let i=n.length>1?n.slice():n;for(let o=0,{length:a}=i;o<a;o++){let l=i[o],u;switch(t.length){case 0:u=l.call(this);break;case 1:u=l.call(this,t[0]);break;case 2:u=l.call(this,t[0],t[1]);break;case 3:u=l.call(this,t[0],t[1],t[2]);break;default:u=l.apply(this,t);break}u!==void 0&&typeof u?.then=="function"&&u.then===Promise.prototype.then&&DF(this,u,e,t)}return!0},"jl"),Y1,yS,Ud=Vo(()=>{zd=Symbol.for,Ma=Symbol("kCapture"),Q1=zd("events.errorMonitor"),g3=Symbol("events.maxEventTargetListeners"),v3=Symbol("events.maxEventTargetListenersWarned"),X1=zd("nodejs.rejection"),K1=zd("nodejs.rejection"),q1=Array.prototype.slice,Tr=Xs.prototype={},Tr._events=void 0,Tr._eventsCount=0,Tr._maxListeners=void 0,Tr.setMaxListeners=function(e){return W1(e,"setMaxListeners",0),this._maxListeners=e,this},Tr.constructor=Xs,Tr.getMaxListeners=function(){return this?._maxListeners??po},Tr.emit=FF,Tr.addListener=function(e,t){hu(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var n=r[e];if(!n)r[e]=[t],this._eventsCount++;else{n.push(t);var i=this._maxListeners??po;i>0&&n.length>i&&!n.warned&&h3(this,e,n)}return this},Tr.on=Tr.addListener,Tr.prependListener=function(e,t){hu(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var n=r[e];if(!n)r[e]=[t],this._eventsCount++;else{n.unshift(t);var i=this._maxListeners??po;i>0&&n.length>i&&!n.warned&&h3(this,e,n)}return this},Tr.once=function(e,t){hu(t);let r=p3.bind(this,e,t);return r.listener=t,this.addListener(e,r),this},Tr.prependOnceListener=function(e,t){hu(t);let r=p3.bind(this,e,t);return r.listener=t,this.prependListener(e,r),this},Tr.removeListener=function(e,t){hu(t);var{_events:r}=this;if(!r)return this;var n=r[e];if(!n)return this;var i=n.length;let o=-1;for(let a=i-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=a;break}return o<0?this:(o===0?n.shift():n.splice(o,1),n.length===0&&(delete r[e],this._eventsCount--),this)},Tr.off=Tr.removeListener,Tr.removeAllListeners=function(e){var{_events:t}=this;return e&&t?t[e]&&(delete t[e],this._eventsCount--):this._events={__proto__:null},this},Tr.listeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.map(n=>n.listener??n):[]},Tr.rawListeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.slice():[]},Tr.listenerCount=function(e){var{_events:t}=this;return t?t[e]?.length??0:0},Tr.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},Tr[Ma]=!1,Y1=class extends Error{static{s(this,"eW")}constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw Ll("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}},Object.defineProperties(Xs,{captureRejections:{get(){return Tr[Ma]},set(e){UF(e,"EventEmitter.captureRejections"),Tr[Ma]=e},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:s(()=>po,"get"),set:s(e=>{W1(e,"defaultMaxListeners",0),po=e},"set")},kMaxEventTargetListeners:{value:g3,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:v3,enumerable:!1,configurable:!1,writable:!1}}),Object.assign(Xs,{once:fS,getEventListeners:hS,getMaxListeners:vS,setMaxListeners:pS,EventEmitter:Xs,usingDomains:!1,captureRejectionSymbol:K1,errorMonitor:Q1,addAbortListener:bS,init:Xs,listenerCount:mS}),yS=Xs}),wS=ft((e,t)=>{var r=s((T,N)=>()=>(N||T((N={exports:{}}).exports,N),N.exports),"A6"),n=r((T,N)=>{class k extends Error{static{s(this,"K")}constructor(S){if(!Array.isArray(S))throw TypeError(`Expected input to be an Array, got ${typeof S}`);let C="";for(let O=0;O<S.length;O++)C+=`    ${S[O].stack}
`;super(C),this.name="AggregateError",this.errors=S}}N.exports={AggregateError:k,ArrayIsArray(p){return Array.isArray(p)},ArrayPrototypeIncludes(p,S){return p.includes(S)},ArrayPrototypeIndexOf(p,S){return p.indexOf(S)},ArrayPrototypeJoin(p,S){return p.join(S)},ArrayPrototypeMap(p,S){return p.map(S)},ArrayPrototypePop(p,S){return p.pop(S)},ArrayPrototypePush(p,S){return p.push(S)},ArrayPrototypeSlice(p,S,C){return p.slice(S,C)},Error,FunctionPrototypeCall(p,S,...C){return p.call(S,...C)},FunctionPrototypeSymbolHasInstance(p,S){return Function.prototype[Symbol.hasInstance].call(p,S)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(p,S){return Object.defineProperties(p,S)},ObjectDefineProperty(p,S,C){return Object.defineProperty(p,S,C)},ObjectGetOwnPropertyDescriptor(p,S){return Object.getOwnPropertyDescriptor(p,S)},ObjectKeys(p){return Object.keys(p)},ObjectSetPrototypeOf(p,S){return Object.setPrototypeOf(p,S)},Promise,PromisePrototypeCatch(p,S){return p.catch(S)},PromisePrototypeThen(p,S,C){return p.then(S,C)},PromiseReject(p){return Promise.reject(p)},PromiseResolve(p){return Promise.resolve(p)},ReflectApply:Reflect.apply,RegExpPrototypeTest(p,S){return p.test(S)},SafeSet:Set,String,StringPrototypeSlice(p,S,C){return p.slice(S,C)},StringPrototypeToLowerCase(p){return p.toLowerCase()},StringPrototypeToUpperCase(p){return p.toUpperCase()},StringPrototypeTrim(p){return p.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(p,S,C){return p.set(S,C)},Boolean,Uint8Array}}),i=r((T,N)=>{N.exports={format(k,...p){return k.replace(/%([sdifj])/g,function(...[S,C]){let O=p.shift();return C==="f"?O.toFixed(6):C==="j"?JSON.stringify(O):C==="s"&&typeof O=="object"?`${O.constructor!==Object?O.constructor.name:""} {}`.trim():O.toString()})},inspect(k){switch(typeof k){case"string":if(k.includes("'"))if(k.includes('"')){if(!k.includes("`")&&!k.includes("${"))return`\`${k}\``}else return`"${k}"`;return`'${k}'`;case"number":return isNaN(k)?"NaN":Object.is(k,-0)?String(k):k;case"bigint":return`${String(k)}n`;case"boolean":case"undefined":return String(k);case"object":return"{}"}}}}),o=r((T,N)=>{var{format:k,inspect:p}=i(),{AggregateError:S}=n(),C=globalThis.AggregateError||S,O=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],z=/^([A-Z][a-z0-9]*)+$/,$={};function W(Me,J){if(!Me)throw new $.ERR_INTERNAL_ASSERTION(J)}s(W,"k");function oe(Me){let J="",ae=Me.length,K=Me[0]==="-"?1:0;for(;ae>=K+4;ae-=3)J=`_${Me.slice(ae-3,ae)}${J}`;return`${Me.slice(0,ae)}${J}`}s(oe,"X");function ne(Me,J,ae){if(typeof J=="function")return W(J.length<=ae.length,`Code: ${Me}; The provided arguments length (${ae.length}) does not match the required ones (${J.length}).`),J(...ae);let K=(J.match(/%[dfijoOs]/g)||[]).length;return W(K===ae.length,`Code: ${Me}; The provided arguments length (${ae.length}) does not match the required ones (${K}).`),ae.length===0?J:k(J,...ae)}s(ne,"G");function ie(Me,J,ae){ae||(ae=Error);class K extends ae{static{s(this,"y")}constructor(...de){super(ne(Me,J,de))}toString(){return`${this.name} [${Me}]: ${this.message}`}}Object.defineProperties(K.prototype,{name:{value:ae.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Me}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),K.prototype.code=Me,K.prototype[O]=!0,$[Me]=K}s(ie,"V");function Qe(Me){let J="__node_internal_"+Me.name;return Object.defineProperty(Me,"name",{value:J}),Me}s(Qe,"C");function Ne(Me,J){if(Me&&J&&Me!==J){if(Array.isArray(J.errors))return J.errors.push(Me),J;let ae=new C([J,Me],J.message);return ae.code=J.code,ae}return Me||J}s(Ne,"E");class ve extends Error{static{s(this,"h")}constructor(J="The operation was aborted",ae=void 0){if(ae!==void 0&&typeof ae!="object")throw new $.ERR_INVALID_ARG_TYPE("options","Object",ae);super(J,ae),this.code="ABORT_ERR",this.name="AbortError"}}ie("ERR_ASSERTION","%s",Error),ie("ERR_INVALID_ARG_TYPE",(Me,J,ae)=>{W(typeof Me=="string","'name' must be a string"),!Array.isArray(J)&&(J=[J]);let K="The ";Me.endsWith(" argument")?K+=`${Me} `:K+=`"${Me}" ${Me.includes(".")?"property":"argument"} `,K+="must be ";let Y=[],de=[],Be=[];for(let we of J)W(typeof we=="string","All expected entries have to be of type string"),B.includes(we)?Y.push(we.toLowerCase()):z.test(we)?de.push(we):(W(we!=="object",'The value "object" should be written as "Object"'),Be.push(we));if(de.length>0){let we=Y.indexOf("object");we!==-1&&(Y.splice(Y,we,1),de.push("Object"))}if(Y.length>0){switch(Y.length){case 1:K+=`of type ${Y[0]}`;break;case 2:K+=`one of type ${Y[0]} or ${Y[1]}`;break;default:{let we=Y.pop();K+=`one of type ${Y.join(", ")}, or ${we}`}}(de.length>0||Be.length>0)&&(K+=" or ")}if(de.length>0){switch(de.length){case 1:K+=`an instance of ${de[0]}`;break;case 2:K+=`an instance of ${de[0]} or ${de[1]}`;break;default:{let we=de.pop();K+=`an instance of ${de.join(", ")}, or ${we}`}}Be.length>0&&(K+=" or ")}switch(Be.length){case 0:break;case 1:Be[0].toLowerCase()!==Be[0]&&(K+="an "),K+=`${Be[0]}`;break;case 2:K+=`one of ${Be[0]} or ${Be[1]}`;break;default:{let we=Be.pop();K+=`one of ${Be.join(", ")}, or ${we}`}}if(ae==null)K+=`. Received ${ae}`;else if(typeof ae=="function"&&ae.name)K+=`. Received function ${ae.name}`;else if(typeof ae=="object"){var Pe;if((Pe=ae.constructor)!==null&&Pe!==void 0&&Pe.name)K+=`. Received an instance of ${ae.constructor.name}`;else{let we=p(ae,{depth:-1});K+=`. Received ${we}`}}else{let we=p(ae,{colors:!1});we.length>25&&(we=`${we.slice(0,25)}...`),K+=`. Received type ${typeof ae} (${we})`}return K},TypeError),ie("ERR_INVALID_ARG_VALUE",(Me,J,ae="is invalid")=>{let K=p(J);return K.length>128&&(K=K.slice(0,128)+"..."),`The ${Me.includes(".")?"property":"argument"} '${Me}' ${ae}. Received ${K}`},TypeError),ie("ERR_INVALID_RETURN_VALUE",(Me,J,ae)=>{var K;let Y=ae!=null&&(K=ae.constructor)!==null&&K!==void 0&&K.name?`instance of ${ae.constructor.name}`:`type ${typeof ae}`;return`Expected ${Me} to be returned from the "${J}" function but got ${Y}.`},TypeError),ie("ERR_MISSING_ARGS",(...Me)=>{W(Me.length>0,"At least one arg needs to be specified");let J,ae=Me.length;switch(Me=(Array.isArray(Me)?Me:[Me]).map(K=>`"${K}"`).join(" or "),ae){case 1:J+=`The ${Me[0]} argument`;break;case 2:J+=`The ${Me[0]} and ${Me[1]} arguments`;break;default:{let K=Me.pop();J+=`The ${Me.join(", ")}, and ${K} arguments`}break}return`${J} must be specified`},TypeError),ie("ERR_OUT_OF_RANGE",(Me,J,ae)=>{W(J,'Missing "range" argument');let K;if(Number.isInteger(ae)&&Math.abs(ae)>4294967296)K=oe(String(ae));else if(typeof ae=="bigint"){K=String(ae);let Y=BigInt(2)**BigInt(32);(ae>Y||ae<-Y)&&(K=oe(K)),K+="n"}else K=p(ae);return`The value of "${Me}" is out of range. It must be ${J}. Received ${K}`},RangeError),ie("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),ie("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),ie("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),ie("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),ie("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),ie("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ie("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),ie("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),ie("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),ie("ERR_STREAM_WRITE_AFTER_END","write after end",Error),ie("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),N.exports={AbortError:ve,aggregateTwoErrors:Qe(Ne),hideStackFrames:Qe,codes:$}}),a=r((T,N)=>{Object.defineProperty(T,"__esModule",{value:!0});var k=new WeakMap,p=new WeakMap;function S(q){let te=k.get(q);return console.assert(te!=null,"'this' is expected an Event object, but got",q),te}s(S,"_");function C(q){if(q.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",q.passiveListener);return}q.event.cancelable&&(q.canceled=!0,typeof q.event.preventDefault=="function"&&q.event.preventDefault())}s(C,"O");function O(q,te){k.set(this,{eventTarget:q,event:te,eventPhase:2,currentTarget:q,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:te.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let re=Object.keys(te);for(let Ee=0;Ee<re.length;++Ee){let ge=re[Ee];ge in this||Object.defineProperty(this,ge,B(ge))}}s(O,"j"),O.prototype={get type(){return S(this).event.type},get target(){return S(this).eventTarget},get currentTarget(){return S(this).currentTarget},composedPath(){let q=S(this).currentTarget;return q==null?[]:[q]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return S(this).eventPhase},stopPropagation(){let q=S(this);q.stopped=!0,typeof q.event.stopPropagation=="function"&&q.event.stopPropagation()},stopImmediatePropagation(){let q=S(this);q.stopped=!0,q.immediateStopped=!0,typeof q.event.stopImmediatePropagation=="function"&&q.event.stopImmediatePropagation()},get bubbles(){return!!S(this).event.bubbles},get cancelable(){return!!S(this).event.cancelable},preventDefault(){C(S(this))},get defaultPrevented(){return S(this).canceled},get composed(){return!!S(this).event.composed},get timeStamp(){return S(this).timeStamp},get srcElement(){return S(this).eventTarget},get cancelBubble(){return S(this).stopped},set cancelBubble(q){if(!q)return;let te=S(this);te.stopped=!0,typeof te.event.cancelBubble=="boolean"&&(te.event.cancelBubble=!0)},get returnValue(){return!S(this).canceled},set returnValue(q){q||C(S(this))},initEvent(){}},Object.defineProperty(O.prototype,"constructor",{value:O,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(O.prototype,window.Event.prototype),p.set(window.Event.prototype,O));function B(q){return{get(){return S(this).event[q]},set(te){S(this).event[q]=te},configurable:!0,enumerable:!0}}s(B,"z");function z(q){return{value(){let te=S(this).event;return te[q].apply(te,arguments)},configurable:!0,enumerable:!0}}s(z,"J");function $(q,te){let re=Object.keys(te);if(re.length===0)return q;function Ee(ge,he){q.call(this,ge,he)}s(Ee,"Y"),Ee.prototype=Object.create(q.prototype,{constructor:{value:Ee,configurable:!0,writable:!0}});for(let ge=0;ge<re.length;++ge){let he=re[ge];if(!(he in q.prototype)){let it=typeof Object.getOwnPropertyDescriptor(te,he).value=="function";Object.defineProperty(Ee.prototype,he,it?z(he):B(he))}}return Ee}s($,"w");function W(q){if(q==null||q===Object.prototype)return O;let te=p.get(q);return te==null&&(te=$(W(Object.getPrototypeOf(q)),q),p.set(q,te)),te}s(W,"k");function oe(q,te){return new(W(Object.getPrototypeOf(te)))(q,te)}s(oe,"X");function ne(q){return S(q).immediateStopped}s(ne,"G");function ie(q,te){S(q).eventPhase=te}s(ie,"V");function Qe(q,te){S(q).currentTarget=te}s(Qe,"C");function Ne(q,te){S(q).passiveListener=te}s(Ne,"E");var ve=new WeakMap,Me=1,J=2,ae=3;function K(q){return q!==null&&typeof q=="object"}s(K,"y");function Y(q){let te=ve.get(q);if(te==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return te}s(Y,"u");function de(q){return{get(){let te=Y(this).get(q);for(;te!=null;){if(te.listenerType===ae)return te.listener;te=te.next}return null},set(te){typeof te!="function"&&!K(te)&&(te=null);let re=Y(this),Ee=null,ge=re.get(q);for(;ge!=null;)ge.listenerType===ae?Ee!==null?Ee.next=ge.next:ge.next!==null?re.set(q,ge.next):re.delete(q):Ee=ge,ge=ge.next;if(te!==null){let he={listener:te,listenerType:ae,passive:!1,once:!1,next:null};Ee===null?re.set(q,he):Ee.next=he}},configurable:!0,enumerable:!0}}s(de,"p");function Be(q,te){Object.defineProperty(q,`on${te}`,de(te))}s(Be,"l");function Pe(q){function te(){we.call(this)}s(te,"o"),te.prototype=Object.create(we.prototype,{constructor:{value:te,configurable:!0,writable:!0}});for(let re=0;re<q.length;++re)Be(te.prototype,q[re]);return te}s(Pe,"Q");function we(){if(this instanceof we){ve.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Pe(arguments[0]);if(arguments.length>0){let q=Array(arguments.length);for(let te=0;te<arguments.length;++te)q[te]=arguments[te];return Pe(q)}throw TypeError("Cannot call a class as a function")}s(we,"e"),we.prototype={addEventListener(q,te,re){if(te==null)return;if(typeof te!="function"&&!K(te))throw TypeError("'listener' should be a function or an object.");let Ee=Y(this),ge=K(re),he=(ge?re.capture:re)?Me:J,it={listener:te,listenerType:he,passive:ge&&!!re.passive,once:ge&&!!re.once,next:null},Re=Ee.get(q);if(Re===void 0){Ee.set(q,it);return}let Xe=null;for(;Re!=null;){if(Re.listener===te&&Re.listenerType===he)return;Xe=Re,Re=Re.next}Xe.next=it},removeEventListener(q,te,re){if(te==null)return;let Ee=Y(this),ge=(K(re)?re.capture:re)?Me:J,he=null,it=Ee.get(q);for(;it!=null;){if(it.listener===te&&it.listenerType===ge){he!==null?he.next=it.next:it.next!==null?Ee.set(q,it.next):Ee.delete(q);return}he=it,it=it.next}},dispatchEvent(q){if(q==null||typeof q.type!="string")throw TypeError('"event.type" should be a string.');let te=Y(this),re=q.type,Ee=te.get(re);if(Ee==null)return!0;let ge=oe(this,q),he=null;for(;Ee!=null;){if(Ee.once?he!==null?he.next=Ee.next:Ee.next!==null?te.set(re,Ee.next):te.delete(re):he=Ee,Ne(ge,Ee.passive?Ee.listener:null),typeof Ee.listener=="function")try{Ee.listener.call(this,ge)}catch(it){typeof console<"u"&&typeof console.error=="function"&&console.error(it)}else Ee.listenerType!==ae&&typeof Ee.listener.handleEvent=="function"&&Ee.listener.handleEvent(ge);if(ne(ge))break;Ee=Ee.next}return Ne(ge,null),ie(ge,0),Qe(ge,null),!ge.defaultPrevented}},Object.defineProperty(we.prototype,"constructor",{value:we,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(we.prototype,window.EventTarget.prototype),T.defineEventAttribute=Be,T.EventTarget=we,T.default=we,N.exports=we,N.exports.EventTarget=N.exports.default=we,N.exports.defineEventAttribute=Be}),l=r((T,N)=>{Object.defineProperty(T,"__esModule",{value:!0});var k=a();class p extends k.EventTarget{static{s(this,"P")}constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let oe=O.get(this);if(typeof oe!="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return oe}}k.defineEventAttribute(p.prototype,"abort");function S(){let W=Object.create(p.prototype);return k.EventTarget.call(W),O.set(W,!1),W}s(S,"_");function C(W){O.get(W)===!1&&(O.set(W,!0),W.dispatchEvent({type:"abort"}))}s(C,"O");var O=new WeakMap;Object.defineProperties(p.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(p.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class B{static{s(this,"z")}constructor(){z.set(this,S())}get signal(){return $(this)}abort(){C($(this))}}var z=new WeakMap;function $(W){let oe=z.get(W);if(oe==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${W===null?"null":typeof W}`);return oe}s($,"w"),Object.defineProperties(B.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(B.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),T.AbortController=B,T.AbortSignal=p,T.default=B,N.exports=B,N.exports.AbortController=N.exports.default=B,N.exports.AbortSignal=p}),u=r((T,N)=>{var k=(kn(),rr(wn)),{format:p,inspect:S}=i(),{codes:{ERR_INVALID_ARG_TYPE:C}}=o(),{kResistStopPropagation:O,AggregateError:B,SymbolDispose:z}=n(),$=globalThis.AbortSignal||l().AbortSignal,W=globalThis.AbortController||l().AbortController,oe=Object.getPrototypeOf(async function(){}).constructor,ne=globalThis.Blob||k.Blob,ie=typeof ne<"u"?function(ve){return ve instanceof ne}:function(ve){return!1},Qe=s((ve,Me)=>{if(ve!==void 0&&(ve===null||typeof ve!="object"||!("aborted"in ve)))throw new C(Me,"AbortSignal",ve)},"C"),Ne=s((ve,Me)=>{if(typeof ve!="function")throw new C(Me,"Function",ve)},"E");N.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(ve){let Me=!1;return function(...J){Me||(Me=!0,ve.apply(this,J))}},createDeferredPromise:s(function(){let ve,Me;return{promise:new Promise((J,ae)=>{ve=J,Me=ae}),resolve:ve,reject:Me}},"createDeferredPromise"),promisify(ve){return new Promise((Me,J)=>{ve((ae,...K)=>ae?J(ae):Me(...K))})},debuglog(){return function(){}},format:p,inspect:S,types:{isAsyncFunction(ve){return ve instanceof oe},isArrayBufferView(ve){return ArrayBuffer.isView(ve)}},isBlob:ie,deprecate(ve,Me){return ve},addAbortListener:(Ud(),rr(Ju)).addAbortListener||function(ve,Me){if(ve===void 0)throw new C("signal","AbortSignal",ve);Qe(ve,"signal"),Ne(Me,"listener");let J;return ve.aborted?queueMicrotask(()=>Me()):(ve.addEventListener("abort",Me,{__proto__:null,once:!0,[O]:!0}),J=s(()=>{ve.removeEventListener("abort",Me)},"g")),{__proto__:null,[z](){var ae;(ae=J)===null||ae===void 0||ae()}}},AbortSignalAny:$.any||function(ve){if(ve.length===1)return ve[0];let Me=new W,J=s(()=>Me.abort(),"g");return ve.forEach(ae=>{Qe(ae,"signals"),ae.addEventListener("abort",J,{once:!0})}),Me.signal.addEventListener("abort",()=>{ve.forEach(ae=>ae.removeEventListener("abort",J))},{once:!0}),Me.signal}},N.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),c=r((T,N)=>{var{ArrayIsArray:k,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:S,ArrayPrototypeMap:C,NumberIsInteger:O,NumberIsNaN:B,NumberMAX_SAFE_INTEGER:z,NumberMIN_SAFE_INTEGER:$,NumberParseInt:W,ObjectPrototypeHasOwnProperty:oe,RegExpPrototypeExec:ne,String:ie,StringPrototypeToUpperCase:Qe,StringPrototypeTrim:Ne}=n(),{hideStackFrames:ve,codes:{ERR_SOCKET_BAD_PORT:Me,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:ae,ERR_OUT_OF_RANGE:K,ERR_UNKNOWN_SIGNAL:Y}}=o(),{normalizeEncoding:de}=u(),{isAsyncFunction:Be,isArrayBufferView:Pe}=u().types,we={};function q(ce){return ce===(ce|0)}s(q,"m");function te(ce){return ce===ce>>>0}s(te,"o");var re=/^[0-7]+$/,Ee="must be a 32-bit unsigned integer or an octal string";function ge(ce,Le,lt){if(typeof ce>"u"&&(ce=lt),typeof ce=="string"){if(ne(re,ce)===null)throw new ae(Le,ce,Ee);ce=W(ce,8)}return Re(ce,Le),ce}s(ge,"H");var he=ve((ce,Le,lt=$,Te=z)=>{if(typeof ce!="number")throw new J(Le,"number",ce);if(!O(ce))throw new K(Le,"an integer",ce);if(ce<lt||ce>Te)throw new K(Le,`>= ${lt} && <= ${Te}`,ce)}),it=ve((ce,Le,lt=-2147483648,Te=2147483647)=>{if(typeof ce!="number")throw new J(Le,"number",ce);if(!O(ce))throw new K(Le,"an integer",ce);if(ce<lt||ce>Te)throw new K(Le,`>= ${lt} && <= ${Te}`,ce)}),Re=ve((ce,Le,lt=!1)=>{if(typeof ce!="number")throw new J(Le,"number",ce);if(!O(ce))throw new K(Le,"an integer",ce);let Te=lt?1:0,ut=4294967295;if(ce<Te||ce>ut)throw new K(Le,`>= ${Te} && <= ${ut}`,ce)});function Xe(ce,Le){if(typeof ce!="string")throw new J(Le,"string",ce)}s(Xe,"S");function Nt(ce,Le,lt=void 0,Te){if(typeof ce!="number")throw new J(Le,"number",ce);if(lt!=null&&ce<lt||Te!=null&&ce>Te||(lt!=null||Te!=null)&&B(ce))throw new K(Le,`${lt!=null?`>= ${lt}`:""}${lt!=null&&Te!=null?" && ":""}${Te!=null?`<= ${Te}`:""}`,ce)}s(Nt,"N");var Ae=ve((ce,Le,lt)=>{if(!p(lt,ce)){let Te="must be one of: "+S(C(lt,ut=>typeof ut=="string"?`'${ut}'`:ie(ut)),", ");throw new ae(Le,ce,Te)}});function qe(ce,Le){if(typeof ce!="boolean")throw new J(Le,"boolean",ce)}s(qe,"v");function ye(ce,Le,lt){return ce==null||!oe(ce,Le)?lt:ce[Le]}s(ye,"A");var Ce=ve((ce,Le,lt=null)=>{let Te=ye(lt,"allowArray",!1),ut=ye(lt,"allowFunction",!1);if(!ye(lt,"nullable",!1)&&ce===null||!Te&&k(ce)||typeof ce!="object"&&(!ut||typeof ce!="function"))throw new J(Le,"Object",ce)}),He=ve((ce,Le)=>{if(ce!=null&&typeof ce!="object"&&typeof ce!="function")throw new J(Le,"a dictionary",ce)}),We=ve((ce,Le,lt=0)=>{if(!k(ce))throw new J(Le,"Array",ce);if(ce.length<lt){let Te=`must be longer than ${lt}`;throw new ae(Le,ce,Te)}});function Ue(ce,Le){We(ce,Le);for(let lt=0;lt<ce.length;lt++)Xe(ce[lt],`${Le}[${lt}]`)}s(Ue,"d");function tt(ce,Le){We(ce,Le);for(let lt=0;lt<ce.length;lt++)qe(ce[lt],`${Le}[${lt}]`)}s(tt,"i");function Ot(ce,Le){We(ce,Le);for(let lt=0;lt<ce.length;lt++){let Te=ce[lt],ut=`${Le}[${lt}]`;if(Te==null)throw new J(ut,"AbortSignal",Te);rt(Te,ut)}}s(Ot,"F");function Ke(ce,Le="signal"){if(Xe(ce,Le),we[ce]===void 0)throw we[Qe(ce)]!==void 0?new Y(ce+" (signals must use all capital letters)"):new Y(ce)}s(Ke,"W$");var Ie=ve((ce,Le="buffer")=>{if(!Pe(ce))throw new J(Le,["Buffer","TypedArray","DataView"],ce)});function et(ce,Le){let lt=de(Le),Te=ce.length;if(lt==="hex"&&Te%2!==0)throw new ae("encoding",Le,`is invalid for data of length ${Te}`)}s(et,"B");function De(ce,Le="Port",lt=!0){if(typeof ce!="number"&&typeof ce!="string"||typeof ce=="string"&&Ne(ce).length===0||+ce!==+ce>>>0||ce>65535||ce===0&&!lt)throw new Me(Le,ce,lt);return ce|0}s(De,"u$");var rt=ve((ce,Le)=>{if(ce!==void 0&&(ce===null||typeof ce!="object"||!("aborted"in ce)))throw new J(Le,"AbortSignal",ce)}),Tt=ve((ce,Le)=>{if(typeof ce!="function")throw new J(Le,"Function",ce)}),ue=ve((ce,Le)=>{if(typeof ce!="function"||Be(ce))throw new J(Le,"Function",ce)}),be=ve((ce,Le)=>{if(ce!==void 0)throw new J(Le,"undefined",ce)});function Ze(ce,Le,lt){if(!p(lt,ce))throw new J(Le,`('${S(lt,"|")}')`,ce)}s(Ze,"t");var je=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ze(ce,Le){if(typeof ce>"u"||!ne(je,ce))throw new ae(Le,ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(ze,"q$");function ct(ce){if(typeof ce=="string")return ze(ce,"hints"),ce;if(k(ce)){let Le=ce.length,lt="";if(Le===0)return lt;for(let Te=0;Te<Le;Te++){let ut=ce[Te];ze(ut,"hints"),lt+=ut,Te!==Le-1&&(lt+=", ")}return lt}throw new ae("hints",ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(ct,"$$"),N.exports={isInt32:q,isUint32:te,parseFileMode:ge,validateArray:We,validateStringArray:Ue,validateBooleanArray:tt,validateAbortSignalArray:Ot,validateBoolean:qe,validateBuffer:Ie,validateDictionary:He,validateEncoding:et,validateFunction:Tt,validateInt32:it,validateInteger:he,validateNumber:Nt,validateObject:Ce,validateOneOf:Ae,validatePlainFunction:ue,validatePort:De,validateSignalName:Ke,validateString:Xe,validateUint32:Re,validateUndefined:be,validateUnion:Ze,validateAbortSignal:rt,validateLinkHeaderValue:ct}}),h=r((T,N)=>{N.exports=globalThis.process}),f=r((T,N)=>{var{SymbolAsyncIterator:k,SymbolIterator:p,SymbolFor:S}=n(),C=S("nodejs.stream.destroyed"),O=S("nodejs.stream.errored"),B=S("nodejs.stream.readable"),z=S("nodejs.stream.writable"),$=S("nodejs.stream.disturbed"),W=S("nodejs.webstream.isClosedPromise"),oe=S("nodejs.webstream.controllerErrorFunction");function ne(ye,Ce=!1){var He;return!!(ye&&typeof ye.pipe=="function"&&typeof ye.on=="function"&&(!Ce||typeof ye.pause=="function"&&typeof ye.resume=="function")&&(!ye._writableState||((He=ye._readableState)===null||He===void 0?void 0:He.readable)!==!1)&&(!ye._writableState||ye._readableState))}s(ne,"G");function ie(ye){var Ce;return!!(ye&&typeof ye.write=="function"&&typeof ye.on=="function"&&(!ye._readableState||((Ce=ye._writableState)===null||Ce===void 0?void 0:Ce.writable)!==!1))}s(ie,"V");function Qe(ye){return!!(ye&&typeof ye.pipe=="function"&&ye._readableState&&typeof ye.on=="function"&&typeof ye.write=="function")}s(Qe,"C");function Ne(ye){return ye&&(ye._readableState||ye._writableState||typeof ye.write=="function"&&typeof ye.on=="function"||typeof ye.pipe=="function"&&typeof ye.on=="function")}s(Ne,"E");function ve(ye){return!!(ye&&!Ne(ye)&&typeof ye.pipeThrough=="function"&&typeof ye.getReader=="function"&&typeof ye.cancel=="function")}s(ve,"h");function Me(ye){return!!(ye&&!Ne(ye)&&typeof ye.getWriter=="function"&&typeof ye.abort=="function")}s(Me,"I");function J(ye){return!!(ye&&!Ne(ye)&&typeof ye.readable=="object"&&typeof ye.writable=="object")}s(J,"D");function ae(ye){return ve(ye)||Me(ye)||J(ye)}s(ae,"g");function K(ye,Ce){return ye==null?!1:Ce===!0?typeof ye[k]=="function":Ce===!1?typeof ye[p]=="function":typeof ye[k]=="function"||typeof ye[p]=="function"}s(K,"y");function Y(ye){if(!Ne(ye))return null;let{_writableState:Ce,_readableState:He}=ye,We=Ce||He;return!!(ye.destroyed||ye[C]||We!=null&&We.destroyed)}s(Y,"u");function de(ye){if(!ie(ye))return null;if(ye.writableEnded===!0)return!0;let Ce=ye._writableState;return Ce!=null&&Ce.errored?!1:typeof Ce?.ended!="boolean"?null:Ce.ended}s(de,"p");function Be(ye,Ce){if(!ie(ye))return null;if(ye.writableFinished===!0)return!0;let He=ye._writableState;return He!=null&&He.errored?!1:typeof He?.finished!="boolean"?null:!!(He.finished||Ce===!1&&He.ended===!0&&He.length===0)}s(Be,"l");function Pe(ye){if(!ne(ye))return null;if(ye.readableEnded===!0)return!0;let Ce=ye._readableState;return!Ce||Ce.errored?!1:typeof Ce?.ended!="boolean"?null:Ce.ended}s(Pe,"Q");function we(ye,Ce){if(!ne(ye))return null;let He=ye._readableState;return He!=null&&He.errored?!1:typeof He?.endEmitted!="boolean"?null:!!(He.endEmitted||Ce===!1&&He.ended===!0&&He.length===0)}s(we,"e");function q(ye){return ye&&ye[B]!=null?ye[B]:typeof ye?.readable!="boolean"?null:Y(ye)?!1:ne(ye)&&ye.readable&&!we(ye)}s(q,"m");function te(ye){return ye&&ye[z]!=null?ye[z]:typeof ye?.writable!="boolean"?null:Y(ye)?!1:ie(ye)&&ye.writable&&!de(ye)}s(te,"o");function re(ye,Ce){return Ne(ye)?Y(ye)?!0:!(Ce?.readable!==!1&&q(ye)||Ce?.writable!==!1&&te(ye)):null}s(re,"M");function Ee(ye){var Ce,He;return Ne(ye)?ye.writableErrored?ye.writableErrored:(Ce=(He=ye._writableState)===null||He===void 0?void 0:He.errored)!==null&&Ce!==void 0?Ce:null:null}s(Ee,"Y");function ge(ye){var Ce,He;return Ne(ye)?ye.readableErrored?ye.readableErrored:(Ce=(He=ye._readableState)===null||He===void 0?void 0:He.errored)!==null&&Ce!==void 0?Ce:null:null}s(ge,"H");function he(ye){if(!Ne(ye))return null;if(typeof ye.closed=="boolean")return ye.closed;let{_writableState:Ce,_readableState:He}=ye;return typeof Ce?.closed=="boolean"||typeof He?.closed=="boolean"?Ce?.closed||He?.closed:typeof ye._closed=="boolean"&&it(ye)?ye._closed:null}s(he,"T");function it(ye){return typeof ye._closed=="boolean"&&typeof ye._defaultKeepAlive=="boolean"&&typeof ye._removedConnection=="boolean"&&typeof ye._removedContLen=="boolean"}s(it,"W");function Re(ye){return typeof ye._sent100=="boolean"&&it(ye)}s(Re,"Z");function Xe(ye){var Ce;return typeof ye._consuming=="boolean"&&typeof ye._dumped=="boolean"&&((Ce=ye.req)===null||Ce===void 0?void 0:Ce.upgradeOrConnect)===void 0}s(Xe,"S");function Nt(ye){if(!Ne(ye))return null;let{_writableState:Ce,_readableState:He}=ye,We=Ce||He;return!We&&Re(ye)||!!(We&&We.autoDestroy&&We.emitClose&&We.closed===!1)}s(Nt,"N");function Ae(ye){var Ce;return!!(ye&&((Ce=ye[$])!==null&&Ce!==void 0?Ce:ye.readableDidRead||ye.readableAborted))}s(Ae,"f");function qe(ye){var Ce,He,We,Ue,tt,Ot,Ke,Ie,et,De;return!!(ye&&((Ce=(He=(We=(Ue=(tt=(Ot=ye[O])!==null&&Ot!==void 0?Ot:ye.readableErrored)!==null&&tt!==void 0?tt:ye.writableErrored)!==null&&Ue!==void 0?Ue:(Ke=ye._readableState)===null||Ke===void 0?void 0:Ke.errorEmitted)!==null&&We!==void 0?We:(Ie=ye._writableState)===null||Ie===void 0?void 0:Ie.errorEmitted)!==null&&He!==void 0?He:(et=ye._readableState)===null||et===void 0?void 0:et.errored)!==null&&Ce!==void 0?Ce:!((De=ye._writableState)===null||De===void 0)&&De.errored))}s(qe,"v"),N.exports={isDestroyed:Y,kIsDestroyed:C,isDisturbed:Ae,kIsDisturbed:$,isErrored:qe,kIsErrored:O,isReadable:q,kIsReadable:B,kIsClosedPromise:W,kControllerErrorFunction:oe,kIsWritable:z,isClosed:he,isDuplexNodeStream:Qe,isFinished:re,isIterable:K,isReadableNodeStream:ne,isReadableStream:ve,isReadableEnded:Pe,isReadableFinished:we,isReadableErrored:ge,isNodeStream:Ne,isWebStream:ae,isWritable:te,isWritableNodeStream:ie,isWritableStream:Me,isWritableEnded:de,isWritableFinished:Be,isWritableErrored:Ee,isServerRequest:Xe,isServerResponse:Re,willEmitClose:Nt,isTransformStream:J}}),v=r((T,N)=>{var k=h(),{AbortError:p,codes:S}=o(),{ERR_INVALID_ARG_TYPE:C,ERR_STREAM_PREMATURE_CLOSE:O}=S,{kEmptyObject:B,once:z}=u(),{validateAbortSignal:$,validateFunction:W,validateObject:oe,validateBoolean:ne}=c(),{Promise:ie,PromisePrototypeThen:Qe,SymbolDispose:Ne}=n(),{isClosed:ve,isReadable:Me,isReadableNodeStream:J,isReadableStream:ae,isReadableFinished:K,isReadableErrored:Y,isWritable:de,isWritableNodeStream:Be,isWritableStream:Pe,isWritableFinished:we,isWritableErrored:q,isNodeStream:te,willEmitClose:re,kIsClosedPromise:Ee}=f(),ge;function he(Ae){return Ae.setHeader&&typeof Ae.abort=="function"}s(he,"T");var it=s(()=>{},"W");function Re(Ae,qe,ye){var Ce,He;if(arguments.length===2?(ye=qe,qe=B):qe==null?qe=B:oe(qe,"options"),W(ye,"callback"),$(qe.signal,"options.signal"),ye=z(ye),ae(Ae)||Pe(Ae))return Xe(Ae,qe,ye);if(!te(Ae))throw new C("stream",["ReadableStream","WritableStream","Stream"],Ae);let We=(Ce=qe.readable)!==null&&Ce!==void 0?Ce:J(Ae),Ue=(He=qe.writable)!==null&&He!==void 0?He:Be(Ae),tt=Ae._writableState,Ot=Ae._readableState,Ke=s(()=>{Ae.writable||De()},"W$"),Ie=re(Ae)&&J(Ae)===We&&Be(Ae)===Ue,et=we(Ae,!1),De=s(()=>{et=!0,Ae.destroyed&&(Ie=!1),!(Ie&&(!Ae.readable||We))&&(!We||rt)&&ye.call(Ae)},"u$"),rt=K(Ae,!1),Tt=s(()=>{rt=!0,Ae.destroyed&&(Ie=!1),!(Ie&&(!Ae.writable||Ue))&&(!Ue||et)&&ye.call(Ae)},"v$"),ue=s(ce=>{ye.call(Ae,ce)},"a"),be=ve(Ae),Ze=s(()=>{be=!0;let ce=q(Ae)||Y(Ae);if(ce&&typeof ce!="boolean")return ye.call(Ae,ce);if(We&&!rt&&J(Ae,!0)&&!K(Ae,!1))return ye.call(Ae,new O);if(Ue&&!et&&!we(Ae,!1))return ye.call(Ae,new O);ye.call(Ae)},"t"),je=s(()=>{be=!0;let ce=q(Ae)||Y(Ae);if(ce&&typeof ce!="boolean")return ye.call(Ae,ce);ye.call(Ae)},"x$"),ze=s(()=>{Ae.req.on("finish",De)},"q$");he(Ae)?(Ae.on("complete",De),!Ie&&Ae.on("abort",Ze),Ae.req?ze():Ae.on("request",ze)):Ue&&!tt&&(Ae.on("end",Ke),Ae.on("close",Ke)),!Ie&&typeof Ae.aborted=="boolean"&&Ae.on("aborted",Ze),Ae.on("end",Tt),Ae.on("finish",De),qe.error!==!1&&Ae.on("error",ue),Ae.on("close",Ze),be?k.nextTick(Ze):tt!=null&&tt.errorEmitted||Ot!=null&&Ot.errorEmitted?Ie||k.nextTick(je):(!We&&(!Ie||Me(Ae))&&(et||de(Ae)===!1)||!Ue&&(!Ie||de(Ae))&&(rt||Me(Ae)===!1)||Ot&&Ae.req&&Ae.aborted)&&k.nextTick(je);let ct=s(()=>{ye=it,Ae.removeListener("aborted",Ze),Ae.removeListener("complete",De),Ae.removeListener("abort",Ze),Ae.removeListener("request",ze),Ae.req&&Ae.req.removeListener("finish",De),Ae.removeListener("end",Ke),Ae.removeListener("close",Ke),Ae.removeListener("finish",De),Ae.removeListener("end",Tt),Ae.removeListener("error",ue),Ae.removeListener("close",Ze)},"$$");if(qe.signal&&!be){let ce=s(()=>{let Le=ye;ct(),Le.call(Ae,new p(void 0,{cause:qe.signal.reason}))},"s");if(qe.signal.aborted)k.nextTick(ce);else{ge=ge||u().addAbortListener;let Le=ge(qe.signal,ce),lt=ye;ye=z((...Te)=>{Le[Ne](),lt.apply(Ae,Te)})}}return ct}s(Re,"Z");function Xe(Ae,qe,ye){let Ce=!1,He=it;if(qe.signal)if(He=s(()=>{Ce=!0,ye.call(Ae,new p(void 0,{cause:qe.signal.reason}))},"R"),qe.signal.aborted)k.nextTick(He);else{ge=ge||u().addAbortListener;let Ue=ge(qe.signal,He),tt=ye;ye=z((...Ot)=>{Ue[Ne](),tt.apply(Ae,Ot)})}let We=s((...Ue)=>{Ce||k.nextTick(()=>ye.apply(Ae,Ue))},"b");return Qe(Ae[Ee].promise,We,We),it}s(Xe,"S");function Nt(Ae,qe){var ye;let Ce=!1;return qe===null&&(qe=B),(ye=qe)!==null&&ye!==void 0&&ye.cleanup&&(ne(qe.cleanup,"cleanup"),Ce=qe.cleanup),new ie((He,We)=>{let Ue=Re(Ae,qe,tt=>{Ce&&Ue(),tt?We(tt):He()})})}s(Nt,"N"),N.exports=Re,N.exports.finished=Nt}),m=r((T,N)=>{var k=h(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:S},AbortError:C}=o(),{Symbol:O}=n(),{kIsDestroyed:B,isDestroyed:z,isFinished:$,isServerRequest:W}=f(),oe=O("kDestroy"),ne=O("kConstruct");function ie(re,Ee,ge){re&&(re.stack,Ee&&!Ee.errored&&(Ee.errored=re),ge&&!ge.errored&&(ge.errored=re))}s(ie,"V");function Qe(re,Ee){let ge=this._readableState,he=this._writableState,it=he||ge;return he!=null&&he.destroyed||ge!=null&&ge.destroyed?(typeof Ee=="function"&&Ee(),this):(ie(re,he,ge),he&&(he.destroyed=!0),ge&&(ge.destroyed=!0),it.constructed?Ne(this,re,Ee):this.once(oe,function(Re){Ne(this,p(Re,re),Ee)}),this)}s(Qe,"C");function Ne(re,Ee,ge){let he=!1;function it(Re){if(he)return;he=!0;let{_readableState:Xe,_writableState:Nt}=re;ie(Re,Nt,Xe),Nt&&(Nt.closed=!0),Xe&&(Xe.closed=!0),typeof ge=="function"&&ge(Re),Re?k.nextTick(ve,re,Re):k.nextTick(Me,re)}s(it,"W");try{re._destroy(Ee||null,it)}catch(Re){it(Re)}}s(Ne,"E");function ve(re,Ee){J(re,Ee),Me(re)}s(ve,"h");function Me(re){let{_readableState:Ee,_writableState:ge}=re;ge&&(ge.closeEmitted=!0),Ee&&(Ee.closeEmitted=!0),(ge!=null&&ge.emitClose||Ee!=null&&Ee.emitClose)&&re.emit("close")}s(Me,"I");function J(re,Ee){let{_readableState:ge,_writableState:he}=re;he!=null&&he.errorEmitted||ge!=null&&ge.errorEmitted||(he&&(he.errorEmitted=!0),ge&&(ge.errorEmitted=!0),re.emit("error",Ee))}s(J,"D");function ae(){let re=this._readableState,Ee=this._writableState;re&&(re.constructed=!0,re.closed=!1,re.closeEmitted=!1,re.destroyed=!1,re.errored=null,re.errorEmitted=!1,re.reading=!1,re.ended=re.readable===!1,re.endEmitted=re.readable===!1),Ee&&(Ee.constructed=!0,Ee.destroyed=!1,Ee.closed=!1,Ee.closeEmitted=!1,Ee.errored=null,Ee.errorEmitted=!1,Ee.finalCalled=!1,Ee.prefinished=!1,Ee.ended=Ee.writable===!1,Ee.ending=Ee.writable===!1,Ee.finished=Ee.writable===!1)}s(ae,"g");function K(re,Ee,ge){let{_readableState:he,_writableState:it}=re;if(it!=null&&it.destroyed||he!=null&&he.destroyed)return this;he!=null&&he.autoDestroy||it!=null&&it.autoDestroy?re.destroy(Ee):Ee&&(Ee.stack,it&&!it.errored&&(it.errored=Ee),he&&!he.errored&&(he.errored=Ee),ge?k.nextTick(J,re,Ee):J(re,Ee))}s(K,"y");function Y(re,Ee){if(typeof re._construct!="function")return;let{_readableState:ge,_writableState:he}=re;ge&&(ge.constructed=!1),he&&(he.constructed=!1),re.once(ne,Ee),!(re.listenerCount(ne)>1)&&k.nextTick(de,re)}s(Y,"u");function de(re){let Ee=!1;function ge(he){if(Ee){K(re,he??new S);return}Ee=!0;let{_readableState:it,_writableState:Re}=re,Xe=Re||it;it&&(it.constructed=!0),Re&&(Re.constructed=!0),Xe.destroyed?re.emit(oe,he):he?K(re,he,!0):k.nextTick(Be,re)}s(ge,"H");try{re._construct(he=>{k.nextTick(ge,he)})}catch(he){k.nextTick(ge,he)}}s(de,"p");function Be(re){re.emit(ne)}s(Be,"l");function Pe(re){return re?.setHeader&&typeof re.abort=="function"}s(Pe,"Q");function we(re){re.emit("close")}s(we,"e");function q(re,Ee){re.emit("error",Ee),k.nextTick(we,re)}s(q,"m");function te(re,Ee){!re||z(re)||(!Ee&&!$(re)&&(Ee=new C),W(re)?(re.socket=null,re.destroy(Ee)):Pe(re)?re.abort():Pe(re.req)?re.req.abort():typeof re.destroy=="function"?re.destroy(Ee):typeof re.close=="function"?re.close():Ee?k.nextTick(q,re,Ee):k.nextTick(we,re),re.destroyed||(re[B]=!0))}s(te,"o"),N.exports={construct:Y,destroyer:te,destroy:Qe,undestroy:ae,errorOrDestroy:K}}),w=r((T,N)=>{var{ArrayIsArray:k,ObjectSetPrototypeOf:p}=n(),{EventEmitter:S}=(Ud(),rr(Ju));function C(B){S.call(this,B)}s(C,"O"),p(C.prototype,S.prototype),p(C,S),C.prototype.pipe=function(B,z){let $=this;function W(Me){B.writable&&B.write(Me)===!1&&$.pause&&$.pause()}s(W,"k"),$.on("data",W);function oe(){$.readable&&$.resume&&$.resume()}s(oe,"X"),B.on("drain",oe),!B._isStdio&&(!z||z.end!==!1)&&($.on("end",ie),$.on("close",Qe));let ne=!1;function ie(){ne||(ne=!0,B.end())}s(ie,"V");function Qe(){ne||(ne=!0,typeof B.destroy=="function"&&B.destroy())}s(Qe,"C");function Ne(Me){ve(),S.listenerCount(this,"error")===0&&this.emit("error",Me)}s(Ne,"E"),O($,"error",Ne),O(B,"error",Ne);function ve(){$.removeListener("data",W),B.removeListener("drain",oe),$.removeListener("end",ie),$.removeListener("close",Qe),$.removeListener("error",Ne),B.removeListener("error",Ne),$.removeListener("end",ve),$.removeListener("close",ve),B.removeListener("close",ve)}return s(ve,"h"),$.on("end",ve),$.on("close",ve),B.on("close",ve),B.emit("pipe",$),B};function O(B,z,$){if(typeof B.prependListener=="function")return B.prependListener(z,$);!B._events||!B._events[z]?B.on(z,$):k(B._events[z])?B._events[z].unshift($):B._events[z]=[$,B._events[z]]}s(O,"j"),N.exports={Stream:C,prependListener:O}}),_=r((T,N)=>{var{SymbolDispose:k}=n(),{AbortError:p,codes:S}=o(),{isNodeStream:C,isWebStream:O,kControllerErrorFunction:B}=f(),z=v(),{ERR_INVALID_ARG_TYPE:$}=S,W,oe=s((ne,ie)=>{if(typeof ne!="object"||!("aborted"in ne))throw new $(ie,"AbortSignal",ne)},"X");N.exports.addAbortSignal=function(ne,ie){if(oe(ne,"signal"),!C(ie)&&!O(ie))throw new $("stream",["ReadableStream","WritableStream","Stream"],ie);return N.exports.addAbortSignalNoValidate(ne,ie)},N.exports.addAbortSignalNoValidate=function(ne,ie){if(typeof ne!="object"||!("aborted"in ne))return ie;let Qe=C(ie)?()=>{ie.destroy(new p(void 0,{cause:ne.reason}))}:()=>{ie[B](new p(void 0,{cause:ne.reason}))};if(ne.aborted)Qe();else{W=W||u().addAbortListener;let Ne=W(ne,Qe);z(ie,Ne[k])}return ie}}),A=r((T,N)=>{var{StringPrototypeSlice:k,SymbolIterator:p,TypedArrayPrototypeSet:S,Uint8Array:C}=n(),{Buffer:O}=(kn(),rr(wn)),{inspect:B}=u();N.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(z){let $={data:z,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(z){let $={data:z,next:this.head};this.length===0&&(this.tail=$),this.head=$,++this.length}shift(){if(this.length===0)return;let z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,z}clear(){this.head=this.tail=null,this.length=0}join(z){if(this.length===0)return"";let $=this.head,W=""+$.data;for(;($=$.next)!==null;)W+=z+$.data;return W}concat(z){if(this.length===0)return O.alloc(0);let $=O.allocUnsafe(z>>>0),W=this.head,oe=0;for(;W;)S($,W.data,oe),oe+=W.data.length,W=W.next;return $}consume(z,$){let W=this.head.data;if(z<W.length){let oe=W.slice(0,z);return this.head.data=W.slice(z),oe}return z===W.length?this.shift():$?this._getString(z):this._getBuffer(z)}first(){return this.head.data}*[p](){for(let z=this.head;z;z=z.next)yield z.data}_getString(z){let $="",W=this.head,oe=0;do{let ne=W.data;if(z>ne.length)$+=ne,z-=ne.length;else{z===ne.length?($+=ne,++oe,W.next?this.head=W.next:this.head=this.tail=null):($+=k(ne,0,z),this.head=W,W.data=k(ne,z));break}++oe}while((W=W.next)!==null);return this.length-=oe,$}_getBuffer(z){let $=O.allocUnsafe(z),W=z,oe=this.head,ne=0;do{let ie=oe.data;if(z>ie.length)S($,ie,W-z),z-=ie.length;else{z===ie.length?(S($,ie,W-z),++ne,oe.next?this.head=oe.next:this.head=this.tail=null):(S($,new C(ie.buffer,ie.byteOffset,z),W-z),this.head=oe,oe.data=ie.slice(z));break}++ne}while((oe=oe.next)!==null);return this.length-=ne,$}[Symbol.for("nodejs.util.inspect.custom")](z,$){return B(this,{...$,depth:0,customInspect:!1})}}}),M=r((T,N)=>{var{MathFloor:k,NumberIsInteger:p}=n(),{validateInteger:S}=c(),{ERR_INVALID_ARG_VALUE:C}=o().codes,O=16384,B=16;function z(ne,ie,Qe){return ne.highWaterMark!=null?ne.highWaterMark:ie?ne[Qe]:null}s(z,"J");function $(ne){return ne?B:O}s($,"w");function W(ne,ie){S(ie,"value",0),ne?B=ie:O=ie}s(W,"k");function oe(ne,ie,Qe,Ne){let ve=z(ie,Ne,Qe);if(ve!=null){if(!p(ve)||ve<0){let Me=Ne?`options.${Qe}`:"options.highWaterMark";throw new C(Me,ve)}return k(ve)}return $(ne.objectMode)}s(oe,"X"),N.exports={getHighWaterMark:oe,getDefaultHighWaterMark:$,setDefaultHighWaterMark:W}}),I=r((T,N)=>{var k=(kn(),rr(wn)),p=k.Buffer;function S(O,B){for(var z in O)B[z]=O[z]}s(S,"_"),p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?N.exports=k:(S(k,T),T.Buffer=C);function C(O,B,z){return p(O,B,z)}s(C,"O"),C.prototype=Object.create(p.prototype),S(p,C),C.from=function(O,B,z){if(typeof O=="number")throw TypeError("Argument must not be a number");return p(O,B,z)},C.alloc=function(O,B,z){if(typeof O!="number")throw TypeError("Argument must be a number");var $=p(O);return B!==void 0?typeof z=="string"?$.fill(B,z):$.fill(B):$.fill(0),$},C.allocUnsafe=function(O){if(typeof O!="number")throw TypeError("Argument must be a number");return p(O)},C.allocUnsafeSlow=function(O){if(typeof O!="number")throw TypeError("Argument must be a number");return k.SlowBuffer(O)}}),R=r(T=>{var N=I().Buffer,k=N.isEncoding||function(J){switch(J=""+J,J&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(J){if(!J)return"utf8";for(var ae;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(ae)return;J=(""+J).toLowerCase(),ae=!0}}s(p,"P");function S(J){var ae=p(J);if(typeof ae!="string"&&(N.isEncoding===k||!k(J)))throw Error("Unknown encoding: "+J);return ae||J}s(S,"_"),T.StringDecoder=C;function C(J){this.encoding=S(J);var ae;switch(this.encoding){case"utf16le":this.text=ne,this.end=ie,ae=4;break;case"utf8":this.fillLast=$,ae=4;break;case"base64":this.text=Qe,this.end=Ne,ae=3;break;default:this.write=ve,this.end=Me;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=N.allocUnsafe(ae)}s(C,"O"),C.prototype.write=function(J){if(J.length===0)return"";var ae,K;if(this.lastNeed){if(ae=this.fillLast(J),ae===void 0)return"";K=this.lastNeed,this.lastNeed=0}else K=0;return K<J.length?ae?ae+this.text(J,K):this.text(J,K):ae||""},C.prototype.end=oe,C.prototype.text=W,C.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length};function O(J){return J<=127?0:J>>5===6?2:J>>4===14?3:J>>3===30?4:J>>6===2?-1:-2}s(O,"j");function B(J,ae,K){var Y=ae.length-1;if(Y<K)return 0;var de=O(ae[Y]);return de>=0?(de>0&&(J.lastNeed=de-1),de):--Y<K||de===-2?0:(de=O(ae[Y]),de>=0?(de>0&&(J.lastNeed=de-2),de):--Y<K||de===-2?0:(de=O(ae[Y]),de>=0?(de>0&&(de===2?de=0:J.lastNeed=de-3),de):0))}s(B,"z");function z(J,ae,K){if((ae[0]&192)!==128)return J.lastNeed=0,"";if(J.lastNeed>1&&ae.length>1){if((ae[1]&192)!==128)return J.lastNeed=1,"";if(J.lastNeed>2&&ae.length>2&&(ae[2]&192)!==128)return J.lastNeed=2,""}}s(z,"J");function $(J){var ae=this.lastTotal-this.lastNeed,K=z(this,J);if(K!==void 0)return K;if(this.lastNeed<=J.length)return J.copy(this.lastChar,ae,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,ae,0,J.length),this.lastNeed-=J.length}s($,"w");function W(J,ae){var K=B(this,J,ae);if(!this.lastNeed)return J.toString("utf8",ae);this.lastTotal=K;var Y=J.length-(K-this.lastNeed);return J.copy(this.lastChar,0,Y),J.toString("utf8",ae,Y)}s(W,"k");function oe(J){var ae=J&&J.length?this.write(J):"";return this.lastNeed?ae+"":ae}s(oe,"X");function ne(J,ae){if((J.length-ae)%2===0){var K=J.toString("utf16le",ae);if(K){var Y=K.charCodeAt(K.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],K.slice(0,-1)}return K}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",ae,J.length-1)}s(ne,"G");function ie(J){var ae=J&&J.length?this.write(J):"";if(this.lastNeed){var K=this.lastTotal-this.lastNeed;return ae+this.lastChar.toString("utf16le",0,K)}return ae}s(ie,"V");function Qe(J,ae){var K=(J.length-ae)%3;return K===0?J.toString("base64",ae):(this.lastNeed=3-K,this.lastTotal=3,K===1?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",ae,J.length-K))}s(Qe,"C");function Ne(J){var ae=J&&J.length?this.write(J):"";return this.lastNeed?ae+this.lastChar.toString("base64",0,3-this.lastNeed):ae}s(Ne,"E");function ve(J){return J.toString(this.encoding)}s(ve,"h");function Me(J){return J&&J.length?this.write(J):""}s(Me,"I")}),L=r((T,N)=>{var k=h(),{PromisePrototypeThen:p,SymbolAsyncIterator:S,SymbolIterator:C}=n(),{Buffer:O}=(kn(),rr(wn)),{ERR_INVALID_ARG_TYPE:B,ERR_STREAM_NULL_VALUES:z}=o().codes;function $(W,oe,ne){let ie;if(typeof oe=="string"||oe instanceof O)return new W({objectMode:!0,...ne,read(){this.push(oe),this.push(null)}});let Qe;if(oe&&oe[S])Qe=!0,ie=oe[S]();else if(oe&&oe[C])Qe=!1,ie=oe[C]();else throw new B("iterable",["Iterable"],oe);let Ne=new W({objectMode:!0,highWaterMark:1,...ne}),ve=!1;Ne._read=function(){ve||(ve=!0,J())},Ne._destroy=function(ae,K){p(Me(ae),()=>k.nextTick(K,ae),Y=>k.nextTick(K,Y||ae))};async function Me(ae){let K=ae!=null,Y=typeof ie.throw=="function";if(K&&Y){let{value:de,done:Be}=await ie.throw(ae);if(await de,Be)return}if(typeof ie.return=="function"){let{value:de}=await ie.return();await de}}s(Me,"I");async function J(){for(;;){try{let{value:ae,done:K}=Qe?await ie.next():ie.next();if(K)Ne.push(null);else{let Y=ae&&typeof ae.then=="function"?await ae:ae;if(Y===null)throw ve=!1,new z;if(Ne.push(Y))continue;ve=!1}}catch(ae){Ne.destroy(ae)}break}}return s(J,"D"),Ne}s($,"w"),N.exports=$}),P=r((T,N)=>{var k=h(),{ArrayPrototypeIndexOf:p,NumberIsInteger:S,NumberIsNaN:C,NumberParseInt:O,ObjectDefineProperties:B,ObjectKeys:z,ObjectSetPrototypeOf:$,Promise:W,SafeSet:oe,SymbolAsyncDispose:ne,SymbolAsyncIterator:ie,Symbol:Qe}=n();N.exports=Te,Te.ReadableState=lt;var{EventEmitter:Ne}=(Ud(),rr(Ju)),{Stream:ve,prependListener:Me}=w(),{Buffer:J}=(kn(),rr(wn)),{addAbortSignal:ae}=_(),K=v(),Y=u().debuglog("stream",pe=>{Y=pe}),de=A(),Be=m(),{getHighWaterMark:Pe,getDefaultHighWaterMark:we}=M(),{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:te,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_OUT_OF_RANGE:Ee,ERR_STREAM_PUSH_AFTER_EOF:ge,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:he},AbortError:it}=o(),{validateObject:Re}=c(),Xe=Qe("kPaused"),{StringDecoder:Nt}=R(),Ae=L();$(Te.prototype,ve.prototype),$(Te,ve);var qe=s(()=>{},"v"),{errorOrDestroy:ye}=Be,Ce=1,He=2,We=4,Ue=8,tt=16,Ot=32,Ke=64,Ie=128,et=256,De=512,rt=1024,Tt=2048,ue=4096,be=8192,Ze=16384,je=32768,ze=65536,ct=131072,ce=262144;function Le(pe){return{enumerable:!1,get(){return(this.state&pe)!==0},set(_e){_e?this.state|=pe:this.state&=~pe}}}s(Le,"U"),B(lt.prototype,{objectMode:Le(Ce),ended:Le(He),endEmitted:Le(We),reading:Le(Ue),constructed:Le(tt),sync:Le(Ot),needReadable:Le(Ke),emittedReadable:Le(Ie),readableListening:Le(et),resumeScheduled:Le(De),errorEmitted:Le(rt),emitClose:Le(Tt),autoDestroy:Le(ue),destroyed:Le(be),closed:Le(Ze),closeEmitted:Le(je),multiAwaitDrain:Le(ze),readingMore:Le(ct),dataEmitted:Le(ce)});function lt(pe,_e,xt){typeof xt!="boolean"&&(xt=_e instanceof G()),this.state=Tt|ue|tt|Ot,pe&&pe.objectMode&&(this.state|=Ce),xt&&pe&&pe.readableObjectMode&&(this.state|=Ce),this.highWaterMark=pe?Pe(this,pe,"readableHighWaterMark",xt):we(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this[Xe]=null,pe&&pe.emitClose===!1&&(this.state&=~Tt),pe&&pe.autoDestroy===!1&&(this.state&=~ue),this.errored=null,this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,pe&&pe.encoding&&(this.decoder=new Nt(pe.encoding),this.encoding=pe.encoding)}s(lt,"_$");function Te(pe){if(!(this instanceof Te))return new Te(pe);let _e=this instanceof G();this._readableState=new lt(pe,this,_e),pe&&(typeof pe.read=="function"&&(this._read=pe.read),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.construct=="function"&&(this._construct=pe.construct),pe.signal&&!_e&&ae(pe.signal,this)),ve.call(this,pe),Be.construct(this,()=>{this._readableState.needReadable&&$t(this,this._readableState)})}s(Te,"f$"),Te.prototype.destroy=Be.destroy,Te.prototype._undestroy=Be.undestroy,Te.prototype._destroy=function(pe,_e){_e(pe)},Te.prototype[Ne.captureRejectionSymbol]=function(pe){this.destroy(pe)},Te.prototype[ne]=function(){let pe;return this.destroyed||(pe=this.readableEnded?null:new it,this.destroy(pe)),new W((_e,xt)=>K(this,It=>It&&It!==pe?xt(It):_e(null)))},Te.prototype.push=function(pe,_e){return ut(this,pe,_e,!1)},Te.prototype.unshift=function(pe,_e){return ut(this,pe,_e,!0)};function ut(pe,_e,xt,It){Y("readableAddChunk",_e);let Bt=pe._readableState,Mn;if((Bt.state&Ce)===0&&(typeof _e=="string"?(xt=xt||Bt.defaultEncoding,Bt.encoding!==xt&&(It&&Bt.encoding?_e=J.from(_e,xt).toString(Bt.encoding):(_e=J.from(_e,xt),xt=""))):_e instanceof J?xt="":ve._isUint8Array(_e)?(_e=ve._uint8ArrayToBuffer(_e),xt=""):_e!=null&&(Mn=new te("chunk",["string","Buffer","Uint8Array"],_e))),Mn)ye(pe,Mn);else if(_e===null)Bt.state&=~Ue,st(pe,Bt);else if((Bt.state&Ce)!==0||_e&&_e.length>0)if(It)if((Bt.state&We)!==0)ye(pe,new he);else{if(Bt.destroyed||Bt.errored)return!1;zt(pe,Bt,_e,!0)}else if(Bt.ended)ye(pe,new ge);else{if(Bt.destroyed||Bt.errored)return!1;Bt.state&=~Ue,Bt.decoder&&!xt?(_e=Bt.decoder.write(_e),Bt.objectMode||_e.length!==0?zt(pe,Bt,_e,!1):$t(pe,Bt)):zt(pe,Bt,_e,!1)}else It||(Bt.state&=~Ue,$t(pe,Bt));return!Bt.ended&&(Bt.length<Bt.highWaterMark||Bt.length===0)}s(ut,"O$");function zt(pe,_e,xt,It){_e.flowing&&_e.length===0&&!_e.sync&&pe.listenerCount("data")>0?((_e.state&ze)!==0?_e.awaitDrainWriters.clear():_e.awaitDrainWriters=null,_e.dataEmitted=!0,pe.emit("data",xt)):(_e.length+=_e.objectMode?1:xt.length,It?_e.buffer.unshift(xt):_e.buffer.push(xt),(_e.state&Ke)!==0&&Lt(pe)),$t(pe,_e)}s(zt,"T$"),Te.prototype.isPaused=function(){let pe=this._readableState;return pe[Xe]===!0||pe.flowing===!1},Te.prototype.setEncoding=function(pe){let _e=new Nt(pe);this._readableState.decoder=_e,this._readableState.encoding=this._readableState.decoder.encoding;let xt=this._readableState.buffer,It="";for(let Bt of xt)It+=_e.write(Bt);return xt.clear(),It!==""&&xt.push(It),this._readableState.length=It.length,this};var at=1073741824;function mt(pe){if(pe>at)throw new Ee("size","<= 1GiB",pe);return pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++,pe}s(mt,"H$");function Ge(pe,_e){return pe<=0||_e.length===0&&_e.ended?0:(_e.state&Ce)!==0?1:C(pe)?_e.flowing&&_e.length?_e.buffer.first().length:_e.length:pe<=_e.length?pe:_e.ended?_e.length:0}s(Ge,"X$"),Te.prototype.read=function(pe){Y("read",pe),pe===void 0?pe=NaN:S(pe)||(pe=O(pe,10));let _e=this._readableState,xt=pe;if(pe>_e.highWaterMark&&(_e.highWaterMark=mt(pe)),pe!==0&&(_e.state&=~Ie),pe===0&&_e.needReadable&&((_e.highWaterMark!==0?_e.length>=_e.highWaterMark:_e.length>0)||_e.ended))return Y("read: emitReadable",_e.length,_e.ended),_e.length===0&&_e.ended?Rr(this):Lt(this),null;if(pe=Ge(pe,_e),pe===0&&_e.ended)return _e.length===0&&Rr(this),null;let It=(_e.state&Ke)!==0;if(Y("need readable",It),(_e.length===0||_e.length-pe<_e.highWaterMark)&&(It=!0,Y("length less than watermark",It)),_e.ended||_e.reading||_e.destroyed||_e.errored||!_e.constructed)It=!1,Y("reading, ended or constructing",It);else if(It){Y("do read"),_e.state|=Ue|Ot,_e.length===0&&(_e.state|=Ke);try{this._read(_e.highWaterMark)}catch(Mn){ye(this,Mn)}_e.state&=~Ot,!_e.reading&&(pe=Ge(xt,_e))}let Bt;return pe>0?Bt=_r(pe,_e):Bt=null,Bt===null?(_e.needReadable=_e.length<=_e.highWaterMark,pe=0):(_e.length-=pe,_e.multiAwaitDrain?_e.awaitDrainWriters.clear():_e.awaitDrainWriters=null),_e.length===0&&(_e.ended||(_e.needReadable=!0),xt!==pe&&_e.ended&&Rr(this)),Bt!==null&&!_e.errorEmitted&&!_e.closeEmitted&&(_e.dataEmitted=!0,this.emit("data",Bt)),Bt};function st(pe,_e){if(Y("onEofChunk"),!_e.ended){if(_e.decoder){let xt=_e.decoder.end();xt&&xt.length&&(_e.buffer.push(xt),_e.length+=_e.objectMode?1:xt.length)}_e.ended=!0,_e.sync?Lt(pe):(_e.needReadable=!1,_e.emittedReadable=!0,Kt(pe))}}s(st,"X6");function Lt(pe){let _e=pe._readableState;Y("emitReadable",_e.needReadable,_e.emittedReadable),_e.needReadable=!1,!_e.emittedReadable&&(Y("emitReadable",_e.flowing),_e.emittedReadable=!0,k.nextTick(Kt,pe))}s(Lt,"w$");function Kt(pe){let _e=pe._readableState;Y("emitReadable_",_e.destroyed,_e.length,_e.ended),!_e.destroyed&&!_e.errored&&(_e.length||_e.ended)&&(pe.emit("readable"),_e.emittedReadable=!1),_e.needReadable=!_e.flowing&&!_e.ended&&_e.length<=_e.highWaterMark,xr(pe)}s(Kt,"G$");function $t(pe,_e){!_e.readingMore&&_e.constructed&&(_e.readingMore=!0,k.nextTick(pr,pe,_e))}s($t,"u6");function pr(pe,_e){for(;!_e.reading&&!_e.ended&&(_e.length<_e.highWaterMark||_e.flowing&&_e.length===0);){let xt=_e.length;if(Y("maybeReadMore read 0"),pe.read(0),xt===_e.length)break}_e.readingMore=!1}s(pr,"k$"),Te.prototype._read=function(pe){throw new re("_read()")},Te.prototype.pipe=function(pe,_e){let xt=this,It=this._readableState;It.pipes.length===1&&(It.multiAwaitDrain||(It.multiAwaitDrain=!0,It.awaitDrainWriters=new oe(It.awaitDrainWriters?[It.awaitDrainWriters]:[]))),It.pipes.push(pe),Y("pipe count=%d opts=%j",It.pipes.length,_e);let Bt=(!_e||_e.end!==!1)&&pe!==k.stdout&&pe!==k.stderr?yi:du;It.endEmitted?k.nextTick(Bt):xt.once("end",Bt),pe.on("unpipe",Mn);function Mn(Xa,js){Y("onunpipe"),Xa===xt&&js&&js.hasUnpiped===!1&&(js.hasUnpiped=!0,fP())}s(Mn,"k6");function yi(){Y("onend"),pe.end()}s(yi,"Z$");let Qa,j6=!1;function fP(){Y("cleanup"),pe.removeListener("close",Zp),pe.removeListener("finish",Jp),Qa&&pe.removeListener("drain",Qa),pe.removeListener("error",Gp),pe.removeListener("unpipe",Mn),xt.removeListener("end",yi),xt.removeListener("end",du),xt.removeListener("data",P6),j6=!0,Qa&&It.awaitDrainWriters&&(!pe._writableState||pe._writableState.needDrain)&&Qa()}s(fP,"g$");function L6(){j6||(It.pipes.length===1&&It.pipes[0]===pe?(Y("false write response, pause",0),It.awaitDrainWriters=pe,It.multiAwaitDrain=!1):It.pipes.length>1&&It.pipes.includes(pe)&&(Y("false write response, pause",It.awaitDrainWriters.size),It.awaitDrainWriters.add(pe)),xt.pause()),Qa||(Qa=kr(xt,pe),pe.on("drain",Qa))}s(L6,"R$"),xt.on("data",P6);function P6(Xa){Y("ondata");let js=pe.write(Xa);Y("dest.write",js),js===!1&&L6()}s(P6,"Jq");function Gp(Xa){if(Y("onerror",Xa),du(),pe.removeListener("error",Gp),pe.listenerCount("error")===0){let js=pe._writableState||pe._readableState;js&&!js.errorEmitted?ye(pe,Xa):pe.emit("error",Xa)}}s(Gp,"M$"),Me(pe,"error",Gp);function Zp(){pe.removeListener("finish",Jp),du()}s(Zp,"N$"),pe.once("close",Zp);function Jp(){Y("onfinish"),pe.removeListener("close",Zp),du()}s(Jp,"b6"),pe.once("finish",Jp);function du(){Y("unpipe"),xt.unpipe(pe)}return s(du,"Y6"),pe.emit("pipe",xt),pe.writableNeedDrain===!0?L6():It.flowing||(Y("pipe resume"),xt.resume()),pe};function kr(pe,_e){return function(){let xt=pe._readableState;xt.awaitDrainWriters===_e?(Y("pipeOnDrain",1),xt.awaitDrainWriters=null):xt.multiAwaitDrain&&(Y("pipeOnDrain",xt.awaitDrainWriters.size),xt.awaitDrainWriters.delete(_e)),(!xt.awaitDrainWriters||xt.awaitDrainWriters.size===0)&&pe.listenerCount("data")&&pe.resume()}}s(kr,"I$"),Te.prototype.unpipe=function(pe){let _e=this._readableState,xt={hasUnpiped:!1};if(_e.pipes.length===0)return this;if(!pe){let Bt=_e.pipes;_e.pipes=[],this.pause();for(let Mn=0;Mn<Bt.length;Mn++)Bt[Mn].emit("unpipe",this,{hasUnpiped:!1});return this}let It=p(_e.pipes,pe);return It===-1?this:(_e.pipes.splice(It,1),_e.pipes.length===0&&this.pause(),pe.emit("unpipe",this,xt),this)},Te.prototype.on=function(pe,_e){let xt=ve.prototype.on.call(this,pe,_e),It=this._readableState;return pe==="data"?(It.readableListening=this.listenerCount("readable")>0,It.flowing!==!1&&this.resume()):pe==="readable"&&!It.endEmitted&&!It.readableListening&&(It.readableListening=It.needReadable=!0,It.flowing=!1,It.emittedReadable=!1,Y("on readable",It.length,It.reading),It.length?Lt(this):It.reading||k.nextTick(ur,this)),xt},Te.prototype.addListener=Te.prototype.on,Te.prototype.removeListener=function(pe,_e){let xt=ve.prototype.removeListener.call(this,pe,_e);return pe==="readable"&&k.nextTick(mr,this),xt},Te.prototype.off=Te.prototype.removeListener,Te.prototype.removeAllListeners=function(pe){let _e=ve.prototype.removeAllListeners.apply(this,arguments);return(pe==="readable"||pe===void 0)&&k.nextTick(mr,this),_e};function mr(pe){let _e=pe._readableState;_e.readableListening=pe.listenerCount("readable")>0,_e.resumeScheduled&&_e[Xe]===!1?_e.flowing=!0:pe.listenerCount("data")>0?pe.resume():_e.readableListening||(_e.flowing=null)}s(mr,"zq");function ur(pe){Y("readable nexttick read 0"),pe.read(0)}s(ur,"D$"),Te.prototype.resume=function(){let pe=this._readableState;return pe.flowing||(Y("resume"),pe.flowing=!pe.readableListening,Lr(this,pe)),pe[Xe]=!1,this};function Lr(pe,_e){_e.resumeScheduled||(_e.resumeScheduled=!0,k.nextTick(Br,pe,_e))}s(Lr,"L$");function Br(pe,_e){Y("resume",_e.reading),!_e.reading&&pe.read(0),_e.resumeScheduled=!1,pe.emit("resume"),xr(pe),_e.flowing&&!_e.reading&&pe.read(0)}s(Br,"Vq"),Te.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Xe]=!0,this};function xr(pe){let _e=pe._readableState;for(Y("flow",_e.flowing);_e.flowing&&pe.read()!==null;);}s(xr,"C$"),Te.prototype.wrap=function(pe){let _e=!1;pe.on("data",It=>{!this.push(It)&&pe.pause&&(_e=!0,pe.pause())}),pe.on("end",()=>{this.push(null)}),pe.on("error",It=>{ye(this,It)}),pe.on("close",()=>{this.destroy()}),pe.on("destroy",()=>{this.destroy()}),this._read=()=>{_e&&pe.resume&&(_e=!1,pe.resume())};let xt=z(pe);for(let It=1;It<xt.length;It++){let Bt=xt[It];this[Bt]===void 0&&typeof pe[Bt]=="function"&&(this[Bt]=pe[Bt].bind(pe))}return this},Te.prototype[ie]=function(){return Or(this)},Te.prototype.iterator=function(pe){return pe!==void 0&&Re(pe,"options"),Or(this,pe)};function Or(pe,_e){typeof pe.read!="function"&&(pe=Te.wrap(pe,{objectMode:!0}));let xt=br(pe,_e);return xt.stream=pe,xt}s(Or,"E$");async function*br(pe,_e){let xt=qe;function It(yi){this===pe?(xt(),xt=qe):xt=yi}s(It,"K$"),pe.on("readable",It);let Bt,Mn=K(pe,{writable:!1},yi=>{Bt=yi?q(Bt,yi):null,xt(),xt=qe});try{for(;;){let yi=pe.destroyed?null:pe.read();if(yi!==null)yield yi;else{if(Bt)throw Bt;if(Bt===null)return;await new W(It)}}}catch(yi){throw Bt=q(Bt,yi),Bt}finally{(Bt||_e?.destroyOnReturn!==!1)&&(Bt===void 0||pe._readableState.autoDestroy)?Be.destroyer(pe,null):(pe.off("readable",It),Mn())}}s(br,"Sq"),B(Te.prototype,{readable:{__proto__:null,get(){let pe=this._readableState;return!!pe&&pe.readable!==!1&&!pe.destroyed&&!pe.errorEmitted&&!pe.endEmitted},set(pe){this._readableState&&(this._readableState.readable=!!pe)}},readableDidRead:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.flowing},"get"),set:s(function(pe){this._readableState&&(this._readableState.flowing=pe)},"set")},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(pe){this._readableState&&(this._readableState.destroyed=pe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(lt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Xe]!==!1},set(pe){this[Xe]=!!pe}}}),Te._fromList=_r;function _r(pe,_e){if(_e.length===0)return null;let xt;return _e.objectMode?xt=_e.buffer.shift():!pe||pe>=_e.length?(_e.decoder?xt=_e.buffer.join(""):_e.buffer.length===1?xt=_e.buffer.first():xt=_e.buffer.concat(_e.length),_e.buffer.clear()):xt=_e.buffer.consume(pe,_e.decoder),xt}s(_r,"h$");function Rr(pe){let _e=pe._readableState;Y("endReadable",_e.endEmitted),!_e.endEmitted&&(_e.ended=!0,k.nextTick(zr,_e,pe))}s(Rr,"V$");function zr(pe,_e){if(Y("endReadableNT",pe.endEmitted,pe.length),!pe.errored&&!pe.closeEmitted&&!pe.endEmitted&&pe.length===0){if(pe.endEmitted=!0,_e.emit("end"),_e.writable&&_e.allowHalfOpen===!1)k.nextTick(Ur,_e);else if(pe.autoDestroy){let xt=_e._writableState;(!xt||xt.autoDestroy&&(xt.finished||xt.writable===!1))&&_e.destroy()}}}s(zr,"Mq");function Ur(pe){pe.writable&&!pe.writableEnded&&!pe.destroyed&&pe.end()}s(Ur,"b$"),Te.from=function(pe,_e){return Ae(Te,pe,_e)};var Fr;function il(){return Fr===void 0&&(Fr={}),Fr}s(il,"Wq"),Te.fromWeb=function(pe,_e){return il().newStreamReadableFromReadableStream(pe,_e)},Te.toWeb=function(pe,_e){return il().newReadableStreamFromStreamReadable(pe,_e)},Te.wrap=function(pe,_e){var xt,It;return new Te({objectMode:(xt=(It=pe.readableObjectMode)!==null&&It!==void 0?It:pe.objectMode)!==null&&xt!==void 0?xt:!0,..._e,destroy(Bt,Mn){Be.destroyer(pe,Bt),Mn(Bt)}}).wrap(pe)}}),F=r((T,N)=>{var k=h(),{ArrayPrototypeSlice:p,Error:S,FunctionPrototypeSymbolHasInstance:C,ObjectDefineProperty:O,ObjectDefineProperties:B,ObjectSetPrototypeOf:z,StringPrototypeToLowerCase:$,Symbol:W,SymbolHasInstance:oe}=n();N.exports=Re,Re.WritableState=he;var{EventEmitter:ne}=(Ud(),rr(Ju)),ie=w().Stream,{Buffer:Qe}=(kn(),rr(wn)),Ne=m(),{addAbortSignal:ve}=_(),{getHighWaterMark:Me,getDefaultHighWaterMark:J}=M(),{ERR_INVALID_ARG_TYPE:ae,ERR_METHOD_NOT_IMPLEMENTED:K,ERR_MULTIPLE_CALLBACK:Y,ERR_STREAM_CANNOT_PIPE:de,ERR_STREAM_DESTROYED:Be,ERR_STREAM_ALREADY_FINISHED:Pe,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:te}=o().codes,{errorOrDestroy:re}=Ne;z(Re.prototype,ie.prototype),z(Re,ie);function Ee(){}s(Ee,"Y");var ge=W("kOnFinished");function he(ue,be,Ze){typeof Ze!="boolean"&&(Ze=be instanceof G()),this.objectMode=!!(ue&&ue.objectMode),Ze&&(this.objectMode=this.objectMode||!!(ue&&ue.writableObjectMode)),this.highWaterMark=ue?Me(this,ue,"writableHighWaterMark",Ze):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let je=!!(ue&&ue.decodeStrings===!1);this.decodeStrings=!je,this.defaultEncoding=ue&&ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ye.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,it(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ue||ue.emitClose!==!1,this.autoDestroy=!ue||ue.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ge]=[]}s(he,"T");function it(ue){ue.buffered=[],ue.bufferedIndex=0,ue.allBuffers=!0,ue.allNoop=!0}s(it,"W"),he.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},O(he.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Re(ue){let be=this instanceof G();if(!be&&!C(Re,this))return new Re(ue);this._writableState=new he(ue,this,be),ue&&(typeof ue.write=="function"&&(this._write=ue.write),typeof ue.writev=="function"&&(this._writev=ue.writev),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.final=="function"&&(this._final=ue.final),typeof ue.construct=="function"&&(this._construct=ue.construct),ue.signal&&ve(ue.signal,this)),ie.call(this,ue),Ne.construct(this,()=>{let Ze=this._writableState;Ze.writing||Ue(this,Ze),Ie(this,Ze)})}s(Re,"Z"),O(Re,oe,{__proto__:null,value:s(function(ue){return C(this,ue)?!0:this!==Re?!1:ue&&ue._writableState instanceof he},"value")}),Re.prototype.pipe=function(){re(this,new de)};function Xe(ue,be,Ze,je){let ze=ue._writableState;if(typeof Ze=="function")je=Ze,Ze=ze.defaultEncoding;else{if(!Ze)Ze=ze.defaultEncoding;else if(Ze!=="buffer"&&!Qe.isEncoding(Ze))throw new te(Ze);typeof je!="function"&&(je=Ee)}if(be===null)throw new we;if(!ze.objectMode)if(typeof be=="string")ze.decodeStrings!==!1&&(be=Qe.from(be,Ze),Ze="buffer");else if(be instanceof Qe)Ze="buffer";else if(ie._isUint8Array(be))be=ie._uint8ArrayToBuffer(be),Ze="buffer";else throw new ae("chunk",["string","Buffer","Uint8Array"],be);let ct;return ze.ending?ct=new q:ze.destroyed&&(ct=new Be("write")),ct?(k.nextTick(je,ct),re(ue,ct,!0),ct):(ze.pendingcb++,Nt(ue,ze,be,Ze,je))}s(Xe,"S"),Re.prototype.write=function(ue,be,Ze){return Xe(this,ue,be,Ze)===!0},Re.prototype.cork=function(){this._writableState.corked++},Re.prototype.uncork=function(){let ue=this._writableState;ue.corked&&(ue.corked--,!ue.writing&&Ue(this,ue))},Re.prototype.setDefaultEncoding=function(ue){if(typeof ue=="string"&&(ue=$(ue)),!Qe.isEncoding(ue))throw new te(ue);return this._writableState.defaultEncoding=ue,this};function Nt(ue,be,Ze,je,ze){let ct=be.objectMode?1:Ze.length;be.length+=ct;let ce=be.length<be.highWaterMark;return ce||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:Ze,encoding:je,callback:ze}),be.allBuffers&&je!=="buffer"&&(be.allBuffers=!1),be.allNoop&&ze!==Ee&&(be.allNoop=!1)):(be.writelen=ct,be.writecb=ze,be.writing=!0,be.sync=!0,ue._write(Ze,je,be.onwrite),be.sync=!1),ce&&!be.errored&&!be.destroyed}s(Nt,"N");function Ae(ue,be,Ze,je,ze,ct,ce){be.writelen=je,be.writecb=ce,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new Be("write")):Ze?ue._writev(ze,be.onwrite):ue._write(ze,ct,be.onwrite),be.sync=!1}s(Ae,"f");function qe(ue,be,Ze,je){--be.pendingcb,je(Ze),We(be),re(ue,Ze)}s(qe,"v");function ye(ue,be){let Ze=ue._writableState,je=Ze.sync,ze=Ze.writecb;if(typeof ze!="function"){re(ue,new Y);return}Ze.writing=!1,Ze.writecb=null,Ze.length-=Ze.writelen,Ze.writelen=0,be?(be.stack,!Ze.errored&&(Ze.errored=be),ue._readableState&&!ue._readableState.errored&&(ue._readableState.errored=be),je?k.nextTick(qe,ue,Ze,be,ze):qe(ue,Ze,be,ze)):(Ze.buffered.length>Ze.bufferedIndex&&Ue(ue,Ze),je?Ze.afterWriteTickInfo!==null&&Ze.afterWriteTickInfo.cb===ze?Ze.afterWriteTickInfo.count++:(Ze.afterWriteTickInfo={count:1,cb:ze,stream:ue,state:Ze},k.nextTick(Ce,Ze.afterWriteTickInfo)):He(ue,Ze,1,ze))}s(ye,"A");function Ce({stream:ue,state:be,count:Ze,cb:je}){return be.afterWriteTickInfo=null,He(ue,be,Ze,je)}s(Ce,"L");function He(ue,be,Ze,je){for(!be.ending&&!ue.destroyed&&be.length===0&&be.needDrain&&(be.needDrain=!1,ue.emit("drain"));Ze-- >0;)be.pendingcb--,je();be.destroyed&&We(be),Ie(ue,be)}s(He,"R");function We(ue){if(ue.writing)return;for(let ze=ue.bufferedIndex;ze<ue.buffered.length;++ze){var be;let{chunk:ct,callback:ce}=ue.buffered[ze],Le=ue.objectMode?1:ct.length;ue.length-=Le,ce((be=ue.errored)!==null&&be!==void 0?be:new Be("write"))}let Ze=ue[ge].splice(0);for(let ze=0;ze<Ze.length;ze++){var je;Ze[ze]((je=ue.errored)!==null&&je!==void 0?je:new Be("end"))}it(ue)}s(We,"b");function Ue(ue,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;let{buffered:Ze,bufferedIndex:je,objectMode:ze}=be,ct=Ze.length-je;if(!ct)return;let ce=je;if(be.bufferProcessing=!0,ct>1&&ue._writev){be.pendingcb-=ct-1;let Le=be.allNoop?Ee:Te=>{for(let ut=ce;ut<Ze.length;++ut)Ze[ut].callback(Te)},lt=be.allNoop&&ce===0?Ze:p(Ze,ce);lt.allBuffers=be.allBuffers,Ae(ue,be,!0,be.length,lt,"",Le),it(be)}else{do{let{chunk:Le,encoding:lt,callback:Te}=Ze[ce];Ze[ce++]=null;let ut=ze?1:Le.length;Ae(ue,be,!1,ut,Le,lt,Te)}while(ce<Ze.length&&!be.writing);ce===Ze.length?it(be):ce>256?(Ze.splice(0,ce),be.bufferedIndex=0):be.bufferedIndex=ce}be.bufferProcessing=!1}s(Ue,"d"),Re.prototype._write=function(ue,be,Ze){if(this._writev)this._writev([{chunk:ue,encoding:be}],Ze);else throw new K("_write()")},Re.prototype._writev=null,Re.prototype.end=function(ue,be,Ze){let je=this._writableState;typeof ue=="function"?(Ze=ue,ue=null,be=null):typeof be=="function"&&(Ze=be,be=null);let ze;if(ue!=null){let ct=Xe(this,ue,be);ct instanceof S&&(ze=ct)}return je.corked&&(je.corked=1,this.uncork()),ze||(!je.errored&&!je.ending?(je.ending=!0,Ie(this,je,!0),je.ended=!0):je.finished?ze=new Pe("end"):je.destroyed&&(ze=new Be("end"))),typeof Ze=="function"&&(ze||je.finished?k.nextTick(Ze,ze):je[ge].push(Ze)),this};function tt(ue){return ue.ending&&!ue.destroyed&&ue.constructed&&ue.length===0&&!ue.errored&&ue.buffered.length===0&&!ue.finished&&!ue.writing&&!ue.errorEmitted&&!ue.closeEmitted}s(tt,"i");function Ot(ue,be){let Ze=!1;function je(ze){if(Ze){re(ue,ze??Y());return}if(Ze=!0,be.pendingcb--,ze){let ct=be[ge].splice(0);for(let ce=0;ce<ct.length;ce++)ct[ce](ze);re(ue,ze,be.sync)}else tt(be)&&(be.prefinished=!0,ue.emit("prefinish"),be.pendingcb++,k.nextTick(et,ue,be))}s(je,"x$"),be.sync=!0,be.pendingcb++;try{ue._final(je)}catch(ze){je(ze)}be.sync=!1}s(Ot,"F");function Ke(ue,be){!be.prefinished&&!be.finalCalled&&(typeof ue._final=="function"&&!be.destroyed?(be.finalCalled=!0,Ot(ue,be)):(be.prefinished=!0,ue.emit("prefinish")))}s(Ke,"W$");function Ie(ue,be,Ze){tt(be)&&(Ke(ue,be),be.pendingcb===0&&(Ze?(be.pendingcb++,k.nextTick((je,ze)=>{tt(ze)?et(je,ze):ze.pendingcb--},ue,be)):tt(be)&&(be.pendingcb++,et(ue,be))))}s(Ie,"n");function et(ue,be){be.pendingcb--,be.finished=!0;let Ze=be[ge].splice(0);for(let je=0;je<Ze.length;je++)Ze[je]();if(ue.emit("finish"),be.autoDestroy){let je=ue._readableState;(!je||je.autoDestroy&&(je.endEmitted||je.readable===!1))&&ue.destroy()}}s(et,"B"),B(Re.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ue){this._writableState&&(this._writableState.destroyed=ue)}},writable:{__proto__:null,get(){let ue=this._writableState;return!!ue&&ue.writable!==!1&&!ue.destroyed&&!ue.errored&&!ue.ending&&!ue.ended},set(ue){this._writableState&&(this._writableState.writable=!!ue)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ue=this._writableState;return ue?!ue.destroyed&&!ue.ending&&ue.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var De=Ne.destroy;Re.prototype.destroy=function(ue,be){let Ze=this._writableState;return!Ze.destroyed&&(Ze.bufferedIndex<Ze.buffered.length||Ze[ge].length)&&k.nextTick(We,Ze),De.call(this,ue,be),this},Re.prototype._undestroy=Ne.undestroy,Re.prototype._destroy=function(ue,be){be(ue)},Re.prototype[ne.captureRejectionSymbol]=function(ue){this.destroy(ue)};var rt;function Tt(){return rt===void 0&&(rt={}),rt}s(Tt,"v$"),Re.fromWeb=function(ue,be){return Tt().newStreamWritableFromWritableStream(ue,be)},Re.toWeb=function(ue){return Tt().newWritableStreamFromStreamWritable(ue)}}),Z=r((T,N)=>{var k=h(),p=(kn(),rr(wn)),{isReadable:S,isWritable:C,isIterable:O,isNodeStream:B,isReadableNodeStream:z,isWritableNodeStream:$,isDuplexNodeStream:W,isReadableStream:oe,isWritableStream:ne}=f(),ie=v(),{AbortError:Qe,codes:{ERR_INVALID_ARG_TYPE:Ne,ERR_INVALID_RETURN_VALUE:ve}}=o(),{destroyer:Me}=m(),J=G(),ae=P(),K=F(),{createDeferredPromise:Y}=u(),de=L(),Be=globalThis.Blob||p.Blob,Pe=typeof Be<"u"?function(ge){return ge instanceof Be}:function(ge){return!1},we=globalThis.AbortController||l().AbortController,{FunctionPrototypeCall:q}=n();class te extends J{static{s(this,"o")}constructor(he){super(he),he?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),he?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}N.exports=s(function ge(he,it){if(W(he))return he;if(z(he))return Ee({readable:he});if($(he))return Ee({writable:he});if(B(he))return Ee({writable:!1,readable:!1});if(oe(he))return Ee({readable:ae.fromWeb(he)});if(ne(he))return Ee({writable:K.fromWeb(he)});if(typeof he=="function"){let{value:Xe,write:Nt,final:Ae,destroy:qe}=re(he);if(O(Xe))return de(te,Xe,{objectMode:!0,write:Nt,final:Ae,destroy:qe});let ye=Xe?.then;if(typeof ye=="function"){let Ce,He=q(ye,Xe,We=>{if(We!=null)throw new ve("nully","body",We)},We=>{Me(Ce,We)});return Ce=new te({objectMode:!0,readable:!1,write:Nt,final(We){Ae(async()=>{try{await He,k.nextTick(We,null)}catch(Ue){k.nextTick(We,Ue)}})},destroy:qe})}throw new ve("Iterable, AsyncIterable or AsyncFunction",it,Xe)}if(Pe(he))return ge(he.arrayBuffer());if(O(he))return de(te,he,{objectMode:!0,writable:!1});if(oe(he?.readable)&&ne(he?.writable))return te.fromWeb(he);if(typeof he?.writable=="object"||typeof he?.readable=="object"){let Xe=he!=null&&he.readable?z(he?.readable)?he?.readable:ge(he.readable):void 0,Nt=he!=null&&he.writable?$(he?.writable)?he?.writable:ge(he.writable):void 0;return Ee({readable:Xe,writable:Nt})}let Re=he?.then;if(typeof Re=="function"){let Xe;return q(Re,he,Nt=>{Nt!=null&&Xe.push(Nt),Xe.push(null)},Nt=>{Me(Xe,Nt)}),Xe=new te({objectMode:!0,writable:!1,read(){}})}throw new Ne(it,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],he)},"H");function re(ge){let{promise:he,resolve:it}=Y(),Re=new we,Xe=Re.signal;return{value:ge((async function*(){for(;;){let Nt=he;he=null;let{chunk:Ae,done:qe,cb:ye}=await Nt;if(k.nextTick(ye),qe)return;if(Xe.aborted)throw new Qe(void 0,{cause:Xe.reason});({promise:he,resolve:it}=Y()),yield Ae}})(),{signal:Xe}),write(Nt,Ae,qe){let ye=it;it=null,ye({chunk:Nt,done:!1,cb:qe})},final(Nt){let Ae=it;it=null,Ae({done:!0,cb:Nt})},destroy(Nt,Ae){Re.abort(),Ae(Nt)}}}s(re,"M");function Ee(ge){let he=ge.readable&&typeof ge.readable.read!="function"?ae.wrap(ge.readable):ge.readable,it=ge.writable,Re=!!S(he),Xe=!!C(it),Nt,Ae,qe,ye,Ce;function He(We){let Ue=ye;ye=null,Ue?Ue(We):We&&Ce.destroy(We)}return s(He,"R"),Ce=new te({readableObjectMode:!!(he!=null&&he.readableObjectMode),writableObjectMode:!!(it!=null&&it.writableObjectMode),readable:Re,writable:Xe}),Xe&&(ie(it,We=>{Xe=!1,We&&Me(he,We),He(We)}),Ce._write=function(We,Ue,tt){it.write(We,Ue)?tt():Nt=tt},Ce._final=function(We){it.end(),Ae=We},it.on("drain",function(){if(Nt){let We=Nt;Nt=null,We()}}),it.on("finish",function(){if(Ae){let We=Ae;Ae=null,We()}})),Re&&(ie(he,We=>{Re=!1,We&&Me(he,We),He(We)}),he.on("readable",function(){if(qe){let We=qe;qe=null,We()}}),he.on("end",function(){Ce.push(null)}),Ce._read=function(){for(;;){let We=he.read();if(We===null){qe=Ce._read;return}if(!Ce.push(We))return}}),Ce._destroy=function(We,Ue){!We&&ye!==null&&(We=new Qe),qe=null,Nt=null,Ae=null,ye===null?Ue(We):(ye=Ue,Me(it,We),Me(he,We))},Ce}s(Ee,"Y")}),G=r((T,N)=>{var{ObjectDefineProperties:k,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:S,ObjectSetPrototypeOf:C}=n();N.exports=z;var O=P(),B=F();C(z.prototype,O.prototype),C(z,O);{let ne=S(B.prototype);for(let ie=0;ie<ne.length;ie++){let Qe=ne[ie];z.prototype[Qe]||(z.prototype[Qe]=B.prototype[Qe])}}function z(ne){if(!(this instanceof z))return new z(ne);O.call(this,ne),B.call(this,ne),ne?(this.allowHalfOpen=ne.allowHalfOpen!==!1,ne.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ne.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(z,"J"),k(z.prototype,{writable:{__proto__:null,...p(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(B.prototype,"writableLength")},writableFinished:{__proto__:null,...p(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(ne){this._readableState&&this._writableState&&(this._readableState.destroyed=ne,this._writableState.destroyed=ne)}}});var $;function W(){return $===void 0&&($={}),$}s(W,"k"),z.fromWeb=function(ne,ie){return W().newStreamDuplexFromReadableWritablePair(ne,ie)},z.toWeb=function(ne){return W().newReadableWritablePairFromDuplex(ne)};var oe;z.from=function(ne){return oe||(oe=Z()),oe(ne,"body")}}),se=r((T,N)=>{var{ObjectSetPrototypeOf:k,Symbol:p}=n();N.exports=z;var{ERR_METHOD_NOT_IMPLEMENTED:S}=o().codes,C=G(),{getHighWaterMark:O}=M();k(z.prototype,C.prototype),k(z,C);var B=p("kCallback");function z(oe){if(!(this instanceof z))return new z(oe);let ne=oe?O(this,oe,"readableHighWaterMark",!0):null;ne===0&&(oe={...oe,highWaterMark:null,readableHighWaterMark:ne,writableHighWaterMark:oe.writableHighWaterMark||0}),C.call(this,oe),this._readableState.sync=!1,this[B]=null,oe&&(typeof oe.transform=="function"&&(this._transform=oe.transform),typeof oe.flush=="function"&&(this._flush=oe.flush)),this.on("prefinish",W)}s(z,"J");function $(oe){typeof this._flush=="function"&&!this.destroyed?this._flush((ne,ie)=>{if(ne){oe?oe(ne):this.destroy(ne);return}ie!=null&&this.push(ie),this.push(null),oe&&oe()}):(this.push(null),oe&&oe())}s($,"w");function W(){this._final!==$&&$.call(this)}s(W,"k"),z.prototype._final=$,z.prototype._transform=function(oe,ne,ie){throw new S("_transform()")},z.prototype._write=function(oe,ne,ie){let Qe=this._readableState,Ne=this._writableState,ve=Qe.length;this._transform(oe,ne,(Me,J)=>{if(Me){ie(Me);return}J!=null&&this.push(J),Ne.ended||ve===Qe.length||Qe.length<Qe.highWaterMark?ie():this[B]=ie})},z.prototype._read=function(){if(this[B]){let oe=this[B];this[B]=null,oe()}}}),U=r((T,N)=>{var{ObjectSetPrototypeOf:k}=n();N.exports=S;var p=se();k(S.prototype,p.prototype),k(S,p);function S(C){if(!(this instanceof S))return new S(C);p.call(this,C)}s(S,"_"),S.prototype._transform=function(C,O,B){B(null,C)}}),X=r((T,N)=>{var k=h(),{ArrayIsArray:p,Promise:S,SymbolAsyncIterator:C,SymbolDispose:O}=n(),B=v(),{once:z}=u(),$=m(),W=G(),{aggregateTwoErrors:oe,codes:{ERR_INVALID_ARG_TYPE:ne,ERR_INVALID_RETURN_VALUE:ie,ERR_MISSING_ARGS:Qe,ERR_STREAM_DESTROYED:Ne,ERR_STREAM_PREMATURE_CLOSE:ve},AbortError:Me}=o(),{validateFunction:J,validateAbortSignal:ae}=c(),{isIterable:K,isReadable:Y,isReadableNodeStream:de,isNodeStream:Be,isTransformStream:Pe,isWebStream:we,isReadableStream:q,isReadableFinished:te}=f(),re=globalThis.AbortController||l().AbortController,Ee,ge,he;function it(We,Ue,tt){let Ot=!1;We.on("close",()=>{Ot=!0});let Ke=B(We,{readable:Ue,writable:tt},Ie=>{Ot=!Ie});return{destroy:s(Ie=>{Ot||(Ot=!0,$.destroyer(We,Ie||new Ne("pipe")))},"destroy"),cleanup:Ke}}s(it,"W");function Re(We){return J(We[We.length-1],"streams[stream.length - 1]"),We.pop()}s(Re,"Z");function Xe(We){if(K(We))return We;if(de(We))return Nt(We);throw new ne("val",["Readable","Iterable","AsyncIterable"],We)}s(Xe,"S");async function*Nt(We){ge||(ge=P()),yield*ge.prototype[C].call(We)}s(Nt,"N");async function Ae(We,Ue,tt,{end:Ot}){let Ke,Ie=null,et=s(Tt=>{if(Tt&&(Ke=Tt),Ie){let ue=Ie;Ie=null,ue()}},"B"),De=s(()=>new S((Tt,ue)=>{Ke?ue(Ke):Ie=s(()=>{Ke?ue(Ke):Tt()},"n")}),"u$");Ue.on("drain",et);let rt=B(Ue,{readable:!1},et);try{Ue.writableNeedDrain&&await De();for await(let Tt of We)Ue.write(Tt)||await De();Ot&&(Ue.end(),await De()),tt()}catch(Tt){tt(Ke!==Tt?oe(Ke,Tt):Tt)}finally{rt(),Ue.off("drain",et)}}s(Ae,"f");async function qe(We,Ue,tt,{end:Ot}){Pe(Ue)&&(Ue=Ue.writable);let Ke=Ue.getWriter();try{for await(let Ie of We)await Ke.ready,Ke.write(Ie).catch(()=>{});await Ke.ready,Ot&&await Ke.close(),tt()}catch(Ie){try{await Ke.abort(Ie),tt(Ie)}catch(et){tt(et)}}}s(qe,"v");function ye(...We){return Ce(We,z(Re(We)))}s(ye,"A");function Ce(We,Ue,tt){if(We.length===1&&p(We[0])&&(We=We[0]),We.length<2)throw new Qe("streams");let Ot=new re,Ke=Ot.signal,Ie=tt?.signal,et=[];ae(Ie,"options.signal");function De(){ze(new Me)}s(De,"u$"),he=he||u().addAbortListener;let rt;Ie&&(rt=he(Ie,De));let Tt,ue,be=[],Ze=0;function je(lt){ze(lt,--Ze===0)}s(je,"x$");function ze(lt,Te){var ut;if(lt&&(!Tt||Tt.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Tt=lt),!(!Tt&&!Te)){for(;be.length;)be.shift()(Tt);(ut=rt)===null||ut===void 0||ut[O](),Ot.abort(),Te&&(Tt||et.forEach(zt=>zt()),k.nextTick(Ue,Tt,ue))}}s(ze,"q$");let ct;for(let lt=0;lt<We.length;lt++){let Te=We[lt],ut=lt<We.length-1,zt=lt>0,at=ut||tt?.end!==!1,mt=lt===We.length-1;if(Be(Te)){let Ge=s(function(st){st&&st.name!=="AbortError"&&st.code!=="ERR_STREAM_PREMATURE_CLOSE"&&je(st)},"X6");if(at){let{destroy:st,cleanup:Lt}=it(Te,ut,zt);be.push(st),Y(Te)&&mt&&et.push(Lt)}Te.on("error",Ge),Y(Te)&&mt&&et.push(()=>{Te.removeListener("error",Ge)})}if(lt===0)if(typeof Te=="function"){if(ct=Te({signal:Ke}),!K(ct))throw new ie("Iterable, AsyncIterable or Stream","source",ct)}else K(Te)||de(Te)||Pe(Te)?ct=Te:ct=W.from(Te);else if(typeof Te=="function"){if(Pe(ct)){var ce;ct=Xe((ce=ct)===null||ce===void 0?void 0:ce.readable)}else ct=Xe(ct);if(ct=Te(ct,{signal:Ke}),ut){if(!K(ct,!0))throw new ie("AsyncIterable",`transform[${lt-1}]`,ct)}else{var Le;Ee||(Ee=U());let Ge=new Ee({objectMode:!0}),st=(Le=ct)===null||Le===void 0?void 0:Le.then;if(typeof st=="function")Ze++,st.call(ct,$t=>{ue=$t,$t!=null&&Ge.write($t),at&&Ge.end(),k.nextTick(je)},$t=>{Ge.destroy($t),k.nextTick(je,$t)});else if(K(ct,!0))Ze++,Ae(ct,Ge,je,{end:at});else if(q(ct)||Pe(ct)){let $t=ct.readable||ct;Ze++,Ae($t,Ge,je,{end:at})}else throw new ie("AsyncIterable or Promise","destination",ct);ct=Ge;let{destroy:Lt,cleanup:Kt}=it(ct,!1,!0);be.push(Lt),mt&&et.push(Kt)}}else if(Be(Te)){if(de(ct)){Ze+=2;let Ge=He(ct,Te,je,{end:at});Y(Te)&&mt&&et.push(Ge)}else if(Pe(ct)||q(ct)){let Ge=ct.readable||ct;Ze++,Ae(Ge,Te,je,{end:at})}else if(K(ct))Ze++,Ae(ct,Te,je,{end:at});else throw new ne("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Te}else if(we(Te)){if(de(ct))Ze++,qe(Xe(ct),Te,je,{end:at});else if(q(ct)||K(ct))Ze++,qe(ct,Te,je,{end:at});else if(Pe(ct))Ze++,qe(ct.readable,Te,je,{end:at});else throw new ne("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Te}else ct=W.from(Te)}return(Ke!=null&&Ke.aborted||Ie!=null&&Ie.aborted)&&k.nextTick(De),ct}s(Ce,"L");function He(We,Ue,tt,{end:Ot}){let Ke=!1;if(Ue.on("close",()=>{Ke||tt(new ve)}),We.pipe(Ue,{end:!1}),Ot){let Ie=s(function(){Ke=!0,Ue.end()},"B");te(We)?k.nextTick(Ie):We.once("end",Ie)}else tt();return B(We,{readable:!0,writable:!1},Ie=>{let et=We._readableState;Ie&&Ie.code==="ERR_STREAM_PREMATURE_CLOSE"&&et&&et.ended&&!et.errored&&!et.errorEmitted?We.once("end",tt).once("error",tt):tt(Ie)}),B(Ue,{readable:!1,writable:!0},tt)}s(He,"R"),N.exports={pipelineImpl:Ce,pipeline:ye}}),d=r((T,N)=>{var{pipeline:k}=X(),p=G(),{destroyer:S}=m(),{isNodeStream:C,isReadable:O,isWritable:B,isWebStream:z,isTransformStream:$,isWritableStream:W,isReadableStream:oe}=f(),{AbortError:ne,codes:{ERR_INVALID_ARG_VALUE:ie,ERR_MISSING_ARGS:Qe}}=o(),Ne=v();N.exports=function(...ve){if(ve.length===0)throw new Qe("streams");if(ve.length===1)return p.from(ve[0]);let Me=[...ve];if(typeof ve[0]=="function"&&(ve[0]=p.from(ve[0])),typeof ve[ve.length-1]=="function"){let re=ve.length-1;ve[re]=p.from(ve[re])}for(let re=0;re<ve.length;++re)if(!(!C(ve[re])&&!z(ve[re]))){if(re<ve.length-1&&!(O(ve[re])||oe(ve[re])||$(ve[re])))throw new ie(`streams[${re}]`,Me[re],"must be readable");if(re>0&&!(B(ve[re])||W(ve[re])||$(ve[re])))throw new ie(`streams[${re}]`,Me[re],"must be writable")}let J,ae,K,Y,de;function Be(re){let Ee=Y;Y=null,Ee?Ee(re):re?de.destroy(re):!te&&!q&&de.destroy()}s(Be,"Q");let Pe=ve[0],we=k(ve,Be),q=!!(B(Pe)||W(Pe)||$(Pe)),te=!!(O(we)||oe(we)||$(we));if(de=new p({writableObjectMode:!!(Pe!=null&&Pe.writableObjectMode),readableObjectMode:!!(we!=null&&we.readableObjectMode),writable:q,readable:te}),q){if(C(Pe))de._write=function(Ee,ge,he){Pe.write(Ee,ge)?he():J=he},de._final=function(Ee){Pe.end(),ae=Ee},Pe.on("drain",function(){if(J){let Ee=J;J=null,Ee()}});else if(z(Pe)){let Ee=($(Pe)?Pe.writable:Pe).getWriter();de._write=async function(ge,he,it){try{await Ee.ready,Ee.write(ge).catch(()=>{}),it()}catch(Re){it(Re)}},de._final=async function(ge){try{await Ee.ready,Ee.close().catch(()=>{}),ae=ge}catch(he){ge(he)}}}let re=$(we)?we.readable:we;Ne(re,()=>{if(ae){let Ee=ae;ae=null,Ee()}})}if(te){if(C(we))we.on("readable",function(){if(K){let re=K;K=null,re()}}),we.on("end",function(){de.push(null)}),de._read=function(){for(;;){let re=we.read();if(re===null){K=de._read;return}if(!de.push(re))return}};else if(z(we)){let re=($(we)?we.readable:we).getReader();de._read=async function(){for(;;)try{let{value:Ee,done:ge}=await re.read();if(!de.push(Ee))return;if(ge){de.push(null);return}}catch{return}}}}return de._destroy=function(re,Ee){!re&&Y!==null&&(re=new ne),K=null,J=null,ae=null,Y===null?Ee(re):(Y=Ee,C(we)&&S(we,re))},de}}),y=r((T,N)=>{var k=globalThis.AbortController||l().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:S,ERR_MISSING_ARGS:C,ERR_OUT_OF_RANGE:O},AbortError:B}=o(),{validateAbortSignal:z,validateInteger:$,validateObject:W}=c(),oe=n().Symbol("kWeak"),ne=n().Symbol("kResistStopPropagation"),{finished:ie}=v(),Qe=d(),{addAbortSignalNoValidate:Ne}=_(),{isWritable:ve,isNodeStream:Me}=f(),{deprecate:J}=u(),{ArrayPrototypePush:ae,Boolean:K,MathFloor:Y,Number:de,NumberIsNaN:Be,Promise:Pe,PromiseReject:we,PromiseResolve:q,PromisePrototypeThen:te,Symbol:re}=n(),Ee=re("kEmpty"),ge=re("kEof");function he(Ie,et){if(et!=null&&W(et,"options"),et?.signal!=null&&z(et.signal,"options.signal"),Me(Ie)&&!ve(Ie))throw new p("stream",Ie,"must be writable");let De=Qe(this,Ie);return et!=null&&et.signal&&Ne(et.signal,De),De}s(he,"T");function it(Ie,et){if(typeof Ie!="function")throw new S("fn",["Function","AsyncFunction"],Ie);et!=null&&W(et,"options"),et?.signal!=null&&z(et.signal,"options.signal");let De=1;et?.concurrency!=null&&(De=Y(et.concurrency));let rt=De-1;return et?.highWaterMark!=null&&(rt=Y(et.highWaterMark)),$(De,"options.concurrency",1),$(rt,"options.highWaterMark",0),rt+=De,async function*(){let Tt=u().AbortSignalAny([et?.signal].filter(K)),ue=this,be=[],Ze={signal:Tt},je,ze,ct=!1,ce=0;function Le(){ct=!0,lt()}s(Le,"_$");function lt(){ce-=1,Te()}s(lt,"f$");function Te(){ze&&!ct&&ce<De&&be.length<rt&&(ze(),ze=null)}s(Te,"O$");async function ut(){try{for await(let zt of ue){if(ct)return;if(Tt.aborted)throw new B;try{if(zt=Ie(zt,Ze),zt===Ee)continue;zt=q(zt)}catch(at){zt=we(at)}ce+=1,te(zt,lt,Le),be.push(zt),je&&(je(),je=null),!ct&&(be.length>=rt||ce>=De)&&await new Pe(at=>{ze=at})}be.push(ge)}catch(zt){let at=we(zt);te(at,lt,Le),be.push(at)}finally{ct=!0,je&&(je(),je=null)}}s(ut,"T$"),ut();try{for(;;){for(;be.length>0;){let zt=await be[0];if(zt===ge)return;if(Tt.aborted)throw new B;zt!==Ee&&(yield zt),be.shift(),Te()}await new Pe(zt=>{je=zt})}}finally{ct=!0,ze&&(ze(),ze=null)}}.call(this)}s(it,"W");function Re(Ie=void 0){return Ie!=null&&W(Ie,"options"),Ie?.signal!=null&&z(Ie.signal,"options.signal"),async function*(){let et=0;for await(let rt of this){var De;if(Ie!=null&&(De=Ie.signal)!==null&&De!==void 0&&De.aborted)throw new B({cause:Ie.signal.reason});yield[et++,rt]}}.call(this)}s(Re,"Z");async function Xe(Ie,et=void 0){for await(let De of ye.call(this,Ie,et))return!0;return!1}s(Xe,"S");async function Nt(Ie,et=void 0){if(typeof Ie!="function")throw new S("fn",["Function","AsyncFunction"],Ie);return!await Xe.call(this,async(...De)=>!await Ie(...De),et)}s(Nt,"N");async function Ae(Ie,et){for await(let De of ye.call(this,Ie,et))return De}s(Ae,"f");async function qe(Ie,et){if(typeof Ie!="function")throw new S("fn",["Function","AsyncFunction"],Ie);async function De(rt,Tt){return await Ie(rt,Tt),Ee}s(De,"u$");for await(let rt of it.call(this,De,et));}s(qe,"v");function ye(Ie,et){if(typeof Ie!="function")throw new S("fn",["Function","AsyncFunction"],Ie);async function De(rt,Tt){return await Ie(rt,Tt)?rt:Ee}return s(De,"u$"),it.call(this,De,et)}s(ye,"A");class Ce extends C{static{s(this,"L")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function He(Ie,et,De){var rt;if(typeof Ie!="function")throw new S("reducer",["Function","AsyncFunction"],Ie);De!=null&&W(De,"options"),De?.signal!=null&&z(De.signal,"options.signal");let Tt=arguments.length>1;if(De!=null&&(rt=De.signal)!==null&&rt!==void 0&&rt.aborted){let ze=new B(void 0,{cause:De.signal.reason});throw this.once("error",()=>{}),await ie(this.destroy(ze)),ze}let ue=new k,be=ue.signal;if(De!=null&&De.signal){let ze={once:!0,[oe]:this,[ne]:!0};De.signal.addEventListener("abort",()=>ue.abort(),ze)}let Ze=!1;try{for await(let ze of this){var je;if(Ze=!0,De!=null&&(je=De.signal)!==null&&je!==void 0&&je.aborted)throw new B;Tt?et=await Ie(et,ze,{signal:be}):(et=ze,Tt=!0)}if(!Ze&&!Tt)throw new Ce}finally{ue.abort()}return et}s(He,"R");async function We(Ie){Ie!=null&&W(Ie,"options"),Ie?.signal!=null&&z(Ie.signal,"options.signal");let et=[];for await(let rt of this){var De;if(Ie!=null&&(De=Ie.signal)!==null&&De!==void 0&&De.aborted)throw new B(void 0,{cause:Ie.signal.reason});ae(et,rt)}return et}s(We,"b");function Ue(Ie,et){let De=it.call(this,Ie,et);return async function*(){for await(let rt of De)yield*rt}.call(this)}s(Ue,"d");function tt(Ie){if(Ie=de(Ie),Be(Ie))return 0;if(Ie<0)throw new O("number",">= 0",Ie);return Ie}s(tt,"i");function Ot(Ie,et=void 0){return et!=null&&W(et,"options"),et?.signal!=null&&z(et.signal,"options.signal"),Ie=tt(Ie),async function*(){var De;if(et!=null&&(De=et.signal)!==null&&De!==void 0&&De.aborted)throw new B;for await(let Tt of this){var rt;if(et!=null&&(rt=et.signal)!==null&&rt!==void 0&&rt.aborted)throw new B;Ie--<=0&&(yield Tt)}}.call(this)}s(Ot,"F");function Ke(Ie,et=void 0){return et!=null&&W(et,"options"),et?.signal!=null&&z(et.signal,"options.signal"),Ie=tt(Ie),async function*(){var De;if(et!=null&&(De=et.signal)!==null&&De!==void 0&&De.aborted)throw new B;for await(let Tt of this){var rt;if(et!=null&&(rt=et.signal)!==null&&rt!==void 0&&rt.aborted)throw new B;if(Ie-- >0&&(yield Tt),Ie<=0)return}}.call(this)}s(Ke,"W$"),N.exports.streamReturningOperators={asIndexedPairs:J(Re,"readable.asIndexedPairs will be removed in a future version."),drop:Ot,filter:ye,flatMap:Ue,map:it,take:Ke,compose:he},N.exports.promiseReturningOperators={every:Nt,forEach:qe,reduce:He,toArray:We,some:Xe,find:Ae}}),g=r((T,N)=>{var{ArrayPrototypePop:k,Promise:p}=n(),{isIterable:S,isNodeStream:C,isWebStream:O}=f(),{pipelineImpl:B}=X(),{finished:z}=v();x();function $(...W){return new p((oe,ne)=>{let ie,Qe,Ne=W[W.length-1];if(Ne&&typeof Ne=="object"&&!C(Ne)&&!S(Ne)&&!O(Ne)){let ve=k(W);ie=ve.signal,Qe=ve.end}B(W,(ve,Me)=>{ve?ne(ve):oe(Me)},{signal:ie,end:Qe})})}s($,"w"),N.exports={finished:z,pipeline:$}}),x=r((T,N)=>{var{Buffer:k}=(kn(),rr(wn)),{ObjectDefineProperty:p,ObjectKeys:S,ReflectApply:C}=n(),{promisify:{custom:O}}=u(),{streamReturningOperators:B,promiseReturningOperators:z}=y(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:$}}=o(),W=d(),{setDefaultHighWaterMark:oe,getDefaultHighWaterMark:ne}=M(),{pipeline:ie}=X(),{destroyer:Qe}=m(),Ne=v(),ve=g(),Me=f(),J=N.exports=w().Stream;J.isDestroyed=Me.isDestroyed,J.isDisturbed=Me.isDisturbed,J.isErrored=Me.isErrored,J.isReadable=Me.isReadable,J.isWritable=Me.isWritable,J.Readable=P();for(let K of S(B)){let Y=s(function(...Be){if(new.target)throw $();return J.Readable.from(C(de,this,Be))},"u"),de=B[K];p(Y,"name",{__proto__:null,value:de.name}),p(Y,"length",{__proto__:null,value:de.length}),p(J.Readable.prototype,K,{__proto__:null,value:Y,enumerable:!1,configurable:!0,writable:!0})}for(let K of S(z)){let Y=s(function(...Be){if(new.target)throw $();return C(de,this,Be)},"u"),de=z[K];p(Y,"name",{__proto__:null,value:de.name}),p(Y,"length",{__proto__:null,value:de.length}),p(J.Readable.prototype,K,{__proto__:null,value:Y,enumerable:!1,configurable:!0,writable:!0})}J.Writable=F(),J.Duplex=G(),J.Transform=se(),J.PassThrough=U(),J.pipeline=ie;var{addAbortSignal:ae}=_();J.addAbortSignal=ae,J.finished=Ne,J.destroy=Qe,J.compose=W,J.setDefaultHighWaterMark=oe,J.getDefaultHighWaterMark=ne,p(J,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return ve}}),p(ie,O,{__proto__:null,enumerable:!0,get(){return ve.pipeline}}),p(Ne,O,{__proto__:null,enumerable:!0,get(){return ve.finished}}),J.Stream=J,J._isUint8Array=function(K){return K instanceof Uint8Array},J._uint8ArrayToBuffer=function(K){return k.from(K.buffer,K.byteOffset,K.byteLength)}}),E=r((T,N)=>{wS();{let k=x(),p=g(),S=k.Readable.destroy;N.exports=k.Readable,N.exports._uint8ArrayToBuffer=k._uint8ArrayToBuffer,N.exports._isUint8Array=k._isUint8Array,N.exports.isDisturbed=k.isDisturbed,N.exports.isErrored=k.isErrored,N.exports.isReadable=k.isReadable,N.exports.Readable=k.Readable,N.exports.Writable=k.Writable,N.exports.Duplex=k.Duplex,N.exports.Transform=k.Transform,N.exports.PassThrough=k.PassThrough,N.exports.addAbortSignal=k.addAbortSignal,N.exports.finished=k.finished,N.exports.destroy=k.destroy,N.exports.destroy=S,N.exports.pipeline=k.pipeline,N.exports.compose=k.compose,Object.defineProperty(k,"promises",{configurable:!0,enumerable:!0,get(){return p}}),N.exports.Stream=k.Stream}N.exports.default=N.exports});t.exports=E()}),zn={};Ln(zn,{webcrypto:s(()=>dk,"webcrypto"),rng:s(()=>AS,"rng"),randomUUID:s(()=>JF,"randomUUID"),randomFillSync:s(()=>ok,"randomFillSync"),randomFill:s(()=>ak,"randomFill"),randomBytes:s(()=>NS,"randomBytes"),publicEncrypt:s(()=>rk,"publicEncrypt"),publicDecrypt:s(()=>ik,"publicDecrypt"),pseudoRandomBytes:s(()=>TS,"pseudoRandomBytes"),prng:s(()=>kS,"prng"),privateEncrypt:s(()=>nk,"privateEncrypt"),privateDecrypt:s(()=>sk,"privateDecrypt"),pbkdf2Sync:s(()=>LS,"pbkdf2Sync"),pbkdf2:s(()=>jS,"pbkdf2"),listCiphers:s(()=>GS,"listCiphers"),getRandomValues:s(()=>ZF,"getRandomValues"),getHashes:s(()=>RS,"getHashes"),getDiffieHellman:s(()=>WS,"getDiffieHellman"),getCurves:s(()=>HF,"getCurves"),getCiphers:s(()=>VS,"getCiphers"),default:s(()=>fk,"default"),createVerify:s(()=>YS,"createVerify"),createSign:s(()=>KS,"createSign"),createHmac:s(()=>OS,"createHmac"),createHash:s(()=>MS,"createHash"),createECDH:s(()=>tk,"createECDH"),createDiffieHellmanGroup:s(()=>JS,"createDiffieHellmanGroup"),createDiffieHellman:s(()=>QS,"createDiffieHellman"),createDecipheriv:s(()=>HS,"createDecipheriv"),createDecipher:s(()=>FS,"createDecipher"),createCredentials:s(()=>lk,"createCredentials"),createCipheriv:s(()=>zS,"createCipheriv"),createCipher:s(()=>DS,"createCipher"),constants:s(()=>uk,"constants"),Verify:s(()=>ek,"Verify"),Sign:s(()=>qS,"Sign"),Hmac:s(()=>IS,"Hmac"),Hash:s(()=>CS,"Hash"),DiffieHellmanGroup:s(()=>ZS,"DiffieHellmanGroup"),DiffieHellman:s(()=>XS,"DiffieHellman"),Decipheriv:s(()=>$S,"Decipheriv"),Decipher:s(()=>US,"Decipher"),DEFAULT_ENCODING:s(()=>GF,"DEFAULT_ENCODING"),Cipheriv:s(()=>BS,"Cipheriv"),Cipher:s(()=>PS,"Cipher")});function HF(){return ck}s(HF,"Yo");var xS,_S,ev,ES,SS,VF=s((e,t,r)=>{r=e!=null?xS(_S(e)):{};let n=t||!e||!e.__esModule?ev(r,"default",{value:e,enumerable:!0}):r;for(let i of ES(e))SS.call(n,i)||ev(n,i,{get:s(()=>e[i],"get"),enumerable:!0});return n},"Gl"),_t=s((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"l$"),pu,mu,um,b3,Fd,$d,Dn,Hd,cm,y3,dm,w3,x3,_3,E3,as,Ps,fm,ni,hm,gu,S3,Wn,k3,T3,A3,pm,Pi,ol,mm,N3,gm,C3,vm,M3,I3,O3,R3,Vd,j3,Gd,L3,P3,D3,B3,z3,U3,F3,$3,H3,V3,G3,Z3,J3,W3,bm,Q3,ll,X3,ym,wm,K3,q3,xm,Y3,ew,ul,tw,rw,nw,iw,sw,aw,_m,ow,Em,Sm,km,Zd,Tm,lw,Am,uw,cw,Jd,dw,fw,hw,pw,tr,kS,TS,AS,NS,CS,MS,IS,OS,RS,jS,LS,PS,DS,BS,zS,US,FS,$S,HS,VS,GS,ZS,JS,WS,QS,XS,KS,qS,YS,ek,tk,rk,nk,ik,sk,ak,ok,lk,uk,GF="buffer",ZF=s(e=>crypto.getRandomValues(e),"Po"),JF=s(()=>crypto.randomUUID(),"jo"),ck,dk,fk,Xn=Vo(()=>{xS=Object.create,{getPrototypeOf:_S,defineProperty:ev,getOwnPropertyNames:ES}=Object,SS=Object.prototype.hasOwnProperty,pu=_t((e,t)=>{t.exports=(Xn(),rr(zn)).randomBytes}),mu=_t((e,t)=>{t.exports=(Xn(),rr(zn)).createHash}),um=_t((e,t)=>{t.exports=(Xn(),rr(zn)).createHmac}),b3=_t((e,t)=>{t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),Fd=_t((e,t)=>{var r=Math.pow(2,30)-1;t.exports=function(n,i){if(typeof n!="number")throw TypeError("Iterations not a number");if(n<0)throw TypeError("Bad iterations");if(typeof i!="number")throw TypeError("Key length not a number");if(i<0||i>r||i!==i)throw TypeError("Bad key length")}}),$d=_t((e,t)=>{var r;globalThis.process&&globalThis.process.browser?r="utf-8":globalThis.process&&globalThis.process.version?(n=parseInt(process.version.split(".")[0].slice(1),10),r=n>=6?"utf-8":"binary"):r="utf-8";var n;t.exports=r}),Dn=_t((e,t)=>{var r=(kn(),rr(wn)),n=r.Buffer;function i(a,l){for(var u in a)l[u]=a[u]}s(i,"_"),n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(a,l,u){return n(a,l,u)}s(o,"O"),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(a,l,u){if(typeof a=="number")throw TypeError("Argument must not be a number");return n(a,l,u)},o.alloc=function(a,l,u){if(typeof a!="number")throw TypeError("Argument must be a number");var c=n(a);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},o.allocUnsafe=function(a){if(typeof a!="number")throw TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw TypeError("Argument must be a number");return r.SlowBuffer(a)}}),Hd=_t((e,t)=>{var r=Dn().Buffer;t.exports=function(n,i,o){if(r.isBuffer(n))return n;if(typeof n=="string")return r.from(n,i);if(ArrayBuffer.isView(n))return r.from(n.buffer);throw TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}}),cm=_t((e,t)=>{var r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},n=um(),i=Dn().Buffer,o=Fd(),a=$d(),l=Hd();function u(c,h,f,v,m){o(f,v),c=l(c,a,"Password"),h=l(h,a,"Salt"),m=m||"sha1";var w=i.allocUnsafe(v),_=i.allocUnsafe(h.length+4);h.copy(_,0,0,h.length);for(var A=0,M=r[m],I=Math.ceil(v/M),R=1;R<=I;R++){_.writeUInt32BE(R,h.length);for(var L=n(m,c).update(_).digest(),P=L,F=1;F<f;F++){P=n(m,c).update(P).digest();for(var Z=0;Z<M;Z++)L[Z]^=P[Z]}L.copy(w,A),A+=M}return w}s(u,"J"),t.exports=u}),y3=_t((e,t)=>{var r=Dn().Buffer,n=Fd(),i=$d(),o=cm(),a=Hd(),l,u=globalThis.crypto&&globalThis.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function f(A){if(globalThis.process&&!globalThis.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(h[A]!==void 0)return h[A];l=l||r.alloc(8);var M=w(l,l,10,128,A).then(function(){return!0}).catch(function(){return!1});return h[A]=M,M}s(f,"X");var v;function m(){return v||(globalThis.process&&globalThis.process.nextTick?v=globalThis.process.nextTick:globalThis.queueMicrotask?v=globalThis.queueMicrotask:globalThis.setImmediate?v=globalThis.setImmediate:v=globalThis.setTimeout,v)}s(m,"V");function w(A,M,I,R,L){return u.importKey("raw",A,{name:"PBKDF2"},!1,["deriveBits"]).then(function(P){return u.deriveBits({name:"PBKDF2",salt:M,iterations:I,hash:{name:L}},P,R<<3)}).then(function(P){return r.from(P)})}s(w,"C");function _(A,M){A.then(function(I){m()(function(){M(null,I)})},function(I){m()(function(){M(I)})})}s(_,"E"),t.exports=function(A,M,I,R,L,P){typeof L=="function"&&(P=L,L=void 0),L=L||"sha1";var F=c[L.toLowerCase()];if(!F||typeof globalThis.Promise!="function"){m()(function(){var Z;try{Z=o(A,M,I,R,L)}catch(G){return P(G)}P(null,Z)});return}if(n(I,R),A=a(A,i,"Password"),M=a(M,i,"Salt"),typeof P!="function")throw Error("No callback provided to pbkdf2");_(f(F).then(function(Z){return Z?w(A,M,I,R,F):o(A,M,I,R,L)}),P)}}),dm=_t(e=>{var t=(Xn(),rr(zn)),r=Fd(),n=$d(),i=Hd();function o(l,u,c,h,f,v){if(r(c,h),l=i(l,n,"Password"),u=i(u,n,"Salt"),typeof f=="function"&&(v=f,f="sha1"),typeof v!="function")throw Error("No callback provided to pbkdf2");return t.pbkdf2(l,u,c,h,f,v)}s(o,"O");function a(l,u,c,h,f){return r(c,h),l=i(l,n,"Password"),u=i(u,n,"Salt"),f=f||"sha1",t.pbkdf2Sync(l,u,c,h,f)}s(a,"j"),!t.pbkdf2Sync||t.pbkdf2Sync.toString().indexOf("keylen, digest")===-1?(e.pbkdf2Sync=cm(),e.pbkdf2=y3()):(e.pbkdf2Sync=a,e.pbkdf2=o)}),w3=_t(e=>{var t=(Xn(),rr(zn));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),x3=_t(e=>{var t=(Xn(),rr(zn));e.DiffieHellmanGroup=t.DiffieHellmanGroup,e.createDiffieHellmanGroup=t.createDiffieHellmanGroup,e.getDiffieHellman=t.getDiffieHellman,e.createDiffieHellman=t.createDiffieHellman,e.DiffieHellman=t.DiffieHellman}),_3=_t(e=>{var t=(Xn(),rr(zn));e.createSign=t.createSign,e.Sign=t.Sign,e.createVerify=t.createVerify,e.Verify=t.Verify}),E3=_t((e,t)=>{t.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),as=_t((e,t)=>{(function(r,n){function i(d,y){if(!d)throw Error(y||"Assertion failed")}s(i,"_");function o(d,y){d.super_=y;var g=s(function(){},"H");g.prototype=y.prototype,d.prototype=new g,d.prototype.constructor=d}s(o,"O");function a(d,y,g){if(a.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((y==="le"||y==="be")&&(g=y,y=10),this._init(d||0,y||10,g||"be"))}s(a,"j"),typeof r=="object"?r.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(kn(),rr(wn)).Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,y){return d.cmp(y)>0?d:y},a.min=function(d,y){return d.cmp(y)<0?d:y},a.prototype._init=function(d,y,g){if(typeof d=="number")return this._initNumber(d,y,g);if(typeof d=="object")return this._initArray(d,y,g);y==="hex"&&(y=16),i(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var x=0;d[0]==="-"&&(x++,this.negative=1),x<d.length&&(y===16?this._parseHex(d,x,g):(this._parseBase(d,y,x),g==="le"&&this._initArray(this.toArray(),y,g)))},a.prototype._initNumber=function(d,y,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(i(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),y,g)},a.prototype._initArray=function(d,y,g){if(i(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(g==="be")for(x=d.length-1,E=0;x>=0;x-=3)T=d[x]|d[x-1]<<8|d[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(g==="le")for(x=0,E=0;x<d.length;x+=3)T=d[x]|d[x+1]<<8|d[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(d,y){var g=d.charCodeAt(y);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}s(u,"J");function c(d,y,g){var x=u(d,g);return g-1>=y&&(x|=u(d,g-1)<<4),x}s(c,"w"),a.prototype._parseHex=function(d,y,g){this.length=Math.ceil((d.length-y)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(g==="be")for(x=d.length-1;x>=y;x-=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=d.length-y;for(x=k%2===0?y+1:y;x<d.length;x+=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function h(d,y,g,x){for(var E=0,T=Math.min(d.length,g),N=y;N<T;N++){var k=d.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}s(h,"k"),a.prototype._parseBase=function(d,y,g){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=y)x++;x--,E=E/y|0;for(var T=d.length-g,N=T%x,k=Math.min(T,T-N)+g,p=0,S=g;S<k;S+=x)p=h(d,S,S+x,y),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=h(d,S,d.length,y),S=0;S<N;S++)C*=y;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},a.prototype.copy=function(d){d.words=Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,y){d=d||10,y=y|0||1;var g;if(d===16||d==="hex"){g="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?g=f[6-k.length]+k+g:g=k+g}for(E!==0&&(g=E.toString(16)+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var p=v[d],S=m[d];g="";var C=this.clone();for(C.negative=0;!C.isZero();){var O=C.modn(S).toString(d);C=C.idivn(S),C.isZero()?g=O+g:g=f[p-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,y){return i(typeof l<"u"),this.toArrayLike(l,d,y)},a.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)},a.prototype.toArrayLike=function(d,y,g){var x=this.byteLength(),E=g||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=y==="le",N=new d(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var y=d,g=0;return y>=4096&&(g+=13,y>>>=13),y>=64&&(g+=7,y>>>=7),y>=8&&(g+=4,y>>>=4),y>=2&&(g+=2,y>>>=2),g+y},a.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,g=0;return(y&8191)===0&&(g+=13,y>>>=13),(y&127)===0&&(g+=7,y>>>=7),(y&15)===0&&(g+=4,y>>>=4),(y&3)===0&&(g+=2,y>>>=2),(y&1)===0&&g++,g},a.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function w(d){for(var y=Array(d.bitLength()),g=0;g<y.length;g++){var x=g/26|0,E=g%26;y[g]=(d.words[x]&1<<E)>>>E}return y}s(w,"C"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var g=this._zeroBits(this.words[y]);if(d+=g,g!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this.strip()},a.prototype.ior=function(d){return i((this.negative|d.negative)===0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var g=0;g<y.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=y.length,this.strip()},a.prototype.iand=function(d){return i((this.negative|d.negative)===0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var y,g;this.length>d.length?(y=this,g=d):(y=d,g=this);for(var x=0;x<g.length;x++)this.words[x]=y.words[x]^g.words[x];if(this!==y)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=y.length,this.strip()},a.prototype.ixor=function(d){return i((this.negative|d.negative)===0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){i(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,g=d%26;this._expand(y),g>0&&y--;for(var x=0;x<y;x++)this.words[x]=~this.words[x]&67108863;return g>0&&(this.words[x]=~this.words[x]&67108863>>26-g),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,y){i(typeof d=="number"&&d>=0);var g=d/26|0,x=d%26;return this._expand(g+1),y?this.words[g]=this.words[g]|1<<x:this.words[g]=this.words[g]&~(1<<x),this.strip()},a.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var E=0,T=0;T<x.length;T++)y=(g.words[T]|0)+(x.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;for(;E!==0&&T<g.length;T++)y=(g.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;if(this.length=g.length,E!==0)this.words[this.length]=E,this.length++;else if(g!==this)for(;T<g.length;T++)this.words[T]=g.words[T];return this},a.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;g>0?(x=this,E=d):(x=d,E=this);for(var T=0,N=0;N<E.length;N++)y=(x.words[N]|0)-(E.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;for(;T!==0&&N<x.length;N++)y=(x.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function _(d,y,g){g.negative=y.negative^d.negative;var x=d.length+y.length|0;g.length=x,x=x-1|0;var E=d.words[0]|0,T=y.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;g.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,O=p&67108863,B=Math.min(S,y.length-1),z=Math.max(0,S-d.length+1);z<=B;z++){var $=S-z|0;E=d.words[$]|0,T=y.words[z]|0,N=E*T+O,C+=N/67108864|0,O=N&67108863}g.words[S]=O|0,p=C|0}return p!==0?g.words[S]=p|0:g.length--,g.strip()}s(_,"E");var A=s(function(d,y,g){var x=d.words,E=y.words,T=g.words,N=0,k,p,S,C=x[0]|0,O=C&8191,B=C>>>13,z=x[1]|0,$=z&8191,W=z>>>13,oe=x[2]|0,ne=oe&8191,ie=oe>>>13,Qe=x[3]|0,Ne=Qe&8191,ve=Qe>>>13,Me=x[4]|0,J=Me&8191,ae=Me>>>13,K=x[5]|0,Y=K&8191,de=K>>>13,Be=x[6]|0,Pe=Be&8191,we=Be>>>13,q=x[7]|0,te=q&8191,re=q>>>13,Ee=x[8]|0,ge=Ee&8191,he=Ee>>>13,it=x[9]|0,Re=it&8191,Xe=it>>>13,Nt=E[0]|0,Ae=Nt&8191,qe=Nt>>>13,ye=E[1]|0,Ce=ye&8191,He=ye>>>13,We=E[2]|0,Ue=We&8191,tt=We>>>13,Ot=E[3]|0,Ke=Ot&8191,Ie=Ot>>>13,et=E[4]|0,De=et&8191,rt=et>>>13,Tt=E[5]|0,ue=Tt&8191,be=Tt>>>13,Ze=E[6]|0,je=Ze&8191,ze=Ze>>>13,ct=E[7]|0,ce=ct&8191,Le=ct>>>13,lt=E[8]|0,Te=lt&8191,ut=lt>>>13,zt=E[9]|0,at=zt&8191,mt=zt>>>13;g.negative=d.negative^y.negative,g.length=19,k=Math.imul(O,Ae),p=Math.imul(O,qe),p=p+Math.imul(B,Ae)|0,S=Math.imul(B,qe);var Ge=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,k=Math.imul($,Ae),p=Math.imul($,qe),p=p+Math.imul(W,Ae)|0,S=Math.imul(W,qe),k=k+Math.imul(O,Ce)|0,p=p+Math.imul(O,He)|0,p=p+Math.imul(B,Ce)|0,S=S+Math.imul(B,He)|0;var st=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(st>>>26)|0,st&=67108863,k=Math.imul(ne,Ae),p=Math.imul(ne,qe),p=p+Math.imul(ie,Ae)|0,S=Math.imul(ie,qe),k=k+Math.imul($,Ce)|0,p=p+Math.imul($,He)|0,p=p+Math.imul(W,Ce)|0,S=S+Math.imul(W,He)|0,k=k+Math.imul(O,Ue)|0,p=p+Math.imul(O,tt)|0,p=p+Math.imul(B,Ue)|0,S=S+Math.imul(B,tt)|0;var Lt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,k=Math.imul(Ne,Ae),p=Math.imul(Ne,qe),p=p+Math.imul(ve,Ae)|0,S=Math.imul(ve,qe),k=k+Math.imul(ne,Ce)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(ie,Ce)|0,S=S+Math.imul(ie,He)|0,k=k+Math.imul($,Ue)|0,p=p+Math.imul($,tt)|0,p=p+Math.imul(W,Ue)|0,S=S+Math.imul(W,tt)|0,k=k+Math.imul(O,Ke)|0,p=p+Math.imul(O,Ie)|0,p=p+Math.imul(B,Ke)|0,S=S+Math.imul(B,Ie)|0;var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(J,Ae),p=Math.imul(J,qe),p=p+Math.imul(ae,Ae)|0,S=Math.imul(ae,qe),k=k+Math.imul(Ne,Ce)|0,p=p+Math.imul(Ne,He)|0,p=p+Math.imul(ve,Ce)|0,S=S+Math.imul(ve,He)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,tt)|0,p=p+Math.imul(ie,Ue)|0,S=S+Math.imul(ie,tt)|0,k=k+Math.imul($,Ke)|0,p=p+Math.imul($,Ie)|0,p=p+Math.imul(W,Ke)|0,S=S+Math.imul(W,Ie)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,De)|0,S=S+Math.imul(B,rt)|0;var $t=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(Y,Ae),p=Math.imul(Y,qe),p=p+Math.imul(de,Ae)|0,S=Math.imul(de,qe),k=k+Math.imul(J,Ce)|0,p=p+Math.imul(J,He)|0,p=p+Math.imul(ae,Ce)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(Ne,Ue)|0,p=p+Math.imul(Ne,tt)|0,p=p+Math.imul(ve,Ue)|0,S=S+Math.imul(ve,tt)|0,k=k+Math.imul(ne,Ke)|0,p=p+Math.imul(ne,Ie)|0,p=p+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,Ie)|0,k=k+Math.imul($,De)|0,p=p+Math.imul($,rt)|0,p=p+Math.imul(W,De)|0,S=S+Math.imul(W,rt)|0,k=k+Math.imul(O,ue)|0,p=p+Math.imul(O,be)|0,p=p+Math.imul(B,ue)|0,S=S+Math.imul(B,be)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ae),p=Math.imul(Pe,qe),p=p+Math.imul(we,Ae)|0,S=Math.imul(we,qe),k=k+Math.imul(Y,Ce)|0,p=p+Math.imul(Y,He)|0,p=p+Math.imul(de,Ce)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(J,Ue)|0,p=p+Math.imul(J,tt)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,tt)|0,k=k+Math.imul(Ne,Ke)|0,p=p+Math.imul(Ne,Ie)|0,p=p+Math.imul(ve,Ke)|0,S=S+Math.imul(ve,Ie)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(ie,De)|0,S=S+Math.imul(ie,rt)|0,k=k+Math.imul($,ue)|0,p=p+Math.imul($,be)|0,p=p+Math.imul(W,ue)|0,S=S+Math.imul(W,be)|0,k=k+Math.imul(O,je)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,je)|0,S=S+Math.imul(B,ze)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(te,Ae),p=Math.imul(te,qe),p=p+Math.imul(re,Ae)|0,S=Math.imul(re,qe),k=k+Math.imul(Pe,Ce)|0,p=p+Math.imul(Pe,He)|0,p=p+Math.imul(we,Ce)|0,S=S+Math.imul(we,He)|0,k=k+Math.imul(Y,Ue)|0,p=p+Math.imul(Y,tt)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,tt)|0,k=k+Math.imul(J,Ke)|0,p=p+Math.imul(J,Ie)|0,p=p+Math.imul(ae,Ke)|0,S=S+Math.imul(ae,Ie)|0,k=k+Math.imul(Ne,De)|0,p=p+Math.imul(Ne,rt)|0,p=p+Math.imul(ve,De)|0,S=S+Math.imul(ve,rt)|0,k=k+Math.imul(ne,ue)|0,p=p+Math.imul(ne,be)|0,p=p+Math.imul(ie,ue)|0,S=S+Math.imul(ie,be)|0,k=k+Math.imul($,je)|0,p=p+Math.imul($,ze)|0,p=p+Math.imul(W,je)|0,S=S+Math.imul(W,ze)|0,k=k+Math.imul(O,ce)|0,p=p+Math.imul(O,Le)|0,p=p+Math.imul(B,ce)|0,S=S+Math.imul(B,Le)|0;var mr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(mr>>>26)|0,mr&=67108863,k=Math.imul(ge,Ae),p=Math.imul(ge,qe),p=p+Math.imul(he,Ae)|0,S=Math.imul(he,qe),k=k+Math.imul(te,Ce)|0,p=p+Math.imul(te,He)|0,p=p+Math.imul(re,Ce)|0,S=S+Math.imul(re,He)|0,k=k+Math.imul(Pe,Ue)|0,p=p+Math.imul(Pe,tt)|0,p=p+Math.imul(we,Ue)|0,S=S+Math.imul(we,tt)|0,k=k+Math.imul(Y,Ke)|0,p=p+Math.imul(Y,Ie)|0,p=p+Math.imul(de,Ke)|0,S=S+Math.imul(de,Ie)|0,k=k+Math.imul(J,De)|0,p=p+Math.imul(J,rt)|0,p=p+Math.imul(ae,De)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(Ne,ue)|0,p=p+Math.imul(Ne,be)|0,p=p+Math.imul(ve,ue)|0,S=S+Math.imul(ve,be)|0,k=k+Math.imul(ne,je)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(ie,je)|0,S=S+Math.imul(ie,ze)|0,k=k+Math.imul($,ce)|0,p=p+Math.imul($,Le)|0,p=p+Math.imul(W,ce)|0,S=S+Math.imul(W,Le)|0,k=k+Math.imul(O,Te)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Te)|0,S=S+Math.imul(B,ut)|0;var ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ur>>>26)|0,ur&=67108863,k=Math.imul(Re,Ae),p=Math.imul(Re,qe),p=p+Math.imul(Xe,Ae)|0,S=Math.imul(Xe,qe),k=k+Math.imul(ge,Ce)|0,p=p+Math.imul(ge,He)|0,p=p+Math.imul(he,Ce)|0,S=S+Math.imul(he,He)|0,k=k+Math.imul(te,Ue)|0,p=p+Math.imul(te,tt)|0,p=p+Math.imul(re,Ue)|0,S=S+Math.imul(re,tt)|0,k=k+Math.imul(Pe,Ke)|0,p=p+Math.imul(Pe,Ie)|0,p=p+Math.imul(we,Ke)|0,S=S+Math.imul(we,Ie)|0,k=k+Math.imul(Y,De)|0,p=p+Math.imul(Y,rt)|0,p=p+Math.imul(de,De)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(J,ue)|0,p=p+Math.imul(J,be)|0,p=p+Math.imul(ae,ue)|0,S=S+Math.imul(ae,be)|0,k=k+Math.imul(Ne,je)|0,p=p+Math.imul(Ne,ze)|0,p=p+Math.imul(ve,je)|0,S=S+Math.imul(ve,ze)|0,k=k+Math.imul(ne,ce)|0,p=p+Math.imul(ne,Le)|0,p=p+Math.imul(ie,ce)|0,S=S+Math.imul(ie,Le)|0,k=k+Math.imul($,Te)|0,p=p+Math.imul($,ut)|0,p=p+Math.imul(W,Te)|0,S=S+Math.imul(W,ut)|0,k=k+Math.imul(O,at)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,at)|0,S=S+Math.imul(B,mt)|0;var Lr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,He),p=p+Math.imul(Xe,Ce)|0,S=Math.imul(Xe,He),k=k+Math.imul(ge,Ue)|0,p=p+Math.imul(ge,tt)|0,p=p+Math.imul(he,Ue)|0,S=S+Math.imul(he,tt)|0,k=k+Math.imul(te,Ke)|0,p=p+Math.imul(te,Ie)|0,p=p+Math.imul(re,Ke)|0,S=S+Math.imul(re,Ie)|0,k=k+Math.imul(Pe,De)|0,p=p+Math.imul(Pe,rt)|0,p=p+Math.imul(we,De)|0,S=S+Math.imul(we,rt)|0,k=k+Math.imul(Y,ue)|0,p=p+Math.imul(Y,be)|0,p=p+Math.imul(de,ue)|0,S=S+Math.imul(de,be)|0,k=k+Math.imul(J,je)|0,p=p+Math.imul(J,ze)|0,p=p+Math.imul(ae,je)|0,S=S+Math.imul(ae,ze)|0,k=k+Math.imul(Ne,ce)|0,p=p+Math.imul(Ne,Le)|0,p=p+Math.imul(ve,ce)|0,S=S+Math.imul(ve,Le)|0,k=k+Math.imul(ne,Te)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(ie,Te)|0,S=S+Math.imul(ie,ut)|0,k=k+Math.imul($,at)|0,p=p+Math.imul($,mt)|0,p=p+Math.imul(W,at)|0,S=S+Math.imul(W,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Re,Ue),p=Math.imul(Re,tt),p=p+Math.imul(Xe,Ue)|0,S=Math.imul(Xe,tt),k=k+Math.imul(ge,Ke)|0,p=p+Math.imul(ge,Ie)|0,p=p+Math.imul(he,Ke)|0,S=S+Math.imul(he,Ie)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(re,De)|0,S=S+Math.imul(re,rt)|0,k=k+Math.imul(Pe,ue)|0,p=p+Math.imul(Pe,be)|0,p=p+Math.imul(we,ue)|0,S=S+Math.imul(we,be)|0,k=k+Math.imul(Y,je)|0,p=p+Math.imul(Y,ze)|0,p=p+Math.imul(de,je)|0,S=S+Math.imul(de,ze)|0,k=k+Math.imul(J,ce)|0,p=p+Math.imul(J,Le)|0,p=p+Math.imul(ae,ce)|0,S=S+Math.imul(ae,Le)|0,k=k+Math.imul(Ne,Te)|0,p=p+Math.imul(Ne,ut)|0,p=p+Math.imul(ve,Te)|0,S=S+Math.imul(ve,ut)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(ie,at)|0,S=S+Math.imul(ie,mt)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(Re,Ke),p=Math.imul(Re,Ie),p=p+Math.imul(Xe,Ke)|0,S=Math.imul(Xe,Ie),k=k+Math.imul(ge,De)|0,p=p+Math.imul(ge,rt)|0,p=p+Math.imul(he,De)|0,S=S+Math.imul(he,rt)|0,k=k+Math.imul(te,ue)|0,p=p+Math.imul(te,be)|0,p=p+Math.imul(re,ue)|0,S=S+Math.imul(re,be)|0,k=k+Math.imul(Pe,je)|0,p=p+Math.imul(Pe,ze)|0,p=p+Math.imul(we,je)|0,S=S+Math.imul(we,ze)|0,k=k+Math.imul(Y,ce)|0,p=p+Math.imul(Y,Le)|0,p=p+Math.imul(de,ce)|0,S=S+Math.imul(de,Le)|0,k=k+Math.imul(J,Te)|0,p=p+Math.imul(J,ut)|0,p=p+Math.imul(ae,Te)|0,S=S+Math.imul(ae,ut)|0,k=k+Math.imul(Ne,at)|0,p=p+Math.imul(Ne,mt)|0,p=p+Math.imul(ve,at)|0,S=S+Math.imul(ve,mt)|0;var Or=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,k=Math.imul(Re,De),p=Math.imul(Re,rt),p=p+Math.imul(Xe,De)|0,S=Math.imul(Xe,rt),k=k+Math.imul(ge,ue)|0,p=p+Math.imul(ge,be)|0,p=p+Math.imul(he,ue)|0,S=S+Math.imul(he,be)|0,k=k+Math.imul(te,je)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(re,je)|0,S=S+Math.imul(re,ze)|0,k=k+Math.imul(Pe,ce)|0,p=p+Math.imul(Pe,Le)|0,p=p+Math.imul(we,ce)|0,S=S+Math.imul(we,Le)|0,k=k+Math.imul(Y,Te)|0,p=p+Math.imul(Y,ut)|0,p=p+Math.imul(de,Te)|0,S=S+Math.imul(de,ut)|0,k=k+Math.imul(J,at)|0,p=p+Math.imul(J,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Re,ue),p=Math.imul(Re,be),p=p+Math.imul(Xe,ue)|0,S=Math.imul(Xe,be),k=k+Math.imul(ge,je)|0,p=p+Math.imul(ge,ze)|0,p=p+Math.imul(he,je)|0,S=S+Math.imul(he,ze)|0,k=k+Math.imul(te,ce)|0,p=p+Math.imul(te,Le)|0,p=p+Math.imul(re,ce)|0,S=S+Math.imul(re,Le)|0,k=k+Math.imul(Pe,Te)|0,p=p+Math.imul(Pe,ut)|0,p=p+Math.imul(we,Te)|0,S=S+Math.imul(we,ut)|0,k=k+Math.imul(Y,at)|0,p=p+Math.imul(Y,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var _r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(_r>>>26)|0,_r&=67108863,k=Math.imul(Re,je),p=Math.imul(Re,ze),p=p+Math.imul(Xe,je)|0,S=Math.imul(Xe,ze),k=k+Math.imul(ge,ce)|0,p=p+Math.imul(ge,Le)|0,p=p+Math.imul(he,ce)|0,S=S+Math.imul(he,Le)|0,k=k+Math.imul(te,Te)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(re,Te)|0,S=S+Math.imul(re,ut)|0,k=k+Math.imul(Pe,at)|0,p=p+Math.imul(Pe,mt)|0,p=p+Math.imul(we,at)|0,S=S+Math.imul(we,mt)|0;var Rr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,k=Math.imul(Re,ce),p=Math.imul(Re,Le),p=p+Math.imul(Xe,ce)|0,S=Math.imul(Xe,Le),k=k+Math.imul(ge,Te)|0,p=p+Math.imul(ge,ut)|0,p=p+Math.imul(he,Te)|0,S=S+Math.imul(he,ut)|0,k=k+Math.imul(te,at)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(re,at)|0,S=S+Math.imul(re,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Re,Te),p=Math.imul(Re,ut),p=p+Math.imul(Xe,Te)|0,S=Math.imul(Xe,ut),k=k+Math.imul(ge,at)|0,p=p+Math.imul(ge,mt)|0,p=p+Math.imul(he,at)|0,S=S+Math.imul(he,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Re,at),p=Math.imul(Re,mt),p=p+Math.imul(Xe,at)|0,S=Math.imul(Xe,mt);var Fr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,T[0]=Ge,T[1]=st,T[2]=Lt,T[3]=Kt,T[4]=$t,T[5]=pr,T[6]=kr,T[7]=mr,T[8]=ur,T[9]=Lr,T[10]=Br,T[11]=xr,T[12]=Or,T[13]=br,T[14]=_r,T[15]=Rr,T[16]=zr,T[17]=Ur,T[18]=Fr,N!==0&&(T[19]=N,g.length++),g},"h");Math.imul||(A=_);function M(d,y,g){g.negative=y.negative^d.negative,g.length=d.length+y.length;for(var x=0,E=0,T=0;T<g.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,y.length-1),S=Math.max(0,T-d.length+1);S<=p;S++){var C=T-S,O=d.words[C]|0,B=y.words[S]|0,z=O*B,$=z&67108863;N=N+(z/67108864|0)|0,$=$+k|0,k=$&67108863,N=N+($>>>26)|0,E+=N>>>26,N&=67108863}g.words[T]=k,x=N,N=E}return x!==0?g.words[T]=x:g.length--,g.strip()}s(M,"I");function I(d,y,g){var x=new R;return x.mulp(d,y,g)}s(I,"D"),a.prototype.mulTo=function(d,y){var g,x=this.length+d.length;return this.length===10&&d.length===10?g=A(this,d,y):x<63?g=_(this,d,y):x<1024?g=M(this,d,y):g=I(this,d,y),g};function R(d,y){this.x=d,this.y=y}s(R,"g"),R.prototype.makeRBT=function(d){for(var y=Array(d),g=a.prototype._countBits(d)-1,x=0;x<d;x++)y[x]=this.revBin(x,g,d);return y},R.prototype.revBin=function(d,y,g){if(d===0||d===g-1)return d;for(var x=0,E=0;E<y;E++)x|=(d&1)<<y-E-1,d>>=1;return x},R.prototype.permute=function(d,y,g,x,E,T){for(var N=0;N<T;N++)x[N]=y[d[N]],E[N]=g[d[N]]},R.prototype.transform=function(d,y,g,x,E,T){this.permute(T,d,y,g,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var O=p,B=S,z=0;z<N;z++){var $=g[C+z],W=x[C+z],oe=g[C+z+N],ne=x[C+z+N],ie=O*oe-B*ne;ne=O*ne+B*oe,oe=ie,g[C+z]=$+oe,x[C+z]=W+ne,g[C+z+N]=$-oe,x[C+z+N]=W-ne,z!==k&&(ie=p*O-S*B,B=p*B+S*O,O=ie)}},R.prototype.guessLen13b=function(d,y){var g=Math.max(y,d)|1,x=g&1,E=0;for(g=g/2|0;g;g=g>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(d,y,g){if(!(g<=1))for(var x=0;x<g/2;x++){var E=d[x];d[x]=d[g-x-1],d[g-x-1]=E,E=y[x],y[x]=-y[g-x-1],y[g-x-1]=-E}},R.prototype.normalize13b=function(d,y){for(var g=0,x=0;x<y/2;x++){var E=Math.round(d[2*x+1]/y)*8192+Math.round(d[2*x]/y)+g;d[x]=E&67108863,E<67108864?g=0:g=E/67108864|0}return d},R.prototype.convert13b=function(d,y,g,x){for(var E=0,T=0;T<y;T++)E=E+(d[T]|0),g[2*T]=E&8191,E=E>>>13,g[2*T+1]=E&8191,E=E>>>13;for(T=2*y;T<x;++T)g[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(d){for(var y=Array(d),g=0;g<d;g++)y[g]=0;return y},R.prototype.mulp=function(d,y,g){var x=2*this.guessLen13b(d.length,y.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),O=Array(x),B=g.words;B.length=x,this.convert13b(d.words,d.length,N,x),this.convert13b(y.words,y.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,O,x,E);for(var z=0;z<x;z++){var $=k[z]*C[z]-p[z]*O[z];p[z]=k[z]*O[z]+p[z]*C[z],k[z]=$}return this.conjugate(k,p,x),this.transform(k,p,B,T,x,E),this.conjugate(B,T,x),this.normalize13b(B,x),g.negative=d.negative^y.negative,g.length=d.length+y.length,g.strip()},a.prototype.mul=function(d){var y=new a(null);return y.words=Array(this.length+d.length),this.mulTo(d,y)},a.prototype.mulf=function(d){var y=new a(null);return y.words=Array(this.length+d.length),I(this,d,y)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){i(typeof d=="number"),i(d<67108864);for(var y=0,g=0;g<this.length;g++){var x=(this.words[g]|0)*d,E=(x&67108863)+(y&67108863);y>>=26,y+=x/67108864|0,y+=E>>>26,this.words[g]=E&67108863}return y!==0&&(this.words[g]=y,this.length++),this.length=d===0?1:this.length,this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var y=w(d);if(y.length===0)return new a(1);for(var g=this,x=0;x<y.length&&y[x]===0;x++,g=g.sqr());if(++x<y.length)for(var E=g.sqr();x<y.length;x++,E=E.sqr())y[x]!==0&&(g=g.mul(E));return g},a.prototype.iushln=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=67108863>>>26-y<<26-y,E;if(y!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<y;this.words[E]=k|T,T=N>>>26-y}T&&(this.words[E]=T,this.length++)}if(g!==0){for(E=this.length-1;E>=0;E--)this.words[E+g]=this.words[E];for(E=0;E<g;E++)this.words[E]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(d){return i(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,y,g){i(typeof d=="number"&&d>=0);var x;y?x=(y-y%26)/26:x=0;var E=d%26,T=Math.min((d-E)/26,this.length),N=67108863^67108863>>>E<<E,k=g;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,y,g){return i(this.negative===0),this.iushrn(d,y,g)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return!1;var E=this.words[g];return!!(E&x)},a.prototype.imaskn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(y!==0&&g++,this.length=Math.min(g,this.length),y!==0){var x=67108863^67108863>>>y<<y;this.words[this.length-1]&=x}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return i(typeof d=="number"),i(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},a.prototype.isubn=function(d){if(i(typeof d=="number"),i(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,y,g){var x=d.length+g,E;this._expand(x);var T,N=0;for(E=0;E<d.length;E++){T=(this.words[E+g]|0)+N;var k=(d.words[E]|0)*y;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+g]=T&67108863}for(;E<this.length-g;E++)T=(this.words[E+g]|0)+N,N=T>>26,this.words[E+g]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,y){var g=this.length-d.length,x=this.clone(),E=d,T=E.words[E.length-1]|0,N=this._countBits(T);g=26-N,g!==0&&(E=E.ushln(g),x.iushln(g),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(y!=="mod"){p=new a(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(x.words[E.length+O]|0)*67108864+(x.words[E.length+O-1]|0);for(B=Math.min(B/T|0,67108863),x._ishlnsubmul(E,B,O);x.negative!==0;)B--,x.negative=0,x._ishlnsubmul(E,1,O),!x.isZero()&&(x.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),x.strip(),y!=="div"&&g!==0&&x.iushrn(g),{div:p||null,mod:x}},a.prototype.divmod=function(d,y,g){if(i(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var x,E,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,y),y!=="mod"&&(x=T.div.neg()),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.iadd(d)),{div:x,mod:E}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),y),y!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),y),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.isub(d)),{div:T.div,mod:E}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,y)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var g=y.div.negative!==0?y.mod.isub(d):y.mod,x=d.ushrn(1),E=d.andln(1),T=g.cmp(x);return T<0||E===1&&T===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},a.prototype.modn=function(d){i(d<=67108863);for(var y=67108864%d,g=0,x=this.length-1;x>=0;x--)g=(y*g+(this.words[x]|0))%d;return g},a.prototype.idivn=function(d){i(d<=67108863);for(var y=0,g=this.length-1;g>=0;g--){var x=(this.words[g]|0)+y*67108864;this.words[g]=x/d|0,y=x%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=new a(0),N=new a(1),k=0;y.isEven()&&g.isEven();)y.iushrn(1),g.iushrn(1),++k;for(var p=g.clone(),S=y.clone();!y.isZero();){for(var C=0,O=1;(y.words[0]&O)===0&&C<26;++C,O<<=1);if(C>0)for(y.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var B=0,z=1;(g.words[0]&z)===0&&B<26;++B,z<<=1);if(B>0)for(g.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(T),E.isub(N)):(g.isub(y),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:g.iushln(k)}},a.prototype._invmp=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=g.clone();y.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,k=1;(y.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(y.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(g.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(g.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(E)):(g.isub(y),E.isub(x))}var C;return y.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(d),C},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),g=d.clone();y.negative=0,g.negative=0;for(var x=0;y.isEven()&&g.isEven();x++)y.iushrn(1),g.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;g.isEven();)g.iushrn(1);var E=y.cmp(g);if(E<0){var T=y;y=g,g=T}else if(E===0||g.cmpn(1)===0)break;y.isub(g)}while(!0);return g.iushln(x)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){i(typeof d=="number");var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return this._expand(g+1),this.words[g]|=x,this;for(var E=x,T=g;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var g;if(this.length>1)g=1;else{y&&(d=-d),i(d<=67108863,"Number is too big");var x=this.words[0]|0;g=x===d?0:x<d?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,g=this.length-1;g>=0;g--){var x=this.words[g]|0,E=d.words[g]|0;if(x!==E){x<E?y=-1:x>E&&(y=1);break}}return y},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new U(d)},a.prototype.toRed=function(d){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return i(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return i(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function P(d,y){this.name=d,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}s(P,"u"),P.prototype._tmp=function(){var d=new a(null);return d.words=Array(Math.ceil(this.n/13)),d},P.prototype.ireduce=function(d){var y=d,g;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),g=y.bitLength();while(g>this.n);var x=g<this.n?-1:y.ucmp(this.p);return x===0?(y.words[0]=0,y.length=1):x>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},P.prototype.split=function(d,y){d.iushrn(this.n,0,y)},P.prototype.imulK=function(d){return d.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,"p"),o(F,P),F.prototype.split=function(d,y){for(var g=4194303,x=Math.min(d.length,9),E=0;E<x;E++)y.words[E]=d.words[E];if(y.length=x,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(y.words[y.length++]=T&g,E=10;E<d.length;E++){var N=d.words[E]|0;d.words[E-10]=(N&g)<<4|T>>>22,T=N}T>>>=22,d.words[E-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},F.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,g=0;g<d.length;g++){var x=d.words[g]|0;y+=x*977,d.words[g]=y&67108863,y=x*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function Z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Z,"l"),o(Z,P);function G(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,"Q"),o(G,P);function se(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(se,"e"),o(se,P),se.prototype.imulK=function(d){for(var y=0,g=0;g<d.length;g++){var x=(d.words[g]|0)*19+y,E=x&67108863;x>>>=26,d.words[g]=E,y=x}return y!==0&&(d.words[d.length++]=y),d},a._prime=function(d){if(L[d])return L[d];var y;if(d==="k256")y=new F;else if(d==="p224")y=new Z;else if(d==="p192")y=new G;else if(d==="p25519")y=new se;else throw Error("Unknown prime "+d);return L[d]=y,y};function U(d){if(typeof d=="string"){var y=a._prime(d);this.m=y.p,this.prime=y}else i(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}s(U,"m"),U.prototype._verify1=function(d){i(d.negative===0,"red works only with positives"),i(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,y){i((d.negative|y.negative)===0,"red works only with positives"),i(d.red&&d.red===y.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,y){this._verify2(d,y);var g=d.add(y);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},U.prototype.iadd=function(d,y){this._verify2(d,y);var g=d.iadd(y);return g.cmp(this.m)>=0&&g.isub(this.m),g},U.prototype.sub=function(d,y){this._verify2(d,y);var g=d.sub(y);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},U.prototype.isub=function(d,y){this._verify2(d,y);var g=d.isub(y);return g.cmpn(0)<0&&g.iadd(this.m),g},U.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},U.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},U.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(i(y%2===1),y===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(d,g)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new a(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(d,x.addn(1).iushrn(1)),O=this.pow(d,x),B=E;O.cmp(T)!==0;){for(var z=O,$=0;z.cmp(T)!==0;$++)z=z.redSqr();i($<B);var W=this.pow(S,new a(1).iushln(B-$-1));C=C.redMul(W),S=W.redSqr(),O=O.redMul(S),B=$}return C},U.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},U.prototype.pow=function(d,y){if(y.isZero())return new a(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var g=4,x=Array(1<<g);x[0]=new a(1).toRed(this),x[1]=d;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],d);var T=x[0],N=0,k=0,p=y.bitLength()%26;for(p===0&&(p=26),E=y.length-1;E>=0;E--){for(var S=y.words[E],C=p-1;C>=0;C--){var O=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==g&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},U.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},U.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},a.mont=function(d){return new X(d)};function X(d){U.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(X,"o"),o(X,U),X.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},X.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},X.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new a(0)._forceRed(this);var g=d.mul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof t>"u"||t,e)}),Ps=_t((e,t)=>{t.exports=r;function r(n,i){if(!n)throw Error(i||"Assertion failed")}s(r,"K"),r.equal=function(n,i,o){if(n!=i)throw Error(o||"Assertion failed: "+n+" != "+i)}}),fm=_t(e=>{var t=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)l[u]=o[u]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var u=0;u<o.length;u+=2)l.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var c=o.charCodeAt(u),h=c>>8,f=c&255;h?l.push(h,f):l.push(f)}return l}s(r,"K"),t.toArray=r;function n(o){return o.length===1?"0"+o:o}s(n,"P"),t.zero2=n;function i(o){for(var a="",l=0;l<o.length;l++)a+=n(o[l].toString(16));return a}s(i,"_"),t.toHex=i,t.encode=function(o,a){return a==="hex"?i(o):o}}),ni=_t(e=>{var t=e,r=as(),n=Ps(),i=fm();t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function o(h,f,v){var m=Array(Math.max(h.bitLength(),v)+1),w;for(w=0;w<m.length;w+=1)m[w]=0;var _=1<<f+1,A=h.clone();for(w=0;w<m.length;w++){var M,I=A.andln(_-1);A.isOdd()?(I>(_>>1)-1?M=(_>>1)-I:M=I,A.isubn(M)):M=0,m[w]=M,A.iushrn(1)}return m}s(o,"O"),t.getNAF=o;function a(h,f){var v=[[],[]];h=h.clone(),f=f.clone();for(var m=0,w=0,_;h.cmpn(-m)>0||f.cmpn(-w)>0;){var A=h.andln(3)+m&3,M=f.andln(3)+w&3;A===3&&(A=-1),M===3&&(M=-1);var I;(A&1)===0?I=0:(_=h.andln(7)+m&7,(_===3||_===5)&&M===2?I=-A:I=A),v[0].push(I);var R;(M&1)===0?R=0:(_=f.andln(7)+w&7,(_===3||_===5)&&A===2?R=-M:R=M),v[1].push(R),2*m===I+1&&(m=1-m),2*w===R+1&&(w=1-w),h.iushrn(1),f.iushrn(1)}return v}s(a,"j"),t.getJSF=a;function l(h,f,v){var m="_"+f;h.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=v.call(this)}}s(l,"z"),t.cachedProperty=l;function u(h){return typeof h=="string"?t.toArray(h,"hex"):h}s(u,"J"),t.parseBytes=u;function c(h){return new r(h,"hex","le")}s(c,"w"),t.intFromLE=c}),hm=_t((e,t)=>{var r;t.exports=function(o){return r||(r=new n(null)),r.generate(o)};function n(o){this.rand=o}if(s(n,"P"),t.exports.Rand=n,n.prototype.generate=function(o){return this._rand(o)},n.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var a=new Uint8Array(o),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(o){var a=new Uint8Array(o);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(o){var a=new Uint8Array(o);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(n.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(i=(Xn(),rr(zn)),typeof i.randomBytes!="function")throw Error("Not supported");n.prototype._rand=function(o){return i.randomBytes(o)}}catch{}var i}),gu=_t((e,t)=>{var r=as(),n=ni(),i=n.getNAF,o=n.getJSF,a=n.assert;function l(c,h){this.type=c,this.p=new r(h.p,16),this.red=h.prime?r.red(h.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=h.n&&new r(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s(l,"z"),t.exports=l,l.prototype.point=function(){throw Error("Not implemented")},l.prototype.validate=function(){throw Error("Not implemented")},l.prototype._fixedNafMul=function(c,h){a(c.precomputed);var f=c._getDoubles(),v=i(h,1,this._bitLength),m=(1<<f.step+1)-(f.step%2===0?2:1);m/=3;var w=[],_,A;for(_=0;_<v.length;_+=f.step){A=0;for(var M=_+f.step-1;M>=_;M--)A=(A<<1)+v[M];w.push(A)}for(var I=this.jpoint(null,null,null),R=this.jpoint(null,null,null),L=m;L>0;L--){for(_=0;_<w.length;_++)A=w[_],A===L?R=R.mixedAdd(f.points[_]):A===-L&&(R=R.mixedAdd(f.points[_].neg()));I=I.add(R)}return I.toP()},l.prototype._wnafMul=function(c,h){var f=4,v=c._getNAFPoints(f);f=v.wnd;for(var m=v.points,w=i(h,f,this._bitLength),_=this.jpoint(null,null,null),A=w.length-1;A>=0;A--){for(var M=0;A>=0&&w[A]===0;A--)M++;if(A>=0&&M++,_=_.dblp(M),A<0)break;var I=w[A];a(I!==0),c.type==="affine"?I>0?_=_.mixedAdd(m[I-1>>1]):_=_.mixedAdd(m[-I-1>>1].neg()):I>0?_=_.add(m[I-1>>1]):_=_.add(m[-I-1>>1].neg())}return c.type==="affine"?_.toP():_},l.prototype._wnafMulAdd=function(c,h,f,v,m){var w=this._wnafT1,_=this._wnafT2,A=this._wnafT3,M=0,I,R,L;for(I=0;I<v;I++){L=h[I];var P=L._getNAFPoints(c);w[I]=P.wnd,_[I]=P.points}for(I=v-1;I>=1;I-=2){var F=I-1,Z=I;if(w[F]!==1||w[Z]!==1){A[F]=i(f[F],w[F],this._bitLength),A[Z]=i(f[Z],w[Z],this._bitLength),M=Math.max(A[F].length,M),M=Math.max(A[Z].length,M);continue}var G=[h[F],null,null,h[Z]];h[F].y.cmp(h[Z].y)===0?(G[1]=h[F].add(h[Z]),G[2]=h[F].toJ().mixedAdd(h[Z].neg())):h[F].y.cmp(h[Z].y.redNeg())===0?(G[1]=h[F].toJ().mixedAdd(h[Z]),G[2]=h[F].add(h[Z].neg())):(G[1]=h[F].toJ().mixedAdd(h[Z]),G[2]=h[F].toJ().mixedAdd(h[Z].neg()));var se=[-3,-1,-5,-7,0,7,5,1,3],U=o(f[F],f[Z]);for(M=Math.max(U[0].length,M),A[F]=Array(M),A[Z]=Array(M),R=0;R<M;R++){var X=U[0][R]|0,d=U[1][R]|0;A[F][R]=se[(X+1)*3+(d+1)],A[Z][R]=0,_[F]=G}}var y=this.jpoint(null,null,null),g=this._wnafT4;for(I=M;I>=0;I--){for(var x=0;I>=0;){var E=!0;for(R=0;R<v;R++)g[R]=A[R][I]|0,g[R]!==0&&(E=!1);if(!E)break;x++,I--}if(I>=0&&x++,y=y.dblp(x),I<0)break;for(R=0;R<v;R++){var T=g[R];T!==0&&(T>0?L=_[R][T-1>>1]:T<0&&(L=_[R][-T-1>>1].neg()),L.type==="affine"?y=y.mixedAdd(L):y=y.add(L))}}for(I=0;I<v;I++)_[I]=null;return m?y:y.toP()};function u(c,h){this.curve=c,this.type=h,this.precomputed=null}s(u,"J"),l.BasePoint=u,u.prototype.eq=function(){throw Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(c,h){c=n.toArray(c,h);var f=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*f){c[0]===6?a(c[c.length-1]%2===0):c[0]===7&&a(c[c.length-1]%2===1);var v=this.point(c.slice(1,1+f),c.slice(1+f,1+2*f));return v}else if((c[0]===2||c[0]===3)&&c.length-1===f)return this.pointFromX(c.slice(1,1+f),c[0]===3);throw Error("Unknown point format")},u.prototype.encodeCompressed=function(c){return this.encode(c,!0)},u.prototype._encode=function(c){var h=this.curve.p.byteLength(),f=this.getX().toArray("be",h);return c?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",h))},u.prototype.encode=function(c,h){return n.encode(this._encode(h),c)},u.prototype.precompute=function(c){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,c),h.beta=this._getBeta(),this.precomputed=h,this},u.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((c.bitLength()+1)/h.step):!1},u.prototype._getDoubles=function(c,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],v=this,m=0;m<h;m+=c){for(var w=0;w<c;w++)v=v.dbl();f.push(v)}return{step:c,points:f}},u.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],f=(1<<c)-1,v=f===1?null:this.dbl(),m=1;m<f;m++)h[m]=h[m-1].add(v);return{wnd:c,points:h}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(c){for(var h=this,f=0;f<c;f++)h=h.dbl();return h}}),S3=_t((e,t)=>{typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=s(function(){},"O");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Wn=_t((e,t)=>{try{if(r=(PF(),rr(eS)),typeof r.inherits!="function")throw"";t.exports=r.inherits}catch{t.exports=S3()}var r}),k3=_t((e,t)=>{var r=ni(),n=as(),i=Wn(),o=gu(),a=r.assert;function l(h){o.call(this,"short",h),this.a=new n(h.a,16).toRed(this.red),this.b=new n(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}s(l,"z"),i(l,o),t.exports=l,l.prototype._getEndomorphism=function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,v;if(h.beta)f=new n(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);f=m[0].cmp(m[1])<0?m[0]:m[1],f=f.toRed(this.red)}if(h.lambda)v=new n(h.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(f))===0?v=w[0]:(v=w[1],a(this.g.mul(v).x.cmp(this.g.x.redMul(f))===0))}var _;return h.basis?_=h.basis.map(function(A){return{a:new n(A.a,16),b:new n(A.b,16)}}):_=this._getEndoBasis(v),{beta:f,lambda:v,basis:_}}},l.prototype._getEndoRoots=function(h){var f=h===this.p?this.red:n.mont(h),v=new n(2).toRed(f).redInvm(),m=v.redNeg(),w=new n(3).toRed(f).redNeg().redSqrt().redMul(v),_=m.redAdd(w).fromRed(),A=m.redSub(w).fromRed();return[_,A]},l.prototype._getEndoBasis=function(h){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),v=h,m=this.n.clone(),w=new n(1),_=new n(0),A=new n(0),M=new n(1),I,R,L,P,F,Z,G,se=0,U,X;v.cmpn(0)!==0;){var d=m.div(v);U=m.sub(d.mul(v)),X=A.sub(d.mul(w));var y=M.sub(d.mul(_));if(!L&&U.cmp(f)<0)I=G.neg(),R=w,L=U.neg(),P=X;else if(L&&++se===2)break;G=U,m=v,v=U,A=w,w=X,M=_,_=y}F=U.neg(),Z=X;var g=L.sqr().add(P.sqr()),x=F.sqr().add(Z.sqr());return x.cmp(g)>=0&&(F=I,Z=R),L.negative&&(L=L.neg(),P=P.neg()),F.negative&&(F=F.neg(),Z=Z.neg()),[{a:L,b:P},{a:F,b:Z}]},l.prototype._endoSplit=function(h){var f=this.endo.basis,v=f[0],m=f[1],w=m.b.mul(h).divRound(this.n),_=v.b.neg().mul(h).divRound(this.n),A=w.mul(v.a),M=_.mul(m.a),I=w.mul(v.b),R=_.mul(m.b),L=h.sub(A).sub(M),P=I.add(R).neg();return{k1:L,k2:P}},l.prototype.pointFromX=function(h,f){h=new n(h,16),!h.red&&(h=h.toRed(this.red));var v=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=v.redSqrt();if(m.redSqr().redSub(v).cmp(this.zero)!==0)throw Error("invalid point");var w=m.fromRed().isOdd();return(f&&!w||!f&&w)&&(m=m.redNeg()),this.point(h,m)},l.prototype.validate=function(h){if(h.inf)return!0;var{x:f,y:v}=h,m=this.a.redMul(f),w=f.redSqr().redMul(f).redIAdd(m).redIAdd(this.b);return v.redSqr().redISub(w).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(h,f,v){for(var m=this._endoWnafT1,w=this._endoWnafT2,_=0;_<h.length;_++){var A=this._endoSplit(f[_]),M=h[_],I=M._getBeta();A.k1.negative&&(A.k1.ineg(),M=M.neg(!0)),A.k2.negative&&(A.k2.ineg(),I=I.neg(!0)),m[_*2]=M,m[_*2+1]=I,w[_*2]=A.k1,w[_*2+1]=A.k2}for(var R=this._wnafMulAdd(1,m,w,_*2,v),L=0;L<_*2;L++)m[L]=null,w[L]=null;return R};function u(h,f,v,m){o.BasePoint.call(this,h,"affine"),f===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(f,16),this.y=new n(v,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}s(u,"J"),i(u,o.BasePoint),l.prototype.point=function(h,f,v){return new u(this,h,f,v)},l.prototype.pointFromJSON=function(h,f){return u.fromJSON(this,h,f)},u.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var v=this.curve,m=s(function(w){return v.point(w.x.redMul(v.endo.beta),w.y)},"C");h.beta=f,f.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return f}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(h,f,v){typeof f=="string"&&(f=JSON.parse(f));var m=h.point(f[0],f[1],v);if(!f[2])return m;function w(A){return h.point(A[0],A[1],v)}s(w,"E");var _=f[2];return m.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[m].concat(_.doubles.points.map(w))},naf:_.naf&&{wnd:_.naf.wnd,points:[m].concat(_.naf.points.map(w))}},m},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var f=this.y.redSub(h.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(h.x).redInvm()));var v=f.redSqr().redISub(this.x).redISub(h.x),m=f.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,m)},u.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,v=this.x.redSqr(),m=h.redInvm(),w=v.redAdd(v).redIAdd(v).redIAdd(f).redMul(m),_=w.redSqr().redISub(this.x.redAdd(this.x)),A=w.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,A)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(h){return h=new n(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},u.prototype.mulAdd=function(h,f,v){var m=[this,f],w=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(m,w):this.curve._wnafMulAdd(1,m,w,2)},u.prototype.jmulAdd=function(h,f,v){var m=[this,f],w=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(m,w,!0):this.curve._wnafMulAdd(1,m,w,2,!0)},u.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},u.prototype.neg=function(h){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var v=this.precomputed,m=s(function(w){return w.neg()},"C");f.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(m)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(m)}}}return f},u.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h};function c(h,f,v,m){o.BasePoint.call(this,h,"jacobian"),f===null&&v===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(f,16),this.y=new n(v,16),this.z=new n(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,"w"),i(c,o.BasePoint),l.prototype.jpoint=function(h,f,v){return new c(this,h,f,v)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),f=h.redSqr(),v=this.x.redMul(f),m=this.y.redMul(f).redMul(h);return this.curve.point(v,m)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var f=h.z.redSqr(),v=this.z.redSqr(),m=this.x.redMul(f),w=h.x.redMul(v),_=this.y.redMul(f.redMul(h.z)),A=h.y.redMul(v.redMul(this.z)),M=m.redSub(w),I=_.redSub(A);if(M.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=M.redSqr(),L=R.redMul(M),P=m.redMul(R),F=I.redSqr().redIAdd(L).redISub(P).redISub(P),Z=I.redMul(P.redISub(F)).redISub(_.redMul(L)),G=this.z.redMul(h.z).redMul(M);return this.curve.jpoint(F,Z,G)},c.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var f=this.z.redSqr(),v=this.x,m=h.x.redMul(f),w=this.y,_=h.y.redMul(f).redMul(this.z),A=v.redSub(m),M=w.redSub(_);if(A.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=A.redSqr(),R=I.redMul(A),L=v.redMul(I),P=M.redSqr().redIAdd(R).redISub(L).redISub(L),F=M.redMul(L.redISub(P)).redISub(w.redMul(R)),Z=this.z.redMul(A);return this.curve.jpoint(P,F,Z)},c.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var v=this;for(f=0;f<h;f++)v=v.dbl();return v}var m=this.curve.a,w=this.curve.tinv,_=this.x,A=this.y,M=this.z,I=M.redSqr().redSqr(),R=A.redAdd(A);for(f=0;f<h;f++){var L=_.redSqr(),P=R.redSqr(),F=P.redSqr(),Z=L.redAdd(L).redIAdd(L).redIAdd(m.redMul(I)),G=_.redMul(P),se=Z.redSqr().redISub(G.redAdd(G)),U=G.redISub(se),X=Z.redMul(U);X=X.redIAdd(X).redISub(F);var d=R.redMul(M);f+1<h&&(I=I.redMul(F)),_=se,M=d,R=X}return this.curve.jpoint(_,R.redMul(w),M)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var h,f,v;if(this.zOne){var m=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(m).redISub(_);A=A.redIAdd(A);var M=m.redAdd(m).redIAdd(m),I=M.redSqr().redISub(A).redISub(A),R=_.redIAdd(_);R=R.redIAdd(R),R=R.redIAdd(R),h=I,f=M.redMul(A.redISub(I)).redISub(R),v=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),P=this.y.redSqr(),F=P.redSqr(),Z=this.x.redAdd(P).redSqr().redISub(L).redISub(F);Z=Z.redIAdd(Z);var G=L.redAdd(L).redIAdd(L),se=G.redSqr(),U=F.redIAdd(F);U=U.redIAdd(U),U=U.redIAdd(U),h=se.redISub(Z).redISub(Z),f=G.redMul(Z.redISub(h)).redISub(U),v=this.y.redMul(this.z),v=v.redIAdd(v)}return this.curve.jpoint(h,f,v)},c.prototype._threeDbl=function(){var h,f,v;if(this.zOne){var m=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(m).redISub(_);A=A.redIAdd(A);var M=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),I=M.redSqr().redISub(A).redISub(A);h=I;var R=_.redIAdd(_);R=R.redIAdd(R),R=R.redIAdd(R),f=M.redMul(A.redISub(I)).redISub(R),v=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),P=this.y.redSqr(),F=this.x.redMul(P),Z=this.x.redSub(L).redMul(this.x.redAdd(L));Z=Z.redAdd(Z).redIAdd(Z);var G=F.redIAdd(F);G=G.redIAdd(G);var se=G.redAdd(G);h=Z.redSqr().redISub(se),v=this.y.redAdd(this.z).redSqr().redISub(P).redISub(L);var U=P.redSqr();U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U),f=Z.redMul(G.redISub(h)).redISub(U)}return this.curve.jpoint(h,f,v)},c.prototype._dbl=function(){var h=this.curve.a,f=this.x,v=this.y,m=this.z,w=m.redSqr().redSqr(),_=f.redSqr(),A=v.redSqr(),M=_.redAdd(_).redIAdd(_).redIAdd(h.redMul(w)),I=f.redAdd(f);I=I.redIAdd(I);var R=I.redMul(A),L=M.redSqr().redISub(R.redAdd(R)),P=R.redISub(L),F=A.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var Z=M.redMul(P).redISub(F),G=v.redAdd(v).redMul(m);return this.curve.jpoint(L,Z,G)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),f=this.y.redSqr(),v=this.z.redSqr(),m=f.redSqr(),w=h.redAdd(h).redIAdd(h),_=w.redSqr(),A=this.x.redAdd(f).redSqr().redISub(h).redISub(m);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(_);var M=A.redSqr(),I=m.redIAdd(m);I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var R=w.redIAdd(A).redSqr().redISub(_).redISub(M).redISub(I),L=f.redMul(R);L=L.redIAdd(L),L=L.redIAdd(L);var P=this.x.redMul(M).redISub(L);P=P.redIAdd(P),P=P.redIAdd(P);var F=this.y.redMul(R.redMul(I.redISub(R)).redISub(A.redMul(M)));F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var Z=this.z.redAdd(A).redSqr().redISub(v).redISub(M);return this.curve.jpoint(P,F,Z)},c.prototype.mul=function(h,f){return h=new n(h,f),this.curve._wnafMul(this,h)},c.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var f=this.z.redSqr(),v=h.z.redSqr();if(this.x.redMul(v).redISub(h.x.redMul(f)).cmpn(0)!==0)return!1;var m=f.redMul(this.z),w=v.redMul(h.z);return this.y.redMul(w).redISub(h.y.redMul(m)).cmpn(0)===0},c.prototype.eqXToP=function(h){var f=this.z.redSqr(),v=h.toRed(this.curve.red).redMul(f);if(this.x.cmp(v)===0)return!0;for(var m=h.clone(),w=this.curve.redN.redMul(f);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(w),this.x.cmp(v)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),T3=_t((e,t)=>{var r=as(),n=Wn(),i=gu(),o=ni();function a(u){i.call(this,"mont",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}s(a,"j"),n(a,i),t.exports=a,a.prototype.validate=function(u){var c=u.normalize().x,h=c.redSqr(),f=h.redMul(c).redAdd(h.redMul(this.a)).redAdd(c),v=f.redSqrt();return v.redSqr().cmp(f)===0};function l(u,c,h){i.BasePoint.call(this,u,"projective"),c===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(c,16),this.z=new r(h,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(l,"z"),n(l,i.BasePoint),a.prototype.decodePoint=function(u,c){return this.point(o.toArray(u,c),1)},a.prototype.point=function(u,c){return new l(this,u,c)},a.prototype.pointFromJSON=function(u){return l.fromJSON(this,u)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(u,c){return new l(u,c[0],c[1]||u.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var u=this.x.redAdd(this.z),c=u.redSqr(),h=this.x.redSub(this.z),f=h.redSqr(),v=c.redSub(f),m=c.redMul(f),w=v.redMul(f.redAdd(this.curve.a24.redMul(v)));return this.curve.point(m,w)},l.prototype.add=function(){throw Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(u,c){var h=this.x.redAdd(this.z),f=this.x.redSub(this.z),v=u.x.redAdd(u.z),m=u.x.redSub(u.z),w=m.redMul(h),_=v.redMul(f),A=c.z.redMul(w.redAdd(_).redSqr()),M=c.x.redMul(w.redISub(_).redSqr());return this.curve.point(A,M)},l.prototype.mul=function(u){for(var c=u.clone(),h=this,f=this.curve.point(null,null),v=this,m=[];c.cmpn(0)!==0;c.iushrn(1))m.push(c.andln(1));for(var w=m.length-1;w>=0;w--)m[w]===0?(h=h.diffAdd(f,v),f=f.dbl()):(f=h.diffAdd(f,v),h=h.dbl());return f},l.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),A3=_t((e,t)=>{var r=ni(),n=as(),i=Wn(),o=gu(),a=r.assert;function l(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,o.call(this,"edwards",c),this.a=new n(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}s(l,"z"),i(l,o),t.exports=l,l.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},l.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},l.prototype.jpoint=function(c,h,f,v){return this.point(c,h,f,v)},l.prototype.pointFromX=function(c,h){c=new n(c,16),!c.red&&(c=c.toRed(this.red));var f=c.redSqr(),v=this.c2.redSub(this.a.redMul(f)),m=this.one.redSub(this.c2.redMul(this.d).redMul(f)),w=v.redMul(m.redInvm()),_=w.redSqrt();if(_.redSqr().redSub(w).cmp(this.zero)!==0)throw Error("invalid point");var A=_.fromRed().isOdd();return(h&&!A||!h&&A)&&(_=_.redNeg()),this.point(c,_)},l.prototype.pointFromY=function(c,h){c=new n(c,16),!c.red&&(c=c.toRed(this.red));var f=c.redSqr(),v=f.redSub(this.c2),m=f.redMul(this.d).redMul(this.c2).redSub(this.a),w=v.redMul(m.redInvm());if(w.cmp(this.zero)===0){if(h)throw Error("invalid point");return this.point(this.zero,c)}var _=w.redSqrt();if(_.redSqr().redSub(w).cmp(this.zero)!==0)throw Error("invalid point");return _.fromRed().isOdd()!==h&&(_=_.redNeg()),this.point(_,c)},l.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var h=c.x.redSqr(),f=c.y.redSqr(),v=h.redMul(this.a).redAdd(f),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(f)));return v.cmp(m)===0};function u(c,h,f,v,m){o.BasePoint.call(this,c,"projective"),h===null&&f===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(h,16),this.y=new n(f,16),this.z=v?new n(v,16):this.curve.one,this.t=m&&new n(m,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}s(u,"J"),i(u,o.BasePoint),l.prototype.pointFromJSON=function(c){return u.fromJSON(this,c)},l.prototype.point=function(c,h,f,v){return new u(this,c,h,f,v)},u.fromJSON=function(c,h){return new u(c,h[0],h[1],h[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var c=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var v=this.curve._mulA(c),m=this.x.redAdd(this.y).redSqr().redISub(c).redISub(h),w=v.redAdd(h),_=w.redSub(f),A=v.redSub(h),M=m.redMul(_),I=w.redMul(A),R=m.redMul(A),L=_.redMul(w);return this.curve.point(M,I,L,R)},u.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),f=this.y.redSqr(),v,m,w,_,A,M;if(this.curve.twisted){_=this.curve._mulA(h);var I=_.redAdd(f);this.zOne?(v=c.redSub(h).redSub(f).redMul(I.redSub(this.curve.two)),m=I.redMul(_.redSub(f)),w=I.redSqr().redSub(I).redSub(I)):(A=this.z.redSqr(),M=I.redSub(A).redISub(A),v=c.redSub(h).redISub(f).redMul(M),m=I.redMul(_.redSub(f)),w=I.redMul(M))}else _=h.redAdd(f),A=this.curve._mulC(this.z).redSqr(),M=_.redSub(A).redSub(A),v=this.curve._mulC(c.redISub(_)).redMul(M),m=this.curve._mulC(_).redMul(h.redISub(f)),w=_.redMul(M);return this.curve.point(v,m,w)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(c){var h=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),f=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),v=this.t.redMul(this.curve.dd).redMul(c.t),m=this.z.redMul(c.z.redAdd(c.z)),w=f.redSub(h),_=m.redSub(v),A=m.redAdd(v),M=f.redAdd(h),I=w.redMul(_),R=A.redMul(M),L=w.redMul(M),P=_.redMul(A);return this.curve.point(I,R,P,L)},u.prototype._projAdd=function(c){var h=this.z.redMul(c.z),f=h.redSqr(),v=this.x.redMul(c.x),m=this.y.redMul(c.y),w=this.curve.d.redMul(v).redMul(m),_=f.redSub(w),A=f.redAdd(w),M=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(v).redISub(m),I=h.redMul(_).redMul(M),R,L;return this.curve.twisted?(R=h.redMul(A).redMul(m.redSub(this.curve._mulA(v))),L=_.redMul(A)):(R=h.redMul(A).redMul(m.redSub(v)),L=this.curve._mulC(_).redMul(A)),this.curve.point(I,R,L)},u.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},u.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},u.prototype.mulAdd=function(c,h,f){return this.curve._wnafMulAdd(1,[this,h],[c,f],2,!1)},u.prototype.jmulAdd=function(c,h,f){return this.curve._wnafMulAdd(1,[this,h],[c,f],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},u.prototype.eqXToP=function(c){var h=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var f=c.clone(),v=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(v),this.x.cmp(h)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add}),pm=_t(e=>{var t=e;t.base=gu(),t.short=k3(),t.mont=T3(),t.edwards=A3()}),Pi=_t(e=>{var t=Ps(),r=Wn();e.inherits=r;function n(y,g){return(y.charCodeAt(g)&64512)!==55296||g<0||g+1>=y.length?!1:(y.charCodeAt(g+1)&64512)===56320}s(n,"P");function i(y,g){if(Array.isArray(y))return y.slice();if(!y)return[];var x=[];if(typeof y=="string")if(g){if(g==="hex")for(y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y),T=0;T<y.length;T+=2)x.push(parseInt(y[T]+y[T+1],16))}else for(var E=0,T=0;T<y.length;T++){var N=y.charCodeAt(T);N<128?x[E++]=N:N<2048?(x[E++]=N>>6|192,x[E++]=N&63|128):n(y,T)?(N=65536+((N&1023)<<10)+(y.charCodeAt(++T)&1023),x[E++]=N>>18|240,x[E++]=N>>12&63|128,x[E++]=N>>6&63|128,x[E++]=N&63|128):(x[E++]=N>>12|224,x[E++]=N>>6&63|128,x[E++]=N&63|128)}else for(T=0;T<y.length;T++)x[T]=y[T]|0;return x}s(i,"_"),e.toArray=i;function o(y){for(var g="",x=0;x<y.length;x++)g+=u(y[x].toString(16));return g}s(o,"O"),e.toHex=o;function a(y){var g=y>>>24|y>>>8&65280|y<<8&16711680|(y&255)<<24;return g>>>0}s(a,"j"),e.htonl=a;function l(y,g){for(var x="",E=0;E<y.length;E++){var T=y[E];g==="little"&&(T=a(T)),x+=c(T.toString(16))}return x}s(l,"z"),e.toHex32=l;function u(y){return y.length===1?"0"+y:y}s(u,"J"),e.zero2=u;function c(y){return y.length===7?"0"+y:y.length===6?"00"+y:y.length===5?"000"+y:y.length===4?"0000"+y:y.length===3?"00000"+y:y.length===2?"000000"+y:y.length===1?"0000000"+y:y}s(c,"w"),e.zero8=c;function h(y,g,x,E){var T=x-g;t(T%4===0);for(var N=Array(T/4),k=0,p=g;k<N.length;k++,p+=4){var S;E==="big"?S=y[p]<<24|y[p+1]<<16|y[p+2]<<8|y[p+3]:S=y[p+3]<<24|y[p+2]<<16|y[p+1]<<8|y[p],N[k]=S>>>0}return N}s(h,"k"),e.join32=h;function f(y,g){for(var x=Array(y.length*4),E=0,T=0;E<y.length;E++,T+=4){var N=y[E];g==="big"?(x[T]=N>>>24,x[T+1]=N>>>16&255,x[T+2]=N>>>8&255,x[T+3]=N&255):(x[T+3]=N>>>24,x[T+2]=N>>>16&255,x[T+1]=N>>>8&255,x[T]=N&255)}return x}s(f,"X"),e.split32=f;function v(y,g){return y>>>g|y<<32-g}s(v,"G"),e.rotr32=v;function m(y,g){return y<<g|y>>>32-g}s(m,"V"),e.rotl32=m;function w(y,g){return y+g>>>0}s(w,"C"),e.sum32=w;function _(y,g,x){return y+g+x>>>0}s(_,"E"),e.sum32_3=_;function A(y,g,x,E){return y+g+x+E>>>0}s(A,"h"),e.sum32_4=A;function M(y,g,x,E,T){return y+g+x+E+T>>>0}s(M,"I"),e.sum32_5=M;function I(y,g,x,E){var T=y[g],N=y[g+1],k=E+N>>>0,p=(k<E?1:0)+x+T;y[g]=p>>>0,y[g+1]=k}s(I,"D"),e.sum64=I;function R(y,g,x,E){var T=g+E>>>0,N=(T<g?1:0)+y+x;return N>>>0}s(R,"g"),e.sum64_hi=R;function L(y,g,x,E){var T=g+E;return T>>>0}s(L,"y"),e.sum64_lo=L;function P(y,g,x,E,T,N,k,p){var S=0,C=g;C=C+E>>>0,S+=C<g?1:0,C=C+N>>>0,S+=C<N?1:0,C=C+p>>>0,S+=C<p?1:0;var O=y+x+T+k+S;return O>>>0}s(P,"u"),e.sum64_4_hi=P;function F(y,g,x,E,T,N,k,p){var S=g+E+N+p;return S>>>0}s(F,"p"),e.sum64_4_lo=F;function Z(y,g,x,E,T,N,k,p,S,C){var O=0,B=g;B=B+E>>>0,O+=B<g?1:0,B=B+N>>>0,O+=B<N?1:0,B=B+p>>>0,O+=B<p?1:0,B=B+C>>>0,O+=B<C?1:0;var z=y+x+T+k+S+O;return z>>>0}s(Z,"l"),e.sum64_5_hi=Z;function G(y,g,x,E,T,N,k,p,S,C){var O=g+E+N+p+C;return O>>>0}s(G,"Q"),e.sum64_5_lo=G;function se(y,g,x){var E=g<<32-x|y>>>x;return E>>>0}s(se,"e"),e.rotr64_hi=se;function U(y,g,x){var E=y<<32-x|g>>>x;return E>>>0}s(U,"m"),e.rotr64_lo=U;function X(y,g,x){return y>>>x}s(X,"o"),e.shr64_hi=X;function d(y,g,x){var E=y<<32-x|g>>>x;return E>>>0}s(d,"M"),e.shr64_lo=d}),ol=_t(e=>{var t=Pi(),r=Ps();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s(n,"P"),e.BlockHash=n,n.prototype.update=function(i,o){if(i=t.toArray(i,o),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),r(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,o=this._delta8,a=o-(i+this.padLength)%o,l=Array(a+this.padLength);l[0]=128;for(var u=1;u<a;u++)l[u]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)l[u++]=0;l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=i>>>24&255,l[u++]=i>>>16&255,l[u++]=i>>>8&255,l[u++]=i&255}else for(l[u++]=i&255,l[u++]=i>>>8&255,l[u++]=i>>>16&255,l[u++]=i>>>24&255,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,c=8;c<this.padLength;c++)l[u++]=0;return l}}),mm=_t(e=>{var t=Pi(),r=t.rotr32;function n(f,v,m,w){if(f===0)return i(v,m,w);if(f===1||f===3)return a(v,m,w);if(f===2)return o(v,m,w)}s(n,"P"),e.ft_1=n;function i(f,v,m){return f&v^~f&m}s(i,"_"),e.ch32=i;function o(f,v,m){return f&v^f&m^v&m}s(o,"O"),e.maj32=o;function a(f,v,m){return f^v^m}s(a,"j"),e.p32=a;function l(f){return r(f,2)^r(f,13)^r(f,22)}s(l,"z"),e.s0_256=l;function u(f){return r(f,6)^r(f,11)^r(f,25)}s(u,"J"),e.s1_256=u;function c(f){return r(f,7)^r(f,18)^f>>>3}s(c,"w"),e.g0_256=c;function h(f){return r(f,17)^r(f,19)^f>>>10}s(h,"k"),e.g1_256=h}),N3=_t((e,t)=>{var r=Pi(),n=ol(),i=mm(),o=r.rotl32,a=r.sum32,l=r.sum32_5,u=i.ft_1,c=n.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}s(f,"X"),r.inherits(f,c),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(v,m){for(var w=this.W,_=0;_<16;_++)w[_]=v[m+_];for(;_<w.length;_++)w[_]=o(w[_-3]^w[_-8]^w[_-14]^w[_-16],1);var A=this.h[0],M=this.h[1],I=this.h[2],R=this.h[3],L=this.h[4];for(_=0;_<w.length;_++){var P=~~(_/20),F=l(o(A,5),u(P,M,I,R),L,w[_],h[P]);L=R,R=I,I=o(M,30),M=A,A=F}this.h[0]=a(this.h[0],A),this.h[1]=a(this.h[1],M),this.h[2]=a(this.h[2],I),this.h[3]=a(this.h[3],R),this.h[4]=a(this.h[4],L)},f.prototype._digest=function(v){return v==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),gm=_t((e,t)=>{var r=Pi(),n=ol(),i=mm(),o=Ps(),a=r.sum32,l=r.sum32_4,u=r.sum32_5,c=i.ch32,h=i.maj32,f=i.s0_256,v=i.s1_256,m=i.g0_256,w=i.g1_256,_=n.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function M(){if(!(this instanceof M))return new M;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=Array(64)}s(M,"I"),r.inherits(M,_),t.exports=M,M.blockSize=512,M.outSize=256,M.hmacStrength=192,M.padLength=64,M.prototype._update=function(I,R){for(var L=this.W,P=0;P<16;P++)L[P]=I[R+P];for(;P<L.length;P++)L[P]=l(w(L[P-2]),L[P-7],m(L[P-15]),L[P-16]);var F=this.h[0],Z=this.h[1],G=this.h[2],se=this.h[3],U=this.h[4],X=this.h[5],d=this.h[6],y=this.h[7];for(o(this.k.length===L.length),P=0;P<L.length;P++){var g=u(y,v(U),c(U,X,d),this.k[P],L[P]),x=a(f(F),h(F,Z,G));y=d,d=X,X=U,U=a(se,g),se=G,G=Z,Z=F,F=a(g,x)}this.h[0]=a(this.h[0],F),this.h[1]=a(this.h[1],Z),this.h[2]=a(this.h[2],G),this.h[3]=a(this.h[3],se),this.h[4]=a(this.h[4],U),this.h[5]=a(this.h[5],X),this.h[6]=a(this.h[6],d),this.h[7]=a(this.h[7],y)},M.prototype._digest=function(I){return I==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),C3=_t((e,t)=>{var r=Pi(),n=gm();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s(i,"_"),r.inherits(i,n),t.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),vm=_t((e,t)=>{var r=Pi(),n=ol(),i=Ps(),o=r.rotr64_hi,a=r.rotr64_lo,l=r.shr64_hi,u=r.shr64_lo,c=r.sum64,h=r.sum64_hi,f=r.sum64_lo,v=r.sum64_4_hi,m=r.sum64_4_lo,w=r.sum64_5_hi,_=r.sum64_5_lo,A=n.BlockHash,M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=M,this.W=Array(160)}s(I,"D"),r.inherits(I,A),t.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(x,E){for(var T=this.W,N=0;N<32;N++)T[N]=x[E+N];for(;N<T.length;N+=2){var k=y(T[N-4],T[N-3]),p=g(T[N-4],T[N-3]),S=T[N-14],C=T[N-13],O=X(T[N-30],T[N-29]),B=d(T[N-30],T[N-29]),z=T[N-32],$=T[N-31];T[N]=v(k,p,S,C,O,B,z,$),T[N+1]=m(k,p,S,C,O,B,z,$)}},I.prototype._update=function(x,E){this._prepareBlock(x,E);var T=this.W,N=this.h[0],k=this.h[1],p=this.h[2],S=this.h[3],C=this.h[4],O=this.h[5],B=this.h[6],z=this.h[7],$=this.h[8],W=this.h[9],oe=this.h[10],ne=this.h[11],ie=this.h[12],Qe=this.h[13],Ne=this.h[14],ve=this.h[15];i(this.k.length===T.length);for(var Me=0;Me<T.length;Me+=2){var J=Ne,ae=ve,K=se($,W),Y=U($,W),de=R($,W,oe,ne,ie),Be=L($,W,oe,ne,ie,Qe),Pe=this.k[Me],we=this.k[Me+1],q=T[Me],te=T[Me+1],re=w(J,ae,K,Y,de,Be,Pe,we,q,te),Ee=_(J,ae,K,Y,de,Be,Pe,we,q,te);J=Z(N,k),ae=G(N,k),K=P(N,k,p,S,C),Y=F(N,k,p,S,C,O);var ge=h(J,ae,K,Y),he=f(J,ae,K,Y);Ne=ie,ve=Qe,ie=oe,Qe=ne,oe=$,ne=W,$=h(B,z,re,Ee),W=f(z,z,re,Ee),B=C,z=O,C=p,O=S,p=N,S=k,N=h(re,Ee,ge,he),k=f(re,Ee,ge,he)}c(this.h,0,N,k),c(this.h,2,p,S),c(this.h,4,C,O),c(this.h,6,B,z),c(this.h,8,$,W),c(this.h,10,oe,ne),c(this.h,12,ie,Qe),c(this.h,14,Ne,ve)},I.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function R(x,E,T,N,k){var p=x&T^~x&k;return p<0&&(p+=4294967296),p}s(R,"g");function L(x,E,T,N,k,p){var S=E&N^~E&p;return S<0&&(S+=4294967296),S}s(L,"y");function P(x,E,T,N,k){var p=x&T^x&k^T&k;return p<0&&(p+=4294967296),p}s(P,"u");function F(x,E,T,N,k,p){var S=E&N^E&p^N&p;return S<0&&(S+=4294967296),S}s(F,"p");function Z(x,E){var T=o(x,E,28),N=o(E,x,2),k=o(E,x,7),p=T^N^k;return p<0&&(p+=4294967296),p}s(Z,"l");function G(x,E){var T=a(x,E,28),N=a(E,x,2),k=a(E,x,7),p=T^N^k;return p<0&&(p+=4294967296),p}s(G,"Q");function se(x,E){var T=o(x,E,14),N=o(x,E,18),k=o(E,x,9),p=T^N^k;return p<0&&(p+=4294967296),p}s(se,"e");function U(x,E){var T=a(x,E,14),N=a(x,E,18),k=a(E,x,9),p=T^N^k;return p<0&&(p+=4294967296),p}s(U,"m");function X(x,E){var T=o(x,E,1),N=o(x,E,8),k=l(x,E,7),p=T^N^k;return p<0&&(p+=4294967296),p}s(X,"o");function d(x,E){var T=a(x,E,1),N=a(x,E,8),k=u(x,E,7),p=T^N^k;return p<0&&(p+=4294967296),p}s(d,"M");function y(x,E){var T=o(x,E,19),N=o(E,x,29),k=l(x,E,6),p=T^N^k;return p<0&&(p+=4294967296),p}s(y,"Y");function g(x,E){var T=a(x,E,19),N=a(E,x,29),k=u(x,E,6),p=T^N^k;return p<0&&(p+=4294967296),p}s(g,"H")}),M3=_t((e,t)=>{var r=Pi(),n=vm();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s(i,"_"),r.inherits(i,n),t.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),I3=_t(e=>{e.sha1=N3(),e.sha224=C3(),e.sha256=gm(),e.sha384=M3(),e.sha512=vm()}),O3=_t(e=>{var t=Pi(),r=ol(),n=t.rotl32,i=t.sum32,o=t.sum32_3,a=t.sum32_4,l=r.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}s(u,"J"),t.inherits(u,l),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(A,M){for(var I=this.h[0],R=this.h[1],L=this.h[2],P=this.h[3],F=this.h[4],Z=I,G=R,se=L,U=P,X=F,d=0;d<80;d++){var y=i(n(a(I,c(d,R,L,P),A[v[d]+M],h(d)),w[d]),F);I=F,F=P,P=n(L,10),L=R,R=y,y=i(n(a(Z,c(79-d,G,se,U),A[m[d]+M],f(d)),_[d]),X),Z=X,X=U,U=n(se,10),se=G,G=y}y=o(this.h[1],L,U),this.h[1]=o(this.h[2],P,X),this.h[2]=o(this.h[3],F,Z),this.h[3]=o(this.h[4],I,G),this.h[4]=o(this.h[0],R,se),this.h[0]=y},u.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(A,M,I,R){return A<=15?M^I^R:A<=31?M&I|~M&R:A<=47?(M|~I)^R:A<=63?M&R|I&~R:M^(I|~R)}s(c,"w");function h(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}s(h,"k");function f(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}s(f,"X");var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),R3=_t((e,t)=>{var r=Pi(),n=Ps();function i(o,a,l){if(!(this instanceof i))return new i(o,a,l);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,l))}s(i,"_"),t.exports=i,i.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),n(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)},i.prototype.update=function(o,a){return this.inner.update(o,a),this},i.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}}),Vd=_t(e=>{var t=e;t.utils=Pi(),t.common=ol(),t.sha=I3(),t.ripemd=O3(),t.hmac=R3(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}),j3=_t((e,t)=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Gd=_t(e=>{var t=e,r=Vd(),n=pm(),i=ni(),o=i.assert;function a(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}s(a,"j"),t.PresetCurve=a;function l(c,h){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:s(function(){var f=new a(h);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:f}),f},"get")})}s(l,"z"),l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=j3()}catch{u=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}),L3=_t((e,t)=>{var r=Vd(),n=fm(),i=Ps();function o(a){if(!(this instanceof o))return new o(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=n.toArray(a.entropy,a.entropyEnc||"hex"),u=n.toArray(a.nonce,a.nonceEnc||"hex"),c=n.toArray(a.pers,a.persEnc||"hex");i(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,u,c)}s(o,"O"),t.exports=o,o.prototype._init=function(a,l,u){var c=a.concat(l).concat(u);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(a,l,u,c){typeof l!="string"&&(c=u,u=l,l=null),a=n.toArray(a,l),u=n.toArray(u,c),i(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(u||[])),this._reseed=1},o.prototype.generate=function(a,l,u,c){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof l!="string"&&(c=u,u=l,l=null),u&&(u=n.toArray(u,c||"hex"),this._update(u));for(var h=[];h.length<a;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var f=h.slice(0,a);return this._update(u),this._reseed++,n.encode(f,l)}}),P3=_t((e,t)=>{var r=as(),n=ni(),i=n.assert;function o(a,l){this.ec=a,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}s(o,"O"),t.exports=o,o.fromPublic=function(a,l,u){return l instanceof o?l:new o(a,{pub:l,pubEnc:u})},o.fromPrivate=function(a,l,u){return l instanceof o?l:new o(a,{priv:l,privEnc:u})},o.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(a,l){return typeof a=="string"&&(l=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,a):this.pub},o.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(a,l){this.priv=new r(a,l||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(a,l){if(a.x||a.y){this.ec.curve.type==="mont"?i(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&i(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,l)},o.prototype.derive=function(a){return a.validate()||i(a.validate(),"public point not validated"),a.mul(this.priv).getX()},o.prototype.sign=function(a,l,u){return this.ec.sign(a,this,l,u)},o.prototype.verify=function(a,l,u){return this.ec.verify(a,l,this,void 0,u)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),D3=_t((e,t)=>{var r=as(),n=ni(),i=n.assert;function o(h,f){if(h instanceof o)return h;this._importDER(h,f)||(i(h.r&&h.s,"Signature without r or s"),this.r=new r(h.r,16),this.s=new r(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}s(o,"O"),t.exports=o;function a(){this.place=0}s(a,"j");function l(h,f){var v=h[f.place++];if(!(v&128))return v;var m=v&15;if(m===0||m>4||h[f.place]===0)return!1;for(var w=0,_=0,A=f.place;_<m;_++,A++)w<<=8,w|=h[A],w>>>=0;return w<=127?!1:(f.place=A,w)}s(l,"z");function u(h){for(var f=0,v=h.length-1;!h[f]&&!(h[f+1]&128)&&f<v;)f++;return f===0?h:h.slice(f)}s(u,"J"),o.prototype._importDER=function(h,f){h=n.toArray(h,f);var v=new a;if(h[v.place++]!==48)return!1;var m=l(h,v);if(m===!1||m+v.place!==h.length||h[v.place++]!==2)return!1;var w=l(h,v);if(w===!1||(h[v.place]&128)!==0)return!1;var _=h.slice(v.place,w+v.place);if(v.place+=w,h[v.place++]!==2)return!1;var A=l(h,v);if(A===!1||h.length!==A+v.place||(h[v.place]&128)!==0)return!1;var M=h.slice(v.place,A+v.place);if(_[0]===0)if(_[1]&128)_=_.slice(1);else return!1;if(M[0]===0)if(M[1]&128)M=M.slice(1);else return!1;return this.r=new r(_),this.s=new r(M),this.recoveryParam=null,!0};function c(h,f){if(f<128){h.push(f);return}var v=1+(Math.log(f)/Math.LN2>>>3);for(h.push(v|128);--v;)h.push(f>>>(v<<3)&255);h.push(f)}s(c,"w"),o.prototype.toDER=function(h){var f=this.r.toArray(),v=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),v[0]&128&&(v=[0].concat(v)),f=u(f),v=u(v);!v[0]&&!(v[1]&128);)v=v.slice(1);var m=[2];c(m,f.length),m=m.concat(f),m.push(2),c(m,v.length);var w=m.concat(v),_=[48];return c(_,w.length),_=_.concat(w),n.encode(_,h)}}),B3=_t((e,t)=>{var r=as(),n=L3(),i=ni(),o=Gd(),a=hm(),l=i.assert,u=P3(),c=D3();function h(f){if(!(this instanceof h))return new h(f);typeof f=="string"&&(l(Object.prototype.hasOwnProperty.call(o,f),"Unknown curve "+f),f=o[f]),f instanceof o.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}s(h,"k"),t.exports=h,h.prototype.keyPair=function(f){return new u(this,f)},h.prototype.keyFromPrivate=function(f,v){return u.fromPrivate(this,f,v)},h.prototype.keyFromPublic=function(f,v){return u.fromPublic(this,f,v)},h.prototype.genKeyPair=function(f){f||(f={});for(var v=new n({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),w=this.n.sub(new r(2));;){var _=new r(v.generate(m));if(!(_.cmp(w)>0))return _.iaddn(1),this.keyFromPrivate(_)}},h.prototype._truncateToN=function(f,v,m){var w;if(r.isBN(f)||typeof f=="number")f=new r(f,16),w=f.byteLength();else if(typeof f=="object")w=f.length,f=new r(f,16);else{var _=f.toString();w=_.length+1>>>1,f=new r(_,16)}typeof m!="number"&&(m=w*8);var A=m-this.n.bitLength();return A>0&&(f=f.ushrn(A)),!v&&f.cmp(this.n)>=0?f.sub(this.n):f},h.prototype.sign=function(f,v,m,w){if(typeof m=="object"&&(w=m,m=null),w||(w={}),typeof f!="string"&&typeof f!="number"&&!r.isBN(f)){l(typeof f=="object"&&f&&typeof f.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),l(f.length>>>0===f.length);for(var _=0;_<f.length;_++)l((f[_]&255)===f[_])}v=this.keyFromPrivate(v,m),f=this._truncateToN(f,!1,w.msgBitLength),l(!f.isNeg(),"Can not sign a negative message");var A=this.n.byteLength(),M=v.getPrivate().toArray("be",A),I=f.toArray("be",A);l(new r(I).eq(f),"Can not sign message");for(var R=new n({hash:this.hash,entropy:M,nonce:I,pers:w.pers,persEnc:w.persEnc||"utf8"}),L=this.n.sub(new r(1)),P=0;;P++){var F=w.k?w.k(P):new r(R.generate(this.n.byteLength()));if(F=this._truncateToN(F,!0),!(F.cmpn(1)<=0||F.cmp(L)>=0)){var Z=this.g.mul(F);if(!Z.isInfinity()){var G=Z.getX(),se=G.umod(this.n);if(se.cmpn(0)!==0){var U=F.invm(this.n).mul(se.mul(v.getPrivate()).iadd(f));if(U=U.umod(this.n),U.cmpn(0)!==0){var X=(Z.getY().isOdd()?1:0)|(G.cmp(se)!==0?2:0);return w.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),X^=1),new c({r:se,s:U,recoveryParam:X})}}}}}},h.prototype.verify=function(f,v,m,w,_){_||(_={}),f=this._truncateToN(f,!1,_.msgBitLength),m=this.keyFromPublic(m,w),v=new c(v,"hex");var{r:A,s:M}=v;if(A.cmpn(1)<0||A.cmp(this.n)>=0||M.cmpn(1)<0||M.cmp(this.n)>=0)return!1;var I=M.invm(this.n),R=I.mul(f).umod(this.n),L=I.mul(A).umod(this.n),P;return this.curve._maxwellTrick?(P=this.g.jmulAdd(R,m.getPublic(),L),P.isInfinity()?!1:P.eqXToP(A)):(P=this.g.mulAdd(R,m.getPublic(),L),P.isInfinity()?!1:P.getX().umod(this.n).cmp(A)===0)},h.prototype.recoverPubKey=function(f,v,m,w){l((3&m)===m,"The recovery param is more than two bits"),v=new c(v,w);var _=this.n,A=new r(f),M=v.r,I=v.s,R=m&1,L=m>>1;if(M.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw Error("Unable to find sencond key candinate");L?M=this.curve.pointFromX(M.add(this.curve.n),R):M=this.curve.pointFromX(M,R);var P=v.r.invm(_),F=_.sub(A).mul(P).umod(_),Z=I.mul(P).umod(_);return this.g.mulAdd(F,M,Z)},h.prototype.getKeyRecoveryParam=function(f,v,m,w){if(v=new c(v,w),v.recoveryParam!==null)return v.recoveryParam;for(var _=0;_<4;_++){var A;try{A=this.recoverPubKey(f,v,_)}catch{continue}if(A.eq(m))return _}throw Error("Unable to find valid recovery factor")}}),z3=_t((e,t)=>{var r=ni(),n=r.assert,i=r.parseBytes,o=r.cachedProperty;function a(l,u){this.eddsa=l,this._secret=i(u.secret),l.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=i(u.pub)}s(a,"j"),a.fromPublic=function(l,u){return u instanceof a?u:new a(l,{pub:u})},a.fromSecret=function(l,u){return u instanceof a?u:new a(l,{secret:u})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var l=this.eddsa,u=this.hash(),c=l.encodingLength-1,h=u.slice(0,l.encodingLength);return h[0]&=248,h[c]&=127,h[c]|=64,h}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,u){return this.eddsa.verify(l,u,this)},a.prototype.getSecret=function(l){return n(this._secret,"KeyPair is public only"),r.encode(this.secret(),l)},a.prototype.getPublic=function(l){return r.encode(this.pubBytes(),l)},t.exports=a}),U3=_t((e,t)=>{var r=as(),n=ni(),i=n.assert,o=n.cachedProperty,a=n.parseBytes;function l(u,c){this.eddsa=u,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(i(c.length===u.encodingLength*2,"Signature has invalid size"),c={R:c.slice(0,u.encodingLength),S:c.slice(u.encodingLength)}),i(c.R&&c.S,"Signature without R or S"),u.isPoint(c.R)&&(this._R=c.R),c.S instanceof r&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}s(l,"z"),o(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l}),F3=_t((e,t)=>{var r=Vd(),n=Gd(),i=ni(),o=i.assert,a=i.parseBytes,l=z3(),u=U3();function c(h){if(o(h==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(h);h=n[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=r.sha512}s(c,"w"),t.exports=c,c.prototype.sign=function(h,f){h=a(h);var v=this.keyFromSecret(f),m=this.hashInt(v.messagePrefix(),h),w=this.g.mul(m),_=this.encodePoint(w),A=this.hashInt(_,v.pubBytes(),h).mul(v.priv()),M=m.add(A).umod(this.curve.n);return this.makeSignature({R:w,S:M,Rencoded:_})},c.prototype.verify=function(h,f,v){if(h=a(h),f=this.makeSignature(f),f.S().gte(f.eddsa.curve.n)||f.S().isNeg())return!1;var m=this.keyFromPublic(v),w=this.hashInt(f.Rencoded(),m.pubBytes(),h),_=this.g.mul(f.S()),A=f.R().add(m.pub().mul(w));return A.eq(_)},c.prototype.hashInt=function(){for(var h=this.hash(),f=0;f<arguments.length;f++)h.update(arguments[f]);return i.intFromLE(h.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(h){return l.fromPublic(this,h)},c.prototype.keyFromSecret=function(h){return l.fromSecret(this,h)},c.prototype.makeSignature=function(h){return h instanceof u?h:new u(this,h)},c.prototype.encodePoint=function(h){var f=h.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=h.getX().isOdd()?128:0,f},c.prototype.decodePoint=function(h){h=i.parseBytes(h);var f=h.length-1,v=h.slice(0,f).concat(h[f]&-129),m=(h[f]&128)!==0,w=i.intFromLE(v);return this.curve.pointFromY(w,m)},c.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(h){return i.intFromLE(h)},c.prototype.isPoint=function(h){return h instanceof this.pointClass}}),$3=_t(e=>{var t=e;t.version=E3().version,t.utils=ni(),t.rand=hm(),t.curve=pm(),t.curves=Gd(),t.ec=B3(),t.eddsa=F3()}),H3=_t((e,t)=>{(function(r,n){function i(d,y){if(!d)throw Error(y||"Assertion failed")}s(i,"_");function o(d,y){d.super_=y;var g=s(function(){},"H");g.prototype=y.prototype,d.prototype=new g,d.prototype.constructor=d}s(o,"O");function a(d,y,g){if(a.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((y==="le"||y==="be")&&(g=y,y=10),this._init(d||0,y||10,g||"be"))}s(a,"j"),typeof r=="object"?r.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(kn(),rr(wn)).Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,y){return d.cmp(y)>0?d:y},a.min=function(d,y){return d.cmp(y)<0?d:y},a.prototype._init=function(d,y,g){if(typeof d=="number")return this._initNumber(d,y,g);if(typeof d=="object")return this._initArray(d,y,g);y==="hex"&&(y=16),i(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var x=0;d[0]==="-"&&(x++,this.negative=1),x<d.length&&(y===16?this._parseHex(d,x,g):(this._parseBase(d,y,x),g==="le"&&this._initArray(this.toArray(),y,g)))},a.prototype._initNumber=function(d,y,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(i(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),y,g)},a.prototype._initArray=function(d,y,g){if(i(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(g==="be")for(x=d.length-1,E=0;x>=0;x-=3)T=d[x]|d[x-1]<<8|d[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(g==="le")for(x=0,E=0;x<d.length;x+=3)T=d[x]|d[x+1]<<8|d[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(d,y){var g=d.charCodeAt(y);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}s(u,"J");function c(d,y,g){var x=u(d,g);return g-1>=y&&(x|=u(d,g-1)<<4),x}s(c,"w"),a.prototype._parseHex=function(d,y,g){this.length=Math.ceil((d.length-y)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(g==="be")for(x=d.length-1;x>=y;x-=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=d.length-y;for(x=k%2===0?y+1:y;x<d.length;x+=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function h(d,y,g,x){for(var E=0,T=Math.min(d.length,g),N=y;N<T;N++){var k=d.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}s(h,"k"),a.prototype._parseBase=function(d,y,g){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=y)x++;x--,E=E/y|0;for(var T=d.length-g,N=T%x,k=Math.min(T,T-N)+g,p=0,S=g;S<k;S+=x)p=h(d,S,S+x,y),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=h(d,S,d.length,y),S=0;S<N;S++)C*=y;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},a.prototype.copy=function(d){d.words=Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,y){d=d||10,y=y|0||1;var g;if(d===16||d==="hex"){g="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?g=f[6-k.length]+k+g:g=k+g}for(E!==0&&(g=E.toString(16)+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var p=v[d],S=m[d];g="";var C=this.clone();for(C.negative=0;!C.isZero();){var O=C.modn(S).toString(d);C=C.idivn(S),C.isZero()?g=O+g:g=f[p-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,y){return i(typeof l<"u"),this.toArrayLike(l,d,y)},a.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)},a.prototype.toArrayLike=function(d,y,g){var x=this.byteLength(),E=g||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=y==="le",N=new d(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var y=d,g=0;return y>=4096&&(g+=13,y>>>=13),y>=64&&(g+=7,y>>>=7),y>=8&&(g+=4,y>>>=4),y>=2&&(g+=2,y>>>=2),g+y},a.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,g=0;return(y&8191)===0&&(g+=13,y>>>=13),(y&127)===0&&(g+=7,y>>>=7),(y&15)===0&&(g+=4,y>>>=4),(y&3)===0&&(g+=2,y>>>=2),(y&1)===0&&g++,g},a.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function w(d){for(var y=Array(d.bitLength()),g=0;g<y.length;g++){var x=g/26|0,E=g%26;y[g]=(d.words[x]&1<<E)>>>E}return y}s(w,"C"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var g=this._zeroBits(this.words[y]);if(d+=g,g!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this.strip()},a.prototype.ior=function(d){return i((this.negative|d.negative)===0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var g=0;g<y.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=y.length,this.strip()},a.prototype.iand=function(d){return i((this.negative|d.negative)===0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var y,g;this.length>d.length?(y=this,g=d):(y=d,g=this);for(var x=0;x<g.length;x++)this.words[x]=y.words[x]^g.words[x];if(this!==y)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=y.length,this.strip()},a.prototype.ixor=function(d){return i((this.negative|d.negative)===0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){i(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,g=d%26;this._expand(y),g>0&&y--;for(var x=0;x<y;x++)this.words[x]=~this.words[x]&67108863;return g>0&&(this.words[x]=~this.words[x]&67108863>>26-g),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,y){i(typeof d=="number"&&d>=0);var g=d/26|0,x=d%26;return this._expand(g+1),y?this.words[g]=this.words[g]|1<<x:this.words[g]=this.words[g]&~(1<<x),this.strip()},a.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var E=0,T=0;T<x.length;T++)y=(g.words[T]|0)+(x.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;for(;E!==0&&T<g.length;T++)y=(g.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;if(this.length=g.length,E!==0)this.words[this.length]=E,this.length++;else if(g!==this)for(;T<g.length;T++)this.words[T]=g.words[T];return this},a.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;g>0?(x=this,E=d):(x=d,E=this);for(var T=0,N=0;N<E.length;N++)y=(x.words[N]|0)-(E.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;for(;T!==0&&N<x.length;N++)y=(x.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function _(d,y,g){g.negative=y.negative^d.negative;var x=d.length+y.length|0;g.length=x,x=x-1|0;var E=d.words[0]|0,T=y.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;g.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,O=p&67108863,B=Math.min(S,y.length-1),z=Math.max(0,S-d.length+1);z<=B;z++){var $=S-z|0;E=d.words[$]|0,T=y.words[z]|0,N=E*T+O,C+=N/67108864|0,O=N&67108863}g.words[S]=O|0,p=C|0}return p!==0?g.words[S]=p|0:g.length--,g.strip()}s(_,"E");var A=s(function(d,y,g){var x=d.words,E=y.words,T=g.words,N=0,k,p,S,C=x[0]|0,O=C&8191,B=C>>>13,z=x[1]|0,$=z&8191,W=z>>>13,oe=x[2]|0,ne=oe&8191,ie=oe>>>13,Qe=x[3]|0,Ne=Qe&8191,ve=Qe>>>13,Me=x[4]|0,J=Me&8191,ae=Me>>>13,K=x[5]|0,Y=K&8191,de=K>>>13,Be=x[6]|0,Pe=Be&8191,we=Be>>>13,q=x[7]|0,te=q&8191,re=q>>>13,Ee=x[8]|0,ge=Ee&8191,he=Ee>>>13,it=x[9]|0,Re=it&8191,Xe=it>>>13,Nt=E[0]|0,Ae=Nt&8191,qe=Nt>>>13,ye=E[1]|0,Ce=ye&8191,He=ye>>>13,We=E[2]|0,Ue=We&8191,tt=We>>>13,Ot=E[3]|0,Ke=Ot&8191,Ie=Ot>>>13,et=E[4]|0,De=et&8191,rt=et>>>13,Tt=E[5]|0,ue=Tt&8191,be=Tt>>>13,Ze=E[6]|0,je=Ze&8191,ze=Ze>>>13,ct=E[7]|0,ce=ct&8191,Le=ct>>>13,lt=E[8]|0,Te=lt&8191,ut=lt>>>13,zt=E[9]|0,at=zt&8191,mt=zt>>>13;g.negative=d.negative^y.negative,g.length=19,k=Math.imul(O,Ae),p=Math.imul(O,qe),p=p+Math.imul(B,Ae)|0,S=Math.imul(B,qe);var Ge=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,k=Math.imul($,Ae),p=Math.imul($,qe),p=p+Math.imul(W,Ae)|0,S=Math.imul(W,qe),k=k+Math.imul(O,Ce)|0,p=p+Math.imul(O,He)|0,p=p+Math.imul(B,Ce)|0,S=S+Math.imul(B,He)|0;var st=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(st>>>26)|0,st&=67108863,k=Math.imul(ne,Ae),p=Math.imul(ne,qe),p=p+Math.imul(ie,Ae)|0,S=Math.imul(ie,qe),k=k+Math.imul($,Ce)|0,p=p+Math.imul($,He)|0,p=p+Math.imul(W,Ce)|0,S=S+Math.imul(W,He)|0,k=k+Math.imul(O,Ue)|0,p=p+Math.imul(O,tt)|0,p=p+Math.imul(B,Ue)|0,S=S+Math.imul(B,tt)|0;var Lt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,k=Math.imul(Ne,Ae),p=Math.imul(Ne,qe),p=p+Math.imul(ve,Ae)|0,S=Math.imul(ve,qe),k=k+Math.imul(ne,Ce)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(ie,Ce)|0,S=S+Math.imul(ie,He)|0,k=k+Math.imul($,Ue)|0,p=p+Math.imul($,tt)|0,p=p+Math.imul(W,Ue)|0,S=S+Math.imul(W,tt)|0,k=k+Math.imul(O,Ke)|0,p=p+Math.imul(O,Ie)|0,p=p+Math.imul(B,Ke)|0,S=S+Math.imul(B,Ie)|0;var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(J,Ae),p=Math.imul(J,qe),p=p+Math.imul(ae,Ae)|0,S=Math.imul(ae,qe),k=k+Math.imul(Ne,Ce)|0,p=p+Math.imul(Ne,He)|0,p=p+Math.imul(ve,Ce)|0,S=S+Math.imul(ve,He)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,tt)|0,p=p+Math.imul(ie,Ue)|0,S=S+Math.imul(ie,tt)|0,k=k+Math.imul($,Ke)|0,p=p+Math.imul($,Ie)|0,p=p+Math.imul(W,Ke)|0,S=S+Math.imul(W,Ie)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,De)|0,S=S+Math.imul(B,rt)|0;var $t=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(Y,Ae),p=Math.imul(Y,qe),p=p+Math.imul(de,Ae)|0,S=Math.imul(de,qe),k=k+Math.imul(J,Ce)|0,p=p+Math.imul(J,He)|0,p=p+Math.imul(ae,Ce)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(Ne,Ue)|0,p=p+Math.imul(Ne,tt)|0,p=p+Math.imul(ve,Ue)|0,S=S+Math.imul(ve,tt)|0,k=k+Math.imul(ne,Ke)|0,p=p+Math.imul(ne,Ie)|0,p=p+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,Ie)|0,k=k+Math.imul($,De)|0,p=p+Math.imul($,rt)|0,p=p+Math.imul(W,De)|0,S=S+Math.imul(W,rt)|0,k=k+Math.imul(O,ue)|0,p=p+Math.imul(O,be)|0,p=p+Math.imul(B,ue)|0,S=S+Math.imul(B,be)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ae),p=Math.imul(Pe,qe),p=p+Math.imul(we,Ae)|0,S=Math.imul(we,qe),k=k+Math.imul(Y,Ce)|0,p=p+Math.imul(Y,He)|0,p=p+Math.imul(de,Ce)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(J,Ue)|0,p=p+Math.imul(J,tt)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,tt)|0,k=k+Math.imul(Ne,Ke)|0,p=p+Math.imul(Ne,Ie)|0,p=p+Math.imul(ve,Ke)|0,S=S+Math.imul(ve,Ie)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(ie,De)|0,S=S+Math.imul(ie,rt)|0,k=k+Math.imul($,ue)|0,p=p+Math.imul($,be)|0,p=p+Math.imul(W,ue)|0,S=S+Math.imul(W,be)|0,k=k+Math.imul(O,je)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,je)|0,S=S+Math.imul(B,ze)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(te,Ae),p=Math.imul(te,qe),p=p+Math.imul(re,Ae)|0,S=Math.imul(re,qe),k=k+Math.imul(Pe,Ce)|0,p=p+Math.imul(Pe,He)|0,p=p+Math.imul(we,Ce)|0,S=S+Math.imul(we,He)|0,k=k+Math.imul(Y,Ue)|0,p=p+Math.imul(Y,tt)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,tt)|0,k=k+Math.imul(J,Ke)|0,p=p+Math.imul(J,Ie)|0,p=p+Math.imul(ae,Ke)|0,S=S+Math.imul(ae,Ie)|0,k=k+Math.imul(Ne,De)|0,p=p+Math.imul(Ne,rt)|0,p=p+Math.imul(ve,De)|0,S=S+Math.imul(ve,rt)|0,k=k+Math.imul(ne,ue)|0,p=p+Math.imul(ne,be)|0,p=p+Math.imul(ie,ue)|0,S=S+Math.imul(ie,be)|0,k=k+Math.imul($,je)|0,p=p+Math.imul($,ze)|0,p=p+Math.imul(W,je)|0,S=S+Math.imul(W,ze)|0,k=k+Math.imul(O,ce)|0,p=p+Math.imul(O,Le)|0,p=p+Math.imul(B,ce)|0,S=S+Math.imul(B,Le)|0;var mr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(mr>>>26)|0,mr&=67108863,k=Math.imul(ge,Ae),p=Math.imul(ge,qe),p=p+Math.imul(he,Ae)|0,S=Math.imul(he,qe),k=k+Math.imul(te,Ce)|0,p=p+Math.imul(te,He)|0,p=p+Math.imul(re,Ce)|0,S=S+Math.imul(re,He)|0,k=k+Math.imul(Pe,Ue)|0,p=p+Math.imul(Pe,tt)|0,p=p+Math.imul(we,Ue)|0,S=S+Math.imul(we,tt)|0,k=k+Math.imul(Y,Ke)|0,p=p+Math.imul(Y,Ie)|0,p=p+Math.imul(de,Ke)|0,S=S+Math.imul(de,Ie)|0,k=k+Math.imul(J,De)|0,p=p+Math.imul(J,rt)|0,p=p+Math.imul(ae,De)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(Ne,ue)|0,p=p+Math.imul(Ne,be)|0,p=p+Math.imul(ve,ue)|0,S=S+Math.imul(ve,be)|0,k=k+Math.imul(ne,je)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(ie,je)|0,S=S+Math.imul(ie,ze)|0,k=k+Math.imul($,ce)|0,p=p+Math.imul($,Le)|0,p=p+Math.imul(W,ce)|0,S=S+Math.imul(W,Le)|0,k=k+Math.imul(O,Te)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Te)|0,S=S+Math.imul(B,ut)|0;var ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ur>>>26)|0,ur&=67108863,k=Math.imul(Re,Ae),p=Math.imul(Re,qe),p=p+Math.imul(Xe,Ae)|0,S=Math.imul(Xe,qe),k=k+Math.imul(ge,Ce)|0,p=p+Math.imul(ge,He)|0,p=p+Math.imul(he,Ce)|0,S=S+Math.imul(he,He)|0,k=k+Math.imul(te,Ue)|0,p=p+Math.imul(te,tt)|0,p=p+Math.imul(re,Ue)|0,S=S+Math.imul(re,tt)|0,k=k+Math.imul(Pe,Ke)|0,p=p+Math.imul(Pe,Ie)|0,p=p+Math.imul(we,Ke)|0,S=S+Math.imul(we,Ie)|0,k=k+Math.imul(Y,De)|0,p=p+Math.imul(Y,rt)|0,p=p+Math.imul(de,De)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(J,ue)|0,p=p+Math.imul(J,be)|0,p=p+Math.imul(ae,ue)|0,S=S+Math.imul(ae,be)|0,k=k+Math.imul(Ne,je)|0,p=p+Math.imul(Ne,ze)|0,p=p+Math.imul(ve,je)|0,S=S+Math.imul(ve,ze)|0,k=k+Math.imul(ne,ce)|0,p=p+Math.imul(ne,Le)|0,p=p+Math.imul(ie,ce)|0,S=S+Math.imul(ie,Le)|0,k=k+Math.imul($,Te)|0,p=p+Math.imul($,ut)|0,p=p+Math.imul(W,Te)|0,S=S+Math.imul(W,ut)|0,k=k+Math.imul(O,at)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,at)|0,S=S+Math.imul(B,mt)|0;var Lr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,He),p=p+Math.imul(Xe,Ce)|0,S=Math.imul(Xe,He),k=k+Math.imul(ge,Ue)|0,p=p+Math.imul(ge,tt)|0,p=p+Math.imul(he,Ue)|0,S=S+Math.imul(he,tt)|0,k=k+Math.imul(te,Ke)|0,p=p+Math.imul(te,Ie)|0,p=p+Math.imul(re,Ke)|0,S=S+Math.imul(re,Ie)|0,k=k+Math.imul(Pe,De)|0,p=p+Math.imul(Pe,rt)|0,p=p+Math.imul(we,De)|0,S=S+Math.imul(we,rt)|0,k=k+Math.imul(Y,ue)|0,p=p+Math.imul(Y,be)|0,p=p+Math.imul(de,ue)|0,S=S+Math.imul(de,be)|0,k=k+Math.imul(J,je)|0,p=p+Math.imul(J,ze)|0,p=p+Math.imul(ae,je)|0,S=S+Math.imul(ae,ze)|0,k=k+Math.imul(Ne,ce)|0,p=p+Math.imul(Ne,Le)|0,p=p+Math.imul(ve,ce)|0,S=S+Math.imul(ve,Le)|0,k=k+Math.imul(ne,Te)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(ie,Te)|0,S=S+Math.imul(ie,ut)|0,k=k+Math.imul($,at)|0,p=p+Math.imul($,mt)|0,p=p+Math.imul(W,at)|0,S=S+Math.imul(W,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Re,Ue),p=Math.imul(Re,tt),p=p+Math.imul(Xe,Ue)|0,S=Math.imul(Xe,tt),k=k+Math.imul(ge,Ke)|0,p=p+Math.imul(ge,Ie)|0,p=p+Math.imul(he,Ke)|0,S=S+Math.imul(he,Ie)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(re,De)|0,S=S+Math.imul(re,rt)|0,k=k+Math.imul(Pe,ue)|0,p=p+Math.imul(Pe,be)|0,p=p+Math.imul(we,ue)|0,S=S+Math.imul(we,be)|0,k=k+Math.imul(Y,je)|0,p=p+Math.imul(Y,ze)|0,p=p+Math.imul(de,je)|0,S=S+Math.imul(de,ze)|0,k=k+Math.imul(J,ce)|0,p=p+Math.imul(J,Le)|0,p=p+Math.imul(ae,ce)|0,S=S+Math.imul(ae,Le)|0,k=k+Math.imul(Ne,Te)|0,p=p+Math.imul(Ne,ut)|0,p=p+Math.imul(ve,Te)|0,S=S+Math.imul(ve,ut)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(ie,at)|0,S=S+Math.imul(ie,mt)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(Re,Ke),p=Math.imul(Re,Ie),p=p+Math.imul(Xe,Ke)|0,S=Math.imul(Xe,Ie),k=k+Math.imul(ge,De)|0,p=p+Math.imul(ge,rt)|0,p=p+Math.imul(he,De)|0,S=S+Math.imul(he,rt)|0,k=k+Math.imul(te,ue)|0,p=p+Math.imul(te,be)|0,p=p+Math.imul(re,ue)|0,S=S+Math.imul(re,be)|0,k=k+Math.imul(Pe,je)|0,p=p+Math.imul(Pe,ze)|0,p=p+Math.imul(we,je)|0,S=S+Math.imul(we,ze)|0,k=k+Math.imul(Y,ce)|0,p=p+Math.imul(Y,Le)|0,p=p+Math.imul(de,ce)|0,S=S+Math.imul(de,Le)|0,k=k+Math.imul(J,Te)|0,p=p+Math.imul(J,ut)|0,p=p+Math.imul(ae,Te)|0,S=S+Math.imul(ae,ut)|0,k=k+Math.imul(Ne,at)|0,p=p+Math.imul(Ne,mt)|0,p=p+Math.imul(ve,at)|0,S=S+Math.imul(ve,mt)|0;var Or=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,k=Math.imul(Re,De),p=Math.imul(Re,rt),p=p+Math.imul(Xe,De)|0,S=Math.imul(Xe,rt),k=k+Math.imul(ge,ue)|0,p=p+Math.imul(ge,be)|0,p=p+Math.imul(he,ue)|0,S=S+Math.imul(he,be)|0,k=k+Math.imul(te,je)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(re,je)|0,S=S+Math.imul(re,ze)|0,k=k+Math.imul(Pe,ce)|0,p=p+Math.imul(Pe,Le)|0,p=p+Math.imul(we,ce)|0,S=S+Math.imul(we,Le)|0,k=k+Math.imul(Y,Te)|0,p=p+Math.imul(Y,ut)|0,p=p+Math.imul(de,Te)|0,S=S+Math.imul(de,ut)|0,k=k+Math.imul(J,at)|0,p=p+Math.imul(J,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Re,ue),p=Math.imul(Re,be),p=p+Math.imul(Xe,ue)|0,S=Math.imul(Xe,be),k=k+Math.imul(ge,je)|0,p=p+Math.imul(ge,ze)|0,p=p+Math.imul(he,je)|0,S=S+Math.imul(he,ze)|0,k=k+Math.imul(te,ce)|0,p=p+Math.imul(te,Le)|0,p=p+Math.imul(re,ce)|0,S=S+Math.imul(re,Le)|0,k=k+Math.imul(Pe,Te)|0,p=p+Math.imul(Pe,ut)|0,p=p+Math.imul(we,Te)|0,S=S+Math.imul(we,ut)|0,k=k+Math.imul(Y,at)|0,p=p+Math.imul(Y,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var _r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(_r>>>26)|0,_r&=67108863,k=Math.imul(Re,je),p=Math.imul(Re,ze),p=p+Math.imul(Xe,je)|0,S=Math.imul(Xe,ze),k=k+Math.imul(ge,ce)|0,p=p+Math.imul(ge,Le)|0,p=p+Math.imul(he,ce)|0,S=S+Math.imul(he,Le)|0,k=k+Math.imul(te,Te)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(re,Te)|0,S=S+Math.imul(re,ut)|0,k=k+Math.imul(Pe,at)|0,p=p+Math.imul(Pe,mt)|0,p=p+Math.imul(we,at)|0,S=S+Math.imul(we,mt)|0;var Rr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,k=Math.imul(Re,ce),p=Math.imul(Re,Le),p=p+Math.imul(Xe,ce)|0,S=Math.imul(Xe,Le),k=k+Math.imul(ge,Te)|0,p=p+Math.imul(ge,ut)|0,p=p+Math.imul(he,Te)|0,S=S+Math.imul(he,ut)|0,k=k+Math.imul(te,at)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(re,at)|0,S=S+Math.imul(re,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Re,Te),p=Math.imul(Re,ut),p=p+Math.imul(Xe,Te)|0,S=Math.imul(Xe,ut),k=k+Math.imul(ge,at)|0,p=p+Math.imul(ge,mt)|0,p=p+Math.imul(he,at)|0,S=S+Math.imul(he,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Re,at),p=Math.imul(Re,mt),p=p+Math.imul(Xe,at)|0,S=Math.imul(Xe,mt);var Fr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,T[0]=Ge,T[1]=st,T[2]=Lt,T[3]=Kt,T[4]=$t,T[5]=pr,T[6]=kr,T[7]=mr,T[8]=ur,T[9]=Lr,T[10]=Br,T[11]=xr,T[12]=Or,T[13]=br,T[14]=_r,T[15]=Rr,T[16]=zr,T[17]=Ur,T[18]=Fr,N!==0&&(T[19]=N,g.length++),g},"h");Math.imul||(A=_);function M(d,y,g){g.negative=y.negative^d.negative,g.length=d.length+y.length;for(var x=0,E=0,T=0;T<g.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,y.length-1),S=Math.max(0,T-d.length+1);S<=p;S++){var C=T-S,O=d.words[C]|0,B=y.words[S]|0,z=O*B,$=z&67108863;N=N+(z/67108864|0)|0,$=$+k|0,k=$&67108863,N=N+($>>>26)|0,E+=N>>>26,N&=67108863}g.words[T]=k,x=N,N=E}return x!==0?g.words[T]=x:g.length--,g.strip()}s(M,"I");function I(d,y,g){var x=new R;return x.mulp(d,y,g)}s(I,"D"),a.prototype.mulTo=function(d,y){var g,x=this.length+d.length;return this.length===10&&d.length===10?g=A(this,d,y):x<63?g=_(this,d,y):x<1024?g=M(this,d,y):g=I(this,d,y),g};function R(d,y){this.x=d,this.y=y}s(R,"g"),R.prototype.makeRBT=function(d){for(var y=Array(d),g=a.prototype._countBits(d)-1,x=0;x<d;x++)y[x]=this.revBin(x,g,d);return y},R.prototype.revBin=function(d,y,g){if(d===0||d===g-1)return d;for(var x=0,E=0;E<y;E++)x|=(d&1)<<y-E-1,d>>=1;return x},R.prototype.permute=function(d,y,g,x,E,T){for(var N=0;N<T;N++)x[N]=y[d[N]],E[N]=g[d[N]]},R.prototype.transform=function(d,y,g,x,E,T){this.permute(T,d,y,g,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var O=p,B=S,z=0;z<N;z++){var $=g[C+z],W=x[C+z],oe=g[C+z+N],ne=x[C+z+N],ie=O*oe-B*ne;ne=O*ne+B*oe,oe=ie,g[C+z]=$+oe,x[C+z]=W+ne,g[C+z+N]=$-oe,x[C+z+N]=W-ne,z!==k&&(ie=p*O-S*B,B=p*B+S*O,O=ie)}},R.prototype.guessLen13b=function(d,y){var g=Math.max(y,d)|1,x=g&1,E=0;for(g=g/2|0;g;g=g>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(d,y,g){if(!(g<=1))for(var x=0;x<g/2;x++){var E=d[x];d[x]=d[g-x-1],d[g-x-1]=E,E=y[x],y[x]=-y[g-x-1],y[g-x-1]=-E}},R.prototype.normalize13b=function(d,y){for(var g=0,x=0;x<y/2;x++){var E=Math.round(d[2*x+1]/y)*8192+Math.round(d[2*x]/y)+g;d[x]=E&67108863,E<67108864?g=0:g=E/67108864|0}return d},R.prototype.convert13b=function(d,y,g,x){for(var E=0,T=0;T<y;T++)E=E+(d[T]|0),g[2*T]=E&8191,E=E>>>13,g[2*T+1]=E&8191,E=E>>>13;for(T=2*y;T<x;++T)g[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(d){for(var y=Array(d),g=0;g<d;g++)y[g]=0;return y},R.prototype.mulp=function(d,y,g){var x=2*this.guessLen13b(d.length,y.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),O=Array(x),B=g.words;B.length=x,this.convert13b(d.words,d.length,N,x),this.convert13b(y.words,y.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,O,x,E);for(var z=0;z<x;z++){var $=k[z]*C[z]-p[z]*O[z];p[z]=k[z]*O[z]+p[z]*C[z],k[z]=$}return this.conjugate(k,p,x),this.transform(k,p,B,T,x,E),this.conjugate(B,T,x),this.normalize13b(B,x),g.negative=d.negative^y.negative,g.length=d.length+y.length,g.strip()},a.prototype.mul=function(d){var y=new a(null);return y.words=Array(this.length+d.length),this.mulTo(d,y)},a.prototype.mulf=function(d){var y=new a(null);return y.words=Array(this.length+d.length),I(this,d,y)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){i(typeof d=="number"),i(d<67108864);for(var y=0,g=0;g<this.length;g++){var x=(this.words[g]|0)*d,E=(x&67108863)+(y&67108863);y>>=26,y+=x/67108864|0,y+=E>>>26,this.words[g]=E&67108863}return y!==0&&(this.words[g]=y,this.length++),this.length=d===0?1:this.length,this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var y=w(d);if(y.length===0)return new a(1);for(var g=this,x=0;x<y.length&&y[x]===0;x++,g=g.sqr());if(++x<y.length)for(var E=g.sqr();x<y.length;x++,E=E.sqr())y[x]!==0&&(g=g.mul(E));return g},a.prototype.iushln=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=67108863>>>26-y<<26-y,E;if(y!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<y;this.words[E]=k|T,T=N>>>26-y}T&&(this.words[E]=T,this.length++)}if(g!==0){for(E=this.length-1;E>=0;E--)this.words[E+g]=this.words[E];for(E=0;E<g;E++)this.words[E]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(d){return i(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,y,g){i(typeof d=="number"&&d>=0);var x;y?x=(y-y%26)/26:x=0;var E=d%26,T=Math.min((d-E)/26,this.length),N=67108863^67108863>>>E<<E,k=g;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,y,g){return i(this.negative===0),this.iushrn(d,y,g)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return!1;var E=this.words[g];return!!(E&x)},a.prototype.imaskn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(y!==0&&g++,this.length=Math.min(g,this.length),y!==0){var x=67108863^67108863>>>y<<y;this.words[this.length-1]&=x}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return i(typeof d=="number"),i(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},a.prototype.isubn=function(d){if(i(typeof d=="number"),i(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,y,g){var x=d.length+g,E;this._expand(x);var T,N=0;for(E=0;E<d.length;E++){T=(this.words[E+g]|0)+N;var k=(d.words[E]|0)*y;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+g]=T&67108863}for(;E<this.length-g;E++)T=(this.words[E+g]|0)+N,N=T>>26,this.words[E+g]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,y){var g=this.length-d.length,x=this.clone(),E=d,T=E.words[E.length-1]|0,N=this._countBits(T);g=26-N,g!==0&&(E=E.ushln(g),x.iushln(g),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(y!=="mod"){p=new a(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(x.words[E.length+O]|0)*67108864+(x.words[E.length+O-1]|0);for(B=Math.min(B/T|0,67108863),x._ishlnsubmul(E,B,O);x.negative!==0;)B--,x.negative=0,x._ishlnsubmul(E,1,O),!x.isZero()&&(x.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),x.strip(),y!=="div"&&g!==0&&x.iushrn(g),{div:p||null,mod:x}},a.prototype.divmod=function(d,y,g){if(i(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var x,E,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,y),y!=="mod"&&(x=T.div.neg()),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.iadd(d)),{div:x,mod:E}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),y),y!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),y),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.isub(d)),{div:T.div,mod:E}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,y)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var g=y.div.negative!==0?y.mod.isub(d):y.mod,x=d.ushrn(1),E=d.andln(1),T=g.cmp(x);return T<0||E===1&&T===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},a.prototype.modn=function(d){i(d<=67108863);for(var y=67108864%d,g=0,x=this.length-1;x>=0;x--)g=(y*g+(this.words[x]|0))%d;return g},a.prototype.idivn=function(d){i(d<=67108863);for(var y=0,g=this.length-1;g>=0;g--){var x=(this.words[g]|0)+y*67108864;this.words[g]=x/d|0,y=x%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=new a(0),N=new a(1),k=0;y.isEven()&&g.isEven();)y.iushrn(1),g.iushrn(1),++k;for(var p=g.clone(),S=y.clone();!y.isZero();){for(var C=0,O=1;(y.words[0]&O)===0&&C<26;++C,O<<=1);if(C>0)for(y.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var B=0,z=1;(g.words[0]&z)===0&&B<26;++B,z<<=1);if(B>0)for(g.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(T),E.isub(N)):(g.isub(y),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:g.iushln(k)}},a.prototype._invmp=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=g.clone();y.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,k=1;(y.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(y.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(g.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(g.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(E)):(g.isub(y),E.isub(x))}var C;return y.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(d),C},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),g=d.clone();y.negative=0,g.negative=0;for(var x=0;y.isEven()&&g.isEven();x++)y.iushrn(1),g.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;g.isEven();)g.iushrn(1);var E=y.cmp(g);if(E<0){var T=y;y=g,g=T}else if(E===0||g.cmpn(1)===0)break;y.isub(g)}while(!0);return g.iushln(x)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){i(typeof d=="number");var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return this._expand(g+1),this.words[g]|=x,this;for(var E=x,T=g;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var g;if(this.length>1)g=1;else{y&&(d=-d),i(d<=67108863,"Number is too big");var x=this.words[0]|0;g=x===d?0:x<d?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,g=this.length-1;g>=0;g--){var x=this.words[g]|0,E=d.words[g]|0;if(x!==E){x<E?y=-1:x>E&&(y=1);break}}return y},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new U(d)},a.prototype.toRed=function(d){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return i(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return i(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function P(d,y){this.name=d,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}s(P,"u"),P.prototype._tmp=function(){var d=new a(null);return d.words=Array(Math.ceil(this.n/13)),d},P.prototype.ireduce=function(d){var y=d,g;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),g=y.bitLength();while(g>this.n);var x=g<this.n?-1:y.ucmp(this.p);return x===0?(y.words[0]=0,y.length=1):x>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},P.prototype.split=function(d,y){d.iushrn(this.n,0,y)},P.prototype.imulK=function(d){return d.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,"p"),o(F,P),F.prototype.split=function(d,y){for(var g=4194303,x=Math.min(d.length,9),E=0;E<x;E++)y.words[E]=d.words[E];if(y.length=x,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(y.words[y.length++]=T&g,E=10;E<d.length;E++){var N=d.words[E]|0;d.words[E-10]=(N&g)<<4|T>>>22,T=N}T>>>=22,d.words[E-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},F.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,g=0;g<d.length;g++){var x=d.words[g]|0;y+=x*977,d.words[g]=y&67108863,y=x*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function Z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Z,"l"),o(Z,P);function G(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,"Q"),o(G,P);function se(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(se,"e"),o(se,P),se.prototype.imulK=function(d){for(var y=0,g=0;g<d.length;g++){var x=(d.words[g]|0)*19+y,E=x&67108863;x>>>=26,d.words[g]=E,y=x}return y!==0&&(d.words[d.length++]=y),d},a._prime=function(d){if(L[d])return L[d];var y;if(d==="k256")y=new F;else if(d==="p224")y=new Z;else if(d==="p192")y=new G;else if(d==="p25519")y=new se;else throw Error("Unknown prime "+d);return L[d]=y,y};function U(d){if(typeof d=="string"){var y=a._prime(d);this.m=y.p,this.prime=y}else i(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}s(U,"m"),U.prototype._verify1=function(d){i(d.negative===0,"red works only with positives"),i(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,y){i((d.negative|y.negative)===0,"red works only with positives"),i(d.red&&d.red===y.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,y){this._verify2(d,y);var g=d.add(y);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},U.prototype.iadd=function(d,y){this._verify2(d,y);var g=d.iadd(y);return g.cmp(this.m)>=0&&g.isub(this.m),g},U.prototype.sub=function(d,y){this._verify2(d,y);var g=d.sub(y);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},U.prototype.isub=function(d,y){this._verify2(d,y);var g=d.isub(y);return g.cmpn(0)<0&&g.iadd(this.m),g},U.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},U.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},U.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(i(y%2===1),y===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(d,g)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new a(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(d,x.addn(1).iushrn(1)),O=this.pow(d,x),B=E;O.cmp(T)!==0;){for(var z=O,$=0;z.cmp(T)!==0;$++)z=z.redSqr();i($<B);var W=this.pow(S,new a(1).iushln(B-$-1));C=C.redMul(W),S=W.redSqr(),O=O.redMul(S),B=$}return C},U.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},U.prototype.pow=function(d,y){if(y.isZero())return new a(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var g=4,x=Array(1<<g);x[0]=new a(1).toRed(this),x[1]=d;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],d);var T=x[0],N=0,k=0,p=y.bitLength()%26;for(p===0&&(p=26),E=y.length-1;E>=0;E--){for(var S=y.words[E],C=p-1;C>=0;C--){var O=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==g&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},U.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},U.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},a.mont=function(d){return new X(d)};function X(d){U.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(X,"o"),o(X,U),X.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},X.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},X.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new a(0)._forceRed(this);var g=d.mul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof t>"u"||t,e)}),V3=_t((e,t)=>{var r=$3(),n=H3();t.exports=function(l){return new o(l)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1;function o(l){this.curveType=i[l],!this.curveType&&(this.curveType={name:l}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}s(o,"O"),o.prototype.generateKeys=function(l,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,u)},o.prototype.computeSecret=function(l,u,c){u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u));var h=this.curve.keyFromPublic(l).getPublic(),f=h.mul(this.keys.getPrivate()).getX();return a(f,c,this.curveType.byteLength)},o.prototype.getPublicKey=function(l,u){var c=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),a(c,l)},o.prototype.getPrivateKey=function(l){return a(this.keys.getPrivate(),l)},o.prototype.setPublicKey=function(l,u){return u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u)),this.keys._importPublic(l),this},o.prototype.setPrivateKey=function(l,u){u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u));var c=new n(l);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function a(l,u,c){Array.isArray(l)||(l=l.toArray());var h=new Buffer(l);if(c&&h.length<c){var f=new Buffer(c-h.length);f.fill(0),h=Buffer.concat([f,h])}return u?h.toString(u):h}s(a,"j")}),G3=_t((e,t)=>{var r=(Xn(),rr(zn)).createECDH;t.exports=r||V3()}),Z3=_t((e,t)=>{(function(r,n){function i(d,y){if(!d)throw Error(y||"Assertion failed")}s(i,"_");function o(d,y){d.super_=y;var g=s(function(){},"H");g.prototype=y.prototype,d.prototype=new g,d.prototype.constructor=d}s(o,"O");function a(d,y,g){if(a.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((y==="le"||y==="be")&&(g=y,y=10),this._init(d||0,y||10,g||"be"))}s(a,"j"),typeof r=="object"?r.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(kn(),rr(wn)).Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,y){return d.cmp(y)>0?d:y},a.min=function(d,y){return d.cmp(y)<0?d:y},a.prototype._init=function(d,y,g){if(typeof d=="number")return this._initNumber(d,y,g);if(typeof d=="object")return this._initArray(d,y,g);y==="hex"&&(y=16),i(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var x=0;d[0]==="-"&&(x++,this.negative=1),x<d.length&&(y===16?this._parseHex(d,x,g):(this._parseBase(d,y,x),g==="le"&&this._initArray(this.toArray(),y,g)))},a.prototype._initNumber=function(d,y,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(i(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),y,g)},a.prototype._initArray=function(d,y,g){if(i(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(g==="be")for(x=d.length-1,E=0;x>=0;x-=3)T=d[x]|d[x-1]<<8|d[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(g==="le")for(x=0,E=0;x<d.length;x+=3)T=d[x]|d[x+1]<<8|d[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(d,y){var g=d.charCodeAt(y);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}s(u,"J");function c(d,y,g){var x=u(d,g);return g-1>=y&&(x|=u(d,g-1)<<4),x}s(c,"w"),a.prototype._parseHex=function(d,y,g){this.length=Math.ceil((d.length-y)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(g==="be")for(x=d.length-1;x>=y;x-=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=d.length-y;for(x=k%2===0?y+1:y;x<d.length;x+=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function h(d,y,g,x){for(var E=0,T=Math.min(d.length,g),N=y;N<T;N++){var k=d.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}s(h,"k"),a.prototype._parseBase=function(d,y,g){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=y)x++;x--,E=E/y|0;for(var T=d.length-g,N=T%x,k=Math.min(T,T-N)+g,p=0,S=g;S<k;S+=x)p=h(d,S,S+x,y),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=h(d,S,d.length,y),S=0;S<N;S++)C*=y;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},a.prototype.copy=function(d){d.words=Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,y){d=d||10,y=y|0||1;var g;if(d===16||d==="hex"){g="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?g=f[6-k.length]+k+g:g=k+g}for(E!==0&&(g=E.toString(16)+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var p=v[d],S=m[d];g="";var C=this.clone();for(C.negative=0;!C.isZero();){var O=C.modn(S).toString(d);C=C.idivn(S),C.isZero()?g=O+g:g=f[p-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,y){return i(typeof l<"u"),this.toArrayLike(l,d,y)},a.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)},a.prototype.toArrayLike=function(d,y,g){var x=this.byteLength(),E=g||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=y==="le",N=new d(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var y=d,g=0;return y>=4096&&(g+=13,y>>>=13),y>=64&&(g+=7,y>>>=7),y>=8&&(g+=4,y>>>=4),y>=2&&(g+=2,y>>>=2),g+y},a.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,g=0;return(y&8191)===0&&(g+=13,y>>>=13),(y&127)===0&&(g+=7,y>>>=7),(y&15)===0&&(g+=4,y>>>=4),(y&3)===0&&(g+=2,y>>>=2),(y&1)===0&&g++,g},a.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function w(d){for(var y=Array(d.bitLength()),g=0;g<y.length;g++){var x=g/26|0,E=g%26;y[g]=(d.words[x]&1<<E)>>>E}return y}s(w,"C"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var g=this._zeroBits(this.words[y]);if(d+=g,g!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this.strip()},a.prototype.ior=function(d){return i((this.negative|d.negative)===0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var g=0;g<y.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=y.length,this.strip()},a.prototype.iand=function(d){return i((this.negative|d.negative)===0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var y,g;this.length>d.length?(y=this,g=d):(y=d,g=this);for(var x=0;x<g.length;x++)this.words[x]=y.words[x]^g.words[x];if(this!==y)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=y.length,this.strip()},a.prototype.ixor=function(d){return i((this.negative|d.negative)===0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){i(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,g=d%26;this._expand(y),g>0&&y--;for(var x=0;x<y;x++)this.words[x]=~this.words[x]&67108863;return g>0&&(this.words[x]=~this.words[x]&67108863>>26-g),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,y){i(typeof d=="number"&&d>=0);var g=d/26|0,x=d%26;return this._expand(g+1),y?this.words[g]=this.words[g]|1<<x:this.words[g]=this.words[g]&~(1<<x),this.strip()},a.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var E=0,T=0;T<x.length;T++)y=(g.words[T]|0)+(x.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;for(;E!==0&&T<g.length;T++)y=(g.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;if(this.length=g.length,E!==0)this.words[this.length]=E,this.length++;else if(g!==this)for(;T<g.length;T++)this.words[T]=g.words[T];return this},a.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;g>0?(x=this,E=d):(x=d,E=this);for(var T=0,N=0;N<E.length;N++)y=(x.words[N]|0)-(E.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;for(;T!==0&&N<x.length;N++)y=(x.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function _(d,y,g){g.negative=y.negative^d.negative;var x=d.length+y.length|0;g.length=x,x=x-1|0;var E=d.words[0]|0,T=y.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;g.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,O=p&67108863,B=Math.min(S,y.length-1),z=Math.max(0,S-d.length+1);z<=B;z++){var $=S-z|0;E=d.words[$]|0,T=y.words[z]|0,N=E*T+O,C+=N/67108864|0,O=N&67108863}g.words[S]=O|0,p=C|0}return p!==0?g.words[S]=p|0:g.length--,g.strip()}s(_,"E");var A=s(function(d,y,g){var x=d.words,E=y.words,T=g.words,N=0,k,p,S,C=x[0]|0,O=C&8191,B=C>>>13,z=x[1]|0,$=z&8191,W=z>>>13,oe=x[2]|0,ne=oe&8191,ie=oe>>>13,Qe=x[3]|0,Ne=Qe&8191,ve=Qe>>>13,Me=x[4]|0,J=Me&8191,ae=Me>>>13,K=x[5]|0,Y=K&8191,de=K>>>13,Be=x[6]|0,Pe=Be&8191,we=Be>>>13,q=x[7]|0,te=q&8191,re=q>>>13,Ee=x[8]|0,ge=Ee&8191,he=Ee>>>13,it=x[9]|0,Re=it&8191,Xe=it>>>13,Nt=E[0]|0,Ae=Nt&8191,qe=Nt>>>13,ye=E[1]|0,Ce=ye&8191,He=ye>>>13,We=E[2]|0,Ue=We&8191,tt=We>>>13,Ot=E[3]|0,Ke=Ot&8191,Ie=Ot>>>13,et=E[4]|0,De=et&8191,rt=et>>>13,Tt=E[5]|0,ue=Tt&8191,be=Tt>>>13,Ze=E[6]|0,je=Ze&8191,ze=Ze>>>13,ct=E[7]|0,ce=ct&8191,Le=ct>>>13,lt=E[8]|0,Te=lt&8191,ut=lt>>>13,zt=E[9]|0,at=zt&8191,mt=zt>>>13;g.negative=d.negative^y.negative,g.length=19,k=Math.imul(O,Ae),p=Math.imul(O,qe),p=p+Math.imul(B,Ae)|0,S=Math.imul(B,qe);var Ge=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,k=Math.imul($,Ae),p=Math.imul($,qe),p=p+Math.imul(W,Ae)|0,S=Math.imul(W,qe),k=k+Math.imul(O,Ce)|0,p=p+Math.imul(O,He)|0,p=p+Math.imul(B,Ce)|0,S=S+Math.imul(B,He)|0;var st=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(st>>>26)|0,st&=67108863,k=Math.imul(ne,Ae),p=Math.imul(ne,qe),p=p+Math.imul(ie,Ae)|0,S=Math.imul(ie,qe),k=k+Math.imul($,Ce)|0,p=p+Math.imul($,He)|0,p=p+Math.imul(W,Ce)|0,S=S+Math.imul(W,He)|0,k=k+Math.imul(O,Ue)|0,p=p+Math.imul(O,tt)|0,p=p+Math.imul(B,Ue)|0,S=S+Math.imul(B,tt)|0;var Lt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,k=Math.imul(Ne,Ae),p=Math.imul(Ne,qe),p=p+Math.imul(ve,Ae)|0,S=Math.imul(ve,qe),k=k+Math.imul(ne,Ce)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(ie,Ce)|0,S=S+Math.imul(ie,He)|0,k=k+Math.imul($,Ue)|0,p=p+Math.imul($,tt)|0,p=p+Math.imul(W,Ue)|0,S=S+Math.imul(W,tt)|0,k=k+Math.imul(O,Ke)|0,p=p+Math.imul(O,Ie)|0,p=p+Math.imul(B,Ke)|0,S=S+Math.imul(B,Ie)|0;var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(J,Ae),p=Math.imul(J,qe),p=p+Math.imul(ae,Ae)|0,S=Math.imul(ae,qe),k=k+Math.imul(Ne,Ce)|0,p=p+Math.imul(Ne,He)|0,p=p+Math.imul(ve,Ce)|0,S=S+Math.imul(ve,He)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,tt)|0,p=p+Math.imul(ie,Ue)|0,S=S+Math.imul(ie,tt)|0,k=k+Math.imul($,Ke)|0,p=p+Math.imul($,Ie)|0,p=p+Math.imul(W,Ke)|0,S=S+Math.imul(W,Ie)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,De)|0,S=S+Math.imul(B,rt)|0;var $t=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(Y,Ae),p=Math.imul(Y,qe),p=p+Math.imul(de,Ae)|0,S=Math.imul(de,qe),k=k+Math.imul(J,Ce)|0,p=p+Math.imul(J,He)|0,p=p+Math.imul(ae,Ce)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(Ne,Ue)|0,p=p+Math.imul(Ne,tt)|0,p=p+Math.imul(ve,Ue)|0,S=S+Math.imul(ve,tt)|0,k=k+Math.imul(ne,Ke)|0,p=p+Math.imul(ne,Ie)|0,p=p+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,Ie)|0,k=k+Math.imul($,De)|0,p=p+Math.imul($,rt)|0,p=p+Math.imul(W,De)|0,S=S+Math.imul(W,rt)|0,k=k+Math.imul(O,ue)|0,p=p+Math.imul(O,be)|0,p=p+Math.imul(B,ue)|0,S=S+Math.imul(B,be)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ae),p=Math.imul(Pe,qe),p=p+Math.imul(we,Ae)|0,S=Math.imul(we,qe),k=k+Math.imul(Y,Ce)|0,p=p+Math.imul(Y,He)|0,p=p+Math.imul(de,Ce)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(J,Ue)|0,p=p+Math.imul(J,tt)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,tt)|0,k=k+Math.imul(Ne,Ke)|0,p=p+Math.imul(Ne,Ie)|0,p=p+Math.imul(ve,Ke)|0,S=S+Math.imul(ve,Ie)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(ie,De)|0,S=S+Math.imul(ie,rt)|0,k=k+Math.imul($,ue)|0,p=p+Math.imul($,be)|0,p=p+Math.imul(W,ue)|0,S=S+Math.imul(W,be)|0,k=k+Math.imul(O,je)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,je)|0,S=S+Math.imul(B,ze)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(te,Ae),p=Math.imul(te,qe),p=p+Math.imul(re,Ae)|0,S=Math.imul(re,qe),k=k+Math.imul(Pe,Ce)|0,p=p+Math.imul(Pe,He)|0,p=p+Math.imul(we,Ce)|0,S=S+Math.imul(we,He)|0,k=k+Math.imul(Y,Ue)|0,p=p+Math.imul(Y,tt)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,tt)|0,k=k+Math.imul(J,Ke)|0,p=p+Math.imul(J,Ie)|0,p=p+Math.imul(ae,Ke)|0,S=S+Math.imul(ae,Ie)|0,k=k+Math.imul(Ne,De)|0,p=p+Math.imul(Ne,rt)|0,p=p+Math.imul(ve,De)|0,S=S+Math.imul(ve,rt)|0,k=k+Math.imul(ne,ue)|0,p=p+Math.imul(ne,be)|0,p=p+Math.imul(ie,ue)|0,S=S+Math.imul(ie,be)|0,k=k+Math.imul($,je)|0,p=p+Math.imul($,ze)|0,p=p+Math.imul(W,je)|0,S=S+Math.imul(W,ze)|0,k=k+Math.imul(O,ce)|0,p=p+Math.imul(O,Le)|0,p=p+Math.imul(B,ce)|0,S=S+Math.imul(B,Le)|0;var mr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(mr>>>26)|0,mr&=67108863,k=Math.imul(ge,Ae),p=Math.imul(ge,qe),p=p+Math.imul(he,Ae)|0,S=Math.imul(he,qe),k=k+Math.imul(te,Ce)|0,p=p+Math.imul(te,He)|0,p=p+Math.imul(re,Ce)|0,S=S+Math.imul(re,He)|0,k=k+Math.imul(Pe,Ue)|0,p=p+Math.imul(Pe,tt)|0,p=p+Math.imul(we,Ue)|0,S=S+Math.imul(we,tt)|0,k=k+Math.imul(Y,Ke)|0,p=p+Math.imul(Y,Ie)|0,p=p+Math.imul(de,Ke)|0,S=S+Math.imul(de,Ie)|0,k=k+Math.imul(J,De)|0,p=p+Math.imul(J,rt)|0,p=p+Math.imul(ae,De)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(Ne,ue)|0,p=p+Math.imul(Ne,be)|0,p=p+Math.imul(ve,ue)|0,S=S+Math.imul(ve,be)|0,k=k+Math.imul(ne,je)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(ie,je)|0,S=S+Math.imul(ie,ze)|0,k=k+Math.imul($,ce)|0,p=p+Math.imul($,Le)|0,p=p+Math.imul(W,ce)|0,S=S+Math.imul(W,Le)|0,k=k+Math.imul(O,Te)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Te)|0,S=S+Math.imul(B,ut)|0;var ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ur>>>26)|0,ur&=67108863,k=Math.imul(Re,Ae),p=Math.imul(Re,qe),p=p+Math.imul(Xe,Ae)|0,S=Math.imul(Xe,qe),k=k+Math.imul(ge,Ce)|0,p=p+Math.imul(ge,He)|0,p=p+Math.imul(he,Ce)|0,S=S+Math.imul(he,He)|0,k=k+Math.imul(te,Ue)|0,p=p+Math.imul(te,tt)|0,p=p+Math.imul(re,Ue)|0,S=S+Math.imul(re,tt)|0,k=k+Math.imul(Pe,Ke)|0,p=p+Math.imul(Pe,Ie)|0,p=p+Math.imul(we,Ke)|0,S=S+Math.imul(we,Ie)|0,k=k+Math.imul(Y,De)|0,p=p+Math.imul(Y,rt)|0,p=p+Math.imul(de,De)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(J,ue)|0,p=p+Math.imul(J,be)|0,p=p+Math.imul(ae,ue)|0,S=S+Math.imul(ae,be)|0,k=k+Math.imul(Ne,je)|0,p=p+Math.imul(Ne,ze)|0,p=p+Math.imul(ve,je)|0,S=S+Math.imul(ve,ze)|0,k=k+Math.imul(ne,ce)|0,p=p+Math.imul(ne,Le)|0,p=p+Math.imul(ie,ce)|0,S=S+Math.imul(ie,Le)|0,k=k+Math.imul($,Te)|0,p=p+Math.imul($,ut)|0,p=p+Math.imul(W,Te)|0,S=S+Math.imul(W,ut)|0,k=k+Math.imul(O,at)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,at)|0,S=S+Math.imul(B,mt)|0;var Lr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,He),p=p+Math.imul(Xe,Ce)|0,S=Math.imul(Xe,He),k=k+Math.imul(ge,Ue)|0,p=p+Math.imul(ge,tt)|0,p=p+Math.imul(he,Ue)|0,S=S+Math.imul(he,tt)|0,k=k+Math.imul(te,Ke)|0,p=p+Math.imul(te,Ie)|0,p=p+Math.imul(re,Ke)|0,S=S+Math.imul(re,Ie)|0,k=k+Math.imul(Pe,De)|0,p=p+Math.imul(Pe,rt)|0,p=p+Math.imul(we,De)|0,S=S+Math.imul(we,rt)|0,k=k+Math.imul(Y,ue)|0,p=p+Math.imul(Y,be)|0,p=p+Math.imul(de,ue)|0,S=S+Math.imul(de,be)|0,k=k+Math.imul(J,je)|0,p=p+Math.imul(J,ze)|0,p=p+Math.imul(ae,je)|0,S=S+Math.imul(ae,ze)|0,k=k+Math.imul(Ne,ce)|0,p=p+Math.imul(Ne,Le)|0,p=p+Math.imul(ve,ce)|0,S=S+Math.imul(ve,Le)|0,k=k+Math.imul(ne,Te)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(ie,Te)|0,S=S+Math.imul(ie,ut)|0,k=k+Math.imul($,at)|0,p=p+Math.imul($,mt)|0,p=p+Math.imul(W,at)|0,S=S+Math.imul(W,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Re,Ue),p=Math.imul(Re,tt),p=p+Math.imul(Xe,Ue)|0,S=Math.imul(Xe,tt),k=k+Math.imul(ge,Ke)|0,p=p+Math.imul(ge,Ie)|0,p=p+Math.imul(he,Ke)|0,S=S+Math.imul(he,Ie)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(re,De)|0,S=S+Math.imul(re,rt)|0,k=k+Math.imul(Pe,ue)|0,p=p+Math.imul(Pe,be)|0,p=p+Math.imul(we,ue)|0,S=S+Math.imul(we,be)|0,k=k+Math.imul(Y,je)|0,p=p+Math.imul(Y,ze)|0,p=p+Math.imul(de,je)|0,S=S+Math.imul(de,ze)|0,k=k+Math.imul(J,ce)|0,p=p+Math.imul(J,Le)|0,p=p+Math.imul(ae,ce)|0,S=S+Math.imul(ae,Le)|0,k=k+Math.imul(Ne,Te)|0,p=p+Math.imul(Ne,ut)|0,p=p+Math.imul(ve,Te)|0,S=S+Math.imul(ve,ut)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(ie,at)|0,S=S+Math.imul(ie,mt)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(Re,Ke),p=Math.imul(Re,Ie),p=p+Math.imul(Xe,Ke)|0,S=Math.imul(Xe,Ie),k=k+Math.imul(ge,De)|0,p=p+Math.imul(ge,rt)|0,p=p+Math.imul(he,De)|0,S=S+Math.imul(he,rt)|0,k=k+Math.imul(te,ue)|0,p=p+Math.imul(te,be)|0,p=p+Math.imul(re,ue)|0,S=S+Math.imul(re,be)|0,k=k+Math.imul(Pe,je)|0,p=p+Math.imul(Pe,ze)|0,p=p+Math.imul(we,je)|0,S=S+Math.imul(we,ze)|0,k=k+Math.imul(Y,ce)|0,p=p+Math.imul(Y,Le)|0,p=p+Math.imul(de,ce)|0,S=S+Math.imul(de,Le)|0,k=k+Math.imul(J,Te)|0,p=p+Math.imul(J,ut)|0,p=p+Math.imul(ae,Te)|0,S=S+Math.imul(ae,ut)|0,k=k+Math.imul(Ne,at)|0,p=p+Math.imul(Ne,mt)|0,p=p+Math.imul(ve,at)|0,S=S+Math.imul(ve,mt)|0;var Or=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,k=Math.imul(Re,De),p=Math.imul(Re,rt),p=p+Math.imul(Xe,De)|0,S=Math.imul(Xe,rt),k=k+Math.imul(ge,ue)|0,p=p+Math.imul(ge,be)|0,p=p+Math.imul(he,ue)|0,S=S+Math.imul(he,be)|0,k=k+Math.imul(te,je)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(re,je)|0,S=S+Math.imul(re,ze)|0,k=k+Math.imul(Pe,ce)|0,p=p+Math.imul(Pe,Le)|0,p=p+Math.imul(we,ce)|0,S=S+Math.imul(we,Le)|0,k=k+Math.imul(Y,Te)|0,p=p+Math.imul(Y,ut)|0,p=p+Math.imul(de,Te)|0,S=S+Math.imul(de,ut)|0,k=k+Math.imul(J,at)|0,p=p+Math.imul(J,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Re,ue),p=Math.imul(Re,be),p=p+Math.imul(Xe,ue)|0,S=Math.imul(Xe,be),k=k+Math.imul(ge,je)|0,p=p+Math.imul(ge,ze)|0,p=p+Math.imul(he,je)|0,S=S+Math.imul(he,ze)|0,k=k+Math.imul(te,ce)|0,p=p+Math.imul(te,Le)|0,p=p+Math.imul(re,ce)|0,S=S+Math.imul(re,Le)|0,k=k+Math.imul(Pe,Te)|0,p=p+Math.imul(Pe,ut)|0,p=p+Math.imul(we,Te)|0,S=S+Math.imul(we,ut)|0,k=k+Math.imul(Y,at)|0,p=p+Math.imul(Y,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var _r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(_r>>>26)|0,_r&=67108863,k=Math.imul(Re,je),p=Math.imul(Re,ze),p=p+Math.imul(Xe,je)|0,S=Math.imul(Xe,ze),k=k+Math.imul(ge,ce)|0,p=p+Math.imul(ge,Le)|0,p=p+Math.imul(he,ce)|0,S=S+Math.imul(he,Le)|0,k=k+Math.imul(te,Te)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(re,Te)|0,S=S+Math.imul(re,ut)|0,k=k+Math.imul(Pe,at)|0,p=p+Math.imul(Pe,mt)|0,p=p+Math.imul(we,at)|0,S=S+Math.imul(we,mt)|0;var Rr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,k=Math.imul(Re,ce),p=Math.imul(Re,Le),p=p+Math.imul(Xe,ce)|0,S=Math.imul(Xe,Le),k=k+Math.imul(ge,Te)|0,p=p+Math.imul(ge,ut)|0,p=p+Math.imul(he,Te)|0,S=S+Math.imul(he,ut)|0,k=k+Math.imul(te,at)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(re,at)|0,S=S+Math.imul(re,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Re,Te),p=Math.imul(Re,ut),p=p+Math.imul(Xe,Te)|0,S=Math.imul(Xe,ut),k=k+Math.imul(ge,at)|0,p=p+Math.imul(ge,mt)|0,p=p+Math.imul(he,at)|0,S=S+Math.imul(he,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Re,at),p=Math.imul(Re,mt),p=p+Math.imul(Xe,at)|0,S=Math.imul(Xe,mt);var Fr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,T[0]=Ge,T[1]=st,T[2]=Lt,T[3]=Kt,T[4]=$t,T[5]=pr,T[6]=kr,T[7]=mr,T[8]=ur,T[9]=Lr,T[10]=Br,T[11]=xr,T[12]=Or,T[13]=br,T[14]=_r,T[15]=Rr,T[16]=zr,T[17]=Ur,T[18]=Fr,N!==0&&(T[19]=N,g.length++),g},"h");Math.imul||(A=_);function M(d,y,g){g.negative=y.negative^d.negative,g.length=d.length+y.length;for(var x=0,E=0,T=0;T<g.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,y.length-1),S=Math.max(0,T-d.length+1);S<=p;S++){var C=T-S,O=d.words[C]|0,B=y.words[S]|0,z=O*B,$=z&67108863;N=N+(z/67108864|0)|0,$=$+k|0,k=$&67108863,N=N+($>>>26)|0,E+=N>>>26,N&=67108863}g.words[T]=k,x=N,N=E}return x!==0?g.words[T]=x:g.length--,g.strip()}s(M,"I");function I(d,y,g){var x=new R;return x.mulp(d,y,g)}s(I,"D"),a.prototype.mulTo=function(d,y){var g,x=this.length+d.length;return this.length===10&&d.length===10?g=A(this,d,y):x<63?g=_(this,d,y):x<1024?g=M(this,d,y):g=I(this,d,y),g};function R(d,y){this.x=d,this.y=y}s(R,"g"),R.prototype.makeRBT=function(d){for(var y=Array(d),g=a.prototype._countBits(d)-1,x=0;x<d;x++)y[x]=this.revBin(x,g,d);return y},R.prototype.revBin=function(d,y,g){if(d===0||d===g-1)return d;for(var x=0,E=0;E<y;E++)x|=(d&1)<<y-E-1,d>>=1;return x},R.prototype.permute=function(d,y,g,x,E,T){for(var N=0;N<T;N++)x[N]=y[d[N]],E[N]=g[d[N]]},R.prototype.transform=function(d,y,g,x,E,T){this.permute(T,d,y,g,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var O=p,B=S,z=0;z<N;z++){var $=g[C+z],W=x[C+z],oe=g[C+z+N],ne=x[C+z+N],ie=O*oe-B*ne;ne=O*ne+B*oe,oe=ie,g[C+z]=$+oe,x[C+z]=W+ne,g[C+z+N]=$-oe,x[C+z+N]=W-ne,z!==k&&(ie=p*O-S*B,B=p*B+S*O,O=ie)}},R.prototype.guessLen13b=function(d,y){var g=Math.max(y,d)|1,x=g&1,E=0;for(g=g/2|0;g;g=g>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(d,y,g){if(!(g<=1))for(var x=0;x<g/2;x++){var E=d[x];d[x]=d[g-x-1],d[g-x-1]=E,E=y[x],y[x]=-y[g-x-1],y[g-x-1]=-E}},R.prototype.normalize13b=function(d,y){for(var g=0,x=0;x<y/2;x++){var E=Math.round(d[2*x+1]/y)*8192+Math.round(d[2*x]/y)+g;d[x]=E&67108863,E<67108864?g=0:g=E/67108864|0}return d},R.prototype.convert13b=function(d,y,g,x){for(var E=0,T=0;T<y;T++)E=E+(d[T]|0),g[2*T]=E&8191,E=E>>>13,g[2*T+1]=E&8191,E=E>>>13;for(T=2*y;T<x;++T)g[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(d){for(var y=Array(d),g=0;g<d;g++)y[g]=0;return y},R.prototype.mulp=function(d,y,g){var x=2*this.guessLen13b(d.length,y.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),O=Array(x),B=g.words;B.length=x,this.convert13b(d.words,d.length,N,x),this.convert13b(y.words,y.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,O,x,E);for(var z=0;z<x;z++){var $=k[z]*C[z]-p[z]*O[z];p[z]=k[z]*O[z]+p[z]*C[z],k[z]=$}return this.conjugate(k,p,x),this.transform(k,p,B,T,x,E),this.conjugate(B,T,x),this.normalize13b(B,x),g.negative=d.negative^y.negative,g.length=d.length+y.length,g.strip()},a.prototype.mul=function(d){var y=new a(null);return y.words=Array(this.length+d.length),this.mulTo(d,y)},a.prototype.mulf=function(d){var y=new a(null);return y.words=Array(this.length+d.length),I(this,d,y)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){i(typeof d=="number"),i(d<67108864);for(var y=0,g=0;g<this.length;g++){var x=(this.words[g]|0)*d,E=(x&67108863)+(y&67108863);y>>=26,y+=x/67108864|0,y+=E>>>26,this.words[g]=E&67108863}return y!==0&&(this.words[g]=y,this.length++),this.length=d===0?1:this.length,this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var y=w(d);if(y.length===0)return new a(1);for(var g=this,x=0;x<y.length&&y[x]===0;x++,g=g.sqr());if(++x<y.length)for(var E=g.sqr();x<y.length;x++,E=E.sqr())y[x]!==0&&(g=g.mul(E));return g},a.prototype.iushln=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=67108863>>>26-y<<26-y,E;if(y!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<y;this.words[E]=k|T,T=N>>>26-y}T&&(this.words[E]=T,this.length++)}if(g!==0){for(E=this.length-1;E>=0;E--)this.words[E+g]=this.words[E];for(E=0;E<g;E++)this.words[E]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(d){return i(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,y,g){i(typeof d=="number"&&d>=0);var x;y?x=(y-y%26)/26:x=0;var E=d%26,T=Math.min((d-E)/26,this.length),N=67108863^67108863>>>E<<E,k=g;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,y,g){return i(this.negative===0),this.iushrn(d,y,g)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return!1;var E=this.words[g];return!!(E&x)},a.prototype.imaskn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(y!==0&&g++,this.length=Math.min(g,this.length),y!==0){var x=67108863^67108863>>>y<<y;this.words[this.length-1]&=x}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return i(typeof d=="number"),i(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},a.prototype.isubn=function(d){if(i(typeof d=="number"),i(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,y,g){var x=d.length+g,E;this._expand(x);var T,N=0;for(E=0;E<d.length;E++){T=(this.words[E+g]|0)+N;var k=(d.words[E]|0)*y;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+g]=T&67108863}for(;E<this.length-g;E++)T=(this.words[E+g]|0)+N,N=T>>26,this.words[E+g]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,y){var g=this.length-d.length,x=this.clone(),E=d,T=E.words[E.length-1]|0,N=this._countBits(T);g=26-N,g!==0&&(E=E.ushln(g),x.iushln(g),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(y!=="mod"){p=new a(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(x.words[E.length+O]|0)*67108864+(x.words[E.length+O-1]|0);for(B=Math.min(B/T|0,67108863),x._ishlnsubmul(E,B,O);x.negative!==0;)B--,x.negative=0,x._ishlnsubmul(E,1,O),!x.isZero()&&(x.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),x.strip(),y!=="div"&&g!==0&&x.iushrn(g),{div:p||null,mod:x}},a.prototype.divmod=function(d,y,g){if(i(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var x,E,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,y),y!=="mod"&&(x=T.div.neg()),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.iadd(d)),{div:x,mod:E}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),y),y!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),y),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.isub(d)),{div:T.div,mod:E}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,y)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var g=y.div.negative!==0?y.mod.isub(d):y.mod,x=d.ushrn(1),E=d.andln(1),T=g.cmp(x);return T<0||E===1&&T===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},a.prototype.modn=function(d){i(d<=67108863);for(var y=67108864%d,g=0,x=this.length-1;x>=0;x--)g=(y*g+(this.words[x]|0))%d;return g},a.prototype.idivn=function(d){i(d<=67108863);for(var y=0,g=this.length-1;g>=0;g--){var x=(this.words[g]|0)+y*67108864;this.words[g]=x/d|0,y=x%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=new a(0),N=new a(1),k=0;y.isEven()&&g.isEven();)y.iushrn(1),g.iushrn(1),++k;for(var p=g.clone(),S=y.clone();!y.isZero();){for(var C=0,O=1;(y.words[0]&O)===0&&C<26;++C,O<<=1);if(C>0)for(y.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var B=0,z=1;(g.words[0]&z)===0&&B<26;++B,z<<=1);if(B>0)for(g.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(T),E.isub(N)):(g.isub(y),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:g.iushln(k)}},a.prototype._invmp=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=g.clone();y.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,k=1;(y.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(y.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(g.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(g.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(E)):(g.isub(y),E.isub(x))}var C;return y.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(d),C},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),g=d.clone();y.negative=0,g.negative=0;for(var x=0;y.isEven()&&g.isEven();x++)y.iushrn(1),g.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;g.isEven();)g.iushrn(1);var E=y.cmp(g);if(E<0){var T=y;y=g,g=T}else if(E===0||g.cmpn(1)===0)break;y.isub(g)}while(!0);return g.iushln(x)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){i(typeof d=="number");var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return this._expand(g+1),this.words[g]|=x,this;for(var E=x,T=g;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var g;if(this.length>1)g=1;else{y&&(d=-d),i(d<=67108863,"Number is too big");var x=this.words[0]|0;g=x===d?0:x<d?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,g=this.length-1;g>=0;g--){var x=this.words[g]|0,E=d.words[g]|0;if(x!==E){x<E?y=-1:x>E&&(y=1);break}}return y},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new U(d)},a.prototype.toRed=function(d){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return i(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return i(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function P(d,y){this.name=d,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}s(P,"u"),P.prototype._tmp=function(){var d=new a(null);return d.words=Array(Math.ceil(this.n/13)),d},P.prototype.ireduce=function(d){var y=d,g;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),g=y.bitLength();while(g>this.n);var x=g<this.n?-1:y.ucmp(this.p);return x===0?(y.words[0]=0,y.length=1):x>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},P.prototype.split=function(d,y){d.iushrn(this.n,0,y)},P.prototype.imulK=function(d){return d.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,"p"),o(F,P),F.prototype.split=function(d,y){for(var g=4194303,x=Math.min(d.length,9),E=0;E<x;E++)y.words[E]=d.words[E];if(y.length=x,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(y.words[y.length++]=T&g,E=10;E<d.length;E++){var N=d.words[E]|0;d.words[E-10]=(N&g)<<4|T>>>22,T=N}T>>>=22,d.words[E-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},F.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,g=0;g<d.length;g++){var x=d.words[g]|0;y+=x*977,d.words[g]=y&67108863,y=x*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function Z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Z,"l"),o(Z,P);function G(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,"Q"),o(G,P);function se(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(se,"e"),o(se,P),se.prototype.imulK=function(d){for(var y=0,g=0;g<d.length;g++){var x=(d.words[g]|0)*19+y,E=x&67108863;x>>>=26,d.words[g]=E,y=x}return y!==0&&(d.words[d.length++]=y),d},a._prime=function(d){if(L[d])return L[d];var y;if(d==="k256")y=new F;else if(d==="p224")y=new Z;else if(d==="p192")y=new G;else if(d==="p25519")y=new se;else throw Error("Unknown prime "+d);return L[d]=y,y};function U(d){if(typeof d=="string"){var y=a._prime(d);this.m=y.p,this.prime=y}else i(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}s(U,"m"),U.prototype._verify1=function(d){i(d.negative===0,"red works only with positives"),i(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,y){i((d.negative|y.negative)===0,"red works only with positives"),i(d.red&&d.red===y.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,y){this._verify2(d,y);var g=d.add(y);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},U.prototype.iadd=function(d,y){this._verify2(d,y);var g=d.iadd(y);return g.cmp(this.m)>=0&&g.isub(this.m),g},U.prototype.sub=function(d,y){this._verify2(d,y);var g=d.sub(y);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},U.prototype.isub=function(d,y){this._verify2(d,y);var g=d.isub(y);return g.cmpn(0)<0&&g.iadd(this.m),g},U.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},U.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},U.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(i(y%2===1),y===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(d,g)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new a(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(d,x.addn(1).iushrn(1)),O=this.pow(d,x),B=E;O.cmp(T)!==0;){for(var z=O,$=0;z.cmp(T)!==0;$++)z=z.redSqr();i($<B);var W=this.pow(S,new a(1).iushln(B-$-1));C=C.redMul(W),S=W.redSqr(),O=O.redMul(S),B=$}return C},U.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},U.prototype.pow=function(d,y){if(y.isZero())return new a(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var g=4,x=Array(1<<g);x[0]=new a(1).toRed(this),x[1]=d;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],d);var T=x[0],N=0,k=0,p=y.bitLength()%26;for(p===0&&(p=26),E=y.length-1;E>=0;E--){for(var S=y.words[E],C=p-1;C>=0;C--){var O=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==g&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},U.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},U.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},a.mont=function(d){return new X(d)};function X(d){U.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(X,"o"),o(X,U),X.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},X.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},X.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new a(0)._forceRed(this);var g=d.mul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof t>"u"||t,e)}),J3=_t(e=>{var t=ul(),r=Wn(),n=e;n.define=function(o,a){return new i(o,a)};function i(o,a){this.name=o,this.body=a,this.decoders={},this.encoders={}}s(i,"_"),i.prototype._createNamed=function(o){var a;try{a=(()=>{throw new Error("Cannot require module vm")})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{a=s(function(u){this._initNamed(u)},"z")}return r(a,o),a.prototype._initNamed=function(l){o.call(this,l)},new a(this)},i.prototype._getDecoder=function(o){return o=o||"der",!this.decoders.hasOwnProperty(o)&&(this.decoders[o]=this._createNamed(t.decoders[o])),this.decoders[o]},i.prototype.decode=function(o,a,l){return this._getDecoder(a).decode(o,l)},i.prototype._getEncoder=function(o){return o=o||"der",!this.encoders.hasOwnProperty(o)&&(this.encoders[o]=this._createNamed(t.encoders[o])),this.encoders[o]},i.prototype.encode=function(o,a,l){return this._getEncoder(a).encode(o,l)}}),W3=_t(e=>{var t=Wn();function r(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}s(r,"K"),e.Reporter=r,r.prototype.isError=function(i){return i instanceof n},r.prototype.save=function(){var i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},r.prototype.restore=function(i){var o=this._reporterState;o.obj=i.obj,o.path=o.path.slice(0,i.pathLen)},r.prototype.enterKey=function(i){return this._reporterState.path.push(i)},r.prototype.exitKey=function(i){var o=this._reporterState;o.path=o.path.slice(0,i-1)},r.prototype.leaveKey=function(i,o,a){var l=this._reporterState;this.exitKey(i),l.obj!==null&&(l.obj[o]=a)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var i=this._reporterState,o=i.obj;return i.obj={},o},r.prototype.leaveObject=function(i){var o=this._reporterState,a=o.obj;return o.obj=i,a},r.prototype.error=function(i){var o,a=this._reporterState,l=i instanceof n;if(l?o=i:o=new n(a.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),i.message||i,i.stack),!a.options.partial)throw o;return l||a.errors.push(o),o},r.prototype.wrapResult=function(i){var o=this._reporterState;return o.options.partial?{result:this.isError(i)?null:i,errors:o.errors}:i};function n(i,o){this.path=i,this.rethrow(o)}s(n,"P"),t(n,Error),n.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw Error(this.message)}catch(o){this.stack=o.stack}return this}}),bm=_t(e=>{var t=Wn(),r=ll().Reporter,n=(kn(),rr(wn)).Buffer;function i(a,l){if(r.call(this,l),!n.isBuffer(a)){this.error("Input not Buffer");return}this.base=a,this.offset=0,this.length=a.length}s(i,"_"),t(i,r),e.DecoderBuffer=i,i.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},i.prototype.restore=function(a){var l=new i(this.base);return l.offset=a.offset,l.length=this.offset,this.offset=a.offset,r.prototype.restore.call(this,a.reporter),l},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(a){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(a||"DecoderBuffer overrun")},i.prototype.skip=function(a,l){if(!(this.offset+a<=this.length))return this.error(l||"DecoderBuffer overrun");var u=new i(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+a,this.offset+=a,u},i.prototype.raw=function(a){return this.base.slice(a?a.offset:this.offset,this.length)};function o(a,l){if(Array.isArray(a))this.length=0,this.value=a.map(function(u){return u instanceof o||(u=new o(u,l)),this.length+=u.length,u},this);else if(typeof a=="number"){if(!(0<=a&&a<=255))return l.error("non-byte EncoderBuffer value");this.value=a,this.length=1}else if(typeof a=="string")this.value=a,this.length=n.byteLength(a);else if(n.isBuffer(a))this.value=a,this.length=a.length;else return l.error("Unsupported type: "+typeof a)}s(o,"O"),e.EncoderBuffer=o,o.prototype.join=function(a,l){return a||(a=new n(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(a,l),l+=u.length}):(typeof this.value=="number"?a[l]=this.value:typeof this.value=="string"?a.write(this.value,l):n.isBuffer(this.value)&&this.value.copy(a,l),l+=this.length)),a}}),Q3=_t((e,t)=>{var r=ll().Reporter,n=ll().EncoderBuffer,i=ll().DecoderBuffer,o=Ps(),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(f,v){var m={};this._baseState=m,m.enc=f,m.parent=v||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,!m.parent&&(m.children=[],this._wrap())}s(c,"w"),t.exports=c;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var f=this._baseState,v={};h.forEach(function(w){v[w]=f[w]});var m=new this.constructor(v.parent);return m._baseState=v,m},c.prototype._wrap=function(){var f=this._baseState;l.forEach(function(v){this[v]=function(){var m=new this.constructor(this);return f.children.push(m),m[v].apply(m,arguments)}},this)},c.prototype._init=function(f){var v=this._baseState;o(v.parent===null),f.call(this),v.children=v.children.filter(function(m){return m._baseState.parent===this},this),o.equal(v.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){var v=this._baseState,m=f.filter(function(w){return w instanceof this.constructor},this);f=f.filter(function(w){return!(w instanceof this.constructor)},this),m.length!==0&&(o(v.children===null),v.children=m,m.forEach(function(w){w._baseState.parent=this},this)),f.length!==0&&(o(v.args===null),v.args=f,v.reverseArgs=f.map(function(w){if(typeof w!="object"||w.constructor!==Object)return w;var _={};return Object.keys(w).forEach(function(A){A==(A|0)&&(A|=0);var M=w[A];_[M]=A}),_}))},u.forEach(function(f){c.prototype[f]=function(){var v=this._baseState;throw Error(f+" not implemented for encoding: "+v.enc)}}),a.forEach(function(f){c.prototype[f]=function(){var v=this._baseState,m=Array.prototype.slice.call(arguments);return o(v.tag===null),v.tag=f,this._useArgs(m),this}}),c.prototype.use=function(f){o(f);var v=this._baseState;return o(v.use===null),v.use=f,this},c.prototype.optional=function(){var f=this._baseState;return f.optional=!0,this},c.prototype.def=function(f){var v=this._baseState;return o(v.default===null),v.default=f,v.optional=!0,this},c.prototype.explicit=function(f){var v=this._baseState;return o(v.explicit===null&&v.implicit===null),v.explicit=f,this},c.prototype.implicit=function(f){var v=this._baseState;return o(v.explicit===null&&v.implicit===null),v.implicit=f,this},c.prototype.obj=function(){var f=this._baseState,v=Array.prototype.slice.call(arguments);return f.obj=!0,v.length!==0&&this._useArgs(v),this},c.prototype.key=function(f){var v=this._baseState;return o(v.key===null),v.key=f,this},c.prototype.any=function(){var f=this._baseState;return f.any=!0,this},c.prototype.choice=function(f){var v=this._baseState;return o(v.choice===null),v.choice=f,this._useArgs(Object.keys(f).map(function(m){return f[m]})),this},c.prototype.contains=function(f){var v=this._baseState;return o(v.use===null),v.contains=f,this},c.prototype._decode=function(f,v){var m=this._baseState;if(m.parent===null)return f.wrapResult(m.children[0]._decode(f,v));var w=m.default,_=!0,A=null;if(m.key!==null&&(A=f.enterKey(m.key)),m.optional){var M=null;if(m.explicit!==null?M=m.explicit:m.implicit!==null?M=m.implicit:m.tag!==null&&(M=m.tag),M===null&&!m.any){var I=f.save();try{m.choice===null?this._decodeGeneric(m.tag,f,v):this._decodeChoice(f,v),_=!0}catch{_=!1}f.restore(I)}else if(_=this._peekTag(f,M,m.any),f.isError(_))return _}var R;if(m.obj&&_&&(R=f.enterObject()),_){if(m.explicit!==null){var L=this._decodeTag(f,m.explicit);if(f.isError(L))return L;f=L}var P=f.offset;if(m.use===null&&m.choice===null){if(m.any)var I=f.save();var F=this._decodeTag(f,m.implicit!==null?m.implicit:m.tag,m.any);if(f.isError(F))return F;m.any?w=f.raw(I):f=F}if(v&&v.track&&m.tag!==null&&v.track(f.path(),P,f.length,"tagged"),v&&v.track&&m.tag!==null&&v.track(f.path(),f.offset,f.length,"content"),m.any?w=w:m.choice===null?w=this._decodeGeneric(m.tag,f,v):w=this._decodeChoice(f,v),f.isError(w))return w;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(G){G._decode(f,v)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){var Z=new i(w);w=this._getUse(m.contains,f._reporterState.obj)._decode(Z,v)}}return m.obj&&_&&(w=f.leaveObject(R)),m.key!==null&&(w!==null||_===!0)?f.leaveKey(A,m.key,w):A!==null&&f.exitKey(A),w},c.prototype._decodeGeneric=function(f,v,m){var w=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(v,f,w.args[0],m):/str$/.test(f)?this._decodeStr(v,f,m):f==="objid"&&w.args?this._decodeObjid(v,w.args[0],w.args[1],m):f==="objid"?this._decodeObjid(v,null,null,m):f==="gentime"||f==="utctime"?this._decodeTime(v,f,m):f==="null_"?this._decodeNull(v,m):f==="bool"?this._decodeBool(v,m):f==="objDesc"?this._decodeStr(v,f,m):f==="int"||f==="enum"?this._decodeInt(v,w.args&&w.args[0],m):w.use!==null?this._getUse(w.use,v._reporterState.obj)._decode(v,m):v.error("unknown tag: "+f)},c.prototype._getUse=function(f,v){var m=this._baseState;return m.useDecoder=this._use(f,v),o(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},c.prototype._decodeChoice=function(f,v){var m=this._baseState,w=null,_=!1;return Object.keys(m.choice).some(function(A){var M=f.save(),I=m.choice[A];try{var R=I._decode(f,v);if(f.isError(R))return!1;w={type:A,value:R},_=!0}catch{return f.restore(M),!1}return!0},this),_?w:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new n(f,this.reporter)},c.prototype._encode=function(f,v,m){var w=this._baseState;if(!(w.default!==null&&w.default===f)){var _=this._encodeValue(f,v,m);if(_!==void 0&&!this._skipDefault(_,v,m))return _}},c.prototype._encodeValue=function(f,v,m){var w=this._baseState;if(w.parent===null)return w.children[0]._encode(f,v||new r);var I=null;if(this.reporter=v,w.optional&&f===void 0)if(w.default!==null)f=w.default;else return;var _=null,A=!1;if(w.any)I=this._createEncoderBuffer(f);else if(w.choice)I=this._encodeChoice(f,v);else if(w.contains)_=this._getUse(w.contains,m)._encode(f,v),A=!0;else if(w.children)_=w.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,v,f);if(P._baseState.key===null)return v.error("Child should have a key");var F=v.enterKey(P._baseState.key);if(typeof f!="object")return v.error("Child expected, but input is not object");var Z=P._encode(f[P._baseState.key],v,f);return v.leaveKey(F),Z},this).filter(function(P){return P}),_=this._createEncoderBuffer(_);else if(w.tag==="seqof"||w.tag==="setof"){if(!(w.args&&w.args.length===1))return v.error("Too many args for : "+w.tag);if(!Array.isArray(f))return v.error("seqof/setof, but data is not Array");var M=this.clone();M._baseState.implicit=null,_=this._createEncoderBuffer(f.map(function(P){var F=this._baseState;return this._getUse(F.args[0],f)._encode(P,v)},M))}else w.use!==null?I=this._getUse(w.use,m)._encode(f,v):(_=this._encodePrimitive(w.tag,f),A=!0);var I;if(!w.any&&w.choice===null){var R=w.implicit!==null?w.implicit:w.tag,L=w.implicit===null?"universal":"context";R===null?w.use===null&&v.error("Tag could be omitted only for .use()"):w.use===null&&(I=this._encodeComposite(R,A,L,_))}return w.explicit!==null&&(I=this._encodeComposite(w.explicit,!1,"context",I)),I},c.prototype._encodeChoice=function(f,v){var m=this._baseState,w=m.choice[f.type];return w||o(!1,f.type+" not found in "+JSON.stringify(Object.keys(m.choice))),w._encode(f.value,v)},c.prototype._encodePrimitive=function(f,v){var m=this._baseState;if(/str$/.test(f))return this._encodeStr(v,f);if(f==="objid"&&m.args)return this._encodeObjid(v,m.reverseArgs[0],m.args[1]);if(f==="objid")return this._encodeObjid(v,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(v,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(v,m.args&&m.reverseArgs[0]);if(f==="bool")return this._encodeBool(v);if(f==="objDesc")return this._encodeStr(v,f);throw Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(f)}}),ll=_t(e=>{var t=e;t.Reporter=W3().Reporter,t.DecoderBuffer=bm().DecoderBuffer,t.EncoderBuffer=bm().EncoderBuffer,t.Node=Q3()}),X3=_t(e=>{var t=ym();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}),ym=_t(e=>{var t=e;t._reverse=function(r){var n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);var o=r[i];n[o]=i}),n},t.der=X3()}),wm=_t((e,t)=>{var r=Wn(),n=ul(),i=n.base,o=n.bignum,a=n.constants.der;function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}s(l,"z"),t.exports=l,l.prototype.decode=function(f,v){return f instanceof i.DecoderBuffer||(f=new i.DecoderBuffer(f,v)),this.tree._decode(f,v)};function u(f){i.Node.call(this,"der",f)}s(u,"J"),r(u,i.Node),u.prototype._peekTag=function(f,v,m){if(f.isEmpty())return!1;var w=f.save(),_=c(f,'Failed to peek tag: "'+v+'"');return f.isError(_)?_:(f.restore(w),_.tag===v||_.tagStr===v||_.tagStr+"of"===v||m)},u.prototype._decodeTag=function(f,v,m){var w=c(f,'Failed to decode tag of "'+v+'"');if(f.isError(w))return w;var _=h(f,w.primitive,'Failed to get length of "'+v+'"');if(f.isError(_))return _;if(!m&&w.tag!==v&&w.tagStr!==v&&w.tagStr+"of"!==v)return f.error('Failed to match tag: "'+v+'"');if(w.primitive||_!==null)return f.skip(_,'Failed to match body of: "'+v+'"');var A=f.save(),M=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(M)?M:(_=f.offset-A.offset,f.restore(A),f.skip(_,'Failed to match body of: "'+v+'"'))},u.prototype._skipUntilEnd=function(f,v){for(;;){var m=c(f,v);if(f.isError(m))return m;var w=h(f,m.primitive,v);if(f.isError(w))return w;var _;if(m.primitive||w!==null?_=f.skip(w):_=this._skipUntilEnd(f,v),f.isError(_))return _;if(m.tagStr==="end")break}},u.prototype._decodeList=function(f,v,m,w){for(var _=[];!f.isEmpty();){var A=this._peekTag(f,"end");if(f.isError(A))return A;var M=m.decode(f,"der",w);if(f.isError(M)&&A)break;_.push(M)}return _},u.prototype._decodeStr=function(f,v){if(v==="bitstr"){var m=f.readUInt8();return f.isError(m)?m:{unused:m,data:f.raw()}}else if(v==="bmpstr"){var w=f.raw();if(w.length%2===1)return f.error("Decoding of string type: bmpstr length mismatch");for(var _="",A=0;A<w.length/2;A++)_+=String.fromCharCode(w.readUInt16BE(A*2));return _}else if(v==="numstr"){var M=f.raw().toString("ascii");return this._isNumstr(M)?M:f.error("Decoding of string type: numstr unsupported characters")}else{if(v==="octstr")return f.raw();if(v==="objDesc")return f.raw();if(v==="printstr"){var I=f.raw().toString("ascii");return this._isPrintstr(I)?I:f.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(v)?f.raw().toString():f.error("Decoding of string type: "+v+" unsupported")}},u.prototype._decodeObjid=function(f,v,m){for(var w,_=[],A=0;!f.isEmpty();){var M=f.readUInt8();A<<=7,A|=M&127,(M&128)===0&&(_.push(A),A=0)}M&128&&_.push(A);var I=_[0]/40|0,R=_[0]%40;if(m?w=_:w=[I,R].concat(_.slice(1)),v){var L=v[w.join(" ")];L===void 0&&(L=v[w.join(".")]),L!==void 0&&(w=L)}return w},u.prototype._decodeTime=function(f,v){var m=f.raw().toString();if(v==="gentime")var w=m.slice(0,4)|0,_=m.slice(4,6)|0,A=m.slice(6,8)|0,M=m.slice(8,10)|0,I=m.slice(10,12)|0,R=m.slice(12,14)|0;else if(v==="utctime"){var w=m.slice(0,2)|0,_=m.slice(2,4)|0,A=m.slice(4,6)|0,M=m.slice(6,8)|0,I=m.slice(8,10)|0,R=m.slice(10,12)|0;w<70?w=2e3+w:w=1900+w}else return f.error("Decoding "+v+" time is not supported yet");return Date.UTC(w,_-1,A,M,I,R,0)},u.prototype._decodeNull=function(f){return null},u.prototype._decodeBool=function(f){var v=f.readUInt8();return f.isError(v)?v:v!==0},u.prototype._decodeInt=function(f,v){var m=f.raw(),w=new o(m);return v&&(w=v[w.toString(10)]||w),w},u.prototype._use=function(f,v){return typeof f=="function"&&(f=f(v)),f._getDecoder("der").tree};function c(f,v){var m=f.readUInt8(v);if(f.isError(m))return m;var w=a.tagClass[m>>6],_=(m&32)===0;if((m&31)===31){var A=m;for(m=0;(A&128)===128;){if(A=f.readUInt8(v),f.isError(A))return A;m<<=7,m|=A&127}}else m&=31;var M=a.tag[m];return{cls:w,primitive:_,tag:m,tagStr:M}}s(c,"w");function h(f,v,m){var w=f.readUInt8(m);if(f.isError(w))return w;if(!v&&w===128)return null;if((w&128)===0)return w;var _=w&127;if(_>4)return f.error("length octect is too long");w=0;for(var A=0;A<_;A++){w<<=8;var M=f.readUInt8(m);if(f.isError(M))return M;w|=M}return w}s(h,"k")}),K3=_t((e,t)=>{var r=Wn(),n=(kn(),rr(wn)).Buffer,i=wm();function o(a){i.call(this,a),this.enc="pem"}s(o,"O"),r(o,i),t.exports=o,o.prototype.decode=function(a,l){for(var u=a.toString().split(/[\r\n]+/g),c=l.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,v=-1,m=0;m<u.length;m++){var w=u[m].match(h);if(w!==null&&w[2]===c)if(f===-1){if(w[1]!=="BEGIN")break;f=m}else{if(w[1]!=="END")break;v=m;break}}if(f===-1||v===-1)throw Error("PEM section not found for: "+c);var _=u.slice(f+1,v).join("");_.replace(/[^a-z0-9\+\/=]+/gi,"");var A=new n(_,"base64");return i.prototype.decode.call(this,A,l)}}),q3=_t(e=>{var t=e;t.der=wm(),t.pem=K3()}),xm=_t((e,t)=>{var r=Wn(),n=(kn(),rr(wn)).Buffer,i=ul(),o=i.base,a=i.constants.der;function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}s(l,"z"),t.exports=l,l.prototype.encode=function(f,v){return this.tree._encode(f,v).join()};function u(f){o.Node.call(this,"der",f)}s(u,"J"),r(u,o.Node),u.prototype._encodeComposite=function(f,v,m,w){var _=h(f,v,m,this.reporter);if(w.length<128){var I=new n(2);return I[0]=_,I[1]=w.length,this._createEncoderBuffer([I,w])}for(var A=1,M=w.length;M>=256;M>>=8)A++;var I=new n(2+A);I[0]=_,I[1]=128|A;for(var M=1+A,R=w.length;R>0;M--,R>>=8)I[M]=R&255;return this._createEncoderBuffer([I,w])},u.prototype._encodeStr=function(f,v){if(v==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(v==="bmpstr"){for(var m=new n(f.length*2),w=0;w<f.length;w++)m.writeUInt16BE(f.charCodeAt(w),w*2);return this._createEncoderBuffer(m)}else return v==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):v==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(v)?this._createEncoderBuffer(f):v==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+v+" unsupported")},u.prototype._encodeObjid=function(f,v,m){if(typeof f=="string"){if(!v)return this.reporter.error("string objid given, but no values map found");if(!v.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=v[f].split(/[\s\.]+/g);for(var w=0;w<f.length;w++)f[w]|=0}else if(Array.isArray(f)){f=f.slice();for(var w=0;w<f.length;w++)f[w]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!m){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}for(var _=0,w=0;w<f.length;w++){var A=f[w];for(_++;A>=128;A>>=7)_++}for(var M=new n(_),I=M.length-1,w=f.length-1;w>=0;w--){var A=f[w];for(M[I--]=A&127;(A>>=7)>0;)M[I--]=128|A&127}return this._createEncoderBuffer(M)};function c(f){return f<10?"0"+f:f}s(c,"w"),u.prototype._encodeTime=function(f,v){var m,w=new Date(f);return v==="gentime"?m=[c(w.getFullYear()),c(w.getUTCMonth()+1),c(w.getUTCDate()),c(w.getUTCHours()),c(w.getUTCMinutes()),c(w.getUTCSeconds()),"Z"].join(""):v==="utctime"?m=[c(w.getFullYear()%100),c(w.getUTCMonth()+1),c(w.getUTCDate()),c(w.getUTCHours()),c(w.getUTCMinutes()),c(w.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+v+" time is not supported yet"),this._encodeStr(m,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,v){if(typeof f=="string"){if(!v)return this.reporter.error("String int or enum given, but no values map");if(!v.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=v[f]}if(typeof f!="number"&&!n.isBuffer(f)){var m=f.toArray();!f.sign&&m[0]&128&&m.unshift(0),f=new n(m)}if(n.isBuffer(f)){var w=f.length;f.length===0&&w++;var A=new n(w);return f.copy(A),f.length===0&&(A[0]=0),this._createEncoderBuffer(A)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);for(var w=1,_=f;_>=256;_>>=8)w++;for(var A=Array(w),_=A.length-1;_>=0;_--)A[_]=f&255,f>>=8;return A[0]&128&&A.unshift(0),this._createEncoderBuffer(new n(A))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,v){return typeof f=="function"&&(f=f(v)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,v,m){var w=this._baseState,_;if(w.default===null)return!1;var A=f.join();if(w.defaultBuffer===void 0&&(w.defaultBuffer=this._encodeValue(w.default,v,m).join()),A.length!==w.defaultBuffer.length)return!1;for(_=0;_<A.length;_++)if(A[_]!==w.defaultBuffer[_])return!1;return!0};function h(f,v,m,w){var _;if(f==="seqof"?f="seq":f==="setof"&&(f="set"),a.tagByName.hasOwnProperty(f))_=a.tagByName[f];else if(typeof f=="number"&&(f|0)===f)_=f;else return w.error("Unknown tag: "+f);return _>=31?w.error("Multi-octet tag encoding unsupported"):(v||(_|=32),_|=a.tagClassByName[m||"universal"]<<6,_)}s(h,"k")}),Y3=_t((e,t)=>{var r=Wn(),n=xm();function i(o){n.call(this,o),this.enc="pem"}s(i,"_"),r(i,n),t.exports=i,i.prototype.encode=function(o,a){for(var l=n.prototype.encode.call(this,o),u=l.toString("base64"),c=["-----BEGIN "+a.label+"-----"],h=0;h<u.length;h+=64)c.push(u.slice(h,h+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)}}),ew=_t(e=>{var t=e;t.der=xm(),t.pem=Y3()}),ul=_t(e=>{var t=e;t.bignum=Z3(),t.define=J3().define,t.base=ll(),t.constants=ym(),t.decoders=q3(),t.encoders=ew()}),tw=_t((e,t)=>{var r=ul(),n=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(i)}),u=r.define("RDNSequence",function(){this.seqof(l)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),m=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=m}),rw=_t(e=>{var t=ul();e.certificate=tw();var r=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=r;var n=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=n;var i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});e.PublicKey=o;var a=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});e.PrivateKey=a;var l=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=l;var u=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=u,e.DSAparam=t.define("DSAparam",function(){this.int()});var c=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),h=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(c),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=h,e.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),nw=_t((e,t)=>{t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),iw=_t((e,t)=>{var r=Dn().Buffer,n=wS().Transform,i=Wn();function o(c){n.call(this),this._block=r.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}s(o,"O"),i(o,n),o.prototype._transform=function(c,h,f){var v=null;try{this.update(c,h)}catch(m){v=m}f(v)},o.prototype._flush=function(c){var h=null;try{this.push(this.digest())}catch(f){h=f}c(h)};var a=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(r.prototype instanceof Uint8Array||r.TYPED_ARRAY_SUPPORT);function u(c,h){if(c instanceof r)return c;if(typeof c=="string")return r.from(c,h);if(l&&ArrayBuffer.isView(c)){if(c.byteLength===0)return r.alloc(0);var f=r.from(c.buffer,c.byteOffset,c.byteLength);if(f.byteLength===c.byteLength)return f}if(a&&c instanceof Uint8Array||r.isBuffer(c)&&c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c))return r.from(c);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}s(u,"J"),o.prototype.update=function(c,h){if(this._finalized)throw Error("Digest already called");c=u(c,h);for(var f=this._block,v=0;this._blockOffset+c.length-v>=this._blockSize;){for(var m=this._blockOffset;m<this._blockSize;)f[m++]=c[v++];this._update(),this._blockOffset=0}for(;v<c.length;)f[this._blockOffset++]=c[v++];for(var w=0,_=c.length*8;_>0;++w)this._length[w]+=_,_=this._length[w]/4294967296|0,_>0&&(this._length[w]-=4294967296*_);return this},o.prototype._update=function(){throw Error("_update is not implemented")},o.prototype.digest=function(c){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var h=this._digest();c!==void 0&&(h=h.toString(c)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return h},o.prototype._digest=function(){throw Error("_digest is not implemented")},t.exports=o}),sw=_t((e,t)=>{var r=Wn(),n=iw(),i=Dn().Buffer,o=Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}s(a,"j"),r(a,n),a.prototype._update=function(){for(var v=o,m=0;m<16;++m)v[m]=this._block.readInt32LE(m*4);var w=this._a,_=this._b,A=this._c,M=this._d;w=u(w,_,A,M,v[0],3614090360,7),M=u(M,w,_,A,v[1],3905402710,12),A=u(A,M,w,_,v[2],606105819,17),_=u(_,A,M,w,v[3],3250441966,22),w=u(w,_,A,M,v[4],4118548399,7),M=u(M,w,_,A,v[5],1200080426,12),A=u(A,M,w,_,v[6],2821735955,17),_=u(_,A,M,w,v[7],4249261313,22),w=u(w,_,A,M,v[8],1770035416,7),M=u(M,w,_,A,v[9],2336552879,12),A=u(A,M,w,_,v[10],4294925233,17),_=u(_,A,M,w,v[11],2304563134,22),w=u(w,_,A,M,v[12],1804603682,7),M=u(M,w,_,A,v[13],4254626195,12),A=u(A,M,w,_,v[14],2792965006,17),_=u(_,A,M,w,v[15],1236535329,22),w=c(w,_,A,M,v[1],4129170786,5),M=c(M,w,_,A,v[6],3225465664,9),A=c(A,M,w,_,v[11],643717713,14),_=c(_,A,M,w,v[0],3921069994,20),w=c(w,_,A,M,v[5],3593408605,5),M=c(M,w,_,A,v[10],38016083,9),A=c(A,M,w,_,v[15],3634488961,14),_=c(_,A,M,w,v[4],3889429448,20),w=c(w,_,A,M,v[9],568446438,5),M=c(M,w,_,A,v[14],3275163606,9),A=c(A,M,w,_,v[3],4107603335,14),_=c(_,A,M,w,v[8],1163531501,20),w=c(w,_,A,M,v[13],2850285829,5),M=c(M,w,_,A,v[2],4243563512,9),A=c(A,M,w,_,v[7],1735328473,14),_=c(_,A,M,w,v[12],2368359562,20),w=h(w,_,A,M,v[5],4294588738,4),M=h(M,w,_,A,v[8],2272392833,11),A=h(A,M,w,_,v[11],1839030562,16),_=h(_,A,M,w,v[14],4259657740,23),w=h(w,_,A,M,v[1],2763975236,4),M=h(M,w,_,A,v[4],1272893353,11),A=h(A,M,w,_,v[7],4139469664,16),_=h(_,A,M,w,v[10],3200236656,23),w=h(w,_,A,M,v[13],681279174,4),M=h(M,w,_,A,v[0],3936430074,11),A=h(A,M,w,_,v[3],3572445317,16),_=h(_,A,M,w,v[6],76029189,23),w=h(w,_,A,M,v[9],3654602809,4),M=h(M,w,_,A,v[12],3873151461,11),A=h(A,M,w,_,v[15],530742520,16),_=h(_,A,M,w,v[2],3299628645,23),w=f(w,_,A,M,v[0],4096336452,6),M=f(M,w,_,A,v[7],1126891415,10),A=f(A,M,w,_,v[14],2878612391,15),_=f(_,A,M,w,v[5],4237533241,21),w=f(w,_,A,M,v[12],1700485571,6),M=f(M,w,_,A,v[3],2399980690,10),A=f(A,M,w,_,v[10],4293915773,15),_=f(_,A,M,w,v[1],2240044497,21),w=f(w,_,A,M,v[8],1873313359,6),M=f(M,w,_,A,v[15],4264355552,10),A=f(A,M,w,_,v[6],2734768916,15),_=f(_,A,M,w,v[13],1309151649,21),w=f(w,_,A,M,v[4],4149444226,6),M=f(M,w,_,A,v[11],3174756917,10),A=f(A,M,w,_,v[2],718787259,15),_=f(_,A,M,w,v[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+_|0,this._c=this._c+A|0,this._d=this._d+M|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=i.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v};function l(v,m){return v<<m|v>>>32-m}s(l,"z");function u(v,m,w,_,A,M,I){return l(v+(m&w|~m&_)+A+M|0,I)+m|0}s(u,"J");function c(v,m,w,_,A,M,I){return l(v+(m&_|w&~_)+A+M|0,I)+m|0}s(c,"w");function h(v,m,w,_,A,M,I){return l(v+(m^w^_)+A+M|0,I)+m|0}s(h,"k");function f(v,m,w,_,A,M,I){return l(v+(w^(m|~_))+A+M|0,I)+m|0}s(f,"X"),t.exports=a}),aw=_t((e,t)=>{var r=Dn().Buffer,n=sw();function i(o,a,l,u){if(r.isBuffer(o)||(o=r.from(o,"binary")),a&&(r.isBuffer(a)||(a=r.from(a,"binary")),a.length!==8))throw RangeError("salt should be Buffer with 8 byte length");for(var c=l/8,h=r.alloc(c),f=r.alloc(u||0),v=r.alloc(0);c>0||u>0;){var m=new n;m.update(v),m.update(o),a&&m.update(a),v=m.digest();var w=0;if(c>0){var _=h.length-c;w=Math.min(c,v.length),v.copy(h,_,0,w),c-=w}if(w<v.length&&u>0){var A=f.length-u,M=Math.min(u,v.length-w);v.copy(f,A,w,w+M),u-=M}}return v.fill(0),{key:h,iv:f}}s(i,"_"),t.exports=i}),_m=_t(e=>{var t=(Xn(),rr(zn));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),ow=_t((e,t)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=aw(),a=_m(),l=Dn().Buffer;t.exports=function(u,c){var h=u.toString(),f=h.match(r),v;if(f){var w="aes"+f[1],_=l.from(f[2],"hex"),A=l.from(f[3].replace(/[\r\n]/g,""),"base64"),M=o(c,_.slice(0,8),parseInt(f[1],10)).key,I=[],R=a.createDecipheriv(w,M,_);I.push(R.update(A)),I.push(R.final()),v=l.concat(I)}else{var m=h.match(i);v=l.from(m[2].replace(/[\r\n]/g,""),"base64")}var L=h.match(n)[1];return{tag:L,data:v}}}),Em=_t((e,t)=>{var r=rw(),n=nw(),i=ow(),o=_m(),a=dm(),l=Dn().Buffer;function u(h,f){var v=h.algorithm.decrypt.kde.kdeparams.salt,m=parseInt(h.algorithm.decrypt.kde.kdeparams.iters.toString(),10),w=n[h.algorithm.decrypt.cipher.algo.join(".")],_=h.algorithm.decrypt.cipher.iv,A=h.subjectPrivateKey,M=parseInt(w.split("-")[1],10)/8,I=a.pbkdf2Sync(f,v,m,M,"sha1"),R=o.createDecipheriv(w,I,_),L=[];return L.push(R.update(A)),L.push(R.final()),l.concat(L)}s(u,"J");function c(h){var f;typeof h=="object"&&!l.isBuffer(h)&&(f=h.passphrase,h=h.key),typeof h=="string"&&(h=l.from(h));var v=i(h,f),m=v.tag,w=v.data,_,A;switch(m){case"CERTIFICATE":A=r.certificate.decode(w,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(A||(A=r.PublicKey.decode(w,"der")),_=A.algorithm.algorithm.join("."),_){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(A.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return A.subjectPrivateKey=A.subjectPublicKey,{type:"ec",data:A};case"1.2.840.10040.4.1":return A.algorithm.params.pub_key=r.DSAparam.decode(A.subjectPublicKey.data,"der"),{type:"dsa",data:A.algorithm.params};default:throw Error("unknown key id "+_)}case"ENCRYPTED PRIVATE KEY":w=r.EncryptedPrivateKey.decode(w,"der"),w=u(w,f);case"PRIVATE KEY":switch(A=r.PrivateKey.decode(w,"der"),_=A.algorithm.algorithm.join("."),_){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(A.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:A.algorithm.curve,privateKey:r.ECPrivateKey.decode(A.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return A.algorithm.params.priv_key=r.DSAparam.decode(A.subjectPrivateKey,"der"),{type:"dsa",params:A.algorithm.params};default:throw Error("unknown key id "+_)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(w,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(w,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(w,"der")};case"EC PRIVATE KEY":return w=r.ECPrivateKey.decode(w,"der"),{curve:w.parameters.value,privateKey:w.privateKey};default:throw Error("unknown key type "+m)}}s(c,"w"),c.signature=r.signature,t.exports=c}),Sm=_t((e,t)=>{var r=mu(),n=Dn().Buffer;t.exports=function(o,a){for(var l=n.alloc(0),u=0,c;l.length<a;)c=i(u++),l=n.concat([l,r("sha1").update(o).update(c).digest()]);return l.slice(0,a)};function i(o){var a=n.allocUnsafe(4);return a.writeUInt32BE(o,0),a}s(i,"_")}),km=_t((e,t)=>{t.exports=function(r,n){for(var i=r.length,o=-1;++o<i;)r[o]^=n[o];return r}}),Zd=_t((e,t)=>{(function(r,n){function i(d,y){if(!d)throw Error(y||"Assertion failed")}s(i,"_");function o(d,y){d.super_=y;var g=s(function(){},"H");g.prototype=y.prototype,d.prototype=new g,d.prototype.constructor=d}s(o,"O");function a(d,y,g){if(a.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((y==="le"||y==="be")&&(g=y,y=10),this._init(d||0,y||10,g||"be"))}s(a,"j"),typeof r=="object"?r.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(kn(),rr(wn)).Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,y){return d.cmp(y)>0?d:y},a.min=function(d,y){return d.cmp(y)<0?d:y},a.prototype._init=function(d,y,g){if(typeof d=="number")return this._initNumber(d,y,g);if(typeof d=="object")return this._initArray(d,y,g);y==="hex"&&(y=16),i(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var x=0;d[0]==="-"&&(x++,this.negative=1),x<d.length&&(y===16?this._parseHex(d,x,g):(this._parseBase(d,y,x),g==="le"&&this._initArray(this.toArray(),y,g)))},a.prototype._initNumber=function(d,y,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(i(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),y,g)},a.prototype._initArray=function(d,y,g){if(i(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(g==="be")for(x=d.length-1,E=0;x>=0;x-=3)T=d[x]|d[x-1]<<8|d[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(g==="le")for(x=0,E=0;x<d.length;x+=3)T=d[x]|d[x+1]<<8|d[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(d,y){var g=d.charCodeAt(y);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}s(u,"J");function c(d,y,g){var x=u(d,g);return g-1>=y&&(x|=u(d,g-1)<<4),x}s(c,"w"),a.prototype._parseHex=function(d,y,g){this.length=Math.ceil((d.length-y)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(g==="be")for(x=d.length-1;x>=y;x-=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=d.length-y;for(x=k%2===0?y+1:y;x<d.length;x+=2)N=c(d,y,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function h(d,y,g,x){for(var E=0,T=Math.min(d.length,g),N=y;N<T;N++){var k=d.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}s(h,"k"),a.prototype._parseBase=function(d,y,g){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=y)x++;x--,E=E/y|0;for(var T=d.length-g,N=T%x,k=Math.min(T,T-N)+g,p=0,S=g;S<k;S+=x)p=h(d,S,S+x,y),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=h(d,S,d.length,y),S=0;S<N;S++)C*=y;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},a.prototype.copy=function(d){d.words=Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,y){d=d||10,y=y|0||1;var g;if(d===16||d==="hex"){g="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?g=f[6-k.length]+k+g:g=k+g}for(E!==0&&(g=E.toString(16)+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var p=v[d],S=m[d];g="";var C=this.clone();for(C.negative=0;!C.isZero();){var O=C.modn(S).toString(d);C=C.idivn(S),C.isZero()?g=O+g:g=f[p-O.length]+O+g}for(this.isZero()&&(g="0"+g);g.length%y!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,y){return i(typeof l<"u"),this.toArrayLike(l,d,y)},a.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)},a.prototype.toArrayLike=function(d,y,g){var x=this.byteLength(),E=g||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=y==="le",N=new d(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var y=d,g=0;return y>=4096&&(g+=13,y>>>=13),y>=64&&(g+=7,y>>>=7),y>=8&&(g+=4,y>>>=4),y>=2&&(g+=2,y>>>=2),g+y},a.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,g=0;return(y&8191)===0&&(g+=13,y>>>=13),(y&127)===0&&(g+=7,y>>>=7),(y&15)===0&&(g+=4,y>>>=4),(y&3)===0&&(g+=2,y>>>=2),(y&1)===0&&g++,g},a.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function w(d){for(var y=Array(d.bitLength()),g=0;g<y.length;g++){var x=g/26|0,E=g%26;y[g]=(d.words[x]&1<<E)>>>E}return y}s(w,"C"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var g=this._zeroBits(this.words[y]);if(d+=g,g!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this.strip()},a.prototype.ior=function(d){return i((this.negative|d.negative)===0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var g=0;g<y.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=y.length,this.strip()},a.prototype.iand=function(d){return i((this.negative|d.negative)===0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var y,g;this.length>d.length?(y=this,g=d):(y=d,g=this);for(var x=0;x<g.length;x++)this.words[x]=y.words[x]^g.words[x];if(this!==y)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=y.length,this.strip()},a.prototype.ixor=function(d){return i((this.negative|d.negative)===0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){i(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,g=d%26;this._expand(y),g>0&&y--;for(var x=0;x<y;x++)this.words[x]=~this.words[x]&67108863;return g>0&&(this.words[x]=~this.words[x]&67108863>>26-g),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,y){i(typeof d=="number"&&d>=0);var g=d/26|0,x=d%26;return this._expand(g+1),y?this.words[g]=this.words[g]|1<<x:this.words[g]=this.words[g]&~(1<<x),this.strip()},a.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var g,x;this.length>d.length?(g=this,x=d):(g=d,x=this);for(var E=0,T=0;T<x.length;T++)y=(g.words[T]|0)+(x.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;for(;E!==0&&T<g.length;T++)y=(g.words[T]|0)+E,this.words[T]=y&67108863,E=y>>>26;if(this.length=g.length,E!==0)this.words[this.length]=E,this.length++;else if(g!==this)for(;T<g.length;T++)this.words[T]=g.words[T];return this},a.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;g>0?(x=this,E=d):(x=d,E=this);for(var T=0,N=0;N<E.length;N++)y=(x.words[N]|0)-(E.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;for(;T!==0&&N<x.length;N++)y=(x.words[N]|0)+T,T=y>>26,this.words[N]=y&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function _(d,y,g){g.negative=y.negative^d.negative;var x=d.length+y.length|0;g.length=x,x=x-1|0;var E=d.words[0]|0,T=y.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;g.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,O=p&67108863,B=Math.min(S,y.length-1),z=Math.max(0,S-d.length+1);z<=B;z++){var $=S-z|0;E=d.words[$]|0,T=y.words[z]|0,N=E*T+O,C+=N/67108864|0,O=N&67108863}g.words[S]=O|0,p=C|0}return p!==0?g.words[S]=p|0:g.length--,g.strip()}s(_,"E");var A=s(function(d,y,g){var x=d.words,E=y.words,T=g.words,N=0,k,p,S,C=x[0]|0,O=C&8191,B=C>>>13,z=x[1]|0,$=z&8191,W=z>>>13,oe=x[2]|0,ne=oe&8191,ie=oe>>>13,Qe=x[3]|0,Ne=Qe&8191,ve=Qe>>>13,Me=x[4]|0,J=Me&8191,ae=Me>>>13,K=x[5]|0,Y=K&8191,de=K>>>13,Be=x[6]|0,Pe=Be&8191,we=Be>>>13,q=x[7]|0,te=q&8191,re=q>>>13,Ee=x[8]|0,ge=Ee&8191,he=Ee>>>13,it=x[9]|0,Re=it&8191,Xe=it>>>13,Nt=E[0]|0,Ae=Nt&8191,qe=Nt>>>13,ye=E[1]|0,Ce=ye&8191,He=ye>>>13,We=E[2]|0,Ue=We&8191,tt=We>>>13,Ot=E[3]|0,Ke=Ot&8191,Ie=Ot>>>13,et=E[4]|0,De=et&8191,rt=et>>>13,Tt=E[5]|0,ue=Tt&8191,be=Tt>>>13,Ze=E[6]|0,je=Ze&8191,ze=Ze>>>13,ct=E[7]|0,ce=ct&8191,Le=ct>>>13,lt=E[8]|0,Te=lt&8191,ut=lt>>>13,zt=E[9]|0,at=zt&8191,mt=zt>>>13;g.negative=d.negative^y.negative,g.length=19,k=Math.imul(O,Ae),p=Math.imul(O,qe),p=p+Math.imul(B,Ae)|0,S=Math.imul(B,qe);var Ge=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,k=Math.imul($,Ae),p=Math.imul($,qe),p=p+Math.imul(W,Ae)|0,S=Math.imul(W,qe),k=k+Math.imul(O,Ce)|0,p=p+Math.imul(O,He)|0,p=p+Math.imul(B,Ce)|0,S=S+Math.imul(B,He)|0;var st=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(st>>>26)|0,st&=67108863,k=Math.imul(ne,Ae),p=Math.imul(ne,qe),p=p+Math.imul(ie,Ae)|0,S=Math.imul(ie,qe),k=k+Math.imul($,Ce)|0,p=p+Math.imul($,He)|0,p=p+Math.imul(W,Ce)|0,S=S+Math.imul(W,He)|0,k=k+Math.imul(O,Ue)|0,p=p+Math.imul(O,tt)|0,p=p+Math.imul(B,Ue)|0,S=S+Math.imul(B,tt)|0;var Lt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,k=Math.imul(Ne,Ae),p=Math.imul(Ne,qe),p=p+Math.imul(ve,Ae)|0,S=Math.imul(ve,qe),k=k+Math.imul(ne,Ce)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(ie,Ce)|0,S=S+Math.imul(ie,He)|0,k=k+Math.imul($,Ue)|0,p=p+Math.imul($,tt)|0,p=p+Math.imul(W,Ue)|0,S=S+Math.imul(W,tt)|0,k=k+Math.imul(O,Ke)|0,p=p+Math.imul(O,Ie)|0,p=p+Math.imul(B,Ke)|0,S=S+Math.imul(B,Ie)|0;var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(J,Ae),p=Math.imul(J,qe),p=p+Math.imul(ae,Ae)|0,S=Math.imul(ae,qe),k=k+Math.imul(Ne,Ce)|0,p=p+Math.imul(Ne,He)|0,p=p+Math.imul(ve,Ce)|0,S=S+Math.imul(ve,He)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,tt)|0,p=p+Math.imul(ie,Ue)|0,S=S+Math.imul(ie,tt)|0,k=k+Math.imul($,Ke)|0,p=p+Math.imul($,Ie)|0,p=p+Math.imul(W,Ke)|0,S=S+Math.imul(W,Ie)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,De)|0,S=S+Math.imul(B,rt)|0;var $t=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(Y,Ae),p=Math.imul(Y,qe),p=p+Math.imul(de,Ae)|0,S=Math.imul(de,qe),k=k+Math.imul(J,Ce)|0,p=p+Math.imul(J,He)|0,p=p+Math.imul(ae,Ce)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(Ne,Ue)|0,p=p+Math.imul(Ne,tt)|0,p=p+Math.imul(ve,Ue)|0,S=S+Math.imul(ve,tt)|0,k=k+Math.imul(ne,Ke)|0,p=p+Math.imul(ne,Ie)|0,p=p+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,Ie)|0,k=k+Math.imul($,De)|0,p=p+Math.imul($,rt)|0,p=p+Math.imul(W,De)|0,S=S+Math.imul(W,rt)|0,k=k+Math.imul(O,ue)|0,p=p+Math.imul(O,be)|0,p=p+Math.imul(B,ue)|0,S=S+Math.imul(B,be)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ae),p=Math.imul(Pe,qe),p=p+Math.imul(we,Ae)|0,S=Math.imul(we,qe),k=k+Math.imul(Y,Ce)|0,p=p+Math.imul(Y,He)|0,p=p+Math.imul(de,Ce)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(J,Ue)|0,p=p+Math.imul(J,tt)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,tt)|0,k=k+Math.imul(Ne,Ke)|0,p=p+Math.imul(Ne,Ie)|0,p=p+Math.imul(ve,Ke)|0,S=S+Math.imul(ve,Ie)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(ie,De)|0,S=S+Math.imul(ie,rt)|0,k=k+Math.imul($,ue)|0,p=p+Math.imul($,be)|0,p=p+Math.imul(W,ue)|0,S=S+Math.imul(W,be)|0,k=k+Math.imul(O,je)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,je)|0,S=S+Math.imul(B,ze)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(te,Ae),p=Math.imul(te,qe),p=p+Math.imul(re,Ae)|0,S=Math.imul(re,qe),k=k+Math.imul(Pe,Ce)|0,p=p+Math.imul(Pe,He)|0,p=p+Math.imul(we,Ce)|0,S=S+Math.imul(we,He)|0,k=k+Math.imul(Y,Ue)|0,p=p+Math.imul(Y,tt)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,tt)|0,k=k+Math.imul(J,Ke)|0,p=p+Math.imul(J,Ie)|0,p=p+Math.imul(ae,Ke)|0,S=S+Math.imul(ae,Ie)|0,k=k+Math.imul(Ne,De)|0,p=p+Math.imul(Ne,rt)|0,p=p+Math.imul(ve,De)|0,S=S+Math.imul(ve,rt)|0,k=k+Math.imul(ne,ue)|0,p=p+Math.imul(ne,be)|0,p=p+Math.imul(ie,ue)|0,S=S+Math.imul(ie,be)|0,k=k+Math.imul($,je)|0,p=p+Math.imul($,ze)|0,p=p+Math.imul(W,je)|0,S=S+Math.imul(W,ze)|0,k=k+Math.imul(O,ce)|0,p=p+Math.imul(O,Le)|0,p=p+Math.imul(B,ce)|0,S=S+Math.imul(B,Le)|0;var mr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(mr>>>26)|0,mr&=67108863,k=Math.imul(ge,Ae),p=Math.imul(ge,qe),p=p+Math.imul(he,Ae)|0,S=Math.imul(he,qe),k=k+Math.imul(te,Ce)|0,p=p+Math.imul(te,He)|0,p=p+Math.imul(re,Ce)|0,S=S+Math.imul(re,He)|0,k=k+Math.imul(Pe,Ue)|0,p=p+Math.imul(Pe,tt)|0,p=p+Math.imul(we,Ue)|0,S=S+Math.imul(we,tt)|0,k=k+Math.imul(Y,Ke)|0,p=p+Math.imul(Y,Ie)|0,p=p+Math.imul(de,Ke)|0,S=S+Math.imul(de,Ie)|0,k=k+Math.imul(J,De)|0,p=p+Math.imul(J,rt)|0,p=p+Math.imul(ae,De)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(Ne,ue)|0,p=p+Math.imul(Ne,be)|0,p=p+Math.imul(ve,ue)|0,S=S+Math.imul(ve,be)|0,k=k+Math.imul(ne,je)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(ie,je)|0,S=S+Math.imul(ie,ze)|0,k=k+Math.imul($,ce)|0,p=p+Math.imul($,Le)|0,p=p+Math.imul(W,ce)|0,S=S+Math.imul(W,Le)|0,k=k+Math.imul(O,Te)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Te)|0,S=S+Math.imul(B,ut)|0;var ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ur>>>26)|0,ur&=67108863,k=Math.imul(Re,Ae),p=Math.imul(Re,qe),p=p+Math.imul(Xe,Ae)|0,S=Math.imul(Xe,qe),k=k+Math.imul(ge,Ce)|0,p=p+Math.imul(ge,He)|0,p=p+Math.imul(he,Ce)|0,S=S+Math.imul(he,He)|0,k=k+Math.imul(te,Ue)|0,p=p+Math.imul(te,tt)|0,p=p+Math.imul(re,Ue)|0,S=S+Math.imul(re,tt)|0,k=k+Math.imul(Pe,Ke)|0,p=p+Math.imul(Pe,Ie)|0,p=p+Math.imul(we,Ke)|0,S=S+Math.imul(we,Ie)|0,k=k+Math.imul(Y,De)|0,p=p+Math.imul(Y,rt)|0,p=p+Math.imul(de,De)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(J,ue)|0,p=p+Math.imul(J,be)|0,p=p+Math.imul(ae,ue)|0,S=S+Math.imul(ae,be)|0,k=k+Math.imul(Ne,je)|0,p=p+Math.imul(Ne,ze)|0,p=p+Math.imul(ve,je)|0,S=S+Math.imul(ve,ze)|0,k=k+Math.imul(ne,ce)|0,p=p+Math.imul(ne,Le)|0,p=p+Math.imul(ie,ce)|0,S=S+Math.imul(ie,Le)|0,k=k+Math.imul($,Te)|0,p=p+Math.imul($,ut)|0,p=p+Math.imul(W,Te)|0,S=S+Math.imul(W,ut)|0,k=k+Math.imul(O,at)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,at)|0,S=S+Math.imul(B,mt)|0;var Lr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,He),p=p+Math.imul(Xe,Ce)|0,S=Math.imul(Xe,He),k=k+Math.imul(ge,Ue)|0,p=p+Math.imul(ge,tt)|0,p=p+Math.imul(he,Ue)|0,S=S+Math.imul(he,tt)|0,k=k+Math.imul(te,Ke)|0,p=p+Math.imul(te,Ie)|0,p=p+Math.imul(re,Ke)|0,S=S+Math.imul(re,Ie)|0,k=k+Math.imul(Pe,De)|0,p=p+Math.imul(Pe,rt)|0,p=p+Math.imul(we,De)|0,S=S+Math.imul(we,rt)|0,k=k+Math.imul(Y,ue)|0,p=p+Math.imul(Y,be)|0,p=p+Math.imul(de,ue)|0,S=S+Math.imul(de,be)|0,k=k+Math.imul(J,je)|0,p=p+Math.imul(J,ze)|0,p=p+Math.imul(ae,je)|0,S=S+Math.imul(ae,ze)|0,k=k+Math.imul(Ne,ce)|0,p=p+Math.imul(Ne,Le)|0,p=p+Math.imul(ve,ce)|0,S=S+Math.imul(ve,Le)|0,k=k+Math.imul(ne,Te)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(ie,Te)|0,S=S+Math.imul(ie,ut)|0,k=k+Math.imul($,at)|0,p=p+Math.imul($,mt)|0,p=p+Math.imul(W,at)|0,S=S+Math.imul(W,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Re,Ue),p=Math.imul(Re,tt),p=p+Math.imul(Xe,Ue)|0,S=Math.imul(Xe,tt),k=k+Math.imul(ge,Ke)|0,p=p+Math.imul(ge,Ie)|0,p=p+Math.imul(he,Ke)|0,S=S+Math.imul(he,Ie)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(re,De)|0,S=S+Math.imul(re,rt)|0,k=k+Math.imul(Pe,ue)|0,p=p+Math.imul(Pe,be)|0,p=p+Math.imul(we,ue)|0,S=S+Math.imul(we,be)|0,k=k+Math.imul(Y,je)|0,p=p+Math.imul(Y,ze)|0,p=p+Math.imul(de,je)|0,S=S+Math.imul(de,ze)|0,k=k+Math.imul(J,ce)|0,p=p+Math.imul(J,Le)|0,p=p+Math.imul(ae,ce)|0,S=S+Math.imul(ae,Le)|0,k=k+Math.imul(Ne,Te)|0,p=p+Math.imul(Ne,ut)|0,p=p+Math.imul(ve,Te)|0,S=S+Math.imul(ve,ut)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(ie,at)|0,S=S+Math.imul(ie,mt)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(Re,Ke),p=Math.imul(Re,Ie),p=p+Math.imul(Xe,Ke)|0,S=Math.imul(Xe,Ie),k=k+Math.imul(ge,De)|0,p=p+Math.imul(ge,rt)|0,p=p+Math.imul(he,De)|0,S=S+Math.imul(he,rt)|0,k=k+Math.imul(te,ue)|0,p=p+Math.imul(te,be)|0,p=p+Math.imul(re,ue)|0,S=S+Math.imul(re,be)|0,k=k+Math.imul(Pe,je)|0,p=p+Math.imul(Pe,ze)|0,p=p+Math.imul(we,je)|0,S=S+Math.imul(we,ze)|0,k=k+Math.imul(Y,ce)|0,p=p+Math.imul(Y,Le)|0,p=p+Math.imul(de,ce)|0,S=S+Math.imul(de,Le)|0,k=k+Math.imul(J,Te)|0,p=p+Math.imul(J,ut)|0,p=p+Math.imul(ae,Te)|0,S=S+Math.imul(ae,ut)|0,k=k+Math.imul(Ne,at)|0,p=p+Math.imul(Ne,mt)|0,p=p+Math.imul(ve,at)|0,S=S+Math.imul(ve,mt)|0;var Or=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,k=Math.imul(Re,De),p=Math.imul(Re,rt),p=p+Math.imul(Xe,De)|0,S=Math.imul(Xe,rt),k=k+Math.imul(ge,ue)|0,p=p+Math.imul(ge,be)|0,p=p+Math.imul(he,ue)|0,S=S+Math.imul(he,be)|0,k=k+Math.imul(te,je)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(re,je)|0,S=S+Math.imul(re,ze)|0,k=k+Math.imul(Pe,ce)|0,p=p+Math.imul(Pe,Le)|0,p=p+Math.imul(we,ce)|0,S=S+Math.imul(we,Le)|0,k=k+Math.imul(Y,Te)|0,p=p+Math.imul(Y,ut)|0,p=p+Math.imul(de,Te)|0,S=S+Math.imul(de,ut)|0,k=k+Math.imul(J,at)|0,p=p+Math.imul(J,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Re,ue),p=Math.imul(Re,be),p=p+Math.imul(Xe,ue)|0,S=Math.imul(Xe,be),k=k+Math.imul(ge,je)|0,p=p+Math.imul(ge,ze)|0,p=p+Math.imul(he,je)|0,S=S+Math.imul(he,ze)|0,k=k+Math.imul(te,ce)|0,p=p+Math.imul(te,Le)|0,p=p+Math.imul(re,ce)|0,S=S+Math.imul(re,Le)|0,k=k+Math.imul(Pe,Te)|0,p=p+Math.imul(Pe,ut)|0,p=p+Math.imul(we,Te)|0,S=S+Math.imul(we,ut)|0,k=k+Math.imul(Y,at)|0,p=p+Math.imul(Y,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var _r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(_r>>>26)|0,_r&=67108863,k=Math.imul(Re,je),p=Math.imul(Re,ze),p=p+Math.imul(Xe,je)|0,S=Math.imul(Xe,ze),k=k+Math.imul(ge,ce)|0,p=p+Math.imul(ge,Le)|0,p=p+Math.imul(he,ce)|0,S=S+Math.imul(he,Le)|0,k=k+Math.imul(te,Te)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(re,Te)|0,S=S+Math.imul(re,ut)|0,k=k+Math.imul(Pe,at)|0,p=p+Math.imul(Pe,mt)|0,p=p+Math.imul(we,at)|0,S=S+Math.imul(we,mt)|0;var Rr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,k=Math.imul(Re,ce),p=Math.imul(Re,Le),p=p+Math.imul(Xe,ce)|0,S=Math.imul(Xe,Le),k=k+Math.imul(ge,Te)|0,p=p+Math.imul(ge,ut)|0,p=p+Math.imul(he,Te)|0,S=S+Math.imul(he,ut)|0,k=k+Math.imul(te,at)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(re,at)|0,S=S+Math.imul(re,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Re,Te),p=Math.imul(Re,ut),p=p+Math.imul(Xe,Te)|0,S=Math.imul(Xe,ut),k=k+Math.imul(ge,at)|0,p=p+Math.imul(ge,mt)|0,p=p+Math.imul(he,at)|0,S=S+Math.imul(he,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Re,at),p=Math.imul(Re,mt),p=p+Math.imul(Xe,at)|0,S=Math.imul(Xe,mt);var Fr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,T[0]=Ge,T[1]=st,T[2]=Lt,T[3]=Kt,T[4]=$t,T[5]=pr,T[6]=kr,T[7]=mr,T[8]=ur,T[9]=Lr,T[10]=Br,T[11]=xr,T[12]=Or,T[13]=br,T[14]=_r,T[15]=Rr,T[16]=zr,T[17]=Ur,T[18]=Fr,N!==0&&(T[19]=N,g.length++),g},"h");Math.imul||(A=_);function M(d,y,g){g.negative=y.negative^d.negative,g.length=d.length+y.length;for(var x=0,E=0,T=0;T<g.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,y.length-1),S=Math.max(0,T-d.length+1);S<=p;S++){var C=T-S,O=d.words[C]|0,B=y.words[S]|0,z=O*B,$=z&67108863;N=N+(z/67108864|0)|0,$=$+k|0,k=$&67108863,N=N+($>>>26)|0,E+=N>>>26,N&=67108863}g.words[T]=k,x=N,N=E}return x!==0?g.words[T]=x:g.length--,g.strip()}s(M,"I");function I(d,y,g){var x=new R;return x.mulp(d,y,g)}s(I,"D"),a.prototype.mulTo=function(d,y){var g,x=this.length+d.length;return this.length===10&&d.length===10?g=A(this,d,y):x<63?g=_(this,d,y):x<1024?g=M(this,d,y):g=I(this,d,y),g};function R(d,y){this.x=d,this.y=y}s(R,"g"),R.prototype.makeRBT=function(d){for(var y=Array(d),g=a.prototype._countBits(d)-1,x=0;x<d;x++)y[x]=this.revBin(x,g,d);return y},R.prototype.revBin=function(d,y,g){if(d===0||d===g-1)return d;for(var x=0,E=0;E<y;E++)x|=(d&1)<<y-E-1,d>>=1;return x},R.prototype.permute=function(d,y,g,x,E,T){for(var N=0;N<T;N++)x[N]=y[d[N]],E[N]=g[d[N]]},R.prototype.transform=function(d,y,g,x,E,T){this.permute(T,d,y,g,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var O=p,B=S,z=0;z<N;z++){var $=g[C+z],W=x[C+z],oe=g[C+z+N],ne=x[C+z+N],ie=O*oe-B*ne;ne=O*ne+B*oe,oe=ie,g[C+z]=$+oe,x[C+z]=W+ne,g[C+z+N]=$-oe,x[C+z+N]=W-ne,z!==k&&(ie=p*O-S*B,B=p*B+S*O,O=ie)}},R.prototype.guessLen13b=function(d,y){var g=Math.max(y,d)|1,x=g&1,E=0;for(g=g/2|0;g;g=g>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(d,y,g){if(!(g<=1))for(var x=0;x<g/2;x++){var E=d[x];d[x]=d[g-x-1],d[g-x-1]=E,E=y[x],y[x]=-y[g-x-1],y[g-x-1]=-E}},R.prototype.normalize13b=function(d,y){for(var g=0,x=0;x<y/2;x++){var E=Math.round(d[2*x+1]/y)*8192+Math.round(d[2*x]/y)+g;d[x]=E&67108863,E<67108864?g=0:g=E/67108864|0}return d},R.prototype.convert13b=function(d,y,g,x){for(var E=0,T=0;T<y;T++)E=E+(d[T]|0),g[2*T]=E&8191,E=E>>>13,g[2*T+1]=E&8191,E=E>>>13;for(T=2*y;T<x;++T)g[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(d){for(var y=Array(d),g=0;g<d;g++)y[g]=0;return y},R.prototype.mulp=function(d,y,g){var x=2*this.guessLen13b(d.length,y.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),O=Array(x),B=g.words;B.length=x,this.convert13b(d.words,d.length,N,x),this.convert13b(y.words,y.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,O,x,E);for(var z=0;z<x;z++){var $=k[z]*C[z]-p[z]*O[z];p[z]=k[z]*O[z]+p[z]*C[z],k[z]=$}return this.conjugate(k,p,x),this.transform(k,p,B,T,x,E),this.conjugate(B,T,x),this.normalize13b(B,x),g.negative=d.negative^y.negative,g.length=d.length+y.length,g.strip()},a.prototype.mul=function(d){var y=new a(null);return y.words=Array(this.length+d.length),this.mulTo(d,y)},a.prototype.mulf=function(d){var y=new a(null);return y.words=Array(this.length+d.length),I(this,d,y)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){i(typeof d=="number"),i(d<67108864);for(var y=0,g=0;g<this.length;g++){var x=(this.words[g]|0)*d,E=(x&67108863)+(y&67108863);y>>=26,y+=x/67108864|0,y+=E>>>26,this.words[g]=E&67108863}return y!==0&&(this.words[g]=y,this.length++),this.length=d===0?1:this.length,this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var y=w(d);if(y.length===0)return new a(1);for(var g=this,x=0;x<y.length&&y[x]===0;x++,g=g.sqr());if(++x<y.length)for(var E=g.sqr();x<y.length;x++,E=E.sqr())y[x]!==0&&(g=g.mul(E));return g},a.prototype.iushln=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=67108863>>>26-y<<26-y,E;if(y!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<y;this.words[E]=k|T,T=N>>>26-y}T&&(this.words[E]=T,this.length++)}if(g!==0){for(E=this.length-1;E>=0;E--)this.words[E+g]=this.words[E];for(E=0;E<g;E++)this.words[E]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(d){return i(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,y,g){i(typeof d=="number"&&d>=0);var x;y?x=(y-y%26)/26:x=0;var E=d%26,T=Math.min((d-E)/26,this.length),N=67108863^67108863>>>E<<E,k=g;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,y,g){return i(this.negative===0),this.iushrn(d,y,g)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return!1;var E=this.words[g];return!!(E&x)},a.prototype.imaskn=function(d){i(typeof d=="number"&&d>=0);var y=d%26,g=(d-y)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(y!==0&&g++,this.length=Math.min(g,this.length),y!==0){var x=67108863^67108863>>>y<<y;this.words[this.length-1]&=x}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return i(typeof d=="number"),i(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},a.prototype.isubn=function(d){if(i(typeof d=="number"),i(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,y,g){var x=d.length+g,E;this._expand(x);var T,N=0;for(E=0;E<d.length;E++){T=(this.words[E+g]|0)+N;var k=(d.words[E]|0)*y;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+g]=T&67108863}for(;E<this.length-g;E++)T=(this.words[E+g]|0)+N,N=T>>26,this.words[E+g]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,y){var g=this.length-d.length,x=this.clone(),E=d,T=E.words[E.length-1]|0,N=this._countBits(T);g=26-N,g!==0&&(E=E.ushln(g),x.iushln(g),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(y!=="mod"){p=new a(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(x.words[E.length+O]|0)*67108864+(x.words[E.length+O-1]|0);for(B=Math.min(B/T|0,67108863),x._ishlnsubmul(E,B,O);x.negative!==0;)B--,x.negative=0,x._ishlnsubmul(E,1,O),!x.isZero()&&(x.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),x.strip(),y!=="div"&&g!==0&&x.iushrn(g),{div:p||null,mod:x}},a.prototype.divmod=function(d,y,g){if(i(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var x,E,T;return this.negative!==0&&d.negative===0?(T=this.neg().divmod(d,y),y!=="mod"&&(x=T.div.neg()),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.iadd(d)),{div:x,mod:E}):this.negative===0&&d.negative!==0?(T=this.divmod(d.neg(),y),y!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&d.negative)!==0?(T=this.neg().divmod(d.neg(),y),y!=="div"&&(E=T.mod.neg(),g&&E.negative!==0&&E.isub(d)),{div:T.div,mod:E}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,y)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var g=y.div.negative!==0?y.mod.isub(d):y.mod,x=d.ushrn(1),E=d.andln(1),T=g.cmp(x);return T<0||E===1&&T===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},a.prototype.modn=function(d){i(d<=67108863);for(var y=67108864%d,g=0,x=this.length-1;x>=0;x--)g=(y*g+(this.words[x]|0))%d;return g},a.prototype.idivn=function(d){i(d<=67108863);for(var y=0,g=this.length-1;g>=0;g--){var x=(this.words[g]|0)+y*67108864;this.words[g]=x/d|0,y=x%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=new a(0),N=new a(1),k=0;y.isEven()&&g.isEven();)y.iushrn(1),g.iushrn(1),++k;for(var p=g.clone(),S=y.clone();!y.isZero();){for(var C=0,O=1;(y.words[0]&O)===0&&C<26;++C,O<<=1);if(C>0)for(y.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var B=0,z=1;(g.words[0]&z)===0&&B<26;++B,z<<=1);if(B>0)for(g.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(T),E.isub(N)):(g.isub(y),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:g.iushln(k)}},a.prototype._invmp=function(d){i(d.negative===0),i(!d.isZero());var y=this,g=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var x=new a(1),E=new a(0),T=g.clone();y.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,k=1;(y.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(y.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(g.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(g.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);y.cmp(g)>=0?(y.isub(g),x.isub(E)):(g.isub(y),E.isub(x))}var C;return y.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(d),C},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),g=d.clone();y.negative=0,g.negative=0;for(var x=0;y.isEven()&&g.isEven();x++)y.iushrn(1),g.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;g.isEven();)g.iushrn(1);var E=y.cmp(g);if(E<0){var T=y;y=g,g=T}else if(E===0||g.cmpn(1)===0)break;y.isub(g)}while(!0);return g.iushln(x)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){i(typeof d=="number");var y=d%26,g=(d-y)/26,x=1<<y;if(this.length<=g)return this._expand(g+1),this.words[g]|=x,this;for(var E=x,T=g;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var g;if(this.length>1)g=1;else{y&&(d=-d),i(d<=67108863,"Number is too big");var x=this.words[0]|0;g=x===d?0:x<d?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,g=this.length-1;g>=0;g--){var x=this.words[g]|0,E=d.words[g]|0;if(x!==E){x<E?y=-1:x>E&&(y=1);break}}return y},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new U(d)},a.prototype.toRed=function(d){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return i(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return i(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function P(d,y){this.name=d,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}s(P,"u"),P.prototype._tmp=function(){var d=new a(null);return d.words=Array(Math.ceil(this.n/13)),d},P.prototype.ireduce=function(d){var y=d,g;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),g=y.bitLength();while(g>this.n);var x=g<this.n?-1:y.ucmp(this.p);return x===0?(y.words[0]=0,y.length=1):x>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},P.prototype.split=function(d,y){d.iushrn(this.n,0,y)},P.prototype.imulK=function(d){return d.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,"p"),o(F,P),F.prototype.split=function(d,y){for(var g=4194303,x=Math.min(d.length,9),E=0;E<x;E++)y.words[E]=d.words[E];if(y.length=x,d.length<=9){d.words[0]=0,d.length=1;return}var T=d.words[9];for(y.words[y.length++]=T&g,E=10;E<d.length;E++){var N=d.words[E]|0;d.words[E-10]=(N&g)<<4|T>>>22,T=N}T>>>=22,d.words[E-10]=T,T===0&&d.length>10?d.length-=10:d.length-=9},F.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,g=0;g<d.length;g++){var x=d.words[g]|0;y+=x*977,d.words[g]=y&67108863,y=x*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function Z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Z,"l"),o(Z,P);function G(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,"Q"),o(G,P);function se(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(se,"e"),o(se,P),se.prototype.imulK=function(d){for(var y=0,g=0;g<d.length;g++){var x=(d.words[g]|0)*19+y,E=x&67108863;x>>>=26,d.words[g]=E,y=x}return y!==0&&(d.words[d.length++]=y),d},a._prime=function(d){if(L[d])return L[d];var y;if(d==="k256")y=new F;else if(d==="p224")y=new Z;else if(d==="p192")y=new G;else if(d==="p25519")y=new se;else throw Error("Unknown prime "+d);return L[d]=y,y};function U(d){if(typeof d=="string"){var y=a._prime(d);this.m=y.p,this.prime=y}else i(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}s(U,"m"),U.prototype._verify1=function(d){i(d.negative===0,"red works only with positives"),i(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,y){i((d.negative|y.negative)===0,"red works only with positives"),i(d.red&&d.red===y.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,y){this._verify2(d,y);var g=d.add(y);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},U.prototype.iadd=function(d,y){this._verify2(d,y);var g=d.iadd(y);return g.cmp(this.m)>=0&&g.isub(this.m),g},U.prototype.sub=function(d,y){this._verify2(d,y);var g=d.sub(y);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},U.prototype.isub=function(d,y){this._verify2(d,y);var g=d.isub(y);return g.cmpn(0)<0&&g.iadd(this.m),g},U.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},U.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},U.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(i(y%2===1),y===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(d,g)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new a(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(d,x.addn(1).iushrn(1)),O=this.pow(d,x),B=E;O.cmp(T)!==0;){for(var z=O,$=0;z.cmp(T)!==0;$++)z=z.redSqr();i($<B);var W=this.pow(S,new a(1).iushln(B-$-1));C=C.redMul(W),S=W.redSqr(),O=O.redMul(S),B=$}return C},U.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},U.prototype.pow=function(d,y){if(y.isZero())return new a(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var g=4,x=Array(1<<g);x[0]=new a(1).toRed(this),x[1]=d;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],d);var T=x[0],N=0,k=0,p=y.bitLength()%26;for(p===0&&(p=26),E=y.length-1;E>=0;E--){for(var S=y.words[E],C=p-1;C>=0;C--){var O=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==g&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},U.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},U.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},a.mont=function(d){return new X(d)};function X(d){U.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(X,"o"),o(X,U),X.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},X.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},X.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new a(0)._forceRed(this);var g=d.mul(y),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=g.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},X.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof t>"u"||t,e)}),Tm=_t((e,t)=>{var r=Zd(),n=Dn().Buffer;function i(o,a){return n.from(o.toRed(r.mont(a.modulus)).redPow(new r(a.publicExponent)).fromRed().toArray())}s(i,"_"),t.exports=i}),lw=_t((e,t)=>{(function(r,n){function i(g,x){if(!g)throw Error(x||"Assertion failed")}s(i,"_");function o(g,x){g.super_=x;var E=s(function(){},"Z");E.prototype=x.prototype,g.prototype=new E,g.prototype.constructor=g}s(o,"O");function a(g,x,E){if(a.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((x==="le"||x==="be")&&(E=x,x=10),this._init(g||0,x||10,E||"be"))}s(a,"j"),typeof r=="object"?r.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(kn(),rr(wn)).Buffer}catch{}a.isBN=function(g){return g instanceof a?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===a.wordSize&&Array.isArray(g.words)},a.max=function(g,x){return g.cmp(x)>0?g:x},a.min=function(g,x){return g.cmp(x)<0?g:x},a.prototype._init=function(g,x,E){if(typeof g=="number")return this._initNumber(g,x,E);if(typeof g=="object")return this._initArray(g,x,E);x==="hex"&&(x=16),i(x===(x|0)&&x>=2&&x<=36),g=g.toString().replace(/\s+/g,"");var T=0;g[0]==="-"&&(T++,this.negative=1),T<g.length&&(x===16?this._parseHex(g,T,E):(this._parseBase(g,x,T),E==="le"&&this._initArray(this.toArray(),x,E)))},a.prototype._initNumber=function(g,x,E){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(i(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),x,E)},a.prototype._initArray=function(g,x,E){if(i(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var N,k,p=0;if(E==="be")for(T=g.length-1,N=0;T>=0;T-=3)k=g[T]|g[T-1]<<8|g[T-2]<<16,this.words[N]|=k<<p&67108863,this.words[N+1]=k>>>26-p&67108863,p+=24,p>=26&&(p-=26,N++);else if(E==="le")for(T=0,N=0;T<g.length;T+=3)k=g[T]|g[T+1]<<8|g[T+2]<<16,this.words[N]|=k<<p&67108863,this.words[N+1]=k>>>26-p&67108863,p+=24,p>=26&&(p-=26,N++);return this._strip()};function u(g,x){var E=g.charCodeAt(x);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;i(!1,"Invalid character in "+g)}s(u,"J");function c(g,x,E){var T=u(g,E);return E-1>=x&&(T|=u(g,E-1)<<4),T}s(c,"w"),a.prototype._parseHex=function(g,x,E){this.length=Math.ceil((g.length-x)/6),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var N=0,k=0,p;if(E==="be")for(T=g.length-1;T>=x;T-=2)p=c(g,x,T)<<N,this.words[k]|=p&67108863,N>=18?(N-=18,k+=1,this.words[k]|=p>>>26):N+=8;else{var S=g.length-x;for(T=S%2===0?x+1:x;T<g.length;T+=2)p=c(g,x,T)<<N,this.words[k]|=p&67108863,N>=18?(N-=18,k+=1,this.words[k]|=p>>>26):N+=8}this._strip()};function h(g,x,E,T){for(var N=0,k=0,p=Math.min(g.length,E),S=x;S<p;S++){var C=g.charCodeAt(S)-48;N*=T,C>=49?k=C-49+10:C>=17?k=C-17+10:k=C,i(C>=0&&k<T,"Invalid character"),N+=k}return N}s(h,"k"),a.prototype._parseBase=function(g,x,E){this.words=[0],this.length=1;for(var T=0,N=1;N<=67108863;N*=x)T++;T--,N=N/x|0;for(var k=g.length-E,p=k%T,S=Math.min(k,k-p)+E,C=0,O=E;O<S;O+=T)C=h(g,O,O+T,x),this.imuln(N),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(p!==0){var B=1;for(C=h(g,O,g.length,x),O=0;O<p;O++)B*=x;this.imuln(B),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this._strip()},a.prototype.copy=function(g){g.words=Array(this.length);for(var x=0;x<this.length;x++)g.words[x]=this.words[x];g.length=this.length,g.negative=this.negative,g.red=this.red};function f(g,x){g.words=x.words,g.length=x.length,g.negative=x.negative,g.red=x.red}if(s(f,"X"),a.prototype._move=function(g){f(g,this)},a.prototype.clone=function(){var g=new a(null);return this.copy(g),g},a.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{a.prototype.inspect=v}else a.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}s(v,"G");var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(g,x){g=g||10,x=x|0||1;var E;if(g===16||g==="hex"){E="";for(var T=0,N=0,k=0;k<this.length;k++){var p=this.words[k],S=((p<<T|N)&16777215).toString(16);N=p>>>24-T&16777215,T+=2,T>=26&&(T-=26,k--),N!==0||k!==this.length-1?E=m[6-S.length]+S+E:E=S+E}for(N!==0&&(E=N.toString(16)+E);E.length%x!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(g===(g|0)&&g>=2&&g<=36){var C=w[g],O=_[g];E="";var B=this.clone();for(B.negative=0;!B.isZero();){var z=B.modrn(O).toString(g);B=B.idivn(O),B.isZero()?E=z+E:E=m[C-z.length]+z+E}for(this.isZero()&&(E="0"+E);E.length%x!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(g,x){return this.toArrayLike(l,g,x)}),a.prototype.toArray=function(g,x){return this.toArrayLike(Array,g,x)};var A=s(function(g,x){return g.allocUnsafe?g.allocUnsafe(x):new g(x)},"h");a.prototype.toArrayLike=function(g,x,E){this._strip();var T=this.byteLength(),N=E||Math.max(1,T);i(T<=N,"byte array longer than desired length"),i(N>0,"Requested array length <= 0");var k=A(g,N),p=x==="le"?"LE":"BE";return this["_toArrayLike"+p](k,T),k},a.prototype._toArrayLikeLE=function(g,x){for(var E=0,T=0,N=0,k=0;N<this.length;N++){var p=this.words[N]<<k|T;g[E++]=p&255,E<g.length&&(g[E++]=p>>8&255),E<g.length&&(g[E++]=p>>16&255),k===6?(E<g.length&&(g[E++]=p>>24&255),T=0,k=0):(T=p>>>24,k+=2)}if(E<g.length)for(g[E++]=T;E<g.length;)g[E++]=0},a.prototype._toArrayLikeBE=function(g,x){for(var E=g.length-1,T=0,N=0,k=0;N<this.length;N++){var p=this.words[N]<<k|T;g[E--]=p&255,E>=0&&(g[E--]=p>>8&255),E>=0&&(g[E--]=p>>16&255),k===6?(E>=0&&(g[E--]=p>>24&255),T=0,k=0):(T=p>>>24,k+=2)}if(E>=0)for(g[E--]=T;E>=0;)g[E--]=0},Math.clz32?a.prototype._countBits=function(g){return 32-Math.clz32(g)}:a.prototype._countBits=function(g){var x=g,E=0;return x>=4096&&(E+=13,x>>>=13),x>=64&&(E+=7,x>>>=7),x>=8&&(E+=4,x>>>=4),x>=2&&(E+=2,x>>>=2),E+x},a.prototype._zeroBits=function(g){if(g===0)return 26;var x=g,E=0;return(x&8191)===0&&(E+=13,x>>>=13),(x&127)===0&&(E+=7,x>>>=7),(x&15)===0&&(E+=4,x>>>=4),(x&3)===0&&(E+=2,x>>>=2),(x&1)===0&&E++,E},a.prototype.bitLength=function(){var g=this.words[this.length-1],x=this._countBits(g);return(this.length-1)*26+x};function M(g){for(var x=Array(g.bitLength()),E=0;E<x.length;E++){var T=E/26|0,N=E%26;x[E]=g.words[T]>>>N&1}return x}s(M,"I"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,x=0;x<this.length;x++){var E=this._zeroBits(this.words[x]);if(g+=E,E!==26)break}return g},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},a.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]|g.words[x];return this._strip()},a.prototype.ior=function(g){return i((this.negative|g.negative)===0),this.iuor(g)},a.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},a.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},a.prototype.iuand=function(g){var x;this.length>g.length?x=g:x=this;for(var E=0;E<x.length;E++)this.words[E]=this.words[E]&g.words[E];return this.length=x.length,this._strip()},a.prototype.iand=function(g){return i((this.negative|g.negative)===0),this.iuand(g)},a.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},a.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},a.prototype.iuxor=function(g){var x,E;this.length>g.length?(x=this,E=g):(x=g,E=this);for(var T=0;T<E.length;T++)this.words[T]=x.words[T]^E.words[T];if(this!==x)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=x.length,this._strip()},a.prototype.ixor=function(g){return i((this.negative|g.negative)===0),this.iuxor(g)},a.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},a.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},a.prototype.inotn=function(g){i(typeof g=="number"&&g>=0);var x=Math.ceil(g/26)|0,E=g%26;this._expand(x),E>0&&x--;for(var T=0;T<x;T++)this.words[T]=~this.words[T]&67108863;return E>0&&(this.words[T]=~this.words[T]&67108863>>26-E),this._strip()},a.prototype.notn=function(g){return this.clone().inotn(g)},a.prototype.setn=function(g,x){i(typeof g=="number"&&g>=0);var E=g/26|0,T=g%26;return this._expand(E+1),x?this.words[E]=this.words[E]|1<<T:this.words[E]=this.words[E]&~(1<<T),this._strip()},a.prototype.iadd=function(g){var x;if(this.negative!==0&&g.negative===0)return this.negative=0,x=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,x=this.isub(g),g.negative=1,x._normSign();var E,T;this.length>g.length?(E=this,T=g):(E=g,T=this);for(var N=0,k=0;k<T.length;k++)x=(E.words[k]|0)+(T.words[k]|0)+N,this.words[k]=x&67108863,N=x>>>26;for(;N!==0&&k<E.length;k++)x=(E.words[k]|0)+N,this.words[k]=x&67108863,N=x>>>26;if(this.length=E.length,N!==0)this.words[this.length]=N,this.length++;else if(E!==this)for(;k<E.length;k++)this.words[k]=E.words[k];return this},a.prototype.add=function(g){var x;return g.negative!==0&&this.negative===0?(g.negative=0,x=this.sub(g),g.negative^=1,x):g.negative===0&&this.negative!==0?(this.negative=0,x=g.sub(this),this.negative=1,x):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},a.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var x=this.iadd(g);return g.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var E=this.cmp(g);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,N;E>0?(T=this,N=g):(T=g,N=this);for(var k=0,p=0;p<N.length;p++)x=(T.words[p]|0)-(N.words[p]|0)+k,k=x>>26,this.words[p]=x&67108863;for(;k!==0&&p<T.length;p++)x=(T.words[p]|0)+k,k=x>>26,this.words[p]=x&67108863;if(k===0&&p<T.length&&T!==this)for(;p<T.length;p++)this.words[p]=T.words[p];return this.length=Math.max(this.length,p),T!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(g){return this.clone().isub(g)};function I(g,x,E){E.negative=x.negative^g.negative;var T=g.length+x.length|0;E.length=T,T=T-1|0;var N=g.words[0]|0,k=x.words[0]|0,p=N*k,S=p&67108863,C=p/67108864|0;E.words[0]=S;for(var O=1;O<T;O++){for(var B=C>>>26,z=C&67108863,$=Math.min(O,x.length-1),W=Math.max(0,O-g.length+1);W<=$;W++){var oe=O-W|0;N=g.words[oe]|0,k=x.words[W]|0,p=N*k+z,B+=p/67108864|0,z=p&67108863}E.words[O]=z|0,C=B|0}return C!==0?E.words[O]=C|0:E.length--,E._strip()}s(I,"D");var R=s(function(g,x,E){var T=g.words,N=x.words,k=E.words,p=0,S,C,O,B=T[0]|0,z=B&8191,$=B>>>13,W=T[1]|0,oe=W&8191,ne=W>>>13,ie=T[2]|0,Qe=ie&8191,Ne=ie>>>13,ve=T[3]|0,Me=ve&8191,J=ve>>>13,ae=T[4]|0,K=ae&8191,Y=ae>>>13,de=T[5]|0,Be=de&8191,Pe=de>>>13,we=T[6]|0,q=we&8191,te=we>>>13,re=T[7]|0,Ee=re&8191,ge=re>>>13,he=T[8]|0,it=he&8191,Re=he>>>13,Xe=T[9]|0,Nt=Xe&8191,Ae=Xe>>>13,qe=N[0]|0,ye=qe&8191,Ce=qe>>>13,He=N[1]|0,We=He&8191,Ue=He>>>13,tt=N[2]|0,Ot=tt&8191,Ke=tt>>>13,Ie=N[3]|0,et=Ie&8191,De=Ie>>>13,rt=N[4]|0,Tt=rt&8191,ue=rt>>>13,be=N[5]|0,Ze=be&8191,je=be>>>13,ze=N[6]|0,ct=ze&8191,ce=ze>>>13,Le=N[7]|0,lt=Le&8191,Te=Le>>>13,ut=N[8]|0,zt=ut&8191,at=ut>>>13,mt=N[9]|0,Ge=mt&8191,st=mt>>>13;E.negative=g.negative^x.negative,E.length=19,S=Math.imul(z,ye),C=Math.imul(z,Ce),C=C+Math.imul($,ye)|0,O=Math.imul($,Ce);var Lt=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(oe,ye),C=Math.imul(oe,Ce),C=C+Math.imul(ne,ye)|0,O=Math.imul(ne,Ce),S=S+Math.imul(z,We)|0,C=C+Math.imul(z,Ue)|0,C=C+Math.imul($,We)|0,O=O+Math.imul($,Ue)|0;var Kt=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,S=Math.imul(Qe,ye),C=Math.imul(Qe,Ce),C=C+Math.imul(Ne,ye)|0,O=Math.imul(Ne,Ce),S=S+Math.imul(oe,We)|0,C=C+Math.imul(oe,Ue)|0,C=C+Math.imul(ne,We)|0,O=O+Math.imul(ne,Ue)|0,S=S+Math.imul(z,Ot)|0,C=C+Math.imul(z,Ke)|0,C=C+Math.imul($,Ot)|0,O=O+Math.imul($,Ke)|0;var $t=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Me,ye),C=Math.imul(Me,Ce),C=C+Math.imul(J,ye)|0,O=Math.imul(J,Ce),S=S+Math.imul(Qe,We)|0,C=C+Math.imul(Qe,Ue)|0,C=C+Math.imul(Ne,We)|0,O=O+Math.imul(Ne,Ue)|0,S=S+Math.imul(oe,Ot)|0,C=C+Math.imul(oe,Ke)|0,C=C+Math.imul(ne,Ot)|0,O=O+Math.imul(ne,Ke)|0,S=S+Math.imul(z,et)|0,C=C+Math.imul(z,De)|0,C=C+Math.imul($,et)|0,O=O+Math.imul($,De)|0;var pr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(pr>>>26)|0,pr&=67108863,S=Math.imul(K,ye),C=Math.imul(K,Ce),C=C+Math.imul(Y,ye)|0,O=Math.imul(Y,Ce),S=S+Math.imul(Me,We)|0,C=C+Math.imul(Me,Ue)|0,C=C+Math.imul(J,We)|0,O=O+Math.imul(J,Ue)|0,S=S+Math.imul(Qe,Ot)|0,C=C+Math.imul(Qe,Ke)|0,C=C+Math.imul(Ne,Ot)|0,O=O+Math.imul(Ne,Ke)|0,S=S+Math.imul(oe,et)|0,C=C+Math.imul(oe,De)|0,C=C+Math.imul(ne,et)|0,O=O+Math.imul(ne,De)|0,S=S+Math.imul(z,Tt)|0,C=C+Math.imul(z,ue)|0,C=C+Math.imul($,Tt)|0,O=O+Math.imul($,ue)|0;var kr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(kr>>>26)|0,kr&=67108863,S=Math.imul(Be,ye),C=Math.imul(Be,Ce),C=C+Math.imul(Pe,ye)|0,O=Math.imul(Pe,Ce),S=S+Math.imul(K,We)|0,C=C+Math.imul(K,Ue)|0,C=C+Math.imul(Y,We)|0,O=O+Math.imul(Y,Ue)|0,S=S+Math.imul(Me,Ot)|0,C=C+Math.imul(Me,Ke)|0,C=C+Math.imul(J,Ot)|0,O=O+Math.imul(J,Ke)|0,S=S+Math.imul(Qe,et)|0,C=C+Math.imul(Qe,De)|0,C=C+Math.imul(Ne,et)|0,O=O+Math.imul(Ne,De)|0,S=S+Math.imul(oe,Tt)|0,C=C+Math.imul(oe,ue)|0,C=C+Math.imul(ne,Tt)|0,O=O+Math.imul(ne,ue)|0,S=S+Math.imul(z,Ze)|0,C=C+Math.imul(z,je)|0,C=C+Math.imul($,Ze)|0,O=O+Math.imul($,je)|0;var mr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(mr>>>26)|0,mr&=67108863,S=Math.imul(q,ye),C=Math.imul(q,Ce),C=C+Math.imul(te,ye)|0,O=Math.imul(te,Ce),S=S+Math.imul(Be,We)|0,C=C+Math.imul(Be,Ue)|0,C=C+Math.imul(Pe,We)|0,O=O+Math.imul(Pe,Ue)|0,S=S+Math.imul(K,Ot)|0,C=C+Math.imul(K,Ke)|0,C=C+Math.imul(Y,Ot)|0,O=O+Math.imul(Y,Ke)|0,S=S+Math.imul(Me,et)|0,C=C+Math.imul(Me,De)|0,C=C+Math.imul(J,et)|0,O=O+Math.imul(J,De)|0,S=S+Math.imul(Qe,Tt)|0,C=C+Math.imul(Qe,ue)|0,C=C+Math.imul(Ne,Tt)|0,O=O+Math.imul(Ne,ue)|0,S=S+Math.imul(oe,Ze)|0,C=C+Math.imul(oe,je)|0,C=C+Math.imul(ne,Ze)|0,O=O+Math.imul(ne,je)|0,S=S+Math.imul(z,ct)|0,C=C+Math.imul(z,ce)|0,C=C+Math.imul($,ct)|0,O=O+Math.imul($,ce)|0;var ur=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(ur>>>26)|0,ur&=67108863,S=Math.imul(Ee,ye),C=Math.imul(Ee,Ce),C=C+Math.imul(ge,ye)|0,O=Math.imul(ge,Ce),S=S+Math.imul(q,We)|0,C=C+Math.imul(q,Ue)|0,C=C+Math.imul(te,We)|0,O=O+Math.imul(te,Ue)|0,S=S+Math.imul(Be,Ot)|0,C=C+Math.imul(Be,Ke)|0,C=C+Math.imul(Pe,Ot)|0,O=O+Math.imul(Pe,Ke)|0,S=S+Math.imul(K,et)|0,C=C+Math.imul(K,De)|0,C=C+Math.imul(Y,et)|0,O=O+Math.imul(Y,De)|0,S=S+Math.imul(Me,Tt)|0,C=C+Math.imul(Me,ue)|0,C=C+Math.imul(J,Tt)|0,O=O+Math.imul(J,ue)|0,S=S+Math.imul(Qe,Ze)|0,C=C+Math.imul(Qe,je)|0,C=C+Math.imul(Ne,Ze)|0,O=O+Math.imul(Ne,je)|0,S=S+Math.imul(oe,ct)|0,C=C+Math.imul(oe,ce)|0,C=C+Math.imul(ne,ct)|0,O=O+Math.imul(ne,ce)|0,S=S+Math.imul(z,lt)|0,C=C+Math.imul(z,Te)|0,C=C+Math.imul($,lt)|0,O=O+Math.imul($,Te)|0;var Lr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,S=Math.imul(it,ye),C=Math.imul(it,Ce),C=C+Math.imul(Re,ye)|0,O=Math.imul(Re,Ce),S=S+Math.imul(Ee,We)|0,C=C+Math.imul(Ee,Ue)|0,C=C+Math.imul(ge,We)|0,O=O+Math.imul(ge,Ue)|0,S=S+Math.imul(q,Ot)|0,C=C+Math.imul(q,Ke)|0,C=C+Math.imul(te,Ot)|0,O=O+Math.imul(te,Ke)|0,S=S+Math.imul(Be,et)|0,C=C+Math.imul(Be,De)|0,C=C+Math.imul(Pe,et)|0,O=O+Math.imul(Pe,De)|0,S=S+Math.imul(K,Tt)|0,C=C+Math.imul(K,ue)|0,C=C+Math.imul(Y,Tt)|0,O=O+Math.imul(Y,ue)|0,S=S+Math.imul(Me,Ze)|0,C=C+Math.imul(Me,je)|0,C=C+Math.imul(J,Ze)|0,O=O+Math.imul(J,je)|0,S=S+Math.imul(Qe,ct)|0,C=C+Math.imul(Qe,ce)|0,C=C+Math.imul(Ne,ct)|0,O=O+Math.imul(Ne,ce)|0,S=S+Math.imul(oe,lt)|0,C=C+Math.imul(oe,Te)|0,C=C+Math.imul(ne,lt)|0,O=O+Math.imul(ne,Te)|0,S=S+Math.imul(z,zt)|0,C=C+Math.imul(z,at)|0,C=C+Math.imul($,zt)|0,O=O+Math.imul($,at)|0;var Br=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(Nt,ye),C=Math.imul(Nt,Ce),C=C+Math.imul(Ae,ye)|0,O=Math.imul(Ae,Ce),S=S+Math.imul(it,We)|0,C=C+Math.imul(it,Ue)|0,C=C+Math.imul(Re,We)|0,O=O+Math.imul(Re,Ue)|0,S=S+Math.imul(Ee,Ot)|0,C=C+Math.imul(Ee,Ke)|0,C=C+Math.imul(ge,Ot)|0,O=O+Math.imul(ge,Ke)|0,S=S+Math.imul(q,et)|0,C=C+Math.imul(q,De)|0,C=C+Math.imul(te,et)|0,O=O+Math.imul(te,De)|0,S=S+Math.imul(Be,Tt)|0,C=C+Math.imul(Be,ue)|0,C=C+Math.imul(Pe,Tt)|0,O=O+Math.imul(Pe,ue)|0,S=S+Math.imul(K,Ze)|0,C=C+Math.imul(K,je)|0,C=C+Math.imul(Y,Ze)|0,O=O+Math.imul(Y,je)|0,S=S+Math.imul(Me,ct)|0,C=C+Math.imul(Me,ce)|0,C=C+Math.imul(J,ct)|0,O=O+Math.imul(J,ce)|0,S=S+Math.imul(Qe,lt)|0,C=C+Math.imul(Qe,Te)|0,C=C+Math.imul(Ne,lt)|0,O=O+Math.imul(Ne,Te)|0,S=S+Math.imul(oe,zt)|0,C=C+Math.imul(oe,at)|0,C=C+Math.imul(ne,zt)|0,O=O+Math.imul(ne,at)|0,S=S+Math.imul(z,Ge)|0,C=C+Math.imul(z,st)|0,C=C+Math.imul($,Ge)|0,O=O+Math.imul($,st)|0;var xr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(xr>>>26)|0,xr&=67108863,S=Math.imul(Nt,We),C=Math.imul(Nt,Ue),C=C+Math.imul(Ae,We)|0,O=Math.imul(Ae,Ue),S=S+Math.imul(it,Ot)|0,C=C+Math.imul(it,Ke)|0,C=C+Math.imul(Re,Ot)|0,O=O+Math.imul(Re,Ke)|0,S=S+Math.imul(Ee,et)|0,C=C+Math.imul(Ee,De)|0,C=C+Math.imul(ge,et)|0,O=O+Math.imul(ge,De)|0,S=S+Math.imul(q,Tt)|0,C=C+Math.imul(q,ue)|0,C=C+Math.imul(te,Tt)|0,O=O+Math.imul(te,ue)|0,S=S+Math.imul(Be,Ze)|0,C=C+Math.imul(Be,je)|0,C=C+Math.imul(Pe,Ze)|0,O=O+Math.imul(Pe,je)|0,S=S+Math.imul(K,ct)|0,C=C+Math.imul(K,ce)|0,C=C+Math.imul(Y,ct)|0,O=O+Math.imul(Y,ce)|0,S=S+Math.imul(Me,lt)|0,C=C+Math.imul(Me,Te)|0,C=C+Math.imul(J,lt)|0,O=O+Math.imul(J,Te)|0,S=S+Math.imul(Qe,zt)|0,C=C+Math.imul(Qe,at)|0,C=C+Math.imul(Ne,zt)|0,O=O+Math.imul(Ne,at)|0,S=S+Math.imul(oe,Ge)|0,C=C+Math.imul(oe,st)|0,C=C+Math.imul(ne,Ge)|0,O=O+Math.imul(ne,st)|0;var Or=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(Nt,Ot),C=Math.imul(Nt,Ke),C=C+Math.imul(Ae,Ot)|0,O=Math.imul(Ae,Ke),S=S+Math.imul(it,et)|0,C=C+Math.imul(it,De)|0,C=C+Math.imul(Re,et)|0,O=O+Math.imul(Re,De)|0,S=S+Math.imul(Ee,Tt)|0,C=C+Math.imul(Ee,ue)|0,C=C+Math.imul(ge,Tt)|0,O=O+Math.imul(ge,ue)|0,S=S+Math.imul(q,Ze)|0,C=C+Math.imul(q,je)|0,C=C+Math.imul(te,Ze)|0,O=O+Math.imul(te,je)|0,S=S+Math.imul(Be,ct)|0,C=C+Math.imul(Be,ce)|0,C=C+Math.imul(Pe,ct)|0,O=O+Math.imul(Pe,ce)|0,S=S+Math.imul(K,lt)|0,C=C+Math.imul(K,Te)|0,C=C+Math.imul(Y,lt)|0,O=O+Math.imul(Y,Te)|0,S=S+Math.imul(Me,zt)|0,C=C+Math.imul(Me,at)|0,C=C+Math.imul(J,zt)|0,O=O+Math.imul(J,at)|0,S=S+Math.imul(Qe,Ge)|0,C=C+Math.imul(Qe,st)|0,C=C+Math.imul(Ne,Ge)|0,O=O+Math.imul(Ne,st)|0;var br=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(br>>>26)|0,br&=67108863,S=Math.imul(Nt,et),C=Math.imul(Nt,De),C=C+Math.imul(Ae,et)|0,O=Math.imul(Ae,De),S=S+Math.imul(it,Tt)|0,C=C+Math.imul(it,ue)|0,C=C+Math.imul(Re,Tt)|0,O=O+Math.imul(Re,ue)|0,S=S+Math.imul(Ee,Ze)|0,C=C+Math.imul(Ee,je)|0,C=C+Math.imul(ge,Ze)|0,O=O+Math.imul(ge,je)|0,S=S+Math.imul(q,ct)|0,C=C+Math.imul(q,ce)|0,C=C+Math.imul(te,ct)|0,O=O+Math.imul(te,ce)|0,S=S+Math.imul(Be,lt)|0,C=C+Math.imul(Be,Te)|0,C=C+Math.imul(Pe,lt)|0,O=O+Math.imul(Pe,Te)|0,S=S+Math.imul(K,zt)|0,C=C+Math.imul(K,at)|0,C=C+Math.imul(Y,zt)|0,O=O+Math.imul(Y,at)|0,S=S+Math.imul(Me,Ge)|0,C=C+Math.imul(Me,st)|0,C=C+Math.imul(J,Ge)|0,O=O+Math.imul(J,st)|0;var _r=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(Nt,Tt),C=Math.imul(Nt,ue),C=C+Math.imul(Ae,Tt)|0,O=Math.imul(Ae,ue),S=S+Math.imul(it,Ze)|0,C=C+Math.imul(it,je)|0,C=C+Math.imul(Re,Ze)|0,O=O+Math.imul(Re,je)|0,S=S+Math.imul(Ee,ct)|0,C=C+Math.imul(Ee,ce)|0,C=C+Math.imul(ge,ct)|0,O=O+Math.imul(ge,ce)|0,S=S+Math.imul(q,lt)|0,C=C+Math.imul(q,Te)|0,C=C+Math.imul(te,lt)|0,O=O+Math.imul(te,Te)|0,S=S+Math.imul(Be,zt)|0,C=C+Math.imul(Be,at)|0,C=C+Math.imul(Pe,zt)|0,O=O+Math.imul(Pe,at)|0,S=S+Math.imul(K,Ge)|0,C=C+Math.imul(K,st)|0,C=C+Math.imul(Y,Ge)|0,O=O+Math.imul(Y,st)|0;var Rr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,S=Math.imul(Nt,Ze),C=Math.imul(Nt,je),C=C+Math.imul(Ae,Ze)|0,O=Math.imul(Ae,je),S=S+Math.imul(it,ct)|0,C=C+Math.imul(it,ce)|0,C=C+Math.imul(Re,ct)|0,O=O+Math.imul(Re,ce)|0,S=S+Math.imul(Ee,lt)|0,C=C+Math.imul(Ee,Te)|0,C=C+Math.imul(ge,lt)|0,O=O+Math.imul(ge,Te)|0,S=S+Math.imul(q,zt)|0,C=C+Math.imul(q,at)|0,C=C+Math.imul(te,zt)|0,O=O+Math.imul(te,at)|0,S=S+Math.imul(Be,Ge)|0,C=C+Math.imul(Be,st)|0,C=C+Math.imul(Pe,Ge)|0,O=O+Math.imul(Pe,st)|0;var zr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(zr>>>26)|0,zr&=67108863,S=Math.imul(Nt,ct),C=Math.imul(Nt,ce),C=C+Math.imul(Ae,ct)|0,O=Math.imul(Ae,ce),S=S+Math.imul(it,lt)|0,C=C+Math.imul(it,Te)|0,C=C+Math.imul(Re,lt)|0,O=O+Math.imul(Re,Te)|0,S=S+Math.imul(Ee,zt)|0,C=C+Math.imul(Ee,at)|0,C=C+Math.imul(ge,zt)|0,O=O+Math.imul(ge,at)|0,S=S+Math.imul(q,Ge)|0,C=C+Math.imul(q,st)|0,C=C+Math.imul(te,Ge)|0,O=O+Math.imul(te,st)|0;var Ur=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,S=Math.imul(Nt,lt),C=Math.imul(Nt,Te),C=C+Math.imul(Ae,lt)|0,O=Math.imul(Ae,Te),S=S+Math.imul(it,zt)|0,C=C+Math.imul(it,at)|0,C=C+Math.imul(Re,zt)|0,O=O+Math.imul(Re,at)|0,S=S+Math.imul(Ee,Ge)|0,C=C+Math.imul(Ee,st)|0,C=C+Math.imul(ge,Ge)|0,O=O+Math.imul(ge,st)|0;var Fr=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,S=Math.imul(Nt,zt),C=Math.imul(Nt,at),C=C+Math.imul(Ae,zt)|0,O=Math.imul(Ae,at),S=S+Math.imul(it,Ge)|0,C=C+Math.imul(it,st)|0,C=C+Math.imul(Re,Ge)|0,O=O+Math.imul(Re,st)|0;var il=(p+S|0)+((C&8191)<<13)|0;p=(O+(C>>>13)|0)+(il>>>26)|0,il&=67108863,S=Math.imul(Nt,Ge),C=Math.imul(Nt,st),C=C+Math.imul(Ae,Ge)|0,O=Math.imul(Ae,st);var pe=(p+S|0)+((C&8191)<<13)|0;return p=(O+(C>>>13)|0)+(pe>>>26)|0,pe&=67108863,k[0]=Lt,k[1]=Kt,k[2]=$t,k[3]=pr,k[4]=kr,k[5]=mr,k[6]=ur,k[7]=Lr,k[8]=Br,k[9]=xr,k[10]=Or,k[11]=br,k[12]=_r,k[13]=Rr,k[14]=zr,k[15]=Ur,k[16]=Fr,k[17]=il,k[18]=pe,p!==0&&(k[19]=p,E.length++),E},"g");Math.imul||(R=I);function L(g,x,E){E.negative=x.negative^g.negative,E.length=g.length+x.length;for(var T=0,N=0,k=0;k<E.length-1;k++){var p=N;N=0;for(var S=T&67108863,C=Math.min(k,x.length-1),O=Math.max(0,k-g.length+1);O<=C;O++){var B=k-O,z=g.words[B]|0,$=x.words[O]|0,W=z*$,oe=W&67108863;p=p+(W/67108864|0)|0,oe=oe+S|0,S=oe&67108863,p=p+(oe>>>26)|0,N+=p>>>26,p&=67108863}E.words[k]=S,T=p,p=N}return T!==0?E.words[k]=T:E.length--,E._strip()}s(L,"y");function P(g,x,E){return L(g,x,E)}s(P,"u"),a.prototype.mulTo=function(g,x){var E,T=this.length+g.length;return this.length===10&&g.length===10?E=R(this,g,x):T<63?E=I(this,g,x):T<1024?E=L(this,g,x):E=P(this,g,x),E},a.prototype.mul=function(g){var x=new a(null);return x.words=Array(this.length+g.length),this.mulTo(g,x)},a.prototype.mulf=function(g){var x=new a(null);return x.words=Array(this.length+g.length),P(this,g,x)},a.prototype.imul=function(g){return this.clone().mulTo(g,this)},a.prototype.imuln=function(g){var x=g<0;x&&(g=-g),i(typeof g=="number"),i(g<67108864);for(var E=0,T=0;T<this.length;T++){var N=(this.words[T]|0)*g,k=(N&67108863)+(E&67108863);E>>=26,E+=N/67108864|0,E+=k>>>26,this.words[T]=k&67108863}return E!==0&&(this.words[T]=E,this.length++),this.length=g===0?1:this.length,x?this.ineg():this},a.prototype.muln=function(g){return this.clone().imuln(g)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(g){var x=M(g);if(x.length===0)return new a(1);for(var E=this,T=0;T<x.length&&x[T]===0;T++,E=E.sqr());if(++T<x.length)for(var N=E.sqr();T<x.length;T++,N=N.sqr())x[T]!==0&&(E=E.mul(N));return E},a.prototype.iushln=function(g){i(typeof g=="number"&&g>=0);var x=g%26,E=(g-x)/26,T=67108863>>>26-x<<26-x,N;if(x!==0){var k=0;for(N=0;N<this.length;N++){var p=this.words[N]&T,S=(this.words[N]|0)-p<<x;this.words[N]=S|k,k=p>>>26-x}k&&(this.words[N]=k,this.length++)}if(E!==0){for(N=this.length-1;N>=0;N--)this.words[N+E]=this.words[N];for(N=0;N<E;N++)this.words[N]=0;this.length+=E}return this._strip()},a.prototype.ishln=function(g){return i(this.negative===0),this.iushln(g)},a.prototype.iushrn=function(g,x,E){i(typeof g=="number"&&g>=0);var T;x?T=(x-x%26)/26:T=0;var N=g%26,k=Math.min((g-N)/26,this.length),p=67108863^67108863>>>N<<N,S=E;if(T-=k,T=Math.max(0,T),S){for(var C=0;C<k;C++)S.words[C]=this.words[C];S.length=k}if(k!==0)if(this.length>k)for(this.length-=k,C=0;C<this.length;C++)this.words[C]=this.words[C+k];else this.words[0]=0,this.length=1;var O=0;for(C=this.length-1;C>=0&&(O!==0||C>=T);C--){var B=this.words[C]|0;this.words[C]=O<<26-N|B>>>N,O=B&p}return S&&O!==0&&(S.words[S.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(g,x,E){return i(this.negative===0),this.iushrn(g,x,E)},a.prototype.shln=function(g){return this.clone().ishln(g)},a.prototype.ushln=function(g){return this.clone().iushln(g)},a.prototype.shrn=function(g){return this.clone().ishrn(g)},a.prototype.ushrn=function(g){return this.clone().iushrn(g)},a.prototype.testn=function(g){i(typeof g=="number"&&g>=0);var x=g%26,E=(g-x)/26,T=1<<x;if(this.length<=E)return!1;var N=this.words[E];return!!(N&T)},a.prototype.imaskn=function(g){i(typeof g=="number"&&g>=0);var x=g%26,E=(g-x)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(x!==0&&E++,this.length=Math.min(E,this.length),x!==0){var T=67108863^67108863>>>x<<x;this.words[this.length-1]&=T}return this._strip()},a.prototype.maskn=function(g){return this.clone().imaskn(g)},a.prototype.iaddn=function(g){return i(typeof g=="number"),i(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},a.prototype._iaddn=function(g){this.words[0]+=g;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},a.prototype.isubn=function(g){if(i(typeof g=="number"),i(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},a.prototype.addn=function(g){return this.clone().iaddn(g)},a.prototype.subn=function(g){return this.clone().isubn(g)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(g,x,E){var T=g.length+E,N;this._expand(T);var k,p=0;for(N=0;N<g.length;N++){k=(this.words[N+E]|0)+p;var S=(g.words[N]|0)*x;k-=S&67108863,p=(k>>26)-(S/67108864|0),this.words[N+E]=k&67108863}for(;N<this.length-E;N++)k=(this.words[N+E]|0)+p,p=k>>26,this.words[N+E]=k&67108863;if(p===0)return this._strip();for(i(p===-1),p=0,N=0;N<this.length;N++)k=-(this.words[N]|0)+p,p=k>>26,this.words[N]=k&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(g,x){var E=this.length-g.length,T=this.clone(),N=g,k=N.words[N.length-1]|0,p=this._countBits(k);E=26-p,E!==0&&(N=N.ushln(E),T.iushln(E),k=N.words[N.length-1]|0);var S=T.length-N.length,C;if(x!=="mod"){C=new a(null),C.length=S+1,C.words=Array(C.length);for(var O=0;O<C.length;O++)C.words[O]=0}var B=T.clone()._ishlnsubmul(N,1,S);B.negative===0&&(T=B,C&&(C.words[S]=1));for(var z=S-1;z>=0;z--){var $=(T.words[N.length+z]|0)*67108864+(T.words[N.length+z-1]|0);for($=Math.min($/k|0,67108863),T._ishlnsubmul(N,$,z);T.negative!==0;)$--,T.negative=0,T._ishlnsubmul(N,1,z),!T.isZero()&&(T.negative^=1);C&&(C.words[z]=$)}return C&&C._strip(),T._strip(),x!=="div"&&E!==0&&T.iushrn(E),{div:C||null,mod:T}},a.prototype.divmod=function(g,x,E){if(i(!g.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var T,N,k;return this.negative!==0&&g.negative===0?(k=this.neg().divmod(g,x),x!=="mod"&&(T=k.div.neg()),x!=="div"&&(N=k.mod.neg(),E&&N.negative!==0&&N.iadd(g)),{div:T,mod:N}):this.negative===0&&g.negative!==0?(k=this.divmod(g.neg(),x),x!=="mod"&&(T=k.div.neg()),{div:T,mod:k.mod}):(this.negative&g.negative)!==0?(k=this.neg().divmod(g.neg(),x),x!=="div"&&(N=k.mod.neg(),E&&N.negative!==0&&N.isub(g)),{div:k.div,mod:N}):g.length>this.length||this.cmp(g)<0?{div:new a(0),mod:this}:g.length===1?x==="div"?{div:this.divn(g.words[0]),mod:null}:x==="mod"?{div:null,mod:new a(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new a(this.modrn(g.words[0]))}:this._wordDiv(g,x)},a.prototype.div=function(g){return this.divmod(g,"div",!1).div},a.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},a.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},a.prototype.divRound=function(g){var x=this.divmod(g);if(x.mod.isZero())return x.div;var E=x.div.negative!==0?x.mod.isub(g):x.mod,T=g.ushrn(1),N=g.andln(1),k=E.cmp(T);return k<0||N===1&&k===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},a.prototype.modrn=function(g){var x=g<0;x&&(g=-g),i(g<=67108863);for(var E=67108864%g,T=0,N=this.length-1;N>=0;N--)T=(E*T+(this.words[N]|0))%g;return x?-T:T},a.prototype.modn=function(g){return this.modrn(g)},a.prototype.idivn=function(g){var x=g<0;x&&(g=-g),i(g<=67108863);for(var E=0,T=this.length-1;T>=0;T--){var N=(this.words[T]|0)+E*67108864;this.words[T]=N/g|0,E=N%g}return this._strip(),x?this.ineg():this},a.prototype.divn=function(g){return this.clone().idivn(g)},a.prototype.egcd=function(g){i(g.negative===0),i(!g.isZero());var x=this,E=g.clone();x.negative!==0?x=x.umod(g):x=x.clone();for(var T=new a(1),N=new a(0),k=new a(0),p=new a(1),S=0;x.isEven()&&E.isEven();)x.iushrn(1),E.iushrn(1),++S;for(var C=E.clone(),O=x.clone();!x.isZero();){for(var B=0,z=1;(x.words[0]&z)===0&&B<26;++B,z<<=1);if(B>0)for(x.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(C),N.isub(O)),T.iushrn(1),N.iushrn(1);for(var $=0,W=1;(E.words[0]&W)===0&&$<26;++$,W<<=1);if($>0)for(E.iushrn($);$-- >0;)(k.isOdd()||p.isOdd())&&(k.iadd(C),p.isub(O)),k.iushrn(1),p.iushrn(1);x.cmp(E)>=0?(x.isub(E),T.isub(k),N.isub(p)):(E.isub(x),k.isub(T),p.isub(N))}return{a:k,b:p,gcd:E.iushln(S)}},a.prototype._invmp=function(g){i(g.negative===0),i(!g.isZero());var x=this,E=g.clone();x.negative!==0?x=x.umod(g):x=x.clone();for(var T=new a(1),N=new a(0),k=E.clone();x.cmpn(1)>0&&E.cmpn(1)>0;){for(var p=0,S=1;(x.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(x.iushrn(p);p-- >0;)T.isOdd()&&T.iadd(k),T.iushrn(1);for(var C=0,O=1;(E.words[0]&O)===0&&C<26;++C,O<<=1);if(C>0)for(E.iushrn(C);C-- >0;)N.isOdd()&&N.iadd(k),N.iushrn(1);x.cmp(E)>=0?(x.isub(E),T.isub(N)):(E.isub(x),N.isub(T))}var B;return x.cmpn(1)===0?B=T:B=N,B.cmpn(0)<0&&B.iadd(g),B},a.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var x=this.clone(),E=g.clone();x.negative=0,E.negative=0;for(var T=0;x.isEven()&&E.isEven();T++)x.iushrn(1),E.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;E.isEven();)E.iushrn(1);var N=x.cmp(E);if(N<0){var k=x;x=E,E=k}else if(N===0||E.cmpn(1)===0)break;x.isub(E)}while(!0);return E.iushln(T)},a.prototype.invm=function(g){return this.egcd(g).a.umod(g)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(g){return this.words[0]&g},a.prototype.bincn=function(g){i(typeof g=="number");var x=g%26,E=(g-x)/26,T=1<<x;if(this.length<=E)return this._expand(E+1),this.words[E]|=T,this;for(var N=T,k=E;N!==0&&k<this.length;k++){var p=this.words[k]|0;p+=N,N=p>>>26,p&=67108863,this.words[k]=p}return N!==0&&(this.words[k]=N,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(g){var x=g<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var E;if(this.length>1)E=1;else{x&&(g=-g),i(g<=67108863,"Number is too big");var T=this.words[0]|0;E=T===g?0:T<g?-1:1}return this.negative!==0?-E|0:E},a.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var x=this.ucmp(g);return this.negative!==0?-x|0:x},a.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var x=0,E=this.length-1;E>=0;E--){var T=this.words[E]|0,N=g.words[E]|0;if(T!==N){T<N?x=-1:T>N&&(x=1);break}}return x},a.prototype.gtn=function(g){return this.cmpn(g)===1},a.prototype.gt=function(g){return this.cmp(g)===1},a.prototype.gten=function(g){return this.cmpn(g)>=0},a.prototype.gte=function(g){return this.cmp(g)>=0},a.prototype.ltn=function(g){return this.cmpn(g)===-1},a.prototype.lt=function(g){return this.cmp(g)===-1},a.prototype.lten=function(g){return this.cmpn(g)<=0},a.prototype.lte=function(g){return this.cmp(g)<=0},a.prototype.eqn=function(g){return this.cmpn(g)===0},a.prototype.eq=function(g){return this.cmp(g)===0},a.red=function(g){return new d(g)},a.prototype.toRed=function(g){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(g){return this.red=g,this},a.prototype.forceRed=function(g){return i(!this.red,"Already a number in reduction context"),this._forceRed(g)},a.prototype.redAdd=function(g){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},a.prototype.redIAdd=function(g){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},a.prototype.redSub=function(g){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},a.prototype.redISub=function(g){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},a.prototype.redShl=function(g){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},a.prototype.redMul=function(g){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},a.prototype.redIMul=function(g){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(g){return i(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var F={k256:null,p224:null,p192:null,p25519:null};function Z(g,x){this.name=g,this.p=new a(x,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}s(Z,"Q"),Z.prototype._tmp=function(){var g=new a(null);return g.words=Array(Math.ceil(this.n/13)),g},Z.prototype.ireduce=function(g){var x=g,E;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),E=x.bitLength();while(E>this.n);var T=E<this.n?-1:x.ucmp(this.p);return T===0?(x.words[0]=0,x.length=1):T>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},Z.prototype.split=function(g,x){g.iushrn(this.n,0,x)},Z.prototype.imulK=function(g){return g.imul(this.k)};function G(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(G,"e"),o(G,Z),G.prototype.split=function(g,x){for(var E=4194303,T=Math.min(g.length,9),N=0;N<T;N++)x.words[N]=g.words[N];if(x.length=T,g.length<=9){g.words[0]=0,g.length=1;return}var k=g.words[9];for(x.words[x.length++]=k&E,N=10;N<g.length;N++){var p=g.words[N]|0;g.words[N-10]=(p&E)<<4|k>>>22,k=p}k>>>=22,g.words[N-10]=k,k===0&&g.length>10?g.length-=10:g.length-=9},G.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var x=0,E=0;E<g.length;E++){var T=g.words[E]|0;x+=T*977,g.words[E]=x&67108863,x=T*64+(x/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function se(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(se,"m"),o(se,Z);function U(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(U,"o"),o(U,Z);function X(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(X,"M"),o(X,Z),X.prototype.imulK=function(g){for(var x=0,E=0;E<g.length;E++){var T=(g.words[E]|0)*19+x,N=T&67108863;T>>>=26,g.words[E]=N,x=T}return x!==0&&(g.words[g.length++]=x),g},a._prime=function(g){if(F[g])return F[g];var x;if(g==="k256")x=new G;else if(g==="p224")x=new se;else if(g==="p192")x=new U;else if(g==="p25519")x=new X;else throw Error("Unknown prime "+g);return F[g]=x,x};function d(g){if(typeof g=="string"){var x=a._prime(g);this.m=x.p,this.prime=x}else i(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}s(d,"Y"),d.prototype._verify1=function(g){i(g.negative===0,"red works only with positives"),i(g.red,"red works only with red numbers")},d.prototype._verify2=function(g,x){i((g.negative|x.negative)===0,"red works only with positives"),i(g.red&&g.red===x.red,"red works only with red numbers")},d.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(f(g,g.umod(this.m)._forceRed(this)),g)},d.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},d.prototype.add=function(g,x){this._verify2(g,x);var E=g.add(x);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},d.prototype.iadd=function(g,x){this._verify2(g,x);var E=g.iadd(x);return E.cmp(this.m)>=0&&E.isub(this.m),E},d.prototype.sub=function(g,x){this._verify2(g,x);var E=g.sub(x);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},d.prototype.isub=function(g,x){this._verify2(g,x);var E=g.isub(x);return E.cmpn(0)<0&&E.iadd(this.m),E},d.prototype.shl=function(g,x){return this._verify1(g),this.imod(g.ushln(x))},d.prototype.imul=function(g,x){return this._verify2(g,x),this.imod(g.imul(x))},d.prototype.mul=function(g,x){return this._verify2(g,x),this.imod(g.mul(x))},d.prototype.isqr=function(g){return this.imul(g,g.clone())},d.prototype.sqr=function(g){return this.mul(g,g)},d.prototype.sqrt=function(g){if(g.isZero())return g.clone();var x=this.m.andln(3);if(i(x%2===1),x===3){var E=this.m.add(new a(1)).iushrn(2);return this.pow(g,E)}for(var T=this.m.subn(1),N=0;!T.isZero()&&T.andln(1)===0;)N++,T.iushrn(1);i(!T.isZero());var k=new a(1).toRed(this),p=k.redNeg(),S=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new a(2*C*C).toRed(this);this.pow(C,S).cmp(p)!==0;)C.redIAdd(p);for(var O=this.pow(C,T),B=this.pow(g,T.addn(1).iushrn(1)),z=this.pow(g,T),$=N;z.cmp(k)!==0;){for(var W=z,oe=0;W.cmp(k)!==0;oe++)W=W.redSqr();i(oe<$);var ne=this.pow(O,new a(1).iushln($-oe-1));B=B.redMul(ne),O=ne.redSqr(),z=z.redMul(O),$=oe}return B},d.prototype.invm=function(g){var x=g._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},d.prototype.pow=function(g,x){if(x.isZero())return new a(1).toRed(this);if(x.cmpn(1)===0)return g.clone();var E=4,T=Array(1<<E);T[0]=new a(1).toRed(this),T[1]=g;for(var N=2;N<T.length;N++)T[N]=this.mul(T[N-1],g);var k=T[0],p=0,S=0,C=x.bitLength()%26;for(C===0&&(C=26),N=x.length-1;N>=0;N--){for(var O=x.words[N],B=C-1;B>=0;B--){var z=O>>B&1;if(k!==T[0]&&(k=this.sqr(k)),z===0&&p===0){S=0;continue}p<<=1,p|=z,S++,!(S!==E&&(N!==0||B!==0))&&(k=this.mul(k,T[p]),S=0,p=0)}C=26}return k},d.prototype.convertTo=function(g){var x=g.umod(this.m);return x===g?x.clone():x},d.prototype.convertFrom=function(g){var x=g.clone();return x.red=null,x},a.mont=function(g){return new y(g)};function y(g){d.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(y,"H"),o(y,d),y.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},y.prototype.convertFrom=function(g){var x=this.imod(g.mul(this.rinv));return x.red=null,x},y.prototype.imul=function(g,x){if(g.isZero()||x.isZero())return g.words[0]=0,g.length=1,g;var E=g.imul(x),T=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=E.isub(T).iushrn(this.shift),k=N;return N.cmp(this.m)>=0?k=N.isub(this.m):N.cmpn(0)<0&&(k=N.iadd(this.m)),k._forceRed(this)},y.prototype.mul=function(g,x){if(g.isZero()||x.isZero())return new a(0)._forceRed(this);var E=g.mul(x),T=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=E.isub(T).iushrn(this.shift),k=N;return N.cmp(this.m)>=0?k=N.isub(this.m):N.cmpn(0)<0&&(k=N.iadd(this.m)),k._forceRed(this)},y.prototype.invm=function(g){var x=this.imod(g._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(typeof t>"u"||t,e)}),Am=_t((e,t)=>{var r=lw(),n=pu(),i=Dn().Buffer;function o(u){var c=u.modulus.byteLength(),h;do h=new r(n(c));while(h.cmp(u.modulus)>=0||!h.umod(u.prime1)||!h.umod(u.prime2));return h}s(o,"O");function a(u){var c=o(u),h=c.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed();return{blinder:h,unblinder:c.invm(u.modulus)}}s(a,"j");function l(u,c){var h=a(c),f=c.modulus.byteLength(),v=new r(u).mul(h.blinder).umod(c.modulus),m=v.toRed(r.mont(c.prime1)),w=v.toRed(r.mont(c.prime2)),_=c.coefficient,A=c.prime1,M=c.prime2,I=m.redPow(c.exponent1).fromRed(),R=w.redPow(c.exponent2).fromRed(),L=I.isub(R).imul(_).umod(A).imul(M);return R.iadd(L).imul(h.unblinder).umod(c.modulus).toArrayLike(i,"be",f)}s(l,"z"),l.getr=o,t.exports=l}),uw=_t((e,t)=>{var r=Em(),n=pu(),i=mu(),o=Sm(),a=km(),l=Zd(),u=Tm(),c=Am(),h=Dn().Buffer;t.exports=function(w,_,A){var M;w.padding?M=w.padding:A?M=1:M=4;var I=r(w),R;if(M===4)R=f(I,_);else if(M===1)R=v(I,_,A);else if(M===3){if(R=new l(_),R.cmp(I.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return A?c(R,I):u(R,I)};function f(w,_){var A=w.modulus.byteLength(),M=_.length,I=i("sha1").update(h.alloc(0)).digest(),R=I.length,L=2*R;if(M>A-L-2)throw Error("message too long");var P=h.alloc(A-M-L-2),F=A-R-1,Z=n(R),G=a(h.concat([I,P,h.alloc(1,1),_],F),o(Z,F)),se=a(Z,o(G,R));return new l(h.concat([h.alloc(1),se,G],A))}s(f,"X");function v(w,_,A){var M=_.length,I=w.modulus.byteLength();if(M>I-11)throw Error("message too long");var R;return A?R=h.alloc(I-M-3,255):R=m(I-M-3),new l(h.concat([h.from([0,A?1:2]),R,h.alloc(1),_],I))}s(v,"G");function m(w){for(var _=h.allocUnsafe(w),A=0,M=n(w*2),I=0,R;A<w;)I===M.length&&(M=n(w*2),I=0),R=M[I++],R&&(_[A++]=R);return _}s(m,"V")}),cw=_t((e,t)=>{var r=Em(),n=Sm(),i=km(),o=Zd(),a=Am(),l=mu(),u=Tm(),c=Dn().Buffer;t.exports=function(m,w,_){var A;m.padding?A=m.padding:_?A=1:A=4;var M=r(m),I=M.modulus.byteLength();if(w.length>I||new o(w).cmp(M.modulus)>=0)throw Error("decryption error");var R;_?R=u(new o(w),M):R=a(w,M);var L=c.alloc(I-R.length);if(R=c.concat([L,R],I),A===4)return h(M,R);if(A===1)return f(M,R,_);if(A===3)return R;throw Error("unknown padding")};function h(m,w){var _=m.modulus.byteLength(),A=l("sha1").update(c.alloc(0)).digest(),M=A.length;if(w[0]!==0)throw Error("decryption error");var I=w.slice(1,M+1),R=w.slice(M+1),L=i(I,n(R,M)),P=i(R,n(L,_-M-1));if(v(A,P.slice(0,M)))throw Error("decryption error");for(var F=M;P[F]===0;)F++;if(P[F++]!==1)throw Error("decryption error");return P.slice(F)}s(h,"k");function f(m,w,_){for(var A=w.slice(0,2),M=2,I=0;w[M++]!==0;)if(M>=w.length){I++;break}var R=w.slice(2,M-1);if((A.toString("hex")!=="0002"&&!_||A.toString("hex")!=="0001"&&_)&&I++,R.length<8&&I++,I)throw Error("decryption error");return w.slice(M)}s(f,"X");function v(m,w){m=c.from(m),w=c.from(w);var _=0,A=m.length;m.length!==w.length&&(_++,A=Math.min(m.length,w.length));for(var M=-1;++M<A;)_+=m[M]^w[M];return _}s(v,"G")}),Jd=_t(e=>{e.publicEncrypt=uw(),e.privateDecrypt=cw(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}),dw=_t(e=>{var t=(Xn(),rr(zn));typeof t.publicEncrypt!="function"&&(t=Jd()),e.publicEncrypt=t.publicEncrypt,e.privateDecrypt=t.privateDecrypt,typeof t.privateEncrypt!="function"?e.privateEncrypt=Jd().privateEncrypt:e.privateEncrypt=t.privateEncrypt,typeof t.publicDecrypt!="function"?e.publicDecrypt=Jd().publicDecrypt:e.publicDecrypt=t.publicDecrypt}),fw=_t(e=>{var t=Dn(),r=pu(),n=t.Buffer,i=t.kMaxLength,o=globalThis.crypto||globalThis.msCrypto,a=Math.pow(2,32)-1;function l(v,m){if(typeof v!="number"||v!==v)throw TypeError("offset must be a number");if(v>a||v<0)throw TypeError("offset must be a uint32");if(v>i||v>m)throw RangeError("offset out of range")}s(l,"z");function u(v,m,w){if(typeof v!="number"||v!==v)throw TypeError("size must be a number");if(v>a||v<0)throw TypeError("size must be a uint32");if(v+m>w||v>i)throw RangeError("buffer too small")}s(u,"J"),o&&o.getRandomValues,e.randomFill=c,e.randomFillSync=f;function c(v,m,w,_){if(!n.isBuffer(v)&&!(v instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")_=m,m=0,w=v.length;else if(typeof w=="function")_=w,w=v.length-m;else if(typeof _!="function")throw TypeError('"cb" argument must be a function');return l(m,v.length),u(w,m,v.length),h(v,m,w,_)}s(c,"w");function h(v,m,w,_){if(_){r(w,function(M,I){if(M)return _(M);I.copy(v,m),_(null,v)});return}var A=r(w);return A.copy(v,m),v}s(h,"k");function f(v,m,w){if(typeof m>"u"&&(m=0),!n.isBuffer(v)&&!(v instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return l(m,v.length),w===void 0&&(w=v.length-m),u(w,m,v.length),h(v,m,w)}s(f,"X")}),hw=_t((e,t)=>{var r=(Xn(),rr(zn));typeof r.randomFill=="function"&&typeof r.randomFillSync=="function"?(e.randomFill=r.randomFill,e.randomFillSync=r.randomFillSync):t.exports=fw()}),pw=_t(e=>{e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=pu(),e.createHash=e.Hash=mu(),e.createHmac=e.Hmac=um();var t=b3(),r=Object.keys(t),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return n};var i=dm();e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync;var o=w3();e.Cipher=o.Cipher,e.createCipher=o.createCipher,e.Cipheriv=o.Cipheriv,e.createCipheriv=o.createCipheriv,e.Decipher=o.Decipher,e.createDecipher=o.createDecipher,e.Decipheriv=o.Decipheriv,e.createDecipheriv=o.createDecipheriv,e.getCiphers=o.getCiphers,e.listCiphers=o.listCiphers;var a=x3();e.DiffieHellmanGroup=a.DiffieHellmanGroup,e.createDiffieHellmanGroup=a.createDiffieHellmanGroup,e.getDiffieHellman=a.getDiffieHellman,e.createDiffieHellman=a.createDiffieHellman,e.DiffieHellman=a.DiffieHellman;var l=_3();e.createSign=l.createSign,e.Sign=l.Sign,e.createVerify=l.createVerify,e.Verify=l.Verify,e.createECDH=G3();var u=dw();e.publicEncrypt=u.publicEncrypt,e.privateEncrypt=u.privateEncrypt,e.publicDecrypt=u.publicDecrypt,e.privateDecrypt=u.privateDecrypt;var c=hw();e.randomFill=c.randomFill,e.randomFillSync=c.randomFillSync,e.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),tr=VF(pw(),1),kS=tr.prng,TS=tr.pseudoRandomBytes,AS=tr.rng,NS=tr.randomBytes,CS=tr.Hash,MS=tr.createHash,IS=tr.Hmac,OS=tr.createHmac,RS=tr.getHashes,jS=tr.pbkdf2,LS=tr.pbkdf2Sync,PS=tr.Cipher,DS=tr.createCipher,BS=tr.Cipheriv,zS=tr.createCipheriv,US=tr.Decipher,FS=tr.createDecipher,$S=tr.Decipheriv,HS=tr.createDecipheriv,VS=tr.getCiphers,GS=tr.listCiphers,ZS=tr.DiffieHellmanGroup,JS=tr.createDiffieHellmanGroup,WS=tr.getDiffieHellman,QS=tr.createDiffieHellman,XS=tr.DiffieHellman,KS=tr.createSign,qS=tr.Sign,YS=tr.createVerify,ek=tr.Verify,tk=tr.createECDH,rk=tr.publicEncrypt,nk=tr.privateEncrypt,ik=tr.publicDecrypt,sk=tr.privateDecrypt,ak=tr.randomFill,ok=tr.randomFillSync,lk=tr.createCredentials,uk=tr.constants,ck=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],dk=crypto,fk=crypto}),WF=ft((e,t)=>{t.exports={name:"dotenv",version:"17.2.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),QF=ft((e,t)=>{var r=s((()=>({})),"JH"),n=(k9(),rr(Kb)),i=(M9(),rr(Yb)),o=(Xn(),rr(zn)),a=WF(),l=a.version,u=[" encrypt with Dotenvx: https://dotenvx.com"," prevent committing .env to code: https://dotenvx.com/precommit"," prevent building .env in docker: https://dotenvx.com/prebuild"," add observability to secrets: https://dotenvx.com/ops"," sync secrets across teammates & machines: https://dotenvx.com/ops"," backup and recover secrets: https://dotenvx.com/ops"," audit secrets and track compliance: https://dotenvx.com/ops"," add secrets lifecycle management: https://dotenvx.com/ops"," add access controls to secrets: https://dotenvx.com/ops","  run anywhere with `dotenvx run -- yourcommand`","  specify custom .env file path with { path: '/custom/path/.env' }","  enable debug logging with { debug: true }","  override existing env vars with { override: true }","  suppress all logs with { quiet: true }","  write to custom object with { processEnv: myObject }","  load multiple .env files with { path: ['.env.local', '.env'] }"];function c(){return u[Math.floor(Math.random()*u.length)]}s(c,"wo");function h(y){return typeof y=="string"?!["false","0","no","off",""].includes(y.toLowerCase()):!!y}s(h,"x4");function f(){return process.stdout.isTTY}s(f,"Zo");function v(y){return f()?`\x1B[2m${y}\x1B[0m`:y}s(v,"fo");var m=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function w(y){let g={},x=y.toString();x=x.replace(/\r\n?/mg,`
`);let E;for(;(E=m.exec(x))!=null;){let T=E[1],N=E[2]||"";N=N.trim();let k=N[0];N=N.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),k==='"'&&(N=N.replace(/\\n/g,`
`),N=N.replace(/\\r/g,"\r")),g[T]=N}return g}s(w,"ko");function _(y){y=y||{};let g=P(y);y.path=g;let x=d.configDotenv(y);if(!x.parsed){let k=Error(`MISSING_DATA: Cannot parse ${g} for an unknown reason`);throw k.code="MISSING_DATA",k}let E=R(y).split(","),T=E.length,N;for(let k=0;k<T;k++)try{let p=E[k].trim(),S=L(x,p);N=d.decrypt(S.ciphertext,S.key);break}catch(p){if(k+1>=T)throw p}return d.parse(N)}s(_,"Ao");function A(y){console.error(`[dotenv@${l}][WARN] ${y}`)}s(A,"Go");function M(y){console.log(`[dotenv@${l}][DEBUG] ${y}`)}s(M,"m7");function I(y){console.log(`[dotenv@${l}] ${y}`)}s(I,"$M");function R(y){return y&&y.DOTENV_KEY&&y.DOTENV_KEY.length>0?y.DOTENV_KEY:Tn.DOTENV_KEY&&Tn.DOTENV_KEY.length>0?Tn.DOTENV_KEY:""}s(R,"qM");function L(y,g){let x;try{x=new URL(g)}catch(p){if(p.code==="ERR_INVALID_URL"){let S=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw S.code="INVALID_DOTENV_KEY",S}throw p}let E=x.password;if(!E){let p=Error("INVALID_DOTENV_KEY: Missing key part");throw p.code="INVALID_DOTENV_KEY",p}let T=x.searchParams.get("environment");if(!T){let p=Error("INVALID_DOTENV_KEY: Missing environment part");throw p.code="INVALID_DOTENV_KEY",p}let N=`DOTENV_VAULT_${T.toUpperCase()}`,k=y.parsed[N];if(!k){let p=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${N} in your .env.vault file.`);throw p.code="NOT_FOUND_DOTENV_ENVIRONMENT",p}return{ciphertext:k,key:E}}s(L,"Vo");function P(y){let g=null;if(y&&y.path&&y.path.length>0)if(Array.isArray(y.path))for(let x of y.path)r.existsSync(x)&&(g=x.endsWith(".vault")?x:`${x}.vault`);else g=y.path.endsWith(".vault")?y.path:`${y.path}.vault`;else g=n.resolve(process.cwd(),".env.vault");return r.existsSync(g)?g:null}s(P,"KM");function F(y){return y[0]==="~"?n.join(i.homedir(),y.slice(1)):y}s(F,"sS");function Z(y){let g=h(Tn.DOTENV_CONFIG_DEBUG||y&&y.debug),x=h(Tn.DOTENV_CONFIG_QUIET||y&&y.quiet);(g||!x)&&I("Loading env from encrypted .env.vault");let E=d._parseVault(y),T=Tn;return y&&y.processEnv!=null&&(T=y.processEnv),d.populate(T,E,y),{parsed:E}}s(Z,"So");function G(y){let g=n.resolve(process.cwd(),".env"),x="utf8",E=Tn;y&&y.processEnv!=null&&(E=y.processEnv);let T=h(E.DOTENV_CONFIG_DEBUG||y&&y.debug),N=h(E.DOTENV_CONFIG_QUIET||y&&y.quiet);y&&y.encoding?x=y.encoding:T&&M("No encoding is specified. UTF-8 is used by default");let k=[g];if(y&&y.path)if(!Array.isArray(y.path))k=[F(y.path)];else{k=[];for(let O of y.path)k.push(F(O))}let p,S={};for(let O of k)try{let B=d.parse(r.readFileSync(O,{encoding:x}));d.populate(S,B,y)}catch(B){T&&M(`Failed to load ${O} ${B.message}`),p=B}let C=d.populate(E,S,y);if(T=h(E.DOTENV_CONFIG_DEBUG||T),N=h(E.DOTENV_CONFIG_QUIET||N),T||!N){let O=Object.keys(C).length,B=[];for(let z of k)try{let $=n.relative(process.cwd(),z);B.push($)}catch($){T&&M(`Failed to load ${z} ${$.message}`),p=$}I(`injecting env (${O}) from ${B.join(",")} ${v(`-- tip: ${c()}`)}`)}return p?{parsed:S,error:p}:{parsed:S}}s(G,"Mo");function se(y){if(R(y).length===0)return d.configDotenv(y);let g=P(y);return g?d._configVault(y):(A(`You set DOTENV_KEY but you are missing a .env.vault file at ${g}. Did you forget to build it?`),d.configDotenv(y))}s(se,"No");function U(y,g){let x=Buffer.from(g.slice(-64),"hex"),E=Buffer.from(y,"base64"),T=E.subarray(0,12),N=E.subarray(-16);E=E.subarray(12,-16);try{let k=o.createDecipheriv("aes-256-gcm",x,T);return k.setAuthTag(N),`${k.update(E)}${k.final()}`}catch(k){let p=k instanceof RangeError,S=k.message==="Invalid key length",C=k.message==="Unsupported state or unable to authenticate data";if(p||S){let O=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw O.code="INVALID_DOTENV_KEY",O}else if(C){let O=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw O.code="DECRYPTION_FAILED",O}else throw k}}s(U,"Co");function X(y,g,x={}){let E=!!(x&&x.debug),T=!!(x&&x.override),N={};if(typeof g!="object"){let k=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw k.code="OBJECT_REQUIRED",k}for(let k of Object.keys(g))Object.prototype.hasOwnProperty.call(y,k)?(T===!0&&(y[k]=g[k],N[k]=g[k]),E&&M(T===!0?`"${k}" is already defined and WAS overwritten`:`"${k}" is already defined and was NOT overwritten`)):(y[k]=g[k],N[k]=g[k]);return N}s(X,"Eo");var d={configDotenv:G,_configVault:Z,_parseVault:_,config:se,decrypt:U,parse:w,populate:X};e.configDotenv=d.configDotenv,e._configVault=d._configVault,e._parseVault=d._parseVault,e.config=d.config,e.decrypt=d.decrypt,e.parse=d.parse,e.populate=d.populate,t.exports=d}),XF={};Ln(XF,{setEnv:s(()=>qF,"setEnv"),loadEnvConfig:s(()=>n$,"loadEnvConfig"),initBrowserEnvironment:s(()=>r$,"initBrowserEnvironment"),hasEnv:s(()=>YF,"hasEnv"),getNumberEnv:s(()=>t$,"getNumberEnv"),getEnvironment:s(()=>Go,"getEnvironment"),getEnv:s(()=>ad,"getEnv"),getBooleanEnv:s(()=>e$,"getBooleanEnv"),findEnvFile:s(()=>pk,"findEnvFile"),detectEnvironment:s(()=>sy,"detectEnvironment"),currentRuntime:s(()=>mk,"currentRuntime"),Environment:s(()=>hk,"Environment")});function sy(){return typeof process<"u"&&process.versions&&process.versions.node?"node":typeof globalThis<"u"&&typeof globalThis.window<"u"&&typeof globalThis.window.document<"u"?"browser":"unknown"}s(sy,"L_");class KF{static{s(this,"_M")}store={};constructor(){typeof globalThis<"u"&&globalThis.window&&globalThis.window.ENV&&(this.store={...globalThis.window.ENV}),typeof globalThis<"u"&&globalThis.__ENV__&&(this.store={...this.store,...globalThis.__ENV__})}get(t){let r=this.store[t];return r!==void 0?String(r):void 0}set(t,r){this.store[t]=r}has(t){return t in this.store}getAll(){return{...this.store}}}class hk{static{s(this,"fH")}runtime;browserStore;cache=new Map;constructor(){this.runtime=sy(),this.runtime==="browser"&&(this.browserStore=new KF)}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get(t,r){if(this.cache.has(t)){let i=this.cache.get(t);return i===void 0&&r!==void 0?r:i}let n;switch(this.runtime){case"node":typeof process<"u"&&Tn&&(n=Tn[t]);break;case"browser":this.browserStore&&(n=this.browserStore.get(t));break;default:n=void 0}return this.cache.set(t,n),n===void 0&&r!==void 0?r:n}set(t,r){let n=String(r);switch(this.cache.delete(t),this.runtime){case"node":typeof process<"u"&&Tn&&(Tn[t]=n);break;case"browser":this.browserStore&&this.browserStore.set(t,r);break}}has(t){return this.get(t)!==void 0}getAll(){switch(this.runtime){case"node":if(typeof process<"u"&&Tn)return{...Tn};break;case"browser":if(this.browserStore)return this.browserStore.getAll();break}return{}}getBoolean(t,r=!1){let n=this.get(t);return n===void 0?r:["true","1","yes","on"].includes(n.toLowerCase())}getNumber(t,r){let n=this.get(t);if(n===void 0)return r;let i=Number(n);return isNaN(i)?r:i}clearCache(){this.cache.clear()}}function Go(){return Nm||(Nm=new hk),Nm}s(Go,"b_");function ad(e,t){return Go().get(e,t)}s(ad,"VK");function qF(e,t){Go().set(e,t)}s(qF,"yo");function YF(e){return Go().has(e)}s(YF,"uo");function e$(e,t=!1){return Go().getBoolean(e,t)}s(e$,"xo");function t$(e,t){return Go().getNumber(e,t)}s(t$,"XH");function r$(e){let t=Go();t.isBrowser()&&Object.entries(e).forEach(([r,n])=>{n!==void 0&&t.set(r,n)})}s(r$,"co");function pk(){if(typeof process>"u"||!process.cwd)return null;let e=s((()=>({})),"$"),t=(k9(),rr(Kb)),r=[t.join(process.cwd(),".env"),t.join(process.cwd(),".env.local")];for(let n of r)if(e.existsSync(n))return n;return null}s(pk,"PM");async function n$(e){if(typeof process>"u"||!process.cwd)return{};let t=QF(),r=e||pk();if(r){let n=t.config({path:r});if(n.error)throw n.error}return Tn}s(n$,"mo");var Nm=null,mk,Zo=Vo(()=>{mk=sy()}),i$=ft((e,t)=>{var r=String,n=s(function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r,blackBright:r,redBright:r,greenBright:r,yellowBright:r,blueBright:r,magentaBright:r,cyanBright:r,whiteBright:r,bgBlackBright:r,bgRedBright:r,bgGreenBright:r,bgYellowBright:r,bgBlueBright:r,bgMagentaBright:r,bgCyanBright:r,bgWhiteBright:r}},"kM");t.exports=n(),t.exports.createColors=n}),lh;(e=>{e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e.DOCUMENT="document",e.LINK="link"})(lh||={});var s$;(e=>{e.DOCUMENT="document",e.FRAGMENT="fragment",e.MESSAGE="message",e.DESCRIPTION="description",e.CUSTOM="custom"})(s$||={});var a$;(e=>{e.OWNER="OWNER",e.ADMIN="ADMIN",e.NONE="NONE"})(a$||={});var Ft;(e=>{e.SELF="SELF",e.DM="DM",e.GROUP="GROUP",e.VOICE_DM="VOICE_DM",e.VOICE_GROUP="VOICE_GROUP",e.FEED="FEED",e.THREAD="THREAD",e.WORLD="WORLD",e.FORUM="FORUM",e.API="API"})(Ft||={});var on;(e=>{e.ACTIVE="active",e.INACTIVE="inactive"})(on||={});var o$;(e=>{e.WORLD_JOINED="WORLD_JOINED",e.WORLD_CONNECTED="WORLD_CONNECTED",e.WORLD_LEFT="WORLD_LEFT",e.ENTITY_JOINED="ENTITY_JOINED",e.ENTITY_LEFT="ENTITY_LEFT",e.ENTITY_UPDATED="ENTITY_UPDATED",e.ROOM_JOINED="ROOM_JOINED",e.ROOM_LEFT="ROOM_LEFT",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.MESSAGE_DELETED="MESSAGE_DELETED",e.CHANNEL_CLEARED="CHANNEL_CLEARED",e.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED",e.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT",e.REACTION_RECEIVED="REACTION_RECEIVED",e.POST_GENERATED="POST_GENERATED",e.INTERACTION_RECEIVED="INTERACTION_RECEIVED",e.RUN_STARTED="RUN_STARTED",e.RUN_ENDED="RUN_ENDED",e.RUN_TIMEOUT="RUN_TIMEOUT",e.ACTION_STARTED="ACTION_STARTED",e.ACTION_COMPLETED="ACTION_COMPLETED",e.EVALUATOR_STARTED="EVALUATOR_STARTED",e.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED",e.MODEL_USED="MODEL_USED",e.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED",e.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED",e.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED"})(o$||={});var l$;(e=>{e.DISCORD="DISCORD",e.TELEGRAM="TELEGRAM",e.TWITTER="TWITTER"})(l$||={});var u$;(e=>{e.OFF="OFF",e.LOCAL="LOCAL",e.DOCKER="DOCKER",e.PRODUCTION="PRODUCTION"})(u$||={});var c$;(e=>e.TDX_DSTACK="tdx_dstack")(c$||={});var tv;(e=>{e[e.ROOM_JOINING=1]="ROOM_JOINING",e[e.SEND_MESSAGE=2]="SEND_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.ACK=4]="ACK",e[e.THINKING=5]="THINKING",e[e.CONTROL=6]="CONTROL"})(tv||={});var d$={};Ln(d$,{void:s(()=>Q$,"void"),util:s(()=>fr,"util"),unknown:s(()=>J$,"unknown"),union:s(()=>Y$,"union"),undefined:s(()=>V$,"undefined"),tuple:s(()=>rH,"tuple"),transformer:s(()=>vw,"transformer"),symbol:s(()=>H$,"symbol"),string:s(()=>_k,"string"),strictObject:s(()=>q$,"strictObject"),setErrorMap:s(()=>p$,"setErrorMap"),set:s(()=>sH,"set"),record:s(()=>nH,"record"),quotelessJson:s(()=>f$,"quotelessJson"),promise:s(()=>dH,"promise"),preprocess:s(()=>pH,"preprocess"),pipeline:s(()=>mH,"pipeline"),ostring:s(()=>gH,"ostring"),optional:s(()=>fH,"optional"),onumber:s(()=>vH,"onumber"),oboolean:s(()=>bH,"oboolean"),objectUtil:s(()=>rv,"objectUtil"),object:s(()=>K$,"object"),number:s(()=>Ek,"number"),nullable:s(()=>hH,"nullable"),null:s(()=>G$,"null"),never:s(()=>W$,"never"),nativeEnum:s(()=>cH,"nativeEnum"),nan:s(()=>U$,"nan"),map:s(()=>iH,"map"),makeIssue:s(()=>ch,"makeIssue"),literal:s(()=>lH,"literal"),lazy:s(()=>oH,"lazy"),late:s(()=>B$,"late"),isValid:s(()=>Ro,"isValid"),isDirty:s(()=>iv,"isDirty"),isAsync:s(()=>kc,"isAsync"),isAborted:s(()=>nv,"isAborted"),intersection:s(()=>tH,"intersection"),instanceof:s(()=>z$,"instanceof"),getParsedType:s(()=>qs,"getParsedType"),getErrorMap:s(()=>uh,"getErrorMap"),function:s(()=>aH,"function"),enum:s(()=>uH,"enum"),effect:s(()=>vw,"effect"),discriminatedUnion:s(()=>eH,"discriminatedUnion"),defaultErrorMap:s(()=>Pl,"defaultErrorMap"),datetimeRegex:s(()=>yk,"datetimeRegex"),date:s(()=>$$,"date"),custom:s(()=>xk,"custom"),coerce:s(()=>yH,"coerce"),boolean:s(()=>Sk,"boolean"),bigint:s(()=>F$,"bigint"),array:s(()=>X$,"array"),any:s(()=>Z$,"any"),addIssueToContext:s(()=>Ct,"addIssueToContext"),ZodVoid:s(()=>fh,"ZodVoid"),ZodUnknown:s(()=>So,"ZodUnknown"),ZodUnion:s(()=>Cc,"ZodUnion"),ZodUndefined:s(()=>Ac,"ZodUndefined"),ZodType:s(()=>nr,"ZodType"),ZodTuple:s(()=>Ts,"ZodTuple"),ZodTransformer:s(()=>Ki,"ZodTransformer"),ZodSymbol:s(()=>dh,"ZodSymbol"),ZodString:s(()=>Zi,"ZodString"),ZodSet:s(()=>Lo,"ZodSet"),ZodSchema:s(()=>nr,"ZodSchema"),ZodRecord:s(()=>Ic,"ZodRecord"),ZodReadonly:s(()=>Dc,"ZodReadonly"),ZodPromise:s(()=>Bl,"ZodPromise"),ZodPipeline:s(()=>od,"ZodPipeline"),ZodParsedType:s(()=>Rt,"ZodParsedType"),ZodOptional:s(()=>xs,"ZodOptional"),ZodObject:s(()=>Vr,"ZodObject"),ZodNumber:s(()=>Da,"ZodNumber"),ZodNullable:s(()=>Ua,"ZodNullable"),ZodNull:s(()=>Nc,"ZodNull"),ZodNever:s(()=>da,"ZodNever"),ZodNativeEnum:s(()=>jc,"ZodNativeEnum"),ZodNaN:s(()=>ph,"ZodNaN"),ZodMap:s(()=>hh,"ZodMap"),ZodLiteral:s(()=>Rc,"ZodLiteral"),ZodLazy:s(()=>Oc,"ZodLazy"),ZodIssueCode:s(()=>bt,"ZodIssueCode"),ZodIntersection:s(()=>Mc,"ZodIntersection"),ZodFunction:s(()=>Cl,"ZodFunction"),ZodFirstPartyTypeKind:s(()=>Zt,"ZodFirstPartyTypeKind"),ZodError:s(()=>di,"ZodError"),ZodEnum:s(()=>za,"ZodEnum"),ZodEffects:s(()=>Ki,"ZodEffects"),ZodDiscriminatedUnion:s(()=>B0,"ZodDiscriminatedUnion"),ZodDefault:s(()=>Lc,"ZodDefault"),ZodDate:s(()=>jo,"ZodDate"),ZodCatch:s(()=>Pc,"ZodCatch"),ZodBranded:s(()=>ay,"ZodBranded"),ZodBoolean:s(()=>Tc,"ZodBoolean"),ZodBigInt:s(()=>Ba,"ZodBigInt"),ZodArray:s(()=>Wi,"ZodArray"),ZodAny:s(()=>Dl,"ZodAny"),Schema:s(()=>nr,"Schema"),ParseStatus:s(()=>jn,"ParseStatus"),OK:s(()=>$n,"OK"),NEVER:s(()=>wH,"NEVER"),INVALID:s(()=>Gt,"INVALID"),EMPTY_PATH:s(()=>m$,"EMPTY_PATH"),DIRTY:s(()=>_l,"DIRTY"),BRAND:s(()=>D$,"BRAND")});var fr;(function(e){e.assertEqual=i=>{};function t(i){}s(t,"q"),e.assertIs=t;function r(i){throw Error()}s(r,"K"),e.assertNever=r,e.arrayToEnum=i=>{let o={};for(let a of i)o[a]=a;return o},e.getValidEnumValues=i=>{let o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(let l of o)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},e.find=(i,o)=>{for(let a of i)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}s(n,"P"),e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(fr||(fr={}));var rv;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(rv||(rv={}));var Rt=fr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qs=s(e=>{switch(typeof e){case"undefined":return Rt.undefined;case"string":return Rt.string;case"number":return Number.isNaN(e)?Rt.nan:Rt.number;case"boolean":return Rt.boolean;case"function":return Rt.function;case"bigint":return Rt.bigint;case"symbol":return Rt.symbol;case"object":return Array.isArray(e)?Rt.array:e===null?Rt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Rt.promise:typeof Map<"u"&&e instanceof Map?Rt.map:typeof Set<"u"&&e instanceof Set?Rt.set:typeof Date<"u"&&e instanceof Date?Rt.date:Rt.object;default:return Rt.unknown}},"D8"),bt=fr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),f$=s(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"M0");class di extends Error{static{s(this,"lq")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(o){return o.message},n={_errors:[]},i=s(o=>{for(let a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,u=0;for(;u<a.path.length;){let c=a.path[u];u!==a.path.length-1?l[c]=l[c]||{_errors:[]}:(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(a))),l=l[c],u++}}},"P");return i(this),n}static assert(t){if(!(t instanceof di))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let o=i.path[0];r[o]=r[o]||[],r[o].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}di.create=e=>new di(e);var h$=s((e,t)=>{let r;switch(e.code){case bt.invalid_type:e.received===Rt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,fr.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${fr.joinValues(e.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${fr.joinValues(e.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${fr.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:fr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case bt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case bt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=t.defaultError,fr.assertNever(e)}return{message:r}},"N0"),Pl=h$,gk=Pl;function p$(e){gk=e}s(p$,"C0");function uh(){return gk}s(uh,"u_");var ch=s(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)l=c(a,{data:t,defaultError:l}).message;return{...i,path:o,message:l}},"e4"),m$=[];function Ct(e,t){let r=uh(),n=ch({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Pl?void 0:Pl].filter(i=>!!i)});e.common.issues.push(n)}s(Ct,"i$");class jn{static{s(this,"Tq")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Gt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let o=await i.key,a=await i.value;n.push({key:o,value:a})}return jn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Gt;o.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[o.value]=a.value)}return{status:t.value,value:n}}}var Gt=Object.freeze({status:"aborted"}),_l=s(e=>({status:"dirty",value:e}),"QK"),$n=s(e=>({status:"valid",value:e}),"Cq"),nv=s(e=>e.status==="aborted","s7"),iv=s(e=>e.status==="dirty","$1"),Ro=s(e=>e.status==="valid","EK"),kc=s(e=>typeof Promise<"u"&&e instanceof Promise,"x_"),Ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ut||(Ut={}));class ks{static{s(this,"S8")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var mw=s((e,t)=>{if(Ro(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new di(e.common.issues);return this._error=r,this._error}}},"WJ");function Yt(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:s((o,a)=>{let{message:l}=e;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},"errorMap"),description:i}}s(Yt,"v6");class nr{static{s(this,"J6")}get description(){return this._def.description}_getType(t){return qs(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:qs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jn,ctx:{common:t.parent.common,data:t.data,parsedType:qs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(kc(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qs(t)},i=this._parseSync({data:t,path:n.path,parent:n});return mw(n,i)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qs(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return Ro(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Ro(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qs(t)},i=this._parse({data:t,path:n.path,parent:n}),o=await(kc(i)?i:Promise.resolve(i));return mw(n,o)}refine(t,r){let n=s(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"K");return this._refinement((i,o)=>{let a=t(i),l=s(()=>o.addIssue({code:bt.custom,...n(i)}),"j");return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Ki({schema:this,typeName:Zt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s(r=>this["~validate"](r),"validate")}}optional(){return xs.create(this,this._def)}nullable(){return Ua.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wi.create(this)}promise(){return Bl.create(this,this._def)}or(t){return Cc.create([this,t],this._def)}and(t){return Mc.create(this,t,this._def)}transform(t){return new Ki({...Yt(this._def),schema:this,typeName:Zt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Lc({...Yt(this._def),innerType:this,defaultValue:r,typeName:Zt.ZodDefault})}brand(){return new ay({typeName:Zt.ZodBranded,type:this,...Yt(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Pc({...Yt(this._def),innerType:this,catchValue:r,typeName:Zt.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return od.create(this,t)}readonly(){return Dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var g$=/^c[^\s-]{8,}$/i,v$=/^[0-9a-z]+$/,b$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,y$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w$=/^[a-z0-9_-]{21}$/i,x$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,S$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Cm,k$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,A$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,N$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,C$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,M$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I$=new RegExp(`^${vk}$`);function bk(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}s(bk,"TJ");function O$(e){return new RegExp(`^${bk(e)}$`)}s(O$,"o0");function yk(e){let t=`${vk}T${bk(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}s(yk,"wJ");function R$(e,t){return!!((t==="v4"||!t)&&k$.test(e)||(t==="v6"||!t)&&A$.test(e))}s(R$,"n0");function j$(e,t){if(!x$.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}s(j$,"i0");function L$(e,t){return!!((t==="v4"||!t)&&T$.test(e)||(t==="v6"||!t)&&N$.test(e))}s(L$,"B0");class Zi extends nr{static{s(this,"A8")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Rt.string){let i=this._getOrReturnCtx(t);return Ct(i,{code:bt.invalid_type,expected:Rt.string,received:i.parsedType}),Gt}let r=new jn,n;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(n=this._getOrReturnCtx(t,n),o?Ct(n,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ct(n,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")E$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"email",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Cm||(Cm=new RegExp(S$,"u")),Cm.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"emoji",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")y$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"uuid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")w$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"nanoid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")g$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"cuid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")v$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"cuid2",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")b$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"ulid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Ct(n,{validation:"url",code:bt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,!i.regex.test(t.data)&&(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"regex",code:bt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?yk(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?I$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?O$(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?_$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"duration",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?R$(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"ip",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?j$(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"jwt",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?L$(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"cidr",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?C$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"base64",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?M$.test(t.data)||(n=this._getOrReturnCtx(t,n),Ct(n,{validation:"base64url",code:bt.invalid_string,message:i.message}),r.dirty()):fr.assertNever(i);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:bt.invalid_string,...Ut.errToObj(n)})}_addCheck(t){return new Zi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ut.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ut.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ut.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ut.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ut.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ut.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ut.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ut.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ut.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ut.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ut.errToObj(r)})}nonempty(t){return this.min(1,Ut.errToObj(t))}trim(){return new Zi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zi.create=e=>new Zi({checks:[],typeName:Zt.ZodString,coerce:e?.coerce??!1,...Yt(e)});function P$(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return o%a/10**i}s(P$,"t0");class Da extends nr{static{s(this,"RK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Rt.number){let i=this._getOrReturnCtx(t);return Ct(i,{code:bt.invalid_type,expected:Rt.number,received:i.parsedType}),Gt}let r,n=new jn;for(let i of this._def.checks)i.kind==="int"?fr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?P$(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.not_finite,message:i.message}),n.dirty()):fr.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ut.toString(r))}setLimit(t,r,n,i){return new Da({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ut.toString(i)}]})}_addCheck(t){return new Da({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ut.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ut.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Da.create=e=>new Da({checks:[],typeName:Zt.ZodNumber,coerce:e?.coerce||!1,...Yt(e)});class Ba extends nr{static{s(this,"IK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Rt.bigint)return this._getInvalidInput(t);let r,n=new jn;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):fr.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.bigint,received:r.parsedType}),Gt}gte(t,r){return this.setLimit("min",t,!0,Ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ut.toString(r))}setLimit(t,r,n,i){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ut.toString(i)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ut.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ba.create=e=>new Ba({checks:[],typeName:Zt.ZodBigInt,coerce:e?.coerce??!1,...Yt(e)});class Tc extends nr{static{s(this,"m_")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Rt.boolean){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.boolean,received:r.parsedType}),Gt}return $n(t.data)}}Tc.create=e=>new Tc({typeName:Zt.ZodBoolean,coerce:e?.coerce||!1,...Yt(e)});class jo extends nr{static{s(this,"eK")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Rt.date){let i=this._getOrReturnCtx(t);return Ct(i,{code:bt.invalid_type,expected:Rt.date,received:i.parsedType}),Gt}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return Ct(i,{code:bt.invalid_date}),Gt}let r=new jn,n;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),Ct(n,{code:bt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):fr.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new jo({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ut.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ut.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}jo.create=e=>new jo({checks:[],coerce:e?.coerce||!1,typeName:Zt.ZodDate,...Yt(e)});class dh extends nr{static{s(this,"s4")}_parse(t){if(this._getType(t)!==Rt.symbol){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.symbol,received:r.parsedType}),Gt}return $n(t.data)}}dh.create=e=>new dh({typeName:Zt.ZodSymbol,...Yt(e)});class Ac extends nr{static{s(this,"d_")}_parse(t){if(this._getType(t)!==Rt.undefined){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.undefined,received:r.parsedType}),Gt}return $n(t.data)}}Ac.create=e=>new Ac({typeName:Zt.ZodUndefined,...Yt(e)});class Nc extends nr{static{s(this,"l_")}_parse(t){if(this._getType(t)!==Rt.null){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.null,received:r.parsedType}),Gt}return $n(t.data)}}Nc.create=e=>new Nc({typeName:Zt.ZodNull,...Yt(e)});class Dl extends nr{static{s(this,"sK")}constructor(){super(...arguments),this._any=!0}_parse(t){return $n(t.data)}}Dl.create=e=>new Dl({typeName:Zt.ZodAny,...Yt(e)});class So extends nr{static{s(this,"hK")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return $n(t.data)}}So.create=e=>new So({typeName:Zt.ZodUnknown,...Yt(e)});class da extends nr{static{s(this,"L8")}_parse(t){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.never,received:r.parsedType}),Gt}}da.create=e=>new da({typeName:Zt.ZodNever,...Yt(e)});class fh extends nr{static{s(this,"$P")}_parse(t){if(this._getType(t)!==Rt.undefined){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.void,received:r.parsedType}),Gt}return $n(t.data)}}fh.create=e=>new fh({typeName:Zt.ZodVoid,...Yt(e)});class Wi extends nr{static{s(this,"G8")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Rt.array)return Ct(r,{code:bt.invalid_type,expected:Rt.array,received:r.parsedType}),Gt;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(Ct(r,{code:a?bt.too_big:bt.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ct(r,{code:bt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ct(r,{code:bt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new ks(r,a,r.path,l)))).then(a=>jn.mergeArray(n,a));let o=[...r.data].map((a,l)=>i.type._parseSync(new ks(r,a,r.path,l)));return jn.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Wi({...this._def,minLength:{value:t,message:Ut.toString(r)}})}max(t,r){return new Wi({...this._def,maxLength:{value:t,message:Ut.toString(r)}})}length(t,r){return new Wi({...this._def,exactLength:{value:t,message:Ut.toString(r)}})}nonempty(t){return this.min(1,t)}}Wi.create=(e,t)=>new Wi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Zt.ZodArray,...Yt(t)});function gl(e){if(e instanceof Vr){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=xs.create(gl(n))}return new Vr({...e._def,shape:s(()=>t,"shape")})}else return e instanceof Wi?new Wi({...e._def,type:gl(e.element)}):e instanceof xs?xs.create(gl(e.unwrap())):e instanceof Ua?Ua.create(gl(e.unwrap())):e instanceof Ts?Ts.create(e.items.map(t=>gl(t))):e}s(gl,"c_");class Vr extends nr{static{s(this,"D6")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=fr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Rt.object){let u=this._getOrReturnCtx(t);return Ct(u,{code:bt.invalid_type,expected:Rt.object,received:u.parsedType}),Gt}let{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(let u in n.data)o.includes(u)||a.push(u);let l=[];for(let u of o){let c=i[u],h=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ks(n,h,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof da){let u=this._def.unknownKeys;if(u==="passthrough")for(let c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(u==="strict")a.length>0&&(Ct(n,{code:bt.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let c of a){let h=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ks(n,h,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let c of l){let h=await c.key,f=await c.value;u.push({key:h,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>jn.mergeObjectSync(r,u)):jn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Ut.errToObj,new Vr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:s((r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ut.errToObj(t).message??i}:{message:i}},"errorMap")}:{}})}strip(){return new Vr({...this._def,unknownKeys:"strip"})}passthrough(){return new Vr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Vr({...this._def,shape:s(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new Vr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:s(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:Zt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Vr({...this._def,catchall:t})}pick(t){let r={};for(let n of fr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vr({...this._def,shape:s(()=>r,"shape")})}omit(t){let r={};for(let n of fr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Vr({...this._def,shape:s(()=>r,"shape")})}deepPartial(){return gl(this)}partial(t){let r={};for(let n of fr.objectKeys(this.shape)){let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new Vr({...this._def,shape:s(()=>r,"shape")})}required(t){let r={};for(let n of fr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof xs;)i=i._def.innerType;r[n]=i}return new Vr({...this._def,shape:s(()=>r,"shape")})}keyof(){return wk(fr.objectKeys(this.shape))}}Vr.create=(e,t)=>new Vr({shape:s(()=>e,"shape"),unknownKeys:"strip",catchall:da.create(),typeName:Zt.ZodObject,...Yt(t)});Vr.strictCreate=(e,t)=>new Vr({shape:s(()=>e,"shape"),unknownKeys:"strict",catchall:da.create(),typeName:Zt.ZodObject,...Yt(t)});Vr.lazycreate=(e,t)=>new Vr({shape:e,unknownKeys:"strip",catchall:da.create(),typeName:Zt.ZodObject,...Yt(t)});class Cc extends nr{static{s(this,"r_")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(o){for(let l of o)if(l.result.status==="valid")return l.result;for(let l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let a=o.map(l=>new di(l.ctx.common.issues));return Ct(r,{code:bt.invalid_union,unionErrors:a}),Gt}if(s(i,"P"),r.common.async)return Promise.all(n.map(async o=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let o,a=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let l=a.map(u=>new di(u));return Ct(r,{code:bt.invalid_union,unionErrors:l}),Gt}}get options(){return this._def.options}}Cc.create=(e,t)=>new Cc({options:e,typeName:Zt.ZodUnion,...Yt(t)});var Qs=s(e=>e instanceof Oc?Qs(e.schema):e instanceof Ki?Qs(e.innerType()):e instanceof Rc?[e.value]:e instanceof za?e.options:e instanceof jc?fr.objectValues(e.enum):e instanceof Lc?Qs(e._def.innerType):e instanceof Ac?[void 0]:e instanceof Nc?[null]:e instanceof xs?[void 0,...Qs(e.unwrap())]:e instanceof Ua?[null,...Qs(e.unwrap())]:e instanceof ay||e instanceof Dc?Qs(e.unwrap()):e instanceof Pc?Qs(e._def.innerType):[],"s8");class B0 extends nr{static{s(this,"q1")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.object)return Ct(r,{code:bt.invalid_type,expected:Rt.object,received:r.parsedType}),Gt;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Ct(r,{code:bt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let o of r){let a=Qs(o.shape[t]);if(!a.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of a){if(i.has(l))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,o)}}return new B0({typeName:Zt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Yt(n)})}}function sv(e,t){let r=qs(e),n=qs(t);if(e===t)return{valid:!0,data:e};if(r===Rt.object&&n===Rt.object){let i=fr.objectKeys(t),o=fr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(let l of o){let u=sv(e[l],t[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(r===Rt.array&&n===Rt.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let a=e[o],l=t[o],u=sv(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Rt.date&&n===Rt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}s(sv,"GO");class Mc extends nr{static{s(this,"o_")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=s((o,a)=>{if(nv(o)||nv(a))return Gt;let l=sv(o.value,a.value);return l.valid?((iv(o)||iv(a))&&r.dirty(),{status:r.value,value:l.data}):(Ct(n,{code:bt.invalid_intersection_types}),Gt)},"P");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mc.create=(e,t,r)=>new Mc({left:e,right:t,typeName:Zt.ZodIntersection,...Yt(r)});class Ts extends nr{static{s(this,"b8")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.array)return Ct(n,{code:bt.invalid_type,expected:Rt.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return Ct(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(Ct(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((o,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new ks(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>jn.mergeArray(r,o)):jn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Ts({...this._def,rest:t})}}Ts.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ts({items:e,typeName:Zt.ZodTuple,rest:null,...Yt(t)})};class Ic extends nr{static{s(this,"qP")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.object)return Ct(n,{code:bt.invalid_type,expected:Rt.object,received:n.parsedType}),Gt;let i=[],o=this._def.keyType,a=this._def.valueType;for(let l in n.data)i.push({key:o._parse(new ks(n,l,n.path,l)),value:a._parse(new ks(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?jn.mergeObjectAsync(r,i):jn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof nr?new Ic({keyType:t,valueType:r,typeName:Zt.ZodRecord,...Yt(n)}):new Ic({keyType:Zi.create(),valueType:t,typeName:Zt.ZodRecord,...Yt(r)})}}class hh extends nr{static{s(this,"KP")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.map)return Ct(n,{code:bt.invalid_type,expected:Rt.map,received:n.parsedType}),Gt;let i=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([l,u],c)=>({key:i._parse(new ks(n,l,n.path,[c,"key"])),value:o._parse(new ks(n,u,n.path,[c,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let u of a){let c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return Gt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(c.value,h.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let u of a){let{key:c,value:h}=u;if(c.status==="aborted"||h.status==="aborted")return Gt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(c.value,h.value)}return{status:r.value,value:l}}}}hh.create=(e,t,r)=>new hh({valueType:t,keyType:e,typeName:Zt.ZodMap,...Yt(r)});class Lo extends nr{static{s(this,"$_")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Rt.set)return Ct(n,{code:bt.invalid_type,expected:Rt.set,received:n.parsedType}),Gt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ct(n,{code:bt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ct(n,{code:bt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function a(u){let c=new Set;for(let h of u){if(h.status==="aborted")return Gt;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}s(a,"O");let l=[...n.data.values()].map((u,c)=>o._parse(new ks(n,u,n.path,c)));return n.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(t,r){return new Lo({...this._def,minSize:{value:t,message:Ut.toString(r)}})}max(t,r){return new Lo({...this._def,maxSize:{value:t,message:Ut.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Lo.create=(e,t)=>new Lo({valueType:e,minSize:null,maxSize:null,typeName:Zt.ZodSet,...Yt(t)});class Cl extends nr{static{s(this,"p_")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.function)return Ct(r,{code:bt.invalid_type,expected:Rt.function,received:r.parsedType}),Gt;function n(l,u){return ch({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uh(),Pl].filter(c=>!!c),issueData:{code:bt.invalid_arguments,argumentsError:u}})}s(n,"K");function i(l,u){return ch({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uh(),Pl].filter(c=>!!c),issueData:{code:bt.invalid_return_type,returnTypeError:u}})}s(i,"P");let o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Bl){let l=this;return $n(async function(...u){let c=new di([]),h=await l._def.args.parseAsync(u,o).catch(v=>{throw c.addIssue(n(u,v)),c}),f=await Reflect.apply(a,this,h);return await l._def.returns._def.type.parseAsync(f,o).catch(v=>{throw c.addIssue(i(f,v)),c})})}else{let l=this;return $n(function(...u){let c=l._def.args.safeParse(u,o);if(!c.success)throw new di([n(u,c.error)]);let h=Reflect.apply(a,this,c.data),f=l._def.returns.safeParse(h,o);if(!f.success)throw new di([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Cl({...this._def,args:Ts.create(t).rest(So.create())})}returns(t){return new Cl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Cl({args:t||Ts.create([]).rest(So.create()),returns:r||So.create(),typeName:Zt.ZodFunction,...Yt(n)})}}class Oc extends nr{static{s(this,"n_")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Oc.create=(e,t)=>new Oc({getter:e,typeName:Zt.ZodLazy,...Yt(t)});class Rc extends nr{static{s(this,"i_")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return Ct(r,{received:r.data,code:bt.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Rc.create=(e,t)=>new Rc({value:e,typeName:Zt.ZodLiteral,...Yt(t)});function wk(e,t){return new za({values:e,typeName:Zt.ZodEnum,...Yt(t)})}s(wk,"ZJ");class za extends nr{static{s(this,"DK")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return Ct(r,{expected:fr.joinValues(n),received:r.parsedType,code:bt.invalid_type}),Gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return Ct(r,{received:r.data,code:bt.invalid_enum_value,options:n}),Gt}return $n(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return za.create(t,{...this._def,...r})}exclude(t,r=this._def){return za.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}za.create=wk;class jc extends nr{static{s(this,"B_")}_parse(t){let r=fr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Rt.string&&n.parsedType!==Rt.number){let i=fr.objectValues(r);return Ct(n,{expected:fr.joinValues(i),received:n.parsedType,code:bt.invalid_type}),Gt}if(this._cache||(this._cache=new Set(fr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let i=fr.objectValues(r);return Ct(n,{received:n.data,code:bt.invalid_enum_value,options:i}),Gt}return $n(t.data)}get enum(){return this._def.values}}jc.create=(e,t)=>new jc({values:e,typeName:Zt.ZodNativeEnum,...Yt(t)});class Bl extends nr{static{s(this,"q_")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Rt.promise&&r.common.async===!1)return Ct(r,{code:bt.invalid_type,expected:Rt.promise,received:r.parsedType}),Gt;let n=r.parsedType===Rt.promise?r.data:Promise.resolve(r.data);return $n(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Bl.create=(e,t)=>new Bl({type:e,typeName:Zt.ZodPromise,...Yt(t)});class Ki extends nr{static{s(this,"M8")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s(a=>{Ct(n,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let a=i.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Gt;let u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?Gt:u.status==="dirty"||r.value==="dirty"?_l(u.value):u});{if(r.value==="aborted")return Gt;let l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Gt:l.status==="dirty"||r.value==="dirty"?_l(l.value):l}}if(i.type==="refinement"){let a=s(l=>{let u=i.refinement(l,o);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"O");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Gt:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Gt:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ro(a))return Gt;let l=i.transform(a.value,o);if(l instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Ro(a)?Promise.resolve(i.transform(a.value,o)).then(l=>({status:r.value,value:l})):Gt);fr.assertNever(i)}}Ki.create=(e,t,r)=>new Ki({schema:e,typeName:Zt.ZodEffects,effect:t,...Yt(r)});Ki.createWithPreprocess=(e,t,r)=>new Ki({schema:t,effect:{type:"preprocess",transform:e},typeName:Zt.ZodEffects,...Yt(r)});class xs extends nr{static{s(this,"V8")}_parse(t){return this._getType(t)===Rt.undefined?$n(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xs.create=(e,t)=>new xs({innerType:e,typeName:Zt.ZodOptional,...Yt(t)});class Ua extends nr{static{s(this,"$K")}_parse(t){return this._getType(t)===Rt.null?$n(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ua.create=(e,t)=>new Ua({innerType:e,typeName:Zt.ZodNullable,...Yt(t)});class Lc extends nr{static{s(this,"t_")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Rt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Lc.create=(e,t)=>new Lc({innerType:e,typeName:Zt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Yt(t)});class Pc extends nr{static{s(this,"U_")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kc(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pc.create=(e,t)=>new Pc({innerType:e,typeName:Zt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Yt(t)});class ph extends nr{static{s(this,"_P")}_parse(t){if(this._getType(t)!==Rt.nan){let r=this._getOrReturnCtx(t);return Ct(r,{code:bt.invalid_type,expected:Rt.nan,received:r.parsedType}),Gt}return{status:"valid",value:t.data}}}ph.create=e=>new ph({typeName:Zt.ZodNaN,...Yt(e)});var D$=Symbol("zod_brand");class ay extends nr{static{s(this,"K1")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class od extends nr{static{s(this,"PP")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Gt:i.status==="dirty"?(r.dirty(),_l(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Gt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new od({in:t,out:r,typeName:Zt.ZodPipeline})}}class Dc extends nr{static{s(this,"F_")}_parse(t){let r=this._def.innerType._parse(t),n=s(i=>(Ro(i)&&(i.value=Object.freeze(i.value)),i),"K");return kc(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Dc.create=(e,t)=>new Dc({innerType:e,typeName:Zt.ZodReadonly,...Yt(t)});function gw(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}s(gw,"HJ");function xk(e,t={},r){return e?Dl.create().superRefine((n,i)=>{let o=e(n);if(o instanceof Promise)return o.then(a=>{if(!a){let l=gw(t,n),u=l.fatal??r??!0;i.addIssue({code:"custom",...l,fatal:u})}});if(!o){let a=gw(t,n),l=a.fatal??r??!0;i.addIssue({code:"custom",...a,fatal:l})}}):Dl.create()}s(xk,"fJ");var B$={object:Vr.lazycreate},Zt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Zt||(Zt={}));var z$=s((e,t={message:`Input not instance of ${e.name}`})=>xk(r=>r instanceof e,t),"a0"),_k=Zi.create,Ek=Da.create,U$=ph.create,F$=Ba.create,Sk=Tc.create,$$=jo.create,H$=dh.create,V$=Ac.create,G$=Nc.create,Z$=Dl.create,J$=So.create,W$=da.create,Q$=fh.create,X$=Wi.create,K$=Vr.create,q$=Vr.strictCreate,Y$=Cc.create,eH=B0.create,tH=Mc.create,rH=Ts.create,nH=Ic.create,iH=hh.create,sH=Lo.create,aH=Cl.create,oH=Oc.create,lH=Rc.create,uH=za.create,cH=jc.create,dH=Bl.create,vw=Ki.create,fH=xs.create,hH=Ua.create,pH=Ki.createWithPreprocess,mH=od.create,gH=s(()=>_k().optional(),"RN"),vH=s(()=>Ek().optional(),"IN"),bH=s(()=>Sk().optional(),"DN"),yH={string:s(e=>Zi.create({...e,coerce:!0}),"string"),number:s(e=>Da.create({...e,coerce:!0}),"number"),boolean:s(e=>Tc.create({...e,coerce:!0}),"boolean"),bigint:s(e=>Ba.create({...e,coerce:!0}),"bigint"),date:s(e=>jo.create({...e,coerce:!0}),"date")},wH=Gt;mi(Fb(),1);var xH=[];for(Wd=0;Wd<256;++Wd)xH.push((Wd+256).toString(16).slice(1));var Wd;typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var kk={};Ln(kk,{validator:s(()=>gh,"validator"),validate:s(()=>Ak,"validate"),getValueByPointer:s(()=>mh,"getValueByPointer"),deepClone:s(()=>AH,"deepClone"),applyReducer:s(()=>CH,"applyReducer"),applyPatch:s(()=>Tk,"applyPatch"),applyOperation:s(()=>ko,"applyOperation"),_areEquals:s(()=>Bc,"_areEquals"),JsonPatchError:s(()=>Jr,"JsonPatchError")});var _H=Object.prototype.hasOwnProperty;function EH(e,t){return _H.call(e,t)}s(EH,"LJ");function SH(e){if(Array.isArray(e)){let r=Array(e.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)EH(e,r)&&t.push(r);return t}s(SH,"bJ");function Po(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}s(Po,"O8");function av(e){let t=0,r=e.length,n;for(;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}s(av,"v1");function kH(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}s(kH,"OP");function ov(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(ov(e[r]))return!0}else if(typeof e=="object"){let r=SH(e),n=r.length;for(var t=0;t<n;t++)if(ov(e[r[t]]))return!0}}return!1}s(ov,"Y1");function bw(e,t){let r=[e];for(let n in t){let i=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof i<"u"&&r.push(`${n}: ${i}`)}return r.join(`
`)}s(bw,"DJ");class TH extends Error{static{s(this,"Q_")}constructor(t,r,n,i,o){super(bw(t,{name:r,index:n,operation:i,tree:o})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.setPrototypeOf(this,new.target.prototype),this.message=bw(t,{name:r,index:n,operation:i,tree:o})}}var Jr=TH,AH=Po,El={add:s(function(e,t,r){return e[t]=this.value,{newDocument:r}},"add"),remove:s(function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},"remove"),replace:s(function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},"replace"),move:s(function(e,t,r){let n=mh(r,this.path);n&&(n=Po(n));let i=ko(r,{op:"remove",path:this.from}).removed;return ko(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},"move"),copy:s(function(e,t,r){let n=mh(r,this.from);return ko(r,{op:"add",path:this.path,value:Po(n)}),{newDocument:r}},"copy"),test:s(function(e,t,r){return{newDocument:r,test:Bc(e[t],this.value)}},"test"),_get:s(function(e,t,r){return this.value=e[t],{newDocument:r}},"_get")},NH={add:s(function(e,t,r){return av(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},"add"),remove:s(function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},"remove"),replace:s(function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},"replace"),move:El.move,copy:El.copy,test:El.test,_get:El._get};function mh(e,t){if(t=="")return e;var r={op:"_get",path:t};return ko(e,r),r.value}s(mh,"W1");function ko(e,t,r=!1,n=!0,i=!0,o=0){if(r&&(typeof r=="function"?r(t,0,e,t.path):gh(t,0)),t.path===""){let a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=mh(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=Bc(e,t.value),a.test===!1)throw new Jr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(r)throw new Jr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}}else{n||(e=Po(e));let a=(t.path||"").split("/"),l=e,u=1,c=a.length,h,f,v;for(typeof r=="function"?v=r:v=gh;;){if(f=a[u],f&&f.indexOf("~")!=-1&&(f=kH(f)),i&&(f=="__proto__"||f=="prototype"&&u>0&&a[u-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&h===void 0&&(l[f]===void 0?h=a.slice(0,u).join("/"):u==c-1&&(h=t.path),h!==void 0&&v(t,0,e,h)),u++,Array.isArray(l)){if(f==="-")f=l.length;else{if(r&&!av(f))throw new Jr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);av(f)&&(f=~~f)}if(u>=c){if(r&&t.op==="add"&&f>l.length)throw new Jr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);let m=NH[t.op].call(t,l,f,e);if(m.test===!1)throw new Jr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return m}}else if(u>=c){let m=El[t.op].call(t,l,f,e);if(m.test===!1)throw new Jr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return m}if(l=l[f],r&&u<c&&(!l||typeof l!="object"))throw new Jr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}s(ko,"__");function Tk(e,t,r,n=!0,i=!0){if(r&&!Array.isArray(t))throw new Jr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Po(e));let o=Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=ko(e,t[a],r,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}s(Tk,"P_");function CH(e,t,r){let n=ko(e,t);if(n.test===!1)throw new Jr("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}s(CH,"eN");function gh(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new Jr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(El[e.op]){if(typeof e.path!="string")throw new Jr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Jr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Jr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Jr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&ov(e.value))throw new Jr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var i=e.path.split("/").length,o=n.split("/").length;if(i!==o+1&&i!==o)throw new Jr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new Jr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},l=Ak([a],r);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new Jr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new Jr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}s(gh,"H1");function Ak(e,t,r){try{if(!Array.isArray(e))throw new Jr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Tk(Po(t),Po(e),r||!0);else{r=r||gh;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(i){if(i instanceof Jr)return i;throw i}}s(Ak,"gJ");function Bc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),i,o,a;if(r&&n){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Bc(e[i],t[i]))return!1;return!0}if(r!=n)return!1;var l=Object.keys(e);if(o=l.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(l[i]))return!1;for(i=o;i--!==0;)if(a=l[i],!Bc(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}s(Bc,"YP");({...kk});var MH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function IH(e){return typeof e=="string"&&MH.test(e)}s(IH,"sN");var OH=IH;function RH(e){if(!OH(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}s(RH,"$C");var jH=RH,Sn=[];for(Qd=0;Qd<256;++Qd)Sn.push((Qd+256).toString(16).slice(1));var Qd;function LH(e,t=0){return(Sn[e[t+0]]+Sn[e[t+1]]+Sn[e[t+2]]+Sn[e[t+3]]+"-"+Sn[e[t+4]]+Sn[e[t+5]]+"-"+Sn[e[t+6]]+Sn[e[t+7]]+"-"+Sn[e[t+8]]+Sn[e[t+9]]+"-"+Sn[e[t+10]]+Sn[e[t+11]]+Sn[e[t+12]]+Sn[e[t+13]]+Sn[e[t+14]]+Sn[e[t+15]]).toLowerCase()}s(LH,"J1");function PH(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}s(PH,"KC");var DH="6ba7b810-9dad-11d1-80b4-00c04fd430c8",BH="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function zH(e,t,r){function n(i,o,a,l){var u;if(typeof i=="string"&&(i=PH(i)),typeof o=="string"&&(o=jH(o)),((u=o)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,a){l=l||0;for(var h=0;h<16;++h)a[l+h]=c[h];return a}return LH(c)}s(n,"P");try{n.name=e}catch{}return n.DNS=DH,n.URL=BH,n}s(zH,"hO");typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);function UH(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}s(UH,"YC");function Mm(e,t){return e<<t|e>>>32-t}s(Mm,"IO");function FH(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),l=Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),h=0;h<16;++h)c[h]=e[u*64+h*4]<<24|e[u*64+h*4+1]<<16|e[u*64+h*4+2]<<8|e[u*64+h*4+3];l[u]=c}l[a-1][14]=(e.length-1)*8/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<a;++f){for(var v=new Uint32Array(80),m=0;m<16;++m)v[m]=l[f][m];for(var w=16;w<80;++w)v[w]=Mm(v[w-3]^v[w-8]^v[w-14]^v[w-16],1);for(var _=r[0],A=r[1],M=r[2],I=r[3],R=r[4],L=0;L<80;++L){var P=Math.floor(L/20),F=Mm(_,5)+UH(P,A,M,I)+R+t[P]+v[L]>>>0;R=I,I=M,M=Mm(A,30)>>>0,A=_,_=F}r[0]=r[0]+_>>>0,r[1]=r[1]+A>>>0,r[2]=r[2]+M>>>0,r[3]=r[3]+I>>>0,r[4]=r[4]+R>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}s(FH,"vC");var $H=FH;zH("v5",80,$H);mi(Fb(),1);mi($b(),1);mi(eU(),1);new TextEncoder;mi(tU(),1);mi(rU(),1);var HH=mi(nU(),1),{color:pme}=HH.default;mi($b(),1);mi(Fb(),1);mi($b(),1);function z0(e,t,r){function n(l,u){var c;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(c=l._zod).traits??(c.traits=new Set),l._zod.traits.add(e),t(l,u);for(let h in a.prototype)h in l||Object.defineProperty(l,h,{value:a.prototype[h].bind(l)});l._zod.constr=a,l._zod.def=u}s(n,"P");let i=r?.Parent??Object;class o extends i{static{s(this,"O")}}Object.defineProperty(o,"name",{value:e});function a(l){var u;let c=r?.Parent?new o:this;n(c,l),(u=c._zod).deferred??(u.deferred=[]);for(let h of c._zod.deferred)h();return c}return s(a,"j"),Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:s(l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(e),"value")}),Object.defineProperty(a,"name",{value:e}),a}s(z0,"P4");class lv extends Error{static{s(this,"W_")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}var VH={};function Nk(e){return VH}s(Nk,"CP");function GH(e,t){return typeof t=="bigint"?t.toString():t}s(GH,"bf");function Im(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}s(Im,"s1");function Xd(e){return typeof e=="string"?e:e?.message}s(Xd,"e1");function Ck(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let i=Xd(e.inst?._zod.def?.error?.(e))??Xd(t?.error?.(e))??Xd(r.customError?.(e))??Xd(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,!t?.reportInput&&delete n.input,n}s(Ck,"EP");var Mk=s((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,GH,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:s(()=>e.message,"value"),enumerable:!1})},"xf"),ZH=z0("$ZodError",Mk),Ik=z0("$ZodError",Mk,{Parent:Error}),JH=s(e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new lv;return o.issues.length?{success:!1,error:new(e??ZH)(o.issues.map(a=>Ck(a,i,Nk())))}:{success:!0,data:o.value}},"MI"),WH=JH(Ik),QH=s(e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(a=>Ck(a,i,Nk())))}:{success:!0,data:o.value}},"NI"),XH=QH(Ik),KH={major:4,minor:0,patch:0},qH=z0("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=KH;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let i of n)for(let o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let i=s((o,a,l)=>{let u=Im(o),c;for(let h of a){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(u)continue;let f=o.issues.length,v=h._zod.check(o);if(v instanceof Promise&&l?.async===!1)throw new lv;if(c||v instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await v,o.issues.length!==f&&(u||(u=Im(o,f)))});else{if(o.issues.length===f)continue;u||(u=Im(o,f))}}return c?c.then(()=>o):o},"_");e._zod.run=(o,a)=>{let l=e._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new lv;return l.then(u=>i(u,n,a))}return i(l,n,a)}}e["~standard"]={validate:s(i=>{try{let o=WH(e,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return XH(e,i).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},"validate"),vendor:"zod",version:1}});z0("$ZodNever",(e,t)=>{qH.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});var At={};Ln(At,{xid:s(()=>TJ,"xid"),void:s(()=>XJ,"void"),uuidv7:s(()=>bJ,"uuidv7"),uuidv6:s(()=>vJ,"uuidv6"),uuidv4:s(()=>gJ,"uuidv4"),uuid:s(()=>mJ,"uuid"),util:s(()=>dr,"util"),url:s(()=>yJ,"url"),uppercase:s(()=>r2,"uppercase"),unknown:s(()=>$l,"unknown"),union:s(()=>P2,"union"),undefined:s(()=>WJ,"undefined"),ulid:s(()=>kJ,"ulid"),uint64:s(()=>ZJ,"uint64"),uint32:s(()=>HJ,"uint32"),tuple:s(()=>RC,"tuple"),trim:s(()=>l2,"trim"),treeifyError:s(()=>Gk,"treeifyError"),transform:s(()=>z2,"transform"),toUpperCase:s(()=>c2,"toUpperCase"),toLowerCase:s(()=>u2,"toLowerCase"),toJSONSchema:s(()=>YN,"toJSONSchema"),templateLiteral:s(()=>hW,"templateLiteral"),symbol:s(()=>JJ,"symbol"),superRefine:s(()=>iM,"superRefine"),success:s(()=>cW,"success"),stringbool:s(()=>bW,"stringbool"),stringFormat:s(()=>PJ,"stringFormat"),string:s(()=>pv,"string"),strictObject:s(()=>eW,"strictObject"),startsWith:s(()=>i2,"startsWith"),size:s(()=>Yy,"size"),setErrorMap:s(()=>_W,"setErrorMap"),set:s(()=>sW,"set"),safeParseAsync:s(()=>uC,"safeParseAsync"),safeParse:s(()=>lC,"safeParse"),safeEncodeAsync:s(()=>gC,"safeEncodeAsync"),safeEncode:s(()=>pC,"safeEncode"),safeDecodeAsync:s(()=>vC,"safeDecodeAsync"),safeDecode:s(()=>mC,"safeDecode"),registry:s(()=>Oy,"registry"),regexes:s(()=>Wo,"regexes"),regex:s(()=>e2,"regex"),refine:s(()=>nM,"refine"),record:s(()=>jC,"record"),readonly:s(()=>KC,"readonly"),property:s(()=>GN,"property"),promise:s(()=>pW,"promise"),prettifyError:s(()=>Jk,"prettifyError"),preprocess:s(()=>wW,"preprocess"),prefault:s(()=>VC,"prefault"),positive:s(()=>FN,"positive"),pipe:s(()=>Th,"pipe"),partialRecord:s(()=>nW,"partialRecord"),parseAsync:s(()=>oC,"parseAsync"),parse:s(()=>aC,"parse"),overwrite:s(()=>Qo,"overwrite"),optional:s(()=>Sh,"optional"),object:s(()=>YJ,"object"),number:s(()=>bC,"number"),nullish:s(()=>uW,"nullish"),nullable:s(()=>kh,"nullable"),null:s(()=>EC,"null"),normalize:s(()=>o2,"normalize"),nonpositive:s(()=>HN,"nonpositive"),nonoptional:s(()=>GC,"nonoptional"),nonnegative:s(()=>VN,"nonnegative"),never:s(()=>R2,"never"),negative:s(()=>$N,"negative"),nativeEnum:s(()=>aW,"nativeEnum"),nanoid:s(()=>_J,"nanoid"),nan:s(()=>dW,"nan"),multipleOf:s(()=>zc,"multipleOf"),minSize:s(()=>Uc,"minSize"),minLength:s(()=>Fl,"minLength"),mime:s(()=>a2,"mime"),maxSize:s(()=>G0,"maxSize"),maxLength:s(()=>Z0,"maxLength"),map:s(()=>iW,"map"),lte:s(()=>Qi,"lte"),lt:s(()=>Bo,"lt"),lowercase:s(()=>t2,"lowercase"),looseObject:s(()=>tW,"looseObject"),locales:s(()=>My,"locales"),literal:s(()=>oW,"literal"),length:s(()=>J0,"length"),lazy:s(()=>eM,"lazy"),ksuid:s(()=>AJ,"ksuid"),keyof:s(()=>qJ,"keyof"),jwt:s(()=>LJ,"jwt"),json:s(()=>yW,"json"),iso:s(()=>eC,"iso"),ipv6:s(()=>CJ,"ipv6"),ipv4:s(()=>NJ,"ipv4"),intersection:s(()=>IC,"intersection"),int64:s(()=>GJ,"int64"),int32:s(()=>$J,"int32"),int:s(()=>mv,"int"),instanceof:s(()=>vW,"instanceof"),includes:s(()=>n2,"includes"),httpUrl:s(()=>wJ,"httpUrl"),hostname:s(()=>DJ,"hostname"),hex:s(()=>BJ,"hex"),hash:s(()=>zJ,"hash"),guid:s(()=>pJ,"guid"),gte:s(()=>li,"gte"),gt:s(()=>zo,"gt"),globalRegistry:s(()=>vo,"globalRegistry"),getErrorMap:s(()=>EW,"getErrorMap"),function:s(()=>jw,"function"),formatError:s(()=>dy,"formatError"),float64:s(()=>FJ,"float64"),float32:s(()=>UJ,"float32"),flattenError:s(()=>cy,"flattenError"),file:s(()=>lW,"file"),enum:s(()=>B2,"enum"),endsWith:s(()=>s2,"endsWith"),encodeAsync:s(()=>fC,"encodeAsync"),encode:s(()=>cC,"encode"),emoji:s(()=>xJ,"emoji"),email:s(()=>hJ,"email"),e164:s(()=>jJ,"e164"),discriminatedUnion:s(()=>rW,"discriminatedUnion"),decodeAsync:s(()=>hC,"decodeAsync"),decode:s(()=>dC,"decode"),date:s(()=>KJ,"date"),custom:s(()=>gW,"custom"),cuid2:s(()=>SJ,"cuid2"),cuid:s(()=>EJ,"cuid"),core:s(()=>Ok,"core"),config:s(()=>Hn,"config"),coerce:s(()=>sM,"coerce"),codec:s(()=>fW,"codec"),clone:s(()=>Ri,"clone"),cidrv6:s(()=>IJ,"cidrv6"),cidrv4:s(()=>MJ,"cidrv4"),check:s(()=>mW,"check"),catch:s(()=>WC,"catch"),boolean:s(()=>yC,"boolean"),bigint:s(()=>VJ,"bigint"),base64url:s(()=>RJ,"base64url"),base64:s(()=>OJ,"base64"),array:s(()=>Y0,"array"),any:s(()=>QJ,"any"),_function:s(()=>jw,"_function"),_default:s(()=>$C,"_default"),_ZodString:s(()=>m2,"_ZodString"),ZodXID:s(()=>_2,"ZodXID"),ZodVoid:s(()=>AC,"ZodVoid"),ZodUnknown:s(()=>kC,"ZodUnknown"),ZodUnion:s(()=>L2,"ZodUnion"),ZodUndefined:s(()=>xC,"ZodUndefined"),ZodUUID:s(()=>na,"ZodUUID"),ZodURL:s(()=>Q0,"ZodURL"),ZodULID:s(()=>x2,"ZodULID"),ZodType:s(()=>ir,"ZodType"),ZodTuple:s(()=>OC,"ZodTuple"),ZodTransform:s(()=>zC,"ZodTransform"),ZodTemplateLiteral:s(()=>qC,"ZodTemplateLiteral"),ZodSymbol:s(()=>wC,"ZodSymbol"),ZodSuccess:s(()=>ZC,"ZodSuccess"),ZodStringFormat:s(()=>jr,"ZodStringFormat"),ZodString:s(()=>W0,"ZodString"),ZodSet:s(()=>PC,"ZodSet"),ZodRecord:s(()=>D2,"ZodRecord"),ZodRealError:s(()=>vi,"ZodRealError"),ZodReadonly:s(()=>XC,"ZodReadonly"),ZodPromise:s(()=>tM,"ZodPromise"),ZodPrefault:s(()=>HC,"ZodPrefault"),ZodPipe:s(()=>$2,"ZodPipe"),ZodOptional:s(()=>U2,"ZodOptional"),ZodObject:s(()=>ep,"ZodObject"),ZodNumberFormat:s(()=>Kl,"ZodNumberFormat"),ZodNumber:s(()=>X0,"ZodNumber"),ZodNullable:s(()=>UC,"ZodNullable"),ZodNull:s(()=>_C,"ZodNull"),ZodNonOptional:s(()=>F2,"ZodNonOptional"),ZodNever:s(()=>TC,"ZodNever"),ZodNanoID:s(()=>b2,"ZodNanoID"),ZodNaN:s(()=>QC,"ZodNaN"),ZodMap:s(()=>LC,"ZodMap"),ZodLiteral:s(()=>DC,"ZodLiteral"),ZodLazy:s(()=>YC,"ZodLazy"),ZodKSUID:s(()=>E2,"ZodKSUID"),ZodJWT:s(()=>I2,"ZodJWT"),ZodIssueCode:s(()=>xW,"ZodIssueCode"),ZodIntersection:s(()=>MC,"ZodIntersection"),ZodISOTime:s(()=>h2,"ZodISOTime"),ZodISODuration:s(()=>p2,"ZodISODuration"),ZodISODateTime:s(()=>d2,"ZodISODateTime"),ZodISODate:s(()=>f2,"ZodISODate"),ZodIPv6:s(()=>k2,"ZodIPv6"),ZodIPv4:s(()=>S2,"ZodIPv4"),ZodGUID:s(()=>Eh,"ZodGUID"),ZodFunction:s(()=>rM,"ZodFunction"),ZodFirstPartyTypeKind:s(()=>gv,"ZodFirstPartyTypeKind"),ZodFile:s(()=>BC,"ZodFile"),ZodError:s(()=>fJ,"ZodError"),ZodEnum:s(()=>Fc,"ZodEnum"),ZodEmoji:s(()=>v2,"ZodEmoji"),ZodEmail:s(()=>g2,"ZodEmail"),ZodE164:s(()=>M2,"ZodE164"),ZodDiscriminatedUnion:s(()=>CC,"ZodDiscriminatedUnion"),ZodDefault:s(()=>FC,"ZodDefault"),ZodDate:s(()=>j2,"ZodDate"),ZodCustomStringFormat:s(()=>bd,"ZodCustomStringFormat"),ZodCustom:s(()=>tp,"ZodCustom"),ZodCodec:s(()=>H2,"ZodCodec"),ZodCatch:s(()=>JC,"ZodCatch"),ZodCUID2:s(()=>w2,"ZodCUID2"),ZodCUID:s(()=>y2,"ZodCUID"),ZodCIDRv6:s(()=>A2,"ZodCIDRv6"),ZodCIDRv4:s(()=>T2,"ZodCIDRv4"),ZodBoolean:s(()=>K0,"ZodBoolean"),ZodBigIntFormat:s(()=>O2,"ZodBigIntFormat"),ZodBigInt:s(()=>q0,"ZodBigInt"),ZodBase64URL:s(()=>C2,"ZodBase64URL"),ZodBase64:s(()=>N2,"ZodBase64"),ZodArray:s(()=>NC,"ZodArray"),ZodAny:s(()=>SC,"ZodAny"),TimePrecision:s(()=>hN,"TimePrecision"),NEVER:s(()=>Rk,"NEVER"),$output:s(()=>uN,"$output"),$input:s(()=>cN,"$input"),$brand:s(()=>jk,"$brand")});var Ok={};Ln(Ok,{version:s(()=>WT,"version"),util:s(()=>dr,"util"),treeifyError:s(()=>Gk,"treeifyError"),toJSONSchema:s(()=>YN,"toJSONSchema"),toDotPath:s(()=>Zk,"toDotPath"),safeParseAsync:s(()=>Qk,"safeParseAsync"),safeParse:s(()=>Wk,"safeParse"),safeEncodeAsync:s(()=>IV,"safeEncodeAsync"),safeEncode:s(()=>CV,"safeEncode"),safeDecodeAsync:s(()=>OV,"safeDecodeAsync"),safeDecode:s(()=>MV,"safeDecode"),registry:s(()=>Oy,"registry"),regexes:s(()=>Wo,"regexes"),prettifyError:s(()=>Jk,"prettifyError"),parseAsync:s(()=>dv,"parseAsync"),parse:s(()=>cv,"parse"),locales:s(()=>My,"locales"),isValidJWT:s(()=>bA,"isValidJWT"),isValidBase64URL:s(()=>mA,"isValidBase64URL"),isValidBase64:s(()=>Ey,"isValidBase64"),globalRegistry:s(()=>vo,"globalRegistry"),globalConfig:s(()=>vh,"globalConfig"),formatError:s(()=>dy,"formatError"),flattenError:s(()=>cy,"flattenError"),encodeAsync:s(()=>AV,"encodeAsync"),encode:s(()=>kV,"encode"),decodeAsync:s(()=>NV,"decodeAsync"),decode:s(()=>TV,"decode"),config:s(()=>Hn,"config"),clone:s(()=>Ri,"clone"),_xid:s(()=>Hy,"_xid"),_void:s(()=>DN,"_void"),_uuidv7:s(()=>Dy,"_uuidv7"),_uuidv6:s(()=>Py,"_uuidv6"),_uuidv4:s(()=>Ly,"_uuidv4"),_uuid:s(()=>jy,"_uuid"),_url:s(()=>V0,"_url"),_uppercase:s(()=>r2,"_uppercase"),_unknown:s(()=>LN,"_unknown"),_union:s(()=>HZ,"_union"),_undefined:s(()=>ON,"_undefined"),_ulid:s(()=>$y,"_ulid"),_uint64:s(()=>MN,"_uint64"),_uint32:s(()=>SN,"_uint32"),_tuple:s(()=>ZZ,"_tuple"),_trim:s(()=>l2,"_trim"),_transform:s(()=>YZ,"_transform"),_toUpperCase:s(()=>c2,"_toUpperCase"),_toLowerCase:s(()=>u2,"_toLowerCase"),_templateLiteral:s(()=>lJ,"_templateLiteral"),_symbol:s(()=>IN,"_symbol"),_superRefine:s(()=>XN,"_superRefine"),_success:s(()=>iJ,"_success"),_stringbool:s(()=>qN,"_stringbool"),_stringFormat:s(()=>vd,"_stringFormat"),_string:s(()=>dN,"_string"),_startsWith:s(()=>i2,"_startsWith"),_size:s(()=>Yy,"_size"),_set:s(()=>QZ,"_set"),_safeParseAsync:s(()=>fd,"_safeParseAsync"),_safeParse:s(()=>dd,"_safeParse"),_safeEncodeAsync:s(()=>by,"_safeEncodeAsync"),_safeEncode:s(()=>gy,"_safeEncode"),_safeDecodeAsync:s(()=>yy,"_safeDecodeAsync"),_safeDecode:s(()=>vy,"_safeDecode"),_regex:s(()=>e2,"_regex"),_refine:s(()=>QN,"_refine"),_record:s(()=>JZ,"_record"),_readonly:s(()=>oJ,"_readonly"),_property:s(()=>GN,"_property"),_promise:s(()=>cJ,"_promise"),_positive:s(()=>FN,"_positive"),_pipe:s(()=>aJ,"_pipe"),_parseAsync:s(()=>cd,"_parseAsync"),_parse:s(()=>ud,"_parse"),_overwrite:s(()=>Qo,"_overwrite"),_optional:s(()=>eJ,"_optional"),_number:s(()=>bN,"_number"),_nullable:s(()=>tJ,"_nullable"),_null:s(()=>RN,"_null"),_normalize:s(()=>o2,"_normalize"),_nonpositive:s(()=>HN,"_nonpositive"),_nonoptional:s(()=>nJ,"_nonoptional"),_nonnegative:s(()=>VN,"_nonnegative"),_never:s(()=>PN,"_never"),_negative:s(()=>$N,"_negative"),_nativeEnum:s(()=>KZ,"_nativeEnum"),_nanoid:s(()=>zy,"_nanoid"),_nan:s(()=>UN,"_nan"),_multipleOf:s(()=>zc,"_multipleOf"),_minSize:s(()=>Uc,"_minSize"),_minLength:s(()=>Fl,"_minLength"),_min:s(()=>li,"_min"),_mime:s(()=>a2,"_mime"),_maxSize:s(()=>G0,"_maxSize"),_maxLength:s(()=>Z0,"_maxLength"),_max:s(()=>Qi,"_max"),_map:s(()=>WZ,"_map"),_lte:s(()=>Qi,"_lte"),_lt:s(()=>Bo,"_lt"),_lowercase:s(()=>t2,"_lowercase"),_literal:s(()=>qZ,"_literal"),_length:s(()=>J0,"_length"),_lazy:s(()=>uJ,"_lazy"),_ksuid:s(()=>Vy,"_ksuid"),_jwt:s(()=>qy,"_jwt"),_isoTime:s(()=>gN,"_isoTime"),_isoDuration:s(()=>vN,"_isoDuration"),_isoDateTime:s(()=>pN,"_isoDateTime"),_isoDate:s(()=>mN,"_isoDate"),_ipv6:s(()=>Zy,"_ipv6"),_ipv4:s(()=>Gy,"_ipv4"),_intersection:s(()=>GZ,"_intersection"),_int64:s(()=>CN,"_int64"),_int32:s(()=>EN,"_int32"),_int:s(()=>wN,"_int"),_includes:s(()=>n2,"_includes"),_guid:s(()=>_h,"_guid"),_gte:s(()=>li,"_gte"),_gt:s(()=>zo,"_gt"),_float64:s(()=>_N,"_float64"),_float32:s(()=>xN,"_float32"),_file:s(()=>JN,"_file"),_enum:s(()=>XZ,"_enum"),_endsWith:s(()=>s2,"_endsWith"),_encodeAsync:s(()=>py,"_encodeAsync"),_encode:s(()=>fy,"_encode"),_emoji:s(()=>By,"_emoji"),_email:s(()=>Ry,"_email"),_e164:s(()=>Ky,"_e164"),_discriminatedUnion:s(()=>VZ,"_discriminatedUnion"),_default:s(()=>rJ,"_default"),_decodeAsync:s(()=>my,"_decodeAsync"),_decode:s(()=>hy,"_decode"),_date:s(()=>BN,"_date"),_custom:s(()=>WN,"_custom"),_cuid2:s(()=>Fy,"_cuid2"),_cuid:s(()=>Uy,"_cuid"),_coercedString:s(()=>fN,"_coercedString"),_coercedNumber:s(()=>yN,"_coercedNumber"),_coercedDate:s(()=>zN,"_coercedDate"),_coercedBoolean:s(()=>TN,"_coercedBoolean"),_coercedBigint:s(()=>NN,"_coercedBigint"),_cidrv6:s(()=>Wy,"_cidrv6"),_cidrv4:s(()=>Jy,"_cidrv4"),_check:s(()=>KN,"_check"),_catch:s(()=>sJ,"_catch"),_boolean:s(()=>kN,"_boolean"),_bigint:s(()=>AN,"_bigint"),_base64url:s(()=>Xy,"_base64url"),_base64:s(()=>Qy,"_base64"),_array:s(()=>ZN,"_array"),_any:s(()=>jN,"_any"),TimePrecision:s(()=>hN,"TimePrecision"),NEVER:s(()=>Rk,"NEVER"),JSONSchemaGenerator:s(()=>hv,"JSONSchemaGenerator"),JSONSchema:s(()=>dJ,"JSONSchema"),Doc:s(()=>JT,"Doc"),$output:s(()=>uN,"$output"),$input:s(()=>cN,"$input"),$constructor:s(()=>$e,"$constructor"),$brand:s(()=>jk,"$brand"),$ZodXID:s(()=>iA,"$ZodXID"),$ZodVoid:s(()=>CA,"$ZodVoid"),$ZodUnknown:s(()=>AA,"$ZodUnknown"),$ZodUnion:s(()=>Ay,"$ZodUnion"),$ZodUndefined:s(()=>SA,"$ZodUndefined"),$ZodUUID:s(()=>XT,"$ZodUUID"),$ZodURL:s(()=>qT,"$ZodURL"),$ZodULID:s(()=>nA,"$ZodULID"),$ZodType:s(()=>Qt,"$ZodType"),$ZodTuple:s(()=>Ny,"$ZodTuple"),$ZodTransform:s(()=>VA,"$ZodTransform"),$ZodTemplateLiteral:s(()=>tN,"$ZodTemplateLiteral"),$ZodSymbol:s(()=>EA,"$ZodSymbol"),$ZodSuccess:s(()=>XA,"$ZodSuccess"),$ZodStringFormat:s(()=>Ir,"$ZodStringFormat"),$ZodString:s(()=>gd,"$ZodString"),$ZodSet:s(()=>UA,"$ZodSet"),$ZodRegistry:s(()=>Iy,"$ZodRegistry"),$ZodRecord:s(()=>BA,"$ZodRecord"),$ZodRealError:s(()=>gi,"$ZodRealError"),$ZodReadonly:s(()=>eN,"$ZodReadonly"),$ZodPromise:s(()=>nN,"$ZodPromise"),$ZodPrefault:s(()=>WA,"$ZodPrefault"),$ZodPipe:s(()=>YA,"$ZodPipe"),$ZodOptional:s(()=>GA,"$ZodOptional"),$ZodObjectJIT:s(()=>LA,"$ZodObjectJIT"),$ZodObject:s(()=>jA,"$ZodObject"),$ZodNumberFormat:s(()=>xA,"$ZodNumberFormat"),$ZodNumber:s(()=>Sy,"$ZodNumber"),$ZodNullable:s(()=>ZA,"$ZodNullable"),$ZodNull:s(()=>kA,"$ZodNull"),$ZodNonOptional:s(()=>QA,"$ZodNonOptional"),$ZodNever:s(()=>NA,"$ZodNever"),$ZodNanoID:s(()=>eA,"$ZodNanoID"),$ZodNaN:s(()=>qA,"$ZodNaN"),$ZodMap:s(()=>zA,"$ZodMap"),$ZodLiteral:s(()=>$A,"$ZodLiteral"),$ZodLazy:s(()=>iN,"$ZodLazy"),$ZodKSUID:s(()=>sA,"$ZodKSUID"),$ZodJWT:s(()=>yA,"$ZodJWT"),$ZodIntersection:s(()=>DA,"$ZodIntersection"),$ZodISOTime:s(()=>lA,"$ZodISOTime"),$ZodISODuration:s(()=>uA,"$ZodISODuration"),$ZodISODateTime:s(()=>aA,"$ZodISODateTime"),$ZodISODate:s(()=>oA,"$ZodISODate"),$ZodIPv6:s(()=>dA,"$ZodIPv6"),$ZodIPv4:s(()=>cA,"$ZodIPv4"),$ZodGUID:s(()=>QT,"$ZodGUID"),$ZodFunction:s(()=>rN,"$ZodFunction"),$ZodFile:s(()=>HA,"$ZodFile"),$ZodError:s(()=>uy,"$ZodError"),$ZodEnum:s(()=>FA,"$ZodEnum"),$ZodEncodeError:s(()=>U0,"$ZodEncodeError"),$ZodEmoji:s(()=>YT,"$ZodEmoji"),$ZodEmail:s(()=>KT,"$ZodEmail"),$ZodE164:s(()=>vA,"$ZodE164"),$ZodDiscriminatedUnion:s(()=>PA,"$ZodDiscriminatedUnion"),$ZodDefault:s(()=>JA,"$ZodDefault"),$ZodDate:s(()=>MA,"$ZodDate"),$ZodCustomStringFormat:s(()=>wA,"$ZodCustomStringFormat"),$ZodCustom:s(()=>sN,"$ZodCustom"),$ZodCodec:s(()=>Cy,"$ZodCodec"),$ZodCheckUpperCase:s(()=>UT,"$ZodCheckUpperCase"),$ZodCheckStringFormat:s(()=>md,"$ZodCheckStringFormat"),$ZodCheckStartsWith:s(()=>$T,"$ZodCheckStartsWith"),$ZodCheckSizeEquals:s(()=>jT,"$ZodCheckSizeEquals"),$ZodCheckRegex:s(()=>BT,"$ZodCheckRegex"),$ZodCheckProperty:s(()=>VT,"$ZodCheckProperty"),$ZodCheckOverwrite:s(()=>ZT,"$ZodCheckOverwrite"),$ZodCheckNumberFormat:s(()=>MT,"$ZodCheckNumberFormat"),$ZodCheckMultipleOf:s(()=>CT,"$ZodCheckMultipleOf"),$ZodCheckMinSize:s(()=>RT,"$ZodCheckMinSize"),$ZodCheckMinLength:s(()=>PT,"$ZodCheckMinLength"),$ZodCheckMimeType:s(()=>GT,"$ZodCheckMimeType"),$ZodCheckMaxSize:s(()=>OT,"$ZodCheckMaxSize"),$ZodCheckMaxLength:s(()=>LT,"$ZodCheckMaxLength"),$ZodCheckLowerCase:s(()=>zT,"$ZodCheckLowerCase"),$ZodCheckLessThan:s(()=>xy,"$ZodCheckLessThan"),$ZodCheckLengthEquals:s(()=>DT,"$ZodCheckLengthEquals"),$ZodCheckIncludes:s(()=>FT,"$ZodCheckIncludes"),$ZodCheckGreaterThan:s(()=>_y,"$ZodCheckGreaterThan"),$ZodCheckEndsWith:s(()=>HT,"$ZodCheckEndsWith"),$ZodCheckBigIntFormat:s(()=>IT,"$ZodCheckBigIntFormat"),$ZodCheck:s(()=>Qr,"$ZodCheck"),$ZodCatch:s(()=>KA,"$ZodCatch"),$ZodCUID2:s(()=>rA,"$ZodCUID2"),$ZodCUID:s(()=>tA,"$ZodCUID"),$ZodCIDRv6:s(()=>hA,"$ZodCIDRv6"),$ZodCIDRv4:s(()=>fA,"$ZodCIDRv4"),$ZodBoolean:s(()=>ky,"$ZodBoolean"),$ZodBigIntFormat:s(()=>_A,"$ZodBigIntFormat"),$ZodBigInt:s(()=>Ty,"$ZodBigInt"),$ZodBase64URL:s(()=>gA,"$ZodBase64URL"),$ZodBase64:s(()=>pA,"$ZodBase64"),$ZodAsyncError:s(()=>To,"$ZodAsyncError"),$ZodArray:s(()=>IA,"$ZodArray"),$ZodAny:s(()=>TA,"$ZodAny")});var Rk=Object.freeze({status:"aborted"});function $e(e,t,r){function n(l,u){var c;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(c=l._zod).traits??(c.traits=new Set),l._zod.traits.add(e),t(l,u);for(let h in a.prototype)h in l||Object.defineProperty(l,h,{value:a.prototype[h].bind(l)});l._zod.constr=a,l._zod.def=u}s(n,"P");let i=r?.Parent??Object;class o extends i{static{s(this,"O")}}Object.defineProperty(o,"name",{value:e});function a(l){var u;let c=r?.Parent?new o:this;n(c,l),(u=c._zod).deferred??(u.deferred=[]);for(let h of c._zod.deferred)h();return c}return s(a,"j"),Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:s(l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(e),"value")}),Object.defineProperty(a,"name",{value:e}),a}s($e,"P$");var jk=Symbol("zod_brand");class To extends Error{static{s(this,"d8")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class U0 extends Error{static{s(this,"H_")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}var vh={};function Hn(e){return e&&Object.assign(vh,e),vh}s(Hn,"p6");var dr={};Ln(dr,{unwrapMessage:s(()=>Wu,"unwrapMessage"),uint8ArrayToHex:s(()=>EV,"uint8ArrayToHex"),uint8ArrayToBase64url:s(()=>xV,"uint8ArrayToBase64url"),uint8ArrayToBase64:s(()=>Hk,"uint8ArrayToBase64"),stringifyPrimitive:s(()=>Wt,"stringifyPrimitive"),shallowClone:s(()=>Dk,"shallowClone"),safeExtend:s(()=>mV,"safeExtend"),required:s(()=>bV,"required"),randomString:s(()=>lV,"randomString"),propertyKeyTypes:s(()=>yh,"propertyKeyTypes"),promiseAllObject:s(()=>oV,"promiseAllObject"),primitiveTypes:s(()=>Bk,"primitiveTypes"),prefixIssues:s(()=>Ji,"prefixIssues"),pick:s(()=>fV,"pick"),partial:s(()=>vV,"partial"),optionalKeys:s(()=>zk,"optionalKeys"),omit:s(()=>hV,"omit"),objectClone:s(()=>iV,"objectClone"),numKeys:s(()=>uV,"numKeys"),nullish:s(()=>Jo,"nullish"),normalizeParams:s(()=>St,"normalizeParams"),mergeDefs:s(()=>Ja,"mergeDefs"),merge:s(()=>gV,"merge"),jsonStringifyReplacer:s(()=>bh,"jsonStringifyReplacer"),joinValues:s(()=>Et,"joinValues"),issue:s(()=>wh,"issue"),isPlainObject:s(()=>Do,"isPlainObject"),isObject:s(()=>zl,"isObject"),hexToUint8Array:s(()=>_V,"hexToUint8Array"),getSizableOrigin:s(()=>$0,"getSizableOrigin"),getParsedType:s(()=>cV,"getParsedType"),getLengthableOrigin:s(()=>H0,"getLengthableOrigin"),getEnumValues:s(()=>oy,"getEnumValues"),getElementAtPath:s(()=>aV,"getElementAtPath"),floatSafeRemainder:s(()=>Lk,"floatSafeRemainder"),finalizeIssue:s(()=>qi,"finalizeIssue"),extend:s(()=>pV,"extend"),escapeRegex:s(()=>Fa,"escapeRegex"),esc:s(()=>uv,"esc"),defineLazy:s(()=>or,"defineLazy"),createTransparentProxy:s(()=>dV,"createTransparentProxy"),cloneDef:s(()=>sV,"cloneDef"),clone:s(()=>Ri,"clone"),cleanRegex:s(()=>F0,"cleanRegex"),cleanEnum:s(()=>yV,"cleanEnum"),captureStackTrace:s(()=>ly,"captureStackTrace"),cached:s(()=>ld,"cached"),base64urlToUint8Array:s(()=>wV,"base64urlToUint8Array"),base64ToUint8Array:s(()=>$k,"base64ToUint8Array"),assignProp:s(()=>Za,"assignProp"),assertNotEqual:s(()=>eV,"assertNotEqual"),assertNever:s(()=>rV,"assertNever"),assertIs:s(()=>tV,"assertIs"),assertEqual:s(()=>YH,"assertEqual"),assert:s(()=>nV,"assert"),allowsEval:s(()=>Pk,"allowsEval"),aborted:s(()=>go,"aborted"),NUMBER_FORMAT_RANGES:s(()=>Uk,"NUMBER_FORMAT_RANGES"),Class:s(()=>SV,"Class"),BIGINT_FORMAT_RANGES:s(()=>Fk,"BIGINT_FORMAT_RANGES")});function YH(e){return e}s(YH,"hI");function eV(e){return e}s(eV,"RI");function tV(e){}s(tV,"II");function rV(e){throw Error()}s(rV,"DI");function nV(e){}s(nV,"LI");function oy(e){let t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,n])=>t.indexOf(+r)===-1).map(([r,n])=>n)}s(oy,"DP");function Et(e,t="|"){return e.map(r=>Wt(r)).join(t)}s(Et,"z$");function bh(e,t){return typeof t=="bigint"?t.toString():t}s(bh,"O4");function ld(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}s(ld,"Y4");function Jo(e){return e==null}s(Jo,"xK");function F0(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}s(F0,"LP");function Lk(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let u=n.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}let o=r>i?r:i,a=Number.parseInt(e.toFixed(o).replace(".","")),l=Number.parseInt(t.toFixed(o).replace(".",""));return a%l/10**o}s(Lk,"l2");var yw=Symbol("evaluating");function or(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==yw)return n===void 0&&(n=yw,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}s(or,"Z6");function iV(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}s(iV,"bI");function Za(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}s(Za,"cK");function Ja(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}s(Ja,"pK");function sV(e){return Ja(e._zod.def)}s(sV,"gI");function aV(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}s(aV,"yI");function oV(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<t.length;o++)i[t[o]]=n[o];return i})}s(oV,"uI");function lV(e=10){let t="";for(let r=0;r<e;r++)t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return t}s(lV,"xI");function uv(e){return JSON.stringify(e)}s(uv,"_9");var ly="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function zl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}s(zl,"J_");var Pk=ld(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch{return!1}});function Do(e){if(zl(e)===!1)return!1;let t=e.constructor;if(t===void 0)return!0;let r=t.prototype;return!(zl(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}s(Do,"mK");function Dk(e){return Do(e)?{...e}:Array.isArray(e)?[...e]:e}s(Dk,"o2");function uV(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}s(uV,"cI");var cV=s(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw Error(`Unknown data type: ${t}`)}},"pI"),yh=new Set(["string","number","symbol"]),Bk=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Fa(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Fa,"l8");function Ri(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}s(Ri,"uq");function St(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:s(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:s(()=>t.error,"error")}:t}s(St,"d$");function dV(e){let t;return new Proxy({},{get(r,n,i){return t??(t=e()),Reflect.get(t,n,i)},set(r,n,i,o){return t??(t=e()),Reflect.set(t,n,i,o)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,i){return t??(t=e()),Reflect.defineProperty(t,n,i)}})}s(dV,"mI");function Wt(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}s(Wt,"m$");function zk(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}s(zk,"i2");var Uk={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Fk={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function fV(e,t){let r=e._zod.def,n=Ja(e._zod.def,{get shape(){let i={};for(let o in t){if(!(o in r.shape))throw Error(`Unrecognized key: "${o}"`);t[o]&&(i[o]=r.shape[o])}return Za(this,"shape",i),i},checks:[]});return Ri(e,n)}s(fV,"dI");function hV(e,t){let r=e._zod.def,n=Ja(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let o in t){if(!(o in r.shape))throw Error(`Unrecognized key: "${o}"`);t[o]&&delete i[o]}return Za(this,"shape",i),i},checks:[]});return Ri(e,n)}s(hV,"lI");function pV(e,t){if(!Do(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=Ja(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return Za(this,"shape",i),i},checks:[]});return Ri(e,n)}s(pV,"rI");function mV(e,t){if(!Do(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Za(this,"shape",n),n},checks:e._zod.def.checks};return Ri(e,r)}s(mV,"oI");function gV(e,t){let r=Ja(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Za(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ri(e,r)}s(gV,"nI");function vV(e,t,r){let n=Ja(t._zod.def,{get shape(){let i=t._zod.def.shape,o={...i};if(r)for(let a in r){if(!(a in i))throw Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=e?new e({type:"optional",innerType:i[a]}):i[a])}else for(let a in i)o[a]=e?new e({type:"optional",innerType:i[a]}):i[a];return Za(this,"shape",o),o},checks:[]});return Ri(t,n)}s(vV,"iI");function bV(e,t,r){let n=Ja(t._zod.def,{get shape(){let i=t._zod.def.shape,o={...i};if(r)for(let a in r){if(!(a in o))throw Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=new e({type:"nonoptional",innerType:i[a]}))}else for(let a in i)o[a]=new e({type:"nonoptional",innerType:i[a]});return Za(this,"shape",o),o},checks:[]});return Ri(t,n)}s(bV,"BI");function go(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}s(go,"dK");function Ji(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}s(Ji,"$8");function Wu(e){return typeof e=="string"?e:e?.message}s(Wu,"IP");function qi(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let i=Wu(e.inst?._zod.def?.error?.(e))??Wu(t?.error?.(e))??Wu(r.customError?.(e))??Wu(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,!t?.reportInput&&delete n.input,n}s(qi,"q8");function $0(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}s($0,"gP");function H0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}s(H0,"yP");function wh(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}s(wh,"v4");function yV(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}s(yV,"tI");function $k(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}s($k,"af");function Hk(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}s(Hk,"Qf");function wV(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return $k(t+r)}s(wV,"UI");function xV(e){return Hk(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}s(xV,"FI");function _V(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}s(_V,"aI");function EV(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}s(EV,"QI");class SV{static{s(this,"ef")}constructor(...t){}}var Vk=s((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,bh,2),Object.defineProperty(e,"toString",{value:s(()=>e.message,"value"),enumerable:!1})},"sf"),uy=$e("$ZodError",Vk),gi=$e("$ZodError",Vk,{Parent:Error});function cy(e,t=r=>r.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}s(cy,"xP");function dy(e,t){let r=t||function(o){return o.message},n={_errors:[]},i=s(o=>{for(let a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>i({issues:l}));else if(a.code==="invalid_key")i({issues:a.issues});else if(a.code==="invalid_element")i({issues:a.issues});else if(a.path.length===0)n._errors.push(r(a));else{let l=n,u=0;for(;u<a.path.length;){let c=a.path[u];u!==a.path.length-1?l[c]=l[c]||{_errors:[]}:(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(a))),l=l[c],u++}}},"_");return i(e),n}s(dy,"cP");function Gk(e,t){let r=t||function(o){return o.message},n={errors:[]},i=s((o,a=[])=>{var l,u;for(let c of o.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(h=>i({issues:h},c.path));else if(c.code==="invalid_key")i({issues:c.issues},c.path);else if(c.code==="invalid_element")i({issues:c.issues},c.path);else{let h=[...a,...c.path];if(h.length===0){n.errors.push(r(c));continue}let f=n,v=0;for(;v<h.length;){let m=h[v],w=v===h.length-1;typeof m=="string"?(f.properties??(f.properties={}),(l=f.properties)[m]??(l[m]={errors:[]}),f=f.properties[m]):(f.items??(f.items=[]),(u=f.items)[m]??(u[m]={errors:[]}),f=f.items[m]),w&&f.errors.push(r(c)),v++}}},"_");return i(e),n}s(Gk,"U2");function Zk(e){let t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}s(Zk,"$X");function Jk(e){let t=[],r=[...e.issues].sort((n,i)=>(n.path??[]).length-(i.path??[]).length);for(let n of r)t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${Zk(n.path)}`);return t.join(`
`)}s(Jk,"F2");var ud=s(e=>(t,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new To;if(a.issues.length){let l=new(i?.Err??e)(a.issues.map(u=>qi(u,o,Hn())));throw ly(l,i?.callee),l}return a.value},"z4"),cv=ud(gi),cd=s(e=>async(t,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){let l=new(i?.Err??e)(a.issues.map(u=>qi(u,o,Hn())));throw ly(l,i?.callee),l}return a.value},"W4"),dv=cd(gi),dd=s(e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new To;return o.issues.length?{success:!1,error:new(e??uy)(o.issues.map(a=>qi(a,i,Hn())))}:{success:!0,data:o.value}},"H4"),Wk=dd(gi),fd=s(e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(a=>qi(a,i,Hn())))}:{success:!0,data:o.value}},"J4"),Qk=fd(gi),fy=s(e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ud(e)(t,r,i)},"Y9"),kV=fy(gi),hy=s(e=>(t,r,n)=>ud(e)(t,r,n),"v9"),TV=hy(gi),py=s(e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cd(e)(t,r,i)},"z9"),AV=py(gi),my=s(e=>async(t,r,n)=>cd(e)(t,r,n),"W9"),NV=my(gi),gy=s(e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return dd(e)(t,r,i)},"H9"),CV=gy(gi),vy=s(e=>(t,r,n)=>dd(e)(t,r,n),"J9"),MV=vy(gi),by=s(e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return fd(e)(t,r,i)},"T9"),IV=by(gi),yy=s(e=>async(t,r,n)=>fd(e)(t,r,n),"w9"),OV=yy(gi),Wo={};Ln(Wo,{xid:s(()=>Yk,"xid"),uuid7:s(()=>PV,"uuid7"),uuid6:s(()=>LV,"uuid6"),uuid4:s(()=>jV,"uuid4"),uuid:s(()=>Ul,"uuid"),uppercase:s(()=>AT,"uppercase"),unicodeEmail:s(()=>sT,"unicodeEmail"),undefined:s(()=>kT,"undefined"),ulid:s(()=>qk,"ulid"),time:s(()=>vT,"time"),string:s(()=>yT,"string"),sha512_hex:s(()=>tG,"sha512_hex"),sha512_base64url:s(()=>nG,"sha512_base64url"),sha512_base64:s(()=>rG,"sha512_base64"),sha384_hex:s(()=>qV,"sha384_hex"),sha384_base64url:s(()=>eG,"sha384_base64url"),sha384_base64:s(()=>YV,"sha384_base64"),sha256_hex:s(()=>QV,"sha256_hex"),sha256_base64url:s(()=>KV,"sha256_base64url"),sha256_base64:s(()=>XV,"sha256_base64"),sha1_hex:s(()=>ZV,"sha1_hex"),sha1_base64url:s(()=>WV,"sha1_base64url"),sha1_base64:s(()=>JV,"sha1_base64"),rfc5322Email:s(()=>BV,"rfc5322Email"),number:s(()=>_T,"number"),null:s(()=>ST,"null"),nanoid:s(()=>tT,"nanoid"),md5_hex:s(()=>HV,"md5_hex"),md5_base64url:s(()=>GV,"md5_base64url"),md5_base64:s(()=>VV,"md5_base64"),lowercase:s(()=>TT,"lowercase"),ksuid:s(()=>eT,"ksuid"),ipv6:s(()=>lT,"ipv6"),ipv4:s(()=>oT,"ipv4"),integer:s(()=>xT,"integer"),idnEmail:s(()=>zV,"idnEmail"),html5Email:s(()=>DV,"html5Email"),hostname:s(()=>fT,"hostname"),hex:s(()=>$V,"hex"),guid:s(()=>nT,"guid"),extendedDuration:s(()=>RV,"extendedDuration"),emoji:s(()=>aT,"emoji"),email:s(()=>iT,"email"),e164:s(()=>hT,"e164"),duration:s(()=>rT,"duration"),domain:s(()=>FV,"domain"),datetime:s(()=>bT,"datetime"),date:s(()=>mT,"date"),cuid2:s(()=>Kk,"cuid2"),cuid:s(()=>Xk,"cuid"),cidrv6:s(()=>cT,"cidrv6"),cidrv4:s(()=>uT,"cidrv4"),browserEmail:s(()=>UV,"browserEmail"),boolean:s(()=>ET,"boolean"),bigint:s(()=>wT,"bigint"),base64url:s(()=>wy,"base64url"),base64:s(()=>dT,"base64")});var Xk=/^[cC][^\s-]{8,}$/,Kk=/^[0-9a-z]+$/,qk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Yk=/^[0-9a-vA-V]{20}$/,eT=/^[A-Za-z0-9]{27}$/,tT=/^[a-zA-Z0-9_-]{21}$/,rT=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,RV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nT=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ul=s(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"T_"),jV=Ul(4),LV=Ul(6),PV=Ul(7),iT=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,DV=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,BV=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,sT=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,zV=sT,UV=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function aT(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}s(aT,"YY");var oT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,uT=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dT=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wy=/^[A-Za-z0-9_-]*$/,fT=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,FV=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,hT=/^\+(?:[0-9]){6,14}[0-9]$/,pT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",mT=new RegExp(`^${pT}$`);function gT(e){return typeof e.precision=="number"?e.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":e.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${e.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}s(gT,"_X");function vT(e){return new RegExp(`^${gT(e)}$`)}s(vT,"fY");function bT(e){let t=gT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${pT}T(?:${n})$`)}s(bT,"XY");var yT=s(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"kY"),wT=/^-?\d+n?$/,xT=/^-?\d+$/,_T=/^-?\d+(?:\.\d+)?/,ET=/^(?:true|false)$/i,ST=/^null$/i,kT=/^undefined$/i,TT=/^[^A-Z]*$/,AT=/^[^a-z]*$/,$V=/^[0-9a-fA-F]*$/;function hd(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}s(hd,"pP");function pd(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}s(pd,"mP");var HV=/^[0-9a-fA-F]{32}$/,VV=hd(22,"=="),GV=pd(22),ZV=/^[0-9a-fA-F]{40}$/,JV=hd(27,"="),WV=pd(27),QV=/^[0-9a-fA-F]{64}$/,XV=hd(43,"="),KV=pd(43),qV=/^[0-9a-fA-F]{96}$/,YV=hd(64,""),eG=pd(64),tG=/^[0-9a-fA-F]{128}$/,rG=hd(86,"=="),nG=pd(86),Qr=$e("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),NT={number:"number",bigint:"bigint",object:"date"},xy=$e("$ZodCheckLessThan",(e,t)=>{Qr.init(e,t);let r=NT[typeof t.value];e._zod.onattach.push(n=>{let i=n._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_y=$e("$ZodCheckGreaterThan",(e,t)=>{Qr.init(e,t);let r=NT[typeof t.value];e._zod.onattach.push(n=>{let i=n._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),CT=$e("$ZodCheckMultipleOf",(e,t)=>{Qr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Lk(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),MT=$e("$ZodCheckNumberFormat",(e,t)=>{Qr.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,o]=Uk[t.format];e._zod.onattach.push(a=>{let l=a._zod.bag;l.format=t.format,l.minimum=i,l.maximum=o,r&&(l.pattern=xT)}),e._zod.check=a=>{let l=a.value;if(r){if(!Number.isInteger(l)){a.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<i&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:e})}}),IT=$e("$ZodCheckBigIntFormat",(e,t)=>{Qr.init(e,t);let[r,n]=Fk[t.format];e._zod.onattach.push(i=>{let o=i._zod.bag;o.format=t.format,o.minimum=r,o.maximum=n}),e._zod.check=i=>{let o=i.value;o<r&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),o>n&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:n,inst:e})}}),OT=$e("$ZodCheckMaxSize",(e,t)=>{var r;Qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Jo(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;i.size<=t.maximum||n.issues.push({origin:$0(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),RT=$e("$ZodCheckMinSize",(e,t)=>{var r;Qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Jo(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;i.size>=t.minimum||n.issues.push({origin:$0(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),jT=$e("$ZodCheckSizeEquals",(e,t)=>{var r;Qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Jo(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=t.size,i.maximum=t.size,i.size=t.size}),e._zod.check=n=>{let i=n.value,o=i.size;if(o===t.size)return;let a=o>t.size;n.issues.push({origin:$0(i),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),LT=$e("$ZodCheckMaxLength",(e,t)=>{var r;Qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Jo(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;if(i.length<=t.maximum)return;let o=H0(i);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),PT=$e("$ZodCheckMinLength",(e,t)=>{var r;Qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Jo(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;if(i.length>=t.minimum)return;let o=H0(i);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),DT=$e("$ZodCheckLengthEquals",(e,t)=>{var r;Qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Jo(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{let i=n.value,o=i.length;if(o===t.length)return;let a=H0(i),l=o>t.length;n.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),md=$e("$ZodCheckStringFormat",(e,t)=>{var r,n;Qr.init(e,t),e._zod.onattach.push(i=>{let o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),BT=$e("$ZodCheckRegex",(e,t)=>{md.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),zT=$e("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=TT),md.init(e,t)}),UT=$e("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=AT),md.init(e,t)}),FT=$e("$ZodCheckIncludes",(e,t)=>{Qr.init(e,t);let r=Fa(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),$T=$e("$ZodCheckStartsWith",(e,t)=>{Qr.init(e,t);let r=new RegExp(`^${Fa(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),HT=$e("$ZodCheckEndsWith",(e,t)=>{Qr.init(e,t);let r=new RegExp(`.*${Fa(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function ww(e,t,r){e.issues.length&&t.issues.push(...Ji(r,e.issues))}s(ww,"PX");var VT=$e("$ZodCheckProperty",(e,t)=>{Qr.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>ww(i,r,t.property));ww(n,r,t.property)}}),GT=$e("$ZodCheckMimeType",(e,t)=>{Qr.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),ZT=$e("$ZodCheckOverwrite",(e,t)=>{Qr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class JT{static{s(this,"k9")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let r=t.split(`
`).filter(o=>o),n=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(n)).map(o=>" ".repeat(this.indent*2)+o);for(let o of i)this.content.push(o)}compile(){let t=Function,r=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,n.join(`
`))}}var WT={major:4,minor:1,patch:11},Qt=$e("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=WT;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let i of n)for(let o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let i=s((a,l,u)=>{let c=go(a),h;for(let f of l){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(c)continue;let v=a.issues.length,m=f._zod.check(a);if(m instanceof Promise&&u?.async===!1)throw new To;if(h||m instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await m,a.issues.length!==v&&(c||(c=go(a,v)))});else{if(a.issues.length===v)continue;c||(c=go(a,v))}}return h?h.then(()=>a):a},"_"),o=s((a,l,u)=>{if(go(a))return a.aborted=!0,a;let c=i(l,n,u);if(c instanceof Promise){if(u.async===!1)throw new To;return c.then(h=>e._zod.parse(h,u))}return e._zod.parse(c,u)},"O");e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){let c=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(h=>o(h,a,l)):o(c,a,l)}let u=e._zod.parse(a,l);if(u instanceof Promise){if(l.async===!1)throw new To;return u.then(c=>i(c,n,l))}return i(u,n,l)}}e["~standard"]={validate:s(i=>{try{let o=Wk(e,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Qk(e,i).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},"validate"),vendor:"zod",version:1}}),gd=$e("$ZodString",(e,t)=>{Qt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??yT(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ir=$e("$ZodStringFormat",(e,t)=>{md.init(e,t),gd.init(e,t)}),QT=$e("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=nT),Ir.init(e,t)}),XT=$e("$ZodUUID",(e,t)=>{if(t.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ul(r))}else t.pattern??(t.pattern=Ul());Ir.init(e,t)}),KT=$e("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=iT),Ir.init(e,t)}),qT=$e("$ZodURL",(e,t)=>{Ir.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,!t.hostname.test(i.hostname)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:fT.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,!t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),YT=$e("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=aT()),Ir.init(e,t)}),eA=$e("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=tT),Ir.init(e,t)}),tA=$e("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Xk),Ir.init(e,t)}),rA=$e("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Kk),Ir.init(e,t)}),nA=$e("$ZodULID",(e,t)=>{t.pattern??(t.pattern=qk),Ir.init(e,t)}),iA=$e("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Yk),Ir.init(e,t)}),sA=$e("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=eT),Ir.init(e,t)}),aA=$e("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=bT(t)),Ir.init(e,t)}),oA=$e("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=mT),Ir.init(e,t)}),lA=$e("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=vT(t)),Ir.init(e,t)}),uA=$e("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=rT),Ir.init(e,t)}),cA=$e("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=oT),Ir.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),dA=$e("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=lT),Ir.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),fA=$e("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=uT),Ir.init(e,t)}),hA=$e("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=cT),Ir.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw Error();let[i,o]=n;if(!o)throw Error();let a=Number(o);if(`${a}`!==o||a<0||a>128)throw Error();new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Ey(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}s(Ey,"J5");var pA=$e("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=dT),Ir.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Ey(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function mA(e){if(!wy.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Ey(r)}s(mA,"XX");var gA=$e("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=wy),Ir.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{mA(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),vA=$e("$ZodE164",(e,t)=>{t.pattern??(t.pattern=hT),Ir.init(e,t)});function bA(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}s(bA,"kX");var yA=$e("$ZodJWT",(e,t)=>{Ir.init(e,t),e._zod.check=r=>{bA(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),wA=$e("$ZodCustomStringFormat",(e,t)=>{Ir.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),Sy=$e("$ZodNumber",(e,t)=>{Qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??_T,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),r}}),xA=$e("$ZodNumber",(e,t)=>{MT.init(e,t),Sy.init(e,t)}),ky=$e("$ZodBoolean",(e,t)=>{Qt.init(e,t),e._zod.pattern=ET,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),Ty=$e("$ZodBigInt",(e,t)=>{Qt.init(e,t),e._zod.pattern=wT,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),_A=$e("$ZodBigInt",(e,t)=>{IT.init(e,t),Ty.init(e,t)}),EA=$e("$ZodSymbol",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),r}}),SA=$e("$ZodUndefined",(e,t)=>{Qt.init(e,t),e._zod.pattern=kT,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),r}}),kA=$e("$ZodNull",(e,t)=>{Qt.init(e,t),e._zod.pattern=ST,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}}),TA=$e("$ZodAny",(e,t)=>{Qt.init(e,t),e._zod.parse=r=>r}),AA=$e("$ZodUnknown",(e,t)=>{Qt.init(e,t),e._zod.parse=r=>r}),NA=$e("$ZodNever",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),CA=$e("$ZodVoid",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),r}}),MA=$e("$ZodDate",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),r}});function xw(e,t,r){e.issues.length&&t.issues.push(...Ji(r,e.issues)),t.value[r]=e.value}s(xw,"YX");var IA=$e("$ZodArray",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let o=[];for(let a=0;a<i.length;a++){let l=i[a],u=t.element._zod.run({value:l,issues:[]},n);u instanceof Promise?o.push(u.then(c=>xw(c,r,a))):xw(u,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function xh(e,t,r,n){e.issues.length&&t.issues.push(...Ji(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}s(xh,"M9");function OA(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let r=zk(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}s(OA,"AX");function RA(e,t,r,n,i,o){let a=[],l=i.keySet,u=i.catchall._zod,c=u.def.type;for(let h of Object.keys(t)){if(l.has(h))continue;if(c==="never"){a.push(h);continue}let f=u.run({value:t[h],issues:[]},n);f instanceof Promise?e.push(f.then(v=>xh(v,r,h,t))):xh(f,r,h,t)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}s(RA,"GX");var jA=$e("$ZodObject",(e,t)=>{if(Qt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let a=t.shape;Object.defineProperty(t,"shape",{get:s(()=>{let l={...a};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let r=ld(()=>OA(t));or(e._zod,"propValues",()=>{let a=t.shape,l={};for(let u in a){let c=a[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(let h of c.values)l[u].add(h)}}return l});let n=zl,i=t.catchall,o;e._zod.parse=(a,l)=>{o??(o=r.value);let u=a.value;if(!n(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),a;a.value={};let c=[],h=o.shape;for(let f of o.keys){let v=h[f]._zod.run({value:u[f],issues:[]},l);v instanceof Promise?c.push(v.then(m=>xh(m,a,f,u))):xh(v,a,f,u)}return i?RA(c,u,a,l,r.value,e):c.length?Promise.all(c).then(()=>a):a}}),LA=$e("$ZodObjectJIT",(e,t)=>{jA.init(e,t);let r=e._zod.parse,n=ld(()=>OA(t)),i=s(f=>{let v=new JT(["shape","payload","ctx"]),m=n.value,w=s(I=>{let R=uv(I);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`},"E");v.write("const input = payload.value;");let _=Object.create(null),A=0;for(let I of m.keys)_[I]=`key_${A++}`;v.write("const newResult = {};");for(let I of m.keys){let R=_[I],L=uv(I);v.write(`const ${R} = ${w(I)};`),v.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${R}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");let M=v.compile();return(I,R)=>M(f,I,R)},"_"),o,a=zl,l=!vh.jitless,u=l&&Pk.value,c=t.catchall,h;e._zod.parse=(f,v)=>{h??(h=n.value);let m=f.value;return a(m)?l&&u&&v?.async===!1&&v.jitless!==!0?(o||(o=i(t.shape)),f=o(f,v),c?RA([],m,f,v,h,e):f):r(f,v):(f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f)}});function _w(e,t,r,n){for(let o of e)if(o.issues.length===0)return t.value=o.value,t;let i=e.filter(o=>!go(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(a=>qi(a,n,Hn())))}),t)}s(_w,"vX");var Ay=$e("$ZodUnion",(e,t)=>{Qt.init(e,t),or(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),or(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),or(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),or(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){let i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>F0(o.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(r)return n(i,o);let a=!1,l=[];for(let u of t.options){let c=u._zod.run({value:i.value,issues:[]},o);if(c instanceof Promise)l.push(c),a=!0;else{if(c.issues.length===0)return c;l.push(c)}}return a?Promise.all(l).then(u=>_w(u,i,e,o)):_w(l,i,e,o)}}),PA=$e("$ZodDiscriminatedUnion",(e,t)=>{Ay.init(e,t);let r=e._zod.parse;or(e._zod,"propValues",()=>{let i={};for(let o of t.options){let a=o._zod.propValues;if(!a||Object.keys(a).length===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(let[l,u]of Object.entries(a)){i[l]||(i[l]=new Set);for(let c of u)i[l].add(c)}}return i});let n=ld(()=>{let i=t.options,o=new Map;for(let a of i){let l=a._zod.propValues?.[t.discriminator];if(!l||l.size===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(let u of l){if(o.has(u))throw Error(`Duplicate discriminator value "${String(u)}"`);o.set(u,a)}}return o});e._zod.parse=(i,o)=>{let a=i.value;if(!zl(a))return i.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),i;let l=n.value.get(a?.[t.discriminator]);return l?l._zod.run(i,o):t.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),i)}}),DA=$e("$ZodIntersection",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value,o=t.left._zod.run({value:i,issues:[]},n),a=t.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([l,u])=>Ew(r,l,u)):Ew(r,o,a)}});function fv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Do(e)&&Do(t)){let r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),i={...e,...t};for(let o of n){let a=fv(e[o],t[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};i[o]=a.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t[n],a=fv(i,o);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}s(fv,"BY");function Ew(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),go(e))return e;let n=fv(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}s(Ew,"zX");var Ny=$e("$ZodTuple",(e,t)=>{Qt.init(e,t);let r=t.items,n=r.length-[...r].reverse().findIndex(i=>i._zod.optin!=="optional");e._zod.parse=(i,o)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let l=[];if(!t.rest){let c=a.length>r.length,h=a.length<n-1;if(c||h)return i.issues.push({...c?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),i}let u=-1;for(let c of r){if(u++,u>=a.length&&u>=n)continue;let h=c._zod.run({value:a[u],issues:[]},o);h instanceof Promise?l.push(h.then(f=>Kd(f,i,u))):Kd(h,i,u)}if(t.rest){let c=a.slice(r.length);for(let h of c){u++;let f=t.rest._zod.run({value:h,issues:[]},o);f instanceof Promise?l.push(f.then(v=>Kd(v,i,u))):Kd(f,i,u)}}return l.length?Promise.all(l).then(()=>i):i}});function Kd(e,t,r){e.issues.length&&t.issues.push(...Ji(r,e.issues)),t.value[r]=e.value}s(Kd,"A9");var BA=$e("$ZodRecord",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Do(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;let o=[];if(t.keyType._zod.values){let a=t.keyType._zod.values;r.value={};for(let u of a)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){let c=t.valueType._zod.run({value:i[u],issues:[]},n);c instanceof Promise?o.push(c.then(h=>{h.issues.length&&r.issues.push(...Ji(u,h.issues)),r.value[u]=h.value})):(c.issues.length&&r.issues.push(...Ji(u,c.issues)),r.value[u]=c.value)}let l;for(let u in i)a.has(u)||(l=l??[],l.push(u));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:l})}else{r.value={};for(let a of Reflect.ownKeys(i)){if(a==="__proto__")continue;let l=t.keyType._zod.run({value:a,issues:[]},n);if(l instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(c=>qi(c,n,Hn())),input:a,path:[a],inst:e}),r.value[l.value]=l.value;continue}let u=t.valueType._zod.run({value:i[a],issues:[]},n);u instanceof Promise?o.push(u.then(c=>{c.issues.length&&r.issues.push(...Ji(a,c.issues)),r.value[l.value]=c.value})):(u.issues.length&&r.issues.push(...Ji(a,u.issues)),r.value[l.value]=u.value)}}return o.length?Promise.all(o).then(()=>r):r}}),zA=$e("$ZodMap",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;let o=[];r.value=new Map;for(let[a,l]of i){let u=t.keyType._zod.run({value:a,issues:[]},n),c=t.valueType._zod.run({value:l,issues:[]},n);u instanceof Promise||c instanceof Promise?o.push(Promise.all([u,c]).then(([h,f])=>{Sw(h,f,r,a,i,e,n)})):Sw(u,c,r,a,i,e,n)}return o.length?Promise.all(o).then(()=>r):r}});function Sw(e,t,r,n,i,o,a){e.issues.length&&(yh.has(typeof n)?r.issues.push(...Ji(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:e.issues.map(l=>qi(l,a,Hn()))})),t.issues.length&&(yh.has(typeof n)?r.issues.push(...Ji(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:n,issues:t.issues.map(l=>qi(l,a,Hn()))})),r.value.set(e.value,t.value)}s(Sw,"WX");var UA=$e("$ZodSet",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;let o=[];r.value=new Set;for(let a of i){let l=t.valueType._zod.run({value:a,issues:[]},n);l instanceof Promise?o.push(l.then(u=>kw(u,r))):kw(l,r)}return o.length?Promise.all(o).then(()=>r):r}});function kw(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}s(kw,"HX");var FA=$e("$ZodEnum",(e,t)=>{Qt.init(e,t);let r=oy(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>yh.has(typeof i)).map(i=>typeof i=="string"?Fa(i):i.toString()).join("|")})$`),e._zod.parse=(i,o)=>{let a=i.value;return n.has(a)||i.issues.push({code:"invalid_value",values:r,input:a,inst:e}),i}}),$A=$e("$ZodLiteral",(e,t)=>{if(Qt.init(e,t),t.values.length===0)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Fa(r):r?Fa(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{let i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),HA=$e("$ZodFile",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),r}}),VA=$e("$ZodTransform",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new U0(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(r.value=o,r));if(i instanceof Promise)throw new To;return r.value=i,r}});function Tw(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}s(Tw,"JX");var GA=$e("$ZodOptional",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",or(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),or(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${F0(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>Tw(o,r.value)):Tw(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),ZA=$e("$ZodNullable",(e,t)=>{Qt.init(e,t),or(e._zod,"optin",()=>t.innerType._zod.optin),or(e._zod,"optout",()=>t.innerType._zod.optout),or(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${F0(r.source)}|null)$`):void 0}),or(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),JA=$e("$ZodDefault",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",or(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>Aw(o,t)):Aw(i,t)}});function Aw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}s(Aw,"TX");var WA=$e("$ZodPrefault",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",or(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),QA=$e("$ZodNonOptional",(e,t)=>{Qt.init(e,t),or(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>Nw(o,e)):Nw(i,e)}});function Nw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}s(Nw,"wX");var XA=$e("$ZodSuccess",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new U0("ZodSuccess");let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),KA=$e("$ZodCatch",(e,t)=>{Qt.init(e,t),or(e._zod,"optin",()=>t.innerType._zod.optin),or(e._zod,"optout",()=>t.innerType._zod.optout),or(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>qi(a,n,Hn()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>qi(o,n,Hn()))},input:r.value}),r.issues=[]),r)}}),qA=$e("$ZodNaN",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),YA=$e("$ZodPipe",(e,t)=>{Qt.init(e,t),or(e._zod,"values",()=>t.in._zod.values),or(e._zod,"optin",()=>t.in._zod.optin),or(e._zod,"optout",()=>t.out._zod.optout),or(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let o=t.out._zod.run(r,n);return o instanceof Promise?o.then(a=>qd(a,t.in,n)):qd(o,t.in,n)}let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(o=>qd(o,t.out,n)):qd(i,t.out,n)}});function qd(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}s(qd,"G9");var Cy=$e("$ZodCodec",(e,t)=>{Qt.init(e,t),or(e._zod,"values",()=>t.in._zod.values),or(e._zod,"optin",()=>t.in._zod.optin),or(e._zod,"optout",()=>t.out._zod.optout),or(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(o=>Yd(o,t,n)):Yd(i,t,n)}else{let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>Yd(o,t,n)):Yd(i,t,n)}}});function Yd(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let n=t.transform(e.value,e);return n instanceof Promise?n.then(i=>ef(e,i,t.out,r)):ef(e,n,t.out,r)}else{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(i=>ef(e,i,t.in,r)):ef(e,n,t.in,r)}}s(Yd,"V9");function ef(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}s(ef,"S9");var eN=$e("$ZodReadonly",(e,t)=>{Qt.init(e,t),or(e._zod,"propValues",()=>t.innerType._zod.propValues),or(e._zod,"values",()=>t.innerType._zod.values),or(e._zod,"optin",()=>t.innerType._zod.optin),or(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(Cw):Cw(i)}});function Cw(e){return e.value=Object.freeze(e.value),e}s(Cw,"ZX");var tN=$e("$ZodTemplateLiteral",(e,t)=>{Qt.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw Error(`Invalid template literal part: ${n._zod.traits}`);let o=i.startsWith("^")?1:0,a=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(o,a))}else if(n===null||Bk.has(typeof n))r.push(Fa(`${n}`));else throw Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),rN=$e("$ZodFunction",(e,t)=>(Qt.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw Error("implement() must be called with a function");return function(...n){let i=e._def.input?cv(e._def.input,n):n,o=Reflect.apply(r,this,i);return e._def.output?cv(e._def.output,o):o}},e.implementAsync=r=>{if(typeof r!="function")throw Error("implementAsync() must be called with a function");return async function(...n){let i=e._def.input?await dv(e._def.input,n):n,o=await Reflect.apply(r,this,i);return e._def.output?await dv(e._def.output,o):o}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new Ny({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>new e.constructor({type:"function",input:e._def.input,output:r}),e)),nN=$e("$ZodPromise",(e,t)=>{Qt.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>t.innerType._zod.run({value:i,issues:[]},n))}),iN=$e("$ZodLazy",(e,t)=>{Qt.init(e,t),or(e._zod,"innerType",()=>t.getter()),or(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),or(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),or(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),or(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),sN=$e("$ZodCustom",(e,t)=>{Qr.init(e,t),Qt.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(o=>Mw(o,r,n,e));Mw(i,r,n,e)}});function Mw(e,t,r,n){if(!e){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(wh(i))}}s(Mw,"fX");var My={};Ln(My,{zhTW:s(()=>UZ,"zhTW"),zhCN:s(()=>BZ,"zhCN"),yo:s(()=>$Z,"yo"),vi:s(()=>PZ,"vi"),ur:s(()=>jZ,"ur"),uk:s(()=>lN,"uk"),ua:s(()=>OZ,"ua"),tr:s(()=>MZ,"tr"),th:s(()=>AZ,"th"),ta:s(()=>kZ,"ta"),sv:s(()=>EZ,"sv"),sl:s(()=>xZ,"sl"),ru:s(()=>yZ,"ru"),pt:s(()=>vZ,"pt"),ps:s(()=>hZ,"ps"),pl:s(()=>mZ,"pl"),ota:s(()=>dZ,"ota"),no:s(()=>uZ,"no"),nl:s(()=>oZ,"nl"),ms:s(()=>sZ,"ms"),mk:s(()=>nZ,"mk"),lt:s(()=>tZ,"lt"),ko:s(()=>qG,"ko"),km:s(()=>oN,"km"),kh:s(()=>XG,"kh"),ka:s(()=>WG,"ka"),ja:s(()=>GG,"ja"),it:s(()=>HG,"it"),is:s(()=>FG,"is"),id:s(()=>BG,"id"),hu:s(()=>PG,"hu"),he:s(()=>jG,"he"),frCA:s(()=>OG,"frCA"),fr:s(()=>MG,"fr"),fi:s(()=>NG,"fi"),fa:s(()=>TG,"fa"),es:s(()=>SG,"es"),eo:s(()=>_G,"eo"),en:s(()=>aN,"en"),de:s(()=>vG,"de"),da:s(()=>mG,"da"),cs:s(()=>hG,"cs"),ca:s(()=>dG,"ca"),be:s(()=>uG,"be"),az:s(()=>oG,"az"),ar:s(()=>sG,"ar")});var iG=s(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :   ${i.expected}    ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :   ${Wt(i.values[0])}`:`  :     : ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`   :    ${i.origin??""} ${o} ${i.maximum.toString()} ${a.unit??""}`:`  :    ${i.origin??""} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`  :   ${i.origin}   ${o} ${i.minimum.toString()} ${a.unit}`:`  :   ${i.origin}   ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`  :     "${i.prefix}"`:o.format==="ends_with"?`  :     "${o.suffix}"`:o.format==="includes"?`  :    "${o.includes}"`:o.format==="regex"?`  :     ${o.pattern}`:`${n[o.format]??i.format}  `}case"not_multiple_of":return`  :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${Et(i.keys," ")}`;case"invalid_key":return`    ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${i.origin}`;default:return"  "}}},"gD");function sG(){return{localeError:iG()}}s(sG,"$3");var aG=s(()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl dyr: gzlniln ${i.expected}, daxil olan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl dyr: gzlniln ${Wt(i.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`ox byk: gzlniln ${i.origin??"dyr"} ${o}${i.maximum.toString()} ${a.unit??"element"}`:`ox byk: gzlniln ${i.origin??"dyr"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`ox kiik: gzlniln ${i.origin} ${o}${i.minimum.toString()} ${a.unit}`:`ox kiik: gzlniln ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Yanl mtn: "${o.prefix}" il balamaldr`:o.format==="ends_with"?`Yanl mtn: "${o.suffix}" il bitmlidir`:o.format==="includes"?`Yanl mtn: "${o.includes}" daxil olmaldr`:o.format==="regex"?`Yanl mtn: ${o.pattern} ablonuna uyun olmaldr`:`Yanl ${n[o.format]??i.format}`}case"not_multiple_of":return`Yanl dd: ${i.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${i.keys.length>1?"lar":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${i.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}},"yD");function oG(){return{localeError:aG()}}s(oG,"q3");function Iw(e,t,r,n){let i=Math.abs(e),o=i%10,a=i%100;return a>=11&&a<=19?n:o===1?t:o>=2&&o<=4?r:n}s(Iw,"SX");var lG=s(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}`:` :    ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);if(a){let l=Number(i.maximum),u=Iw(l,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${i.origin??""}  ${a.verb} ${o}${i.maximum.toString()} ${u}`}return` : ,  ${i.origin??""}   ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);if(a){let l=Number(i.minimum),u=Iw(l,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${i.origin}  ${a.verb} ${o}${i.minimum.toString()} ${u}`}return` : ,  ${i.origin}   ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` :    "${o.prefix}"`:o.format==="ends_with"?` :    "${o.suffix}"`:o.format==="includes"?` :   "${o.includes}"`:o.format==="regex"?` :    ${o.pattern}`:` ${n[o.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"uD");function uG(){return{localeError:lG()}}s(uG,"K3");var cG=s(()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invlid: s'esperava ${i.expected}, s'ha rebut ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invlid: s'esperava ${Wt(i.values[0])}`:`Opci invlida: s'esperava una de ${Et(i.values," o ")}`;case"too_big":{let o=i.inclusive?"com a mxim":"menys de",a=t(i.origin);return a?`Massa gran: s'esperava que ${i.origin??"el valor"} contingus ${o} ${i.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"com a mnim":"ms de",a=t(i.origin);return a?`Massa petit: s'esperava que ${i.origin} contingus ${o} ${i.minimum.toString()} ${a.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Format invlid: ha de comenar amb "${o.prefix}"`:o.format==="ends_with"?`Format invlid: ha d'acabar amb "${o.suffix}"`:o.format==="includes"?`Format invlid: ha d'incloure "${o.includes}"`:o.format==="regex"?`Format invlid: ha de coincidir amb el patr ${o.pattern}`:`Format invlid per a ${n[o.format]??i.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`Clau invlida a ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${i.origin}`;default:return"Entrada invlida"}}},"xD");function dG(){return{localeError:cG()}}s(dG,"_3");var fG=s(()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn vstup: oekvno ${i.expected}, obdreno ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn vstup: oekvno ${Wt(i.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Hodnota je pli velk: ${i.origin??"hodnota"} mus mt ${o}${i.maximum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli velk: ${i.origin??"hodnota"} mus bt ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Hodnota je pli mal: ${i.origin??"hodnota"} mus mt ${o}${i.minimum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli mal: ${i.origin??"hodnota"} mus bt ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neplatn etzec: mus zanat na "${o.prefix}"`:o.format==="ends_with"?`Neplatn etzec: mus konit na "${o.suffix}"`:o.format==="includes"?`Neplatn etzec: mus obsahovat "${o.includes}"`:o.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${o.pattern}`:`Neplatn formt ${n[o.format]??i.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${i.divisor}`;case"unrecognized_keys":return`Neznm kle: ${Et(i.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${i.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${i.origin}`;default:return"Neplatn vstup"}}},"cD");function hG(){return{localeError:fG()}}s(hG,"P3");var pG=s(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function r(a){return e[a]??null}s(r,"K");function n(a){return t[a]??a}s(n,"P");let i=s(a=>{let l=typeof a;switch(l){case"number":return Number.isNaN(a)?"NaN":"tal";case"object":return Array.isArray(a)?"liste":a===null?"null":Object.getPrototypeOf(a)!==Object.prototype&&a.constructor?a.constructor.name:"objekt"}return l},"_"),o={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return a=>{switch(a.code){case"invalid_type":return`Ugyldigt input: forventede ${n(a.expected)}, fik ${n(i(a.input))}`;case"invalid_value":return a.values.length===1?`Ugyldig vrdi: forventede ${Wt(a.values[0])}`:`Ugyldigt valg: forventede en af flgende ${Et(a.values,"|")}`;case"too_big":{let l=a.inclusive?"<=":"<",u=r(a.origin),c=n(a.origin);return u?`For stor: forventede ${c??"value"} ${u.verb} ${l} ${a.maximum.toString()} ${u.unit??"elementer"}`:`For stor: forventede ${c??"value"} havde ${l} ${a.maximum.toString()}`}case"too_small":{let l=a.inclusive?">=":">",u=r(a.origin),c=n(a.origin);return u?`For lille: forventede ${c} ${u.verb} ${l} ${a.minimum.toString()} ${u.unit}`:`For lille: forventede ${c} havde ${l} ${a.minimum.toString()}`}case"invalid_format":{let l=a;return l.format==="starts_with"?`Ugyldig streng: skal starte med "${l.prefix}"`:l.format==="ends_with"?`Ugyldig streng: skal ende med "${l.suffix}"`:l.format==="includes"?`Ugyldig streng: skal indeholde "${l.includes}"`:l.format==="regex"?`Ugyldig streng: skal matche mnsteret ${l.pattern}`:`Ugyldig ${o[l.format]??a.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${a.divisor}`;case"unrecognized_keys":return`${a.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${Et(a.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${a.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${a.origin}`;default:return"Ugyldigt input"}}},"pD");function mG(){return{localeError:pG()}}s(mG,"j3");var gG=s(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${i.expected}, erhalten ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ungltige Eingabe: erwartet ${Wt(i.values[0])}`:`Ungltige Option: erwartet eine von ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Zu gro: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ist`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ist`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ungltiger String: muss mit "${o.prefix}" beginnen`:o.format==="ends_with"?`Ungltiger String: muss mit "${o.suffix}" enden`:o.format==="includes"?`Ungltiger String: muss "${o.includes}" enthalten`:o.format==="regex"?`Ungltiger String: muss dem Muster ${o.pattern} entsprechen`:`Ungltig: ${n[o.format]??i.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${Et(i.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${i.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${i.origin}`;default:return"Ungltige Eingabe"}}},"mD");function vG(){return{localeError:gG()}}s(vG,"O3");var bG=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"dD"),yG=s(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}s(t,"q");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${bG(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${Wt(n.values[0])}`:`Invalid option: expected one of ${Et(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=t(n.origin);return o?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${o.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=t(n.origin);return o?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${o.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${Et(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}},"lD");function aN(){return{localeError:yG()}}s(aN,"rP");var wG=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"rD"),xG=s(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(n){return e[n]??null}s(t,"q");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendiis ${n.expected}, riceviis ${wG(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendiis ${Wt(n.values[0])}`:`Nevalida opcio: atendiis unu el ${Et(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=t(n.origin);return o?`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()} ${o.unit??"elementojn"}`:`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=t(n.origin);return o?`Tro malgranda: atendiis ke ${n.origin} havu ${i}${n.minimum.toString()} ${o.unit}`:`Tro malgranda: atendiis ke ${n.origin} estu ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} losilo${n.keys.length>1?"j":""}: ${Et(n.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}},"oD");function _G(){return{localeError:xG()}}s(_G,"Y3");var EG=s(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(a){return e[a]??null}s(r,"K");function n(a){return t[a]??a}s(n,"P");let i=s(a=>{let l=typeof a;switch(l){case"number":return Number.isNaN(a)?"NaN":"number";case"object":return Array.isArray(a)?"array":a===null?"null":Object.getPrototypeOf(a)!==Object.prototype?a.constructor.name:"object"}return l},"_"),o={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return a=>{switch(a.code){case"invalid_type":return`Entrada invlida: se esperaba ${n(a.expected)}, recibido ${n(i(a.input))}`;case"invalid_value":return a.values.length===1?`Entrada invlida: se esperaba ${Wt(a.values[0])}`:`Opcin invlida: se esperaba una de ${Et(a.values,"|")}`;case"too_big":{let l=a.inclusive?"<=":"<",u=r(a.origin),c=n(a.origin);return u?`Demasiado grande: se esperaba que ${c??"valor"} tuviera ${l}${a.maximum.toString()} ${u.unit??"elementos"}`:`Demasiado grande: se esperaba que ${c??"valor"} fuera ${l}${a.maximum.toString()}`}case"too_small":{let l=a.inclusive?">=":">",u=r(a.origin),c=n(a.origin);return u?`Demasiado pequeo: se esperaba que ${c} tuviera ${l}${a.minimum.toString()} ${u.unit}`:`Demasiado pequeo: se esperaba que ${c} fuera ${l}${a.minimum.toString()}`}case"invalid_format":{let l=a;return l.format==="starts_with"?`Cadena invlida: debe comenzar con "${l.prefix}"`:l.format==="ends_with"?`Cadena invlida: debe terminar en "${l.suffix}"`:l.format==="includes"?`Cadena invlida: debe incluir "${l.includes}"`:l.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${l.pattern}`:`Invlido ${o[l.format]??a.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${a.divisor}`;case"unrecognized_keys":return`Llave${a.keys.length>1?"s":""} desconocida${a.keys.length>1?"s":""}: ${Et(a.keys,", ")}`;case"invalid_key":return`Llave invlida en ${n(a.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${n(a.origin)}`;default:return"Entrada invlida"}}},"nD");function SG(){return{localeError:EG()}}s(SG,"v3");var kG=s(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected}  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])} `:` :    ${Et(i.values,"|")} `;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` : ${i.origin??""}  ${o}${i.maximum.toString()} ${a.unit??""} `:` : ${i.origin??""}  ${o}${i.maximum.toString()} `}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` : ${i.origin}  ${o}${i.minimum.toString()} ${a.unit} `:` : ${i.origin}  ${o}${i.minimum.toString()} `}case"invalid_format":{let o=i;return o.format==="starts_with"?` :   "${o.prefix}"  `:o.format==="ends_with"?` :   "${o.suffix}"  `:o.format==="includes"?` :   "${o.includes}" `:o.format==="regex"?` :    ${o.pattern}   `:`${n[o.format]??i.format} `}case"not_multiple_of":return` :   ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""} : ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"iD");function TG(){return{localeError:kG()}}s(TG,"z3");var AG=s(()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syte: tytyy olla ${Wt(i.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Liian suuri: ${a.subject} tytyy olla ${o}${i.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon tytyy olla ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Liian pieni: ${a.subject} tytyy olla ${o}${i.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon tytyy olla ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${o.prefix}"`:o.format==="ends_with"?`Virheellinen syte: tytyy loppua "${o.suffix}"`:o.format==="includes"?`Virheellinen syte: tytyy sislt "${o.includes}"`:o.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${o.pattern}`:`Virheellinen ${n[o.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Et(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}},"BD");function NG(){return{localeError:AG()}}s(NG,"W3");var CG=s(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : ${i.expected} attendu, ${r(i.input)} reu`;case"invalid_value":return i.values.length===1?`Entre invalide : ${Wt(i.values[0])} attendu`:`Option invalide : une valeur parmi ${Et(i.values,"|")} attendue`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Trop grand : ${i.origin??"valeur"} doit ${a.verb} ${o}${i.maximum.toString()} ${a.unit??"lment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit tre ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Trop petit : ${i.origin} doit ${a.verb} ${o}${i.minimum.toString()} ${a.unit}`:`Trop petit : ${i.origin} doit tre ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chane invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Chane invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Chane invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Chane invalide : doit correspondre au modle ${o.pattern}`:`${n[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Et(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}},"tD");function MG(){return{localeError:CG()}}s(MG,"H3");var IG=s(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : attendu ${i.expected}, reu ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entre invalide : attendu ${Wt(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"":"<",a=t(i.origin);return a?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${o}${i.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"":">",a=t(i.origin);return a?`Trop petit : attendu que ${i.origin} ait ${o}${i.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${i.origin} soit ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chane invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Chane invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Chane invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Chane invalide : doit correspondre au motif ${o.pattern}`:`${n[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Et(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}},"UD");function OG(){return{localeError:IG()}}s(OG,"J3");var RG=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Wt(i.values[0])}`:`  :     ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` : ${i.origin??"value"}   ${o}${i.maximum.toString()} ${a.unit??"elements"}`:` : ${i.origin??"value"}   ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` : ${i.origin}   ${o}${i.minimum.toString()} ${a.unit}`:` : ${i.origin}   ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`  :   "${o.prefix}"`:o.format==="ends_with"?`  :    "${o.suffix}"`:o.format==="includes"?`  :   "${o.includes}"`:o.format==="regex"?`  :    ${o.pattern}`:`${n[o.format]??i.format}  `}case"not_multiple_of":return`  :     ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}  ${i.keys.length>1?"":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"FD");function jG(){return{localeError:RG()}}s(jG,"T3");var LG=s(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"szm";case"object":{if(Array.isArray(i))return"tmb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${i.expected}, a kapott rtk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`rvnytelen bemenet: a vrt rtk ${Wt(i.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Tl nagy: ${i.origin??"rtk"} mrete tl nagy ${o}${i.maximum.toString()} ${a.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${i.origin??"rtk"} tl nagy: ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Tl kicsi: a bemeneti rtk ${i.origin} mrete tl kicsi ${o}${i.minimum.toString()} ${a.unit}`:`Tl kicsi: a bemeneti rtk ${i.origin} tl kicsi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`rvnytelen string: "${o.prefix}" rtkkel kell kezddnie`:o.format==="ends_with"?`rvnytelen string: "${o.suffix}" rtkkel kell vgzdnie`:o.format==="includes"?`rvnytelen string: "${o.includes}" rtket kell tartalmaznia`:o.format==="regex"?`rvnytelen string: ${o.pattern} mintnak kell megfelelnie`:`rvnytelen ${n[o.format]??i.format}`}case"not_multiple_of":return`rvnytelen szm: ${i.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${i.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${i.origin}`;default:return"rvnytelen bemenet"}}},"aD");function PG(){return{localeError:LG()}}s(PG,"w3");var DG=s(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Wt(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${o}${i.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Terlalu kecil: diharapkan ${i.origin} memiliki ${o}${i.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak valid: harus dimulai dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak valid: harus berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak valid: harus menyertakan "${o.includes}"`:o.format==="regex"?`String tidak valid: harus sesuai pola ${o.pattern}`:`${n[o.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}},"QD");function BG(){return{localeError:DG()}}s(BG,"Z3");var zG=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"eD"),UG=s(()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(n){return e[n]??null}s(t,"q");let r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return n=>{switch(n.code){case"invalid_type":return`Rangt gildi:  slst inn ${zG(n.input)} ar sem  a vera ${n.expected}`;case"invalid_value":return n.values.length===1?`Rangt gildi: gert r fyrir ${Wt(n.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${Et(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=t(n.origin);return o?`Of strt: gert er r fyrir a ${n.origin??"gildi"} hafi ${i}${n.maximum.toString()} ${o.unit??"hluti"}`:`Of strt: gert er r fyrir a ${n.origin??"gildi"} s ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=t(n.origin);return o?`Of lti: gert er r fyrir a ${n.origin} hafi ${i}${n.minimum.toString()} ${o.unit}`:`Of lti: gert er r fyrir a ${n.origin} s ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${r[i.format]??n.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`ekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${Et(n.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${n.origin}`;default:return"Rangt gildi"}}},"sD");function FG(){return{localeError:UG()}}s(FG,"f3");var $G=s(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Wt(i.values[0])}`:`Opzione non valida: atteso uno tra ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Troppo grande: ${i.origin??"valore"} deve avere ${o}${i.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Troppo piccolo: ${i.origin} deve avere ${o}${i.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${i.origin} deve essere ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Stringa non valida: deve iniziare con "${o.prefix}"`:o.format==="ends_with"?`Stringa non valida: deve terminare con "${o.suffix}"`:o.format==="includes"?`Stringa non valida: deve includere "${o.includes}"`:o.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${o.pattern}`:`Invalid ${n[o.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${Et(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}},"$L");function HG(){return{localeError:$G()}}s(HG,"X3");var VG=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`: ${i.expected}${r(i.input)}`;case"invalid_value":return i.values.length===1?`: ${Wt(i.values[0])}`:`: ${Et(i.values,"")}`;case"too_big":{let o=i.inclusive?"":"",a=t(i.origin);return a?`: ${i.origin??""}${i.maximum.toString()}${a.unit??""}${o}`:`: ${i.origin??""}${i.maximum.toString()}${o}`}case"too_small":{let o=i.inclusive?"":"",a=t(i.origin);return a?`: ${i.origin}${i.minimum.toString()}${a.unit}${o}`:`: ${i.origin}${i.minimum.toString()}${o}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`: "${o.prefix}"`:o.format==="ends_with"?`: "${o.suffix}"`:o.format==="includes"?`: "${o.includes}"`:o.format==="regex"?`: ${o.pattern}`:`${n[o.format]??i.format}`}case"not_multiple_of":return`: ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}: ${Et(i.keys,"")}`;case"invalid_key":return`${i.origin}`;case"invalid_union":return"";case"invalid_element":return`${i.origin}`;default:return""}}},"qL");function GG(){return{localeError:VG()}}s(GG,"k3");var ZG=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""}[t]??t},"KL"),JG=s(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}s(t,"q");let r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${ZG(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${Wt(n.values[0])}`:` :  - ${Et(n.values,"|")}-`;case"too_big":{let i=n.inclusive?"<=":"<",o=t(n.origin);return o?` :  ${n.origin??""} ${o.verb} ${i}${n.maximum.toString()} ${o.unit}`:` :  ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=t(n.origin);return o?` :  ${n.origin} ${o.verb} ${i}${n.minimum.toString()} ${o.unit}`:` :  ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??n.format}`}case"not_multiple_of":return` :   ${n.divisor}- `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${Et(n.keys,", ")}`;case"invalid_key":return`  ${n.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${n.origin}-`;default:return" "}}},"_L");function WG(){return{localeError:JG()}}s(WG,"A3");var QG=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  ${Wt(i.values[0])}`:`  ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`  ${i.origin??""} ${o} ${i.maximum.toString()} ${a.unit??""}`:`  ${i.origin??""} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`  ${i.origin} ${o} ${i.minimum.toString()} ${a.unit}`:`  ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`  "${o.prefix}"`:o.format==="ends_with"?`  "${o.suffix}"`:o.format==="includes"?`  "${o.includes}"`:o.format==="regex"?`  ${o.pattern}`:` ${n[o.format]??i.format}`}case"not_multiple_of":return`  ${i.divisor}`;case"unrecognized_keys":return` ${Et(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return"";case"invalid_element":return` ${i.origin}`;default:return""}}},"PL");function oN(){return{localeError:QG()}}s(oN,"oP");function XG(){return oN()}s(XG,"G3");var KG=s(()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},   ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}  `:` : ${Et(i.values," ")}   `;case"too_big":{let o=i.inclusive?"":"",a=o===""?" ":" ",l=t(i.origin),u=l?.unit??"";return l?`${i.origin??""}  : ${i.maximum.toString()}${u} ${o}${a}`:`${i.origin??""}  : ${i.maximum.toString()} ${o}${a}`}case"too_small":{let o=i.inclusive?"":"",a=o===""?" ":" ",l=t(i.origin),u=l?.unit??"";return l?`${i.origin??""}  : ${i.minimum.toString()}${u} ${o}${a}`:`${i.origin??""}  : ${i.minimum.toString()} ${o}${a}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` : "${o.prefix}"()  `:o.format==="ends_with"?` : "${o.suffix}"()  `:o.format==="includes"?` : "${o.includes}"()  `:o.format==="regex"?` :  ${o.pattern}   `:` ${n[o.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}  `;case"unrecognized_keys":return`   : ${Et(i.keys,", ")}`;case"invalid_key":return` : ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${i.origin}`;default:return" "}}},"jL");function qG(){return{localeError:KG()}}s(qG,"V3");var YG=s(e=>Qu(typeof e,e),"OL"),Qu=s((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"neinomas objektas":t===null?"nulin reikm":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin reikm"}return e},"iP"),vu=s(e=>e.charAt(0).toUpperCase()+e.slice(1),"nP");function Ow(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}s(Ow,"MX");var eZ=s(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(n,i,o,a){let l=e[n]??null;return l===null?l:{unit:l.unit[i],verb:l.verb[a][o?"inclusive":"notInclusive"]}}s(t,"q");let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return n=>{switch(n.code){case"invalid_type":return`Gautas tipas ${YG(n.input)}, o tiktasi - ${Qu(n.expected)}`;case"invalid_value":return n.values.length===1?`Privalo bti ${Wt(n.values[0])}`:`Privalo bti vienas i ${Et(n.values,"|")} pasirinkim`;case"too_big":{let i=Qu(n.origin),o=t(n.origin,Ow(Number(n.maximum)),n.inclusive??!1,"smaller");if(o?.verb)return`${vu(i??n.origin??"reikm")} ${o.verb} ${n.maximum.toString()} ${o.unit??"element"}`;let a=n.inclusive?"ne didesnis kaip":"maesnis kaip";return`${vu(i??n.origin??"reikm")} turi bti ${a} ${n.maximum.toString()} ${o?.unit}`}case"too_small":{let i=Qu(n.origin),o=t(n.origin,Ow(Number(n.minimum)),n.inclusive??!1,"bigger");if(o?.verb)return`${vu(i??n.origin??"reikm")} ${o.verb} ${n.minimum.toString()} ${o.unit??"element"}`;let a=n.inclusive?"ne maesnis kaip":"didesnis kaip";return`${vu(i??n.origin??"reikm")} turi bti ${a} ${n.minimum.toString()} ${o?.unit}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${r[i.format]??n.format}`}case"not_multiple_of":return`Skaiius privalo bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${Et(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let i=Qu(n.origin);return`${vu(i??n.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}},"YL");function tZ(){return{localeError:eZ()}}s(tZ,"S3");var rZ=s(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Wt(i.values[0])}`:` :    ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` :   ${i.origin??""}   ${o}${i.maximum.toString()} ${a.unit??""}`:` :   ${i.origin??""}   ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` :   ${i.origin}   ${o}${i.minimum.toString()} ${a.unit}`:` :   ${i.origin}   ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` :     "${o.prefix}"`:o.format==="ends_with"?` :     "${o.suffix}"`:o.format==="includes"?` :    "${o.includes}"`:o.format==="regex"?` :      ${o.pattern}`:`Invalid ${n[o.format]??i.format}`}case"not_multiple_of":return` :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?" ":" "}: ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"vL");function nZ(){return{localeError:rZ()}}s(nZ,"M3");var iZ=s(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Wt(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Terlalu besar: dijangka ${i.origin??"nilai"} ${a.verb} ${o}${i.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Terlalu kecil: dijangka ${i.origin} ${a.verb} ${o}${i.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak sah: mesti bermula dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak sah: mesti mengandungi "${o.includes}"`:o.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${o.pattern}`:`${n[o.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Et(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}},"zL");function sZ(){return{localeError:iZ()}}s(sZ,"N3");var aZ=s(()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Wt(i.values[0])}`:`Ongeldige optie: verwacht n van ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Te lang: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} ${a.unit??"elementen"} bevat`:`Te lang: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} is`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Te kort: verwacht dat ${i.origin} ${o}${i.minimum.toString()} ${a.unit} bevat`:`Te kort: verwacht dat ${i.origin} ${o}${i.minimum.toString()} is`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ongeldige tekst: moet met "${o.prefix}" beginnen`:o.format==="ends_with"?`Ongeldige tekst: moet op "${o.suffix}" eindigen`:o.format==="includes"?`Ongeldige tekst: moet "${o.includes}" bevatten`:o.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`:`Ongeldig: ${n[o.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}},"WL");function oZ(){return{localeError:aZ()}}s(oZ,"C3");var lZ=s(()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Wt(i.values[0])}`:`Ugyldig valg: forventet en av ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`For stor(t): forventet ${i.origin??"value"} til  ha ${o}${i.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til  ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`For lite(n): forventet ${i.origin} til  ha ${o}${i.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${i.origin} til  ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: m starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: m ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: m inneholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: m matche mnsteret ${o.pattern}`:`Ugyldig ${n[o.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${Et(i.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}},"HL");function uZ(){return{localeError:lZ()}}s(uZ,"E3");var cZ=s(()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fsit giren: umulan ${i.expected}, alnan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Fsit giren: umulan ${Wt(i.values[0])}`:`Fsit tercih: mteberler ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Fazla byk: ${i.origin??"value"}, ${o}${i.maximum.toString()} ${a.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${i.origin??"value"}, ${o}${i.maximum.toString()} olmalyd.`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Fazla kk: ${i.origin}, ${o}${i.minimum.toString()} ${a.unit} sahip olmalyd.`:`Fazla kk: ${i.origin}, ${o}${i.minimum.toString()} olmalyd.`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Fsit metin: "${o.prefix}" ile balamal.`:o.format==="ends_with"?`Fsit metin: "${o.suffix}" ile bitmeli.`:o.format==="includes"?`Fsit metin: "${o.includes}" ihtiv etmeli.`:o.format==="regex"?`Fsit metin: ${o.pattern} nakna uymal.`:`Fsit ${n[o.format]??i.format}`}case"not_multiple_of":return`Fsit say: ${i.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`${i.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${i.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}},"JL");function dZ(){return{localeError:cZ()}}s(dZ,"h3");var fZ=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected} ,  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])} `:` :    ${Et(i.values,"|")}  `;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` : ${i.origin??""}  ${o}${i.maximum.toString()} ${a.unit??""} `:` : ${i.origin??""}  ${o}${i.maximum.toString()} `}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` : ${i.origin}  ${o}${i.minimum.toString()} ${a.unit} `:` : ${i.origin}  ${o}${i.minimum.toString()} `}case"invalid_format":{let o=i;return o.format==="starts_with"?` :   "${o.prefix}"   `:o.format==="ends_with"?` :   "${o.suffix}"    `:o.format==="includes"?` :  "${o.includes}" `:o.format==="regex"?` :   ${o.pattern}   `:`${n[o.format]??i.format}  `}case"not_multiple_of":return` :   ${i.divisor}  `;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin} `;default:return" "}}},"TL");function hZ(){return{localeError:fZ()}}s(hZ,"R3");var pZ=s(()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${i.expected}, otrzymano ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${Wt(i.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Za dua warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${o}${i.maximum.toString()} ${a.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Za maa warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${o}${i.minimum.toString()} ${a.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${o.prefix}"`:o.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${o.suffix}"`:o.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${o.includes}"`:o.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${o.pattern}`:`Nieprawidow(y/a/e) ${n[o.format]??i.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${i.origin}`;default:return"Nieprawidowe dane wejciowe"}}},"wL");function mZ(){return{localeError:pZ()}}s(mZ,"I3");var gZ=s(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo invlido: esperado ${i.expected}, recebido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invlida: esperado ${Wt(i.values[0])}`:`Opo invlida: esperada uma das ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${o}${i.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Muito pequeno: esperado que ${i.origin} tivesse ${o}${i.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Texto invlido: deve comear com "${o.prefix}"`:o.format==="ends_with"?`Texto invlido: deve terminar com "${o.suffix}"`:o.format==="includes"?`Texto invlido: deve incluir "${o.includes}"`:o.format==="regex"?`Texto invlido: deve corresponder ao padro ${o.pattern}`:`${n[o.format]??i.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`Chave invlida em ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${i.origin}`;default:return"Campo invlido"}}},"ZL");function vZ(){return{localeError:gZ()}}s(vZ,"D3");function Rw(e,t,r,n){let i=Math.abs(e),o=i%10,a=i%100;return a>=11&&a<=19?n:o===1?t:o>=2&&o<=4?r:n}s(Rw,"NX");var bZ=s(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}`:` :    ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);if(a){let l=Number(i.maximum),u=Rw(l,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${i.origin??""}   ${o}${i.maximum.toString()} ${u}`}return`  : ,  ${i.origin??""}  ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);if(a){let l=Number(i.minimum),u=Rw(l,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${i.origin}   ${o}${i.minimum.toString()} ${u}`}return`  : ,  ${i.origin}  ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` :    "${o.prefix}"`:o.format==="ends_with"?` :    "${o.suffix}"`:o.format==="includes"?` :   "${o.includes}"`:o.format==="regex"?` :    ${o.pattern}`:` ${n[o.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"fL");function yZ(){return{localeError:bZ()}}s(yZ,"L3");var wZ=s(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: priakovano ${i.expected}, prejeto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: priakovano ${Wt(i.values[0])}`:`Neveljavna monost: priakovano eno izmed ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Preveliko: priakovano, da bo ${i.origin??"vrednost"} imelo ${o}${i.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: priakovano, da bo ${i.origin??"vrednost"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Premajhno: priakovano, da bo ${i.origin} imelo ${o}${i.minimum.toString()} ${a.unit}`:`Premajhno: priakovano, da bo ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${o.prefix}"`:o.format==="ends_with"?`Neveljaven niz: mora se konati z "${o.suffix}"`:o.format==="includes"?`Neveljaven niz: mora vsebovati "${o.includes}"`:o.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`:`Neveljaven ${n[o.format]??i.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i kljui":" klju"}: ${Et(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}},"XL");function xZ(){return{localeError:wZ()}}s(xZ,"b3");var _Z=s(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${i.expected}, fick ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: frvntat ${Wt(i.values[0])}`:`Ogiltigt val: frvntade en av ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Fr stor(t): frvntade ${i.origin??"vrdet"} att ha ${o}${i.maximum.toString()} ${a.unit??"element"}`:`Fr stor(t): frvntat ${i.origin??"vrdet"} att ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${o}${i.minimum.toString()} ${a.unit}`:`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ogiltig strng: mste brja med "${o.prefix}"`:o.format==="ends_with"?`Ogiltig strng: mste sluta med "${o.suffix}"`:o.format==="includes"?`Ogiltig strng: mste innehlla "${o.includes}"`:o.format==="regex"?`Ogiltig strng: mste matcha mnstret "${o.pattern}"`:`Ogiltig(t) ${n[o.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${Et(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${i.origin??"vrdet"}`;default:return"Ogiltig input"}}},"kL");function EZ(){return{localeError:_Z()}}s(EZ,"g3");var SZ=s(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?" ":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}`:` :  ${Et(i.values,"|")}  `;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` :  ${i.origin??""} ${o}${i.maximum.toString()} ${a.unit??""}   `:` :  ${i.origin??""} ${o}${i.maximum.toString()}   `}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` :  ${i.origin} ${o}${i.minimum.toString()} ${a.unit}   `:` :  ${i.origin} ${o}${i.minimum.toString()}   `}case"invalid_format":{let o=i;return o.format==="starts_with"?` : "${o.prefix}"   `:o.format==="ends_with"?` : "${o.suffix}"   `:o.format==="includes"?` : "${o.includes}"   `:o.format==="regex"?` : ${o.pattern}   `:` ${n[o.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`  ${i.keys.length>1?"":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${i.origin}   `;default:return" "}}},"AL");function kZ(){return{localeError:SZ()}}s(kZ,"y3");var TZ=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`:  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`:  ${Wt(i.values[0])}`:`:  ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"":"",a=t(i.origin);return a?`: ${i.origin??""} ${o} ${i.maximum.toString()} ${a.unit??""}`:`: ${i.origin??""} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"":"",a=t(i.origin);return a?`: ${i.origin} ${o} ${i.minimum.toString()} ${a.unit}`:`: ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`:  "${o.prefix}"`:o.format==="ends_with"?`:  "${o.suffix}"`:o.format==="includes"?`:  "${o.includes}" `:o.format==="regex"?`:  ${o.pattern}`:`: ${n[o.format]??i.format}`}case"not_multiple_of":return`:  ${i.divisor} `;case"unrecognized_keys":return`: ${Et(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${i.origin}`;default:return""}}},"GL");function AZ(){return{localeError:TZ()}}s(AZ,"u3");var NZ=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"VL"),CZ=s(()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(n){return e[n]??null}s(t,"q");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Geersiz deer: beklenen ${n.expected}, alnan ${NZ(n.input)}`;case"invalid_value":return n.values.length===1?`Geersiz deer: beklenen ${Wt(n.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${Et(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=t(n.origin);return o?`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()} ${o.unit??"e"}`:`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=t(n.origin);return o?`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${o.unit}`:`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${r[i.format]??n.format}`}case"not_multiple_of":return`Geersiz say: ${n.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${Et(n.keys,", ")}`;case"invalid_key":return`${n.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} iinde geersiz deer`;default:return"Geersiz deer"}}},"SL");function MZ(){return{localeError:CZ()}}s(MZ,"x3");var IZ=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Wt(i.values[0])}`:` :    ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` : ,  ${i.origin??""} ${a.verb} ${o}${i.maximum.toString()} ${a.unit??""}`:` : ,  ${i.origin??""}  ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` : ,  ${i.origin} ${a.verb} ${o}${i.minimum.toString()} ${a.unit}`:` : ,  ${i.origin}  ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` :    "${o.prefix}"`:o.format==="ends_with"?` :    "${o.suffix}"`:o.format==="includes"?` :   "${o.includes}"`:o.format==="regex"?` :    ${o.pattern}`:` ${n[o.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${Et(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"ML");function lN(){return{localeError:IZ()}}s(lN,"BP");function OZ(){return lN()}s(OZ,"c3");var RZ=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  : ${i.expected}   ${r(i.input)}  `;case"invalid_value":return i.values.length===1?`  : ${Wt(i.values[0])}  `:` : ${Et(i.values,"|")}     `;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` : ${i.origin??""}  ${o}${i.maximum.toString()} ${a.unit??""}   `:` : ${i.origin??""}  ${o}${i.maximum.toString()}   `}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` : ${i.origin}  ${o}${i.minimum.toString()} ${a.unit}   `:` : ${i.origin}  ${o}${i.minimum.toString()}   `}case"invalid_format":{let o=i;return o.format==="starts_with"?` : "${o.prefix}"    `:o.format==="ends_with"?` : "${o.suffix}"    `:o.format==="includes"?` : "${o.includes}"   `:o.format==="regex"?` :  ${o.pattern}    `:` ${n[o.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`   ${i.keys.length>1?"":""}: ${Et(i.keys," ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${i.origin}   `;default:return"  "}}},"NL");function jZ(){return{localeError:RZ()}}s(jZ,"p3");var LZ=s(()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"s";case"object":{if(Array.isArray(i))return"mng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return i=>{switch(i.code){case"invalid_type":return`u vo khng hp l: mong i ${i.expected}, nhn c ${r(i.input)}`;case"invalid_value":return i.values.length===1?`u vo khng hp l: mong i ${Wt(i.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`Qu ln: mong i ${i.origin??"gi tr"} ${a.verb} ${o}${i.maximum.toString()} ${a.unit??"phn t"}`:`Qu ln: mong i ${i.origin??"gi tr"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Qu nh: mong i ${i.origin} ${a.verb} ${o}${i.minimum.toString()} ${a.unit}`:`Qu nh: mong i ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chui khng hp l: phi bt u bng "${o.prefix}"`:o.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${o.suffix}"`:o.format==="includes"?`Chui khng hp l: phi bao gm "${o.includes}"`:o.format==="regex"?`Chui khng hp l: phi khp vi mu ${o.pattern}`:`${n[o.format]??i.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${i.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${Et(i.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${i.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${i.origin}`;default:return"u vo khng hp l"}}},"CL");function PZ(){return{localeError:LZ()}}s(PZ,"m3");var DZ=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"(NaN)":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Wt(i.values[0])}`:` ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` ${i.origin??""} ${o}${i.maximum.toString()} ${a.unit??""}`:` ${i.origin??""} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` ${i.origin} ${o}${i.minimum.toString()} ${a.unit}`:` ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` "${o.prefix}" `:o.format==="ends_with"?` "${o.suffix}" `:o.format==="includes"?` "${o.includes}"`:o.format==="regex"?` ${o.pattern}`:`${n[o.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`(key): ${Et(i.keys,", ")}`;case"invalid_key":return`${i.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${i.origin} (value)`;default:return""}}},"EL");function BZ(){return{localeError:DZ()}}s(BZ,"d3");var zZ=s(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Wt(i.values[0])}`:` ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?` ${i.origin??""}  ${o}${i.maximum.toString()} ${a.unit??""}`:` ${i.origin??""}  ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?` ${i.origin}  ${o}${i.minimum.toString()} ${a.unit}`:` ${i.origin}  ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?` "${o.prefix}" `:o.format==="ends_with"?` "${o.suffix}" `:o.format==="includes"?` "${o.includes}"`:o.format==="regex"?` ${o.pattern}`:` ${n[o.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""}${Et(i.keys,"")}`;case"invalid_key":return`${i.origin} `;case"invalid_union":return"";case"invalid_element":return`${i.origin} `;default:return""}}},"hL");function UZ(){return{localeError:zZ()}}s(UZ,"l3");var FZ=s(()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(i){return e[i]??null}s(t,"q");let r=s(i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nmb";case"object":{if(Array.isArray(i))return"akop";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},"K"),n={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return i=>{switch(i.code){case"invalid_type":return`bwl ae: a n lti fi ${i.expected}, m a r ${r(i.input)}`;case"invalid_value":return i.values.length===1?`bwl ae: a n lti fi ${Wt(i.values[0])}`:`yn ae: yan kan lra ${Et(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",a=t(i.origin);return a?`T p j: a n lti j p ${i.origin??"iye"} ${a.verb} ${o}${i.maximum} ${a.unit}`:`T p j: a n lti j ${o}${i.maximum}`}case"too_small":{let o=i.inclusive?">=":">",a=t(i.origin);return a?`Kr ju: a n lti j p ${i.origin} ${a.verb} ${o}${i.minimum} ${a.unit}`:`Kr ju: a n lti j ${o}${i.minimum}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`r ae: gbd br pl "${o.prefix}"`:o.format==="ends_with"?`r ae: gbd par pl "${o.suffix}"`:o.format==="includes"?`r ae: gbd n "${o.includes}"`:o.format==="regex"?`r ae: gbd b pr mu ${o.pattern}`:`Ae: ${n[o.format]??i.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${i.divisor}`;case"unrecognized_keys":return`Btn m: ${Et(i.keys,", ")}`;case"invalid_key":return`Btn ae nn ${i.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${i.origin}`;default:return"bwl ae"}}},"RL");function $Z(){return{localeError:FZ()}}s($Z,"r3");var uN=Symbol("ZodOutput"),cN=Symbol("ZodInput");class Iy{static{s(this,"UP")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Oy(){return new Iy}s(Oy,"R9");var vo=Oy();function dN(e,t){return new e({type:"string",...St(t)})}s(dN,"i3");function fN(e,t){return new e({type:"string",coerce:!0,...St(t)})}s(fN,"B3");function Ry(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...St(t)})}s(Ry,"I9");function _h(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...St(t)})}s(_h,"FP");function jy(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...St(t)})}s(jy,"D9");function Ly(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...St(t)})}s(Ly,"L9");function Py(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...St(t)})}s(Py,"b9");function Dy(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...St(t)})}s(Dy,"g9");function V0(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...St(t)})}s(V0,"aP");function By(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...St(t)})}s(By,"y9");function zy(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...St(t)})}s(zy,"u9");function Uy(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...St(t)})}s(Uy,"x9");function Fy(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...St(t)})}s(Fy,"c9");function $y(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...St(t)})}s($y,"p9");function Hy(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...St(t)})}s(Hy,"m9");function Vy(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...St(t)})}s(Vy,"d9");function Gy(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...St(t)})}s(Gy,"l9");function Zy(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...St(t)})}s(Zy,"r9");function Jy(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...St(t)})}s(Jy,"o9");function Wy(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...St(t)})}s(Wy,"n9");function Qy(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...St(t)})}s(Qy,"i9");function Xy(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...St(t)})}s(Xy,"B9");function Ky(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...St(t)})}s(Ky,"t9");function qy(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...St(t)})}s(qy,"U9");var hN={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function pN(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...St(t)})}s(pN,"U3");function mN(e,t){return new e({type:"string",format:"date",check:"string_format",...St(t)})}s(mN,"F3");function gN(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...St(t)})}s(gN,"a3");function vN(e,t){return new e({type:"string",format:"duration",check:"string_format",...St(t)})}s(vN,"Q3");function bN(e,t){return new e({type:"number",checks:[],...St(t)})}s(bN,"e3");function yN(e,t){return new e({type:"number",coerce:!0,checks:[],...St(t)})}s(yN,"s3");function wN(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...St(t)})}s(wN,"$v");function xN(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...St(t)})}s(xN,"qv");function _N(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...St(t)})}s(_N,"Kv");function EN(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...St(t)})}s(EN,"_v");function SN(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...St(t)})}s(SN,"Pv");function kN(e,t){return new e({type:"boolean",...St(t)})}s(kN,"jv");function TN(e,t){return new e({type:"boolean",coerce:!0,...St(t)})}s(TN,"Ov");function AN(e,t){return new e({type:"bigint",...St(t)})}s(AN,"Yv");function NN(e,t){return new e({type:"bigint",coerce:!0,...St(t)})}s(NN,"vv");function CN(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...St(t)})}s(CN,"zv");function MN(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...St(t)})}s(MN,"Wv");function IN(e,t){return new e({type:"symbol",...St(t)})}s(IN,"Hv");function ON(e,t){return new e({type:"undefined",...St(t)})}s(ON,"Jv");function RN(e,t){return new e({type:"null",...St(t)})}s(RN,"Tv");function jN(e){return new e({type:"any"})}s(jN,"wv");function LN(e){return new e({type:"unknown"})}s(LN,"Zv");function PN(e,t){return new e({type:"never",...St(t)})}s(PN,"fv");function DN(e,t){return new e({type:"void",...St(t)})}s(DN,"Xv");function BN(e,t){return new e({type:"date",...St(t)})}s(BN,"kv");function zN(e,t){return new e({type:"date",coerce:!0,...St(t)})}s(zN,"Av");function UN(e,t){return new e({type:"nan",...St(t)})}s(UN,"Gv");function Bo(e,t){return new xy({check:"less_than",...St(t),value:e,inclusive:!1})}s(Bo,"OK");function Qi(e,t){return new xy({check:"less_than",...St(t),value:e,inclusive:!0})}s(Qi,"J8");function zo(e,t){return new _y({check:"greater_than",...St(t),value:e,inclusive:!1})}s(zo,"YK");function li(e,t){return new _y({check:"greater_than",...St(t),value:e,inclusive:!0})}s(li,"Bq");function FN(e){return zo(0,e)}s(FN,"Vv");function $N(e){return Bo(0,e)}s($N,"Sv");function HN(e){return Qi(0,e)}s(HN,"Mv");function VN(e){return li(0,e)}s(VN,"Nv");function zc(e,t){return new CT({check:"multiple_of",...St(t),value:e})}s(zc,"Z_");function G0(e,t){return new OT({check:"max_size",...St(t),maximum:e})}s(G0,"w4");function Uc(e,t){return new RT({check:"min_size",...St(t),minimum:e})}s(Uc,"f_");function Yy(e,t){return new jT({check:"size_equals",...St(t),size:e})}s(Yy,"QP");function Z0(e,t){return new LT({check:"max_length",...St(t),maximum:e})}s(Z0,"Z4");function Fl(e,t){return new PT({check:"min_length",...St(t),minimum:e})}s(Fl,"lK");function J0(e,t){return new DT({check:"length_equals",...St(t),length:e})}s(J0,"f4");function e2(e,t){return new BT({check:"string_format",format:"regex",...St(t),pattern:e})}s(e2,"eP");function t2(e){return new zT({check:"string_format",format:"lowercase",...St(e)})}s(t2,"sP");function r2(e){return new UT({check:"string_format",format:"uppercase",...St(e)})}s(r2,"$7");function n2(e,t){return new FT({check:"string_format",format:"includes",...St(t),includes:e})}s(n2,"q7");function i2(e,t){return new $T({check:"string_format",format:"starts_with",...St(t),prefix:e})}s(i2,"K7");function s2(e,t){return new HT({check:"string_format",format:"ends_with",...St(t),suffix:e})}s(s2,"_7");function GN(e,t,r){return new VT({check:"property",property:e,schema:t,...St(r)})}s(GN,"Cv");function a2(e,t){return new GT({check:"mime_type",mime:e,...St(t)})}s(a2,"P7");function Qo(e){return new ZT({check:"overwrite",tx:e})}s(Qo,"vK");function o2(e){return Qo(t=>t.normalize(e))}s(o2,"j7");function l2(){return Qo(e=>e.trim())}s(l2,"O7");function u2(){return Qo(e=>e.toLowerCase())}s(u2,"Y7");function c2(){return Qo(e=>e.toUpperCase())}s(c2,"v7");function ZN(e,t,r){return new e({type:"array",element:t,...St(r)})}s(ZN,"Ev");function HZ(e,t,r){return new e({type:"union",options:t,...St(r)})}s(HZ,"IL");function VZ(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...St(n)})}s(VZ,"DL");function GZ(e,t,r){return new e({type:"intersection",left:t,right:r})}s(GZ,"LL");function ZZ(e,t,r,n){let i=r instanceof Qt;return new e({type:"tuple",items:t,rest:i?r:null,...St(i?n:r)})}s(ZZ,"bL");function JZ(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...St(n)})}s(JZ,"gL");function WZ(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...St(n)})}s(WZ,"yL");function QZ(e,t,r){return new e({type:"set",valueType:t,...St(r)})}s(QZ,"uL");function XZ(e,t,r){let n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new e({type:"enum",entries:n,...St(r)})}s(XZ,"xL");function KZ(e,t,r){return new e({type:"enum",entries:t,...St(r)})}s(KZ,"cL");function qZ(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...St(r)})}s(qZ,"pL");function JN(e,t){return new e({type:"file",...St(t)})}s(JN,"hv");function YZ(e,t){return new e({type:"transform",transform:t})}s(YZ,"mL");function eJ(e,t){return new e({type:"optional",innerType:t})}s(eJ,"dL");function tJ(e,t){return new e({type:"nullable",innerType:t})}s(tJ,"lL");function rJ(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():Dk(r)}})}s(rJ,"rL");function nJ(e,t,r){return new e({type:"nonoptional",innerType:t,...St(r)})}s(nJ,"oL");function iJ(e,t){return new e({type:"success",innerType:t})}s(iJ,"nL");function sJ(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}s(sJ,"iL");function aJ(e,t,r){return new e({type:"pipe",in:t,out:r})}s(aJ,"BL");function oJ(e,t){return new e({type:"readonly",innerType:t})}s(oJ,"tL");function lJ(e,t,r){return new e({type:"template_literal",parts:t,...St(r)})}s(lJ,"UL");function uJ(e,t){return new e({type:"lazy",getter:t})}s(uJ,"FL");function cJ(e,t){return new e({type:"promise",innerType:t})}s(cJ,"aL");function WN(e,t,r){let n=St(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}s(WN,"Rv");function QN(e,t,r){return new e({type:"custom",check:"custom",fn:t,...St(r)})}s(QN,"Iv");function XN(e){let t=KN(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(wh(n,r.value,t._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(wh(i))}},e(r.value,r)));return t}s(XN,"Dv");function KN(e,t){let r=new Qr({check:"custom",...St(t)});return r._zod.check=e,r}s(KN,"CX");function qN(e,t){let r=St(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(v=>typeof v=="string"?v.toLowerCase():v),i=i.map(v=>typeof v=="string"?v.toLowerCase():v));let o=new Set(n),a=new Set(i),l=e.Codec??Cy,u=e.Boolean??ky,c=new(e.String??gd)({type:"string",error:r.error}),h=new u({type:"boolean",error:r.error}),f=new l({type:"pipe",in:c,out:h,transform:s((v,m)=>{let w=v;return r.case!=="sensitive"&&(w=w.toLowerCase()),o.has(w)?!0:a.has(w)?!1:(m.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...a],input:m.value,inst:f,continue:!1}),{})},"transform"),reverseTransform:s((v,m)=>v===!0?n[0]||"true":i[0]||"false","reverseTransform"),error:r.error});return f}s(qN,"Lv");function vd(e,t,r,n={}){let i=St(n),o={...St(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:a=>r.test(a),...i};return r instanceof RegExp&&(o.pattern=r),new e(o)}s(vd,"X4");class hv{static{s(this,"F9")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??vo,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let i=t._zod.def,o={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},a=this.seen.get(t);if(a)return a.count++,r.schemaPath.includes(t)&&(a.cycle=r.path),a.schema;let l={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,l);let u=t._zod.toJSONSchema?.();if(u)l.schema=u;else{let h={...r,schemaPath:[...r.schemaPath,t],path:r.path},f=t._zod.parent;if(f)l.ref=f,this.process(f,h),this.seen.get(f).isParent=!0;else{let v=l.schema;switch(i.type){case"string":{let m=v;m.type="string";let{minimum:w,maximum:_,format:A,patterns:M,contentEncoding:I}=t._zod.bag;if(typeof w=="number"&&(m.minLength=w),typeof _=="number"&&(m.maxLength=_),A&&(m.format=o[A]??A,m.format===""&&delete m.format),I&&(m.contentEncoding=I),M&&M.size>0){let R=[...M];R.length===1?m.pattern=R[0].source:R.length>1&&(l.schema.allOf=[...R.map(L=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:L.source}))])}break}case"number":{let m=v,{minimum:w,maximum:_,format:A,multipleOf:M,exclusiveMaximum:I,exclusiveMinimum:R}=t._zod.bag;typeof A=="string"&&A.includes("int")?m.type="integer":m.type="number",typeof R=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.minimum=R,m.exclusiveMinimum=!0):m.exclusiveMinimum=R),typeof w=="number"&&(m.minimum=w,typeof R=="number"&&this.target!=="draft-4"&&(R>=w?delete m.minimum:delete m.exclusiveMinimum)),typeof I=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.maximum=I,m.exclusiveMaximum=!0):m.exclusiveMaximum=I),typeof _=="number"&&(m.maximum=_,typeof I=="number"&&this.target!=="draft-4"&&(I<=_?delete m.maximum:delete m.exclusiveMaximum)),typeof M=="number"&&(m.multipleOf=M);break}case"boolean":{let m=v;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(v.type="string",v.nullable=!0,v.enum=[null]):v.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{v.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let m=v,{minimum:w,maximum:_}=t._zod.bag;typeof w=="number"&&(m.minItems=w),typeof _=="number"&&(m.maxItems=_),m.type="array",m.items=this.process(i.element,{...h,path:[...h.path,"items"]});break}case"object":{let m=v;m.type="object",m.properties={};let w=i.shape;for(let M in w)m.properties[M]=this.process(w[M],{...h,path:[...h.path,"properties",M]});let _=new Set(Object.keys(w)),A=new Set([..._].filter(M=>{let I=i.shape[M]._zod;return this.io==="input"?I.optin===void 0:I.optout===void 0}));A.size>0&&(m.required=Array.from(A)),i.catchall?._zod.def.type==="never"?m.additionalProperties=!1:i.catchall?i.catchall&&(m.additionalProperties=this.process(i.catchall,{...h,path:[...h.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{let m=v,w=i.options.map((_,A)=>this.process(_,{...h,path:[...h.path,"anyOf",A]}));m.anyOf=w;break}case"intersection":{let m=v,w=this.process(i.left,{...h,path:[...h.path,"allOf",0]}),_=this.process(i.right,{...h,path:[...h.path,"allOf",1]}),A=s(I=>"allOf"in I&&Object.keys(I).length===1,"h"),M=[...A(w)?w.allOf:[w],...A(_)?_.allOf:[_]];m.allOf=M;break}case"tuple":{let m=v;m.type="array";let w=this.target==="draft-2020-12"?"prefixItems":"items",_=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",A=i.items.map((L,P)=>this.process(L,{...h,path:[...h.path,w,P]})),M=i.rest?this.process(i.rest,{...h,path:[...h.path,_,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(m.prefixItems=A,M&&(m.items=M)):this.target==="openapi-3.0"?(m.items={anyOf:A},M&&m.items.anyOf.push(M),m.minItems=A.length,!M&&(m.maxItems=A.length)):(m.items=A,M&&(m.additionalItems=M));let{minimum:I,maximum:R}=t._zod.bag;typeof I=="number"&&(m.minItems=I),typeof R=="number"&&(m.maxItems=R);break}case"record":{let m=v;m.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(m.propertyNames=this.process(i.keyType,{...h,path:[...h.path,"propertyNames"]})),m.additionalProperties=this.process(i.valueType,{...h,path:[...h.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let m=v,w=oy(i.entries);w.every(_=>typeof _=="number")&&(m.type="number"),w.every(_=>typeof _=="string")&&(m.type="string"),m.enum=w;break}case"literal":{let m=v,w=[];for(let _ of i.values)if(_===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof _=="bigint"){if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");w.push(Number(_))}else w.push(_);if(w.length!==0)if(w.length===1){let _=w[0];m.type=_===null?"null":typeof _,this.target==="draft-4"||this.target==="openapi-3.0"?m.enum=[_]:m.const=_}else w.every(_=>typeof _=="number")&&(m.type="number"),w.every(_=>typeof _=="string")&&(m.type="string"),w.every(_=>typeof _=="boolean")&&(m.type="string"),w.every(_=>_===null)&&(m.type="null"),m.enum=w;break}case"file":{let m=v,w={type:"string",format:"binary",contentEncoding:"binary"},{minimum:_,maximum:A,mime:M}=t._zod.bag;_!==void 0&&(w.minLength=_),A!==void 0&&(w.maxLength=A),M?M.length===1?(w.contentMediaType=M[0],Object.assign(m,w)):m.anyOf=M.map(I=>({...w,contentMediaType:I})):Object.assign(m,w);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let m=this.process(i.innerType,h);this.target==="openapi-3.0"?(l.ref=i.innerType,v.nullable=!0):v.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,h),l.ref=i.innerType;break}case"success":{let m=v;m.type="boolean";break}case"default":{this.process(i.innerType,h),l.ref=i.innerType,v.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,h),l.ref=i.innerType,this.io==="input"&&(v._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,h),l.ref=i.innerType;let m;try{m=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}v.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let m=v,w=t._zod.pattern;if(!w)throw Error("Pattern not found in template literal");m.type="string",m.pattern=w.source;break}case"pipe":{let m=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(m,h),l.ref=m;break}case"readonly":{this.process(i.innerType,h),l.ref=i.innerType,v.readOnly=!0;break}case"promise":{this.process(i.innerType,h),l.ref=i.innerType;break}case"optional":{this.process(i.innerType,h),l.ref=i.innerType;break}case"lazy":{let m=t._zod.innerType;this.process(m,h),l.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema");break}}}}let c=this.metadataRegistry.get(t);return c&&Object.assign(l.schema,c),this.io==="input"&&fn(t)&&(delete l.schema.examples,delete l.schema.default),this.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(t);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let o=s(h=>{let f=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let w=n.external.registry.get(h[0])?.id,_=n.external.uri??(M=>M);if(w)return{ref:_(w)};let A=h[1].defId??h[1].schema.id??`schema${this.counter++}`;return h[1].defId=A,{defId:A,ref:`${_("__shared")}#/${f}/${A}`}}if(h[1]===i)return{ref:"#"};let v=`#/${f}/`,m=h[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:v+m}},"_"),a=s(h=>{if(h[1].schema.$ref)return;let f=h[1],{ref:v,defId:m}=o(h);f.def={...f.schema},m&&(f.defId=m);let w=f.schema;for(let _ in w)delete w[_];w.$ref=v},"O");if(n.cycles==="throw")for(let h of this.seen.entries()){let f=h[1];if(f.cycle)throw Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let h of this.seen.entries()){let f=h[1];if(t===h[0]){a(h);continue}if(n.external){let v=n.external.registry.get(h[0])?.id;if(t!==h[0]&&v){a(h);continue}}if(this.metadataRegistry.get(h[0])?.id){a(h);continue}if(f.cycle){a(h);continue}if(f.count>1&&n.reused==="ref"){a(h);continue}}let l=s((h,f)=>{let v=this.seen.get(h),m=v.def??v.schema,w={...m};if(v.ref===null)return;let _=v.ref;if(v.ref=null,_){l(_,f);let A=this.seen.get(_).schema;A.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(A)):(Object.assign(m,A),Object.assign(m,w))}v.isParent||this.override({zodSchema:h,jsonSchema:m,path:v.path??[]})},"j");for(let h of[...this.seen.entries()].reverse())l(h[0],{target:this.target});let u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?u.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let h=n.external.registry.get(t)?.id;if(!h)throw Error("Schema is missing an `id` property");u.$id=n.external.uri(h)}Object.assign(u,i.def);let c=n.external?.defs??{};for(let h of this.seen.entries()){let f=h[1];f.def&&f.defId&&(c[f.defId]=f.def)}n.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?u.$defs=c:u.definitions=c);try{return JSON.parse(JSON.stringify(u))}catch{throw Error("Error converting schema to JSON.")}}}function YN(e,t){if(e instanceof Iy){let n=new hv(t),i={};for(let l of e._idmap.entries()){let[u,c]=l;n.process(c)}let o={},a={registry:e,uri:t?.uri,defs:i};for(let l of e._idmap.entries()){let[u,c]=l;o[u]=n.emit(c,{...t,external:a})}if(Object.keys(i).length>0){let l=n.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[l]:i}}return{schemas:o}}let r=new hv(t);return r.process(e),r.emit(e,t)}s(YN,"bv");function fn(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return fn(n.element,r);case"object":{for(let i in n.shape)if(fn(n.shape[i],r))return!0;return!1}case"union":{for(let i of n.options)if(fn(i,r))return!0;return!1}case"intersection":return fn(n.left,r)||fn(n.right,r);case"tuple":{for(let i of n.items)if(fn(i,r))return!0;return!!(n.rest&&fn(n.rest,r))}case"record":return fn(n.keyType,r)||fn(n.valueType,r);case"map":return fn(n.keyType,r)||fn(n.valueType,r);case"set":return fn(n.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return fn(n.innerType,r);case"lazy":return fn(n.getter(),r);case"default":return fn(n.innerType,r);case"prefault":return fn(n.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return fn(n.in,r)||fn(n.out,r);case"success":return!1;case"catch":return!1;case"function":return!1}throw Error(`Unknown schema type: ${n.type}`)}s(fn,"_q");var dJ={},eC={};Ln(eC,{time:s(()=>nC,"time"),duration:s(()=>iC,"duration"),datetime:s(()=>tC,"datetime"),date:s(()=>rC,"date"),ZodISOTime:s(()=>h2,"ZodISOTime"),ZodISODuration:s(()=>p2,"ZodISODuration"),ZodISODateTime:s(()=>d2,"ZodISODateTime"),ZodISODate:s(()=>f2,"ZodISODate")});var d2=$e("ZodISODateTime",(e,t)=>{aA.init(e,t),jr.init(e,t)});function tC(e){return pN(d2,e)}s(tC,"gv");var f2=$e("ZodISODate",(e,t)=>{oA.init(e,t),jr.init(e,t)});function rC(e){return mN(f2,e)}s(rC,"yv");var h2=$e("ZodISOTime",(e,t)=>{lA.init(e,t),jr.init(e,t)});function nC(e){return gN(h2,e)}s(nC,"uv");var p2=$e("ZodISODuration",(e,t)=>{uA.init(e,t),jr.init(e,t)});function iC(e){return vN(p2,e)}s(iC,"xv");var sC=s((e,t)=>{uy.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:s(r=>dy(e,r),"value")},flatten:{value:s(r=>cy(e,r),"value")},addIssue:{value:s(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,bh,2)},"value")},addIssues:{value:s(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,bh,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"RX"),fJ=$e("ZodError",sC),vi=$e("ZodError",sC,{Parent:Error}),aC=ud(vi),oC=cd(vi),lC=dd(vi),uC=fd(vi),cC=fy(vi),dC=hy(vi),fC=py(vi),hC=my(vi),pC=gy(vi),mC=vy(vi),gC=by(vi),vC=yy(vi),ir=$e("ZodType",(e,t)=>(Qt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(dr.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Ri(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>aC(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>lC(e,r,n),e.parseAsync=async(r,n)=>oC(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>uC(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>cC(e,r,n),e.decode=(r,n)=>dC(e,r,n),e.encodeAsync=async(r,n)=>fC(e,r,n),e.decodeAsync=async(r,n)=>hC(e,r,n),e.safeEncode=(r,n)=>pC(e,r,n),e.safeDecode=(r,n)=>mC(e,r,n),e.safeEncodeAsync=async(r,n)=>gC(e,r,n),e.safeDecodeAsync=async(r,n)=>vC(e,r,n),e.refine=(r,n)=>e.check(nM(r,n)),e.superRefine=r=>e.check(iM(r)),e.overwrite=r=>e.check(Qo(r)),e.optional=()=>Sh(e),e.nullable=()=>kh(e),e.nullish=()=>Sh(kh(e)),e.nonoptional=r=>GC(e,r),e.array=()=>Y0(e),e.or=r=>P2([e,r]),e.and=r=>IC(e,r),e.transform=r=>Th(e,z2(r)),e.default=r=>$C(e,r),e.prefault=r=>VC(e,r),e.catch=r=>WC(e,r),e.pipe=r=>Th(e,r),e.readonly=()=>KC(e),e.describe=r=>{let n=e.clone();return vo.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return vo.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return vo.get(e);let n=e.clone();return vo.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),m2=$e("_ZodString",(e,t)=>{gd.init(e,t),ir.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(e2(...n)),e.includes=(...n)=>e.check(n2(...n)),e.startsWith=(...n)=>e.check(i2(...n)),e.endsWith=(...n)=>e.check(s2(...n)),e.min=(...n)=>e.check(Fl(...n)),e.max=(...n)=>e.check(Z0(...n)),e.length=(...n)=>e.check(J0(...n)),e.nonempty=(...n)=>e.check(Fl(1,...n)),e.lowercase=n=>e.check(t2(n)),e.uppercase=n=>e.check(r2(n)),e.trim=()=>e.check(l2()),e.normalize=(...n)=>e.check(o2(...n)),e.toLowerCase=()=>e.check(u2()),e.toUpperCase=()=>e.check(c2())}),W0=$e("ZodString",(e,t)=>{gd.init(e,t),m2.init(e,t),e.email=r=>e.check(Ry(g2,r)),e.url=r=>e.check(V0(Q0,r)),e.jwt=r=>e.check(qy(I2,r)),e.emoji=r=>e.check(By(v2,r)),e.guid=r=>e.check(_h(Eh,r)),e.uuid=r=>e.check(jy(na,r)),e.uuidv4=r=>e.check(Ly(na,r)),e.uuidv6=r=>e.check(Py(na,r)),e.uuidv7=r=>e.check(Dy(na,r)),e.nanoid=r=>e.check(zy(b2,r)),e.guid=r=>e.check(_h(Eh,r)),e.cuid=r=>e.check(Uy(y2,r)),e.cuid2=r=>e.check(Fy(w2,r)),e.ulid=r=>e.check($y(x2,r)),e.base64=r=>e.check(Qy(N2,r)),e.base64url=r=>e.check(Xy(C2,r)),e.xid=r=>e.check(Hy(_2,r)),e.ksuid=r=>e.check(Vy(E2,r)),e.ipv4=r=>e.check(Gy(S2,r)),e.ipv6=r=>e.check(Zy(k2,r)),e.cidrv4=r=>e.check(Jy(T2,r)),e.cidrv6=r=>e.check(Wy(A2,r)),e.e164=r=>e.check(Ky(M2,r)),e.datetime=r=>e.check(tC(r)),e.date=r=>e.check(rC(r)),e.time=r=>e.check(nC(r)),e.duration=r=>e.check(iC(r))});function pv(e){return dN(W0,e)}s(pv,"Fv");var jr=$e("ZodStringFormat",(e,t)=>{Ir.init(e,t),m2.init(e,t)}),g2=$e("ZodEmail",(e,t)=>{KT.init(e,t),jr.init(e,t)});function hJ(e){return Ry(g2,e)}s(hJ,"$b");var Eh=$e("ZodGUID",(e,t)=>{QT.init(e,t),jr.init(e,t)});function pJ(e){return _h(Eh,e)}s(pJ,"qb");var na=$e("ZodUUID",(e,t)=>{XT.init(e,t),jr.init(e,t)});function mJ(e){return jy(na,e)}s(mJ,"Kb");function gJ(e){return Ly(na,e)}s(gJ,"_b");function vJ(e){return Py(na,e)}s(vJ,"Pb");function bJ(e){return Dy(na,e)}s(bJ,"jb");var Q0=$e("ZodURL",(e,t)=>{qT.init(e,t),jr.init(e,t)});function yJ(e){return V0(Q0,e)}s(yJ,"Ob");function wJ(e){return V0(Q0,{protocol:/^https?$/,hostname:Wo.domain,...dr.normalizeParams(e)})}s(wJ,"Yb");var v2=$e("ZodEmoji",(e,t)=>{YT.init(e,t),jr.init(e,t)});function xJ(e){return By(v2,e)}s(xJ,"vb");var b2=$e("ZodNanoID",(e,t)=>{eA.init(e,t),jr.init(e,t)});function _J(e){return zy(b2,e)}s(_J,"zb");var y2=$e("ZodCUID",(e,t)=>{tA.init(e,t),jr.init(e,t)});function EJ(e){return Uy(y2,e)}s(EJ,"Wb");var w2=$e("ZodCUID2",(e,t)=>{rA.init(e,t),jr.init(e,t)});function SJ(e){return Fy(w2,e)}s(SJ,"Hb");var x2=$e("ZodULID",(e,t)=>{nA.init(e,t),jr.init(e,t)});function kJ(e){return $y(x2,e)}s(kJ,"Jb");var _2=$e("ZodXID",(e,t)=>{iA.init(e,t),jr.init(e,t)});function TJ(e){return Hy(_2,e)}s(TJ,"Tb");var E2=$e("ZodKSUID",(e,t)=>{sA.init(e,t),jr.init(e,t)});function AJ(e){return Vy(E2,e)}s(AJ,"wb");var S2=$e("ZodIPv4",(e,t)=>{cA.init(e,t),jr.init(e,t)});function NJ(e){return Gy(S2,e)}s(NJ,"Zb");var k2=$e("ZodIPv6",(e,t)=>{dA.init(e,t),jr.init(e,t)});function CJ(e){return Zy(k2,e)}s(CJ,"fb");var T2=$e("ZodCIDRv4",(e,t)=>{fA.init(e,t),jr.init(e,t)});function MJ(e){return Jy(T2,e)}s(MJ,"Xb");var A2=$e("ZodCIDRv6",(e,t)=>{hA.init(e,t),jr.init(e,t)});function IJ(e){return Wy(A2,e)}s(IJ,"kb");var N2=$e("ZodBase64",(e,t)=>{pA.init(e,t),jr.init(e,t)});function OJ(e){return Qy(N2,e)}s(OJ,"Ab");var C2=$e("ZodBase64URL",(e,t)=>{gA.init(e,t),jr.init(e,t)});function RJ(e){return Xy(C2,e)}s(RJ,"Gb");var M2=$e("ZodE164",(e,t)=>{vA.init(e,t),jr.init(e,t)});function jJ(e){return Ky(M2,e)}s(jJ,"Vb");var I2=$e("ZodJWT",(e,t)=>{yA.init(e,t),jr.init(e,t)});function LJ(e){return qy(I2,e)}s(LJ,"Sb");var bd=$e("ZodCustomStringFormat",(e,t)=>{wA.init(e,t),jr.init(e,t)});function PJ(e,t,r={}){return vd(bd,e,t,r)}s(PJ,"Mb");function DJ(e){return vd(bd,"hostname",Wo.hostname,e)}s(DJ,"Nb");function BJ(e){return vd(bd,"hex",Wo.hex,e)}s(BJ,"Cb");function zJ(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,i=Wo[n];if(!i)throw Error(`Unrecognized hash format: ${n}`);return vd(bd,n,i,t)}s(zJ,"Eb");var X0=$e("ZodNumber",(e,t)=>{Sy.init(e,t),ir.init(e,t),e.gt=(n,i)=>e.check(zo(n,i)),e.gte=(n,i)=>e.check(li(n,i)),e.min=(n,i)=>e.check(li(n,i)),e.lt=(n,i)=>e.check(Bo(n,i)),e.lte=(n,i)=>e.check(Qi(n,i)),e.max=(n,i)=>e.check(Qi(n,i)),e.int=n=>e.check(mv(n)),e.safe=n=>e.check(mv(n)),e.positive=n=>e.check(zo(0,n)),e.nonnegative=n=>e.check(li(0,n)),e.negative=n=>e.check(Bo(0,n)),e.nonpositive=n=>e.check(Qi(0,n)),e.multipleOf=(n,i)=>e.check(zc(n,i)),e.step=(n,i)=>e.check(zc(n,i)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function bC(e){return bN(X0,e)}s(bC,"IX");var Kl=$e("ZodNumberFormat",(e,t)=>{xA.init(e,t),X0.init(e,t)});function mv(e){return wN(Kl,e)}s(mv,"av");function UJ(e){return xN(Kl,e)}s(UJ,"hb");function FJ(e){return _N(Kl,e)}s(FJ,"Rb");function $J(e){return EN(Kl,e)}s($J,"Ib");function HJ(e){return SN(Kl,e)}s(HJ,"Db");var K0=$e("ZodBoolean",(e,t)=>{ky.init(e,t),ir.init(e,t)});function yC(e){return kN(K0,e)}s(yC,"DX");var q0=$e("ZodBigInt",(e,t)=>{Ty.init(e,t),ir.init(e,t),e.gte=(n,i)=>e.check(li(n,i)),e.min=(n,i)=>e.check(li(n,i)),e.gt=(n,i)=>e.check(zo(n,i)),e.gte=(n,i)=>e.check(li(n,i)),e.min=(n,i)=>e.check(li(n,i)),e.lt=(n,i)=>e.check(Bo(n,i)),e.lte=(n,i)=>e.check(Qi(n,i)),e.max=(n,i)=>e.check(Qi(n,i)),e.positive=n=>e.check(zo(BigInt(0),n)),e.negative=n=>e.check(Bo(BigInt(0),n)),e.nonpositive=n=>e.check(Qi(BigInt(0),n)),e.nonnegative=n=>e.check(li(BigInt(0),n)),e.multipleOf=(n,i)=>e.check(zc(n,i));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function VJ(e){return AN(q0,e)}s(VJ,"Lb");var O2=$e("ZodBigIntFormat",(e,t)=>{_A.init(e,t),q0.init(e,t)});function GJ(e){return CN(O2,e)}s(GJ,"bb");function ZJ(e){return MN(O2,e)}s(ZJ,"gb");var wC=$e("ZodSymbol",(e,t)=>{EA.init(e,t),ir.init(e,t)});function JJ(e){return IN(wC,e)}s(JJ,"yb");var xC=$e("ZodUndefined",(e,t)=>{SA.init(e,t),ir.init(e,t)});function WJ(e){return ON(xC,e)}s(WJ,"ub");var _C=$e("ZodNull",(e,t)=>{kA.init(e,t),ir.init(e,t)});function EC(e){return RN(_C,e)}s(EC,"yX");var SC=$e("ZodAny",(e,t)=>{TA.init(e,t),ir.init(e,t)});function QJ(){return jN(SC)}s(QJ,"xb");var kC=$e("ZodUnknown",(e,t)=>{AA.init(e,t),ir.init(e,t)});function $l(){return LN(kC)}s($l,"k4");var TC=$e("ZodNever",(e,t)=>{NA.init(e,t),ir.init(e,t)});function R2(e){return PN(TC,e)}s(R2,"Zz");var AC=$e("ZodVoid",(e,t)=>{CA.init(e,t),ir.init(e,t)});function XJ(e){return DN(AC,e)}s(XJ,"cb");var j2=$e("ZodDate",(e,t)=>{MA.init(e,t),ir.init(e,t),e.min=(n,i)=>e.check(li(n,i)),e.max=(n,i)=>e.check(Qi(n,i));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function KJ(e){return BN(j2,e)}s(KJ,"pb");var NC=$e("ZodArray",(e,t)=>{IA.init(e,t),ir.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Fl(r,n)),e.nonempty=r=>e.check(Fl(1,r)),e.max=(r,n)=>e.check(Z0(r,n)),e.length=(r,n)=>e.check(J0(r,n)),e.unwrap=()=>e.element});function Y0(e,t){return ZN(NC,e,t)}s(Y0,"Yj");function qJ(e){let t=e._zod.def.shape;return B2(Object.keys(t))}s(qJ,"mb");var ep=$e("ZodObject",(e,t)=>{LA.init(e,t),ir.init(e,t),dr.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>B2(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:$l()}),e.loose=()=>e.clone({...e._zod.def,catchall:$l()}),e.strict=()=>e.clone({...e._zod.def,catchall:R2()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>dr.extend(e,r),e.safeExtend=r=>dr.safeExtend(e,r),e.merge=r=>dr.merge(e,r),e.pick=r=>dr.pick(e,r),e.omit=r=>dr.omit(e,r),e.partial=(...r)=>dr.partial(U2,e,r[0]),e.required=(...r)=>dr.required(F2,e,r[0])});function YJ(e,t){let r={type:"object",shape:e??{},...dr.normalizeParams(t)};return new ep(r)}s(YJ,"db");function eW(e,t){return new ep({type:"object",shape:e,catchall:R2(),...dr.normalizeParams(t)})}s(eW,"lb");function tW(e,t){return new ep({type:"object",shape:e,catchall:$l(),...dr.normalizeParams(t)})}s(tW,"rb");var L2=$e("ZodUnion",(e,t)=>{Ay.init(e,t),ir.init(e,t),e.options=t.options});function P2(e,t){return new L2({type:"union",options:e,...dr.normalizeParams(t)})}s(P2,"Xz");var CC=$e("ZodDiscriminatedUnion",(e,t)=>{L2.init(e,t),PA.init(e,t)});function rW(e,t,r){return new CC({type:"union",options:t,discriminator:e,...dr.normalizeParams(r)})}s(rW,"ob");var MC=$e("ZodIntersection",(e,t)=>{DA.init(e,t),ir.init(e,t)});function IC(e,t){return new MC({type:"intersection",left:e,right:t})}s(IC,"rX");var OC=$e("ZodTuple",(e,t)=>{Ny.init(e,t),ir.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function RC(e,t,r){let n=t instanceof Qt,i=n?r:t;return new OC({type:"tuple",items:e,rest:n?t:null,...dr.normalizeParams(i)})}s(RC,"nX");var D2=$e("ZodRecord",(e,t)=>{BA.init(e,t),ir.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function jC(e,t,r){return new D2({type:"record",keyType:e,valueType:t,...dr.normalizeParams(r)})}s(jC,"iX");function nW(e,t,r){let n=Ri(e);return n._zod.values=void 0,new D2({type:"record",keyType:n,valueType:t,...dr.normalizeParams(r)})}s(nW,"nb");var LC=$e("ZodMap",(e,t)=>{zA.init(e,t),ir.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function iW(e,t,r){return new LC({type:"map",keyType:e,valueType:t,...dr.normalizeParams(r)})}s(iW,"ib");var PC=$e("ZodSet",(e,t)=>{UA.init(e,t),ir.init(e,t),e.min=(...r)=>e.check(Uc(...r)),e.nonempty=r=>e.check(Uc(1,r)),e.max=(...r)=>e.check(G0(...r)),e.size=(...r)=>e.check(Yy(...r))});function sW(e,t){return new PC({type:"set",valueType:e,...dr.normalizeParams(t)})}s(sW,"Bb");var Fc=$e("ZodEnum",(e,t)=>{FA.init(e,t),ir.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{let o={};for(let a of n)if(r.has(a))o[a]=t.entries[a];else throw Error(`Key ${a} not found in enum`);return new Fc({...t,checks:[],...dr.normalizeParams(i),entries:o})},e.exclude=(n,i)=>{let o={...t.entries};for(let a of n)if(r.has(a))delete o[a];else throw Error(`Key ${a} not found in enum`);return new Fc({...t,checks:[],...dr.normalizeParams(i),entries:o})}});function B2(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Fc({type:"enum",entries:r,...dr.normalizeParams(t)})}s(B2,"Az");function aW(e,t){return new Fc({type:"enum",entries:e,...dr.normalizeParams(t)})}s(aW,"tb");var DC=$e("ZodLiteral",(e,t)=>{$A.init(e,t),ir.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function oW(e,t){return new DC({type:"literal",values:Array.isArray(e)?e:[e],...dr.normalizeParams(t)})}s(oW,"Ub");var BC=$e("ZodFile",(e,t)=>{HA.init(e,t),ir.init(e,t),e.min=(r,n)=>e.check(Uc(r,n)),e.max=(r,n)=>e.check(G0(r,n)),e.mime=(r,n)=>e.check(a2(Array.isArray(r)?r:[r],n))});function lW(e){return JN(BC,e)}s(lW,"Fb");var zC=$e("ZodTransform",(e,t)=>{VA.init(e,t),ir.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new U0(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(dr.issue(o,r.value,t));else{let a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),r.issues.push(dr.issue(a))}};let i=t.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function z2(e){return new zC({type:"transform",transform:e})}s(z2,"Gz");var U2=$e("ZodOptional",(e,t)=>{GA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Sh(e){return new U2({type:"optional",innerType:e})}s(Sh,"Kj");var UC=$e("ZodNullable",(e,t)=>{ZA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function kh(e){return new UC({type:"nullable",innerType:e})}s(kh,"_j");function uW(e){return Sh(kh(e))}s(uW,"ab");var FC=$e("ZodDefault",(e,t)=>{JA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function $C(e,t){return new FC({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():dr.shallowClone(t)}})}s($C,"sX");var HC=$e("ZodPrefault",(e,t)=>{WA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function VC(e,t){return new HC({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():dr.shallowClone(t)}})}s(VC,"qk");var F2=$e("ZodNonOptional",(e,t)=>{QA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function GC(e,t){return new F2({type:"nonoptional",innerType:e,...dr.normalizeParams(t)})}s(GC,"Kk");var ZC=$e("ZodSuccess",(e,t)=>{XA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cW(e){return new ZC({type:"success",innerType:e})}s(cW,"Qb");var JC=$e("ZodCatch",(e,t)=>{KA.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function WC(e,t){return new JC({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}s(WC,"jk");var QC=$e("ZodNaN",(e,t)=>{qA.init(e,t),ir.init(e,t)});function dW(e){return UN(QC,e)}s(dW,"eb");var $2=$e("ZodPipe",(e,t)=>{YA.init(e,t),ir.init(e,t),e.in=t.in,e.out=t.out});function Th(e,t){return new $2({type:"pipe",in:e,out:t})}s(Th,"Pj");var H2=$e("ZodCodec",(e,t)=>{$2.init(e,t),Cy.init(e,t)});function fW(e,t,r){return new H2({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}s(fW,"sb");var XC=$e("ZodReadonly",(e,t)=>{eN.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function KC(e){return new XC({type:"readonly",innerType:e})}s(KC,"vk");var qC=$e("ZodTemplateLiteral",(e,t)=>{tN.init(e,t),ir.init(e,t)});function hW(e,t){return new qC({type:"template_literal",parts:e,...dr.normalizeParams(t)})}s(hW,"$g");var YC=$e("ZodLazy",(e,t)=>{iN.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.getter()});function eM(e){return new YC({type:"lazy",getter:e})}s(eM,"Hk");var tM=$e("ZodPromise",(e,t)=>{nN.init(e,t),ir.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pW(e){return new tM({type:"promise",innerType:e})}s(pW,"qg");var rM=$e("ZodFunction",(e,t)=>{rN.init(e,t),ir.init(e,t)});function jw(e){return new rM({type:"function",input:Array.isArray(e?.input)?RC(e?.input):e?.input??Y0($l()),output:e?.output??$l()})}s(jw,"Kg");var tp=$e("ZodCustom",(e,t)=>{sN.init(e,t),ir.init(e,t)});function mW(e){let t=new Qr({check:"custom"});return t._zod.check=e,t}s(mW,"_g");function gW(e,t){return WN(tp,e??(()=>!0),t)}s(gW,"Pg");function nM(e,t={}){return QN(tp,e,t)}s(nM,"wk");function iM(e){return XN(e)}s(iM,"Zk");function vW(e,t={error:`Input not instance of ${e.name}`}){let r=new tp({type:"custom",check:"custom",fn:s(n=>n instanceof e,"fn"),abort:!0,...dr.normalizeParams(t)});return r._zod.bag.Class=e,r}s(vW,"jg");var bW=s((...e)=>qN({Codec:H2,Boolean:K0,String:W0},...e),"Og");function yW(e){let t=eM(()=>P2([pv(e),bC(),yC(),EC(),Y0(t),jC(pv(),t)]));return t}s(yW,"Yg");function wW(e,t){return Th(z2(e),t)}s(wW,"vg");var xW={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function _W(e){Hn({customError:e})}s(_W,"Wg");function EW(){return Hn().customError}s(EW,"Hg");var gv;gv||(gv={});var sM={};Ln(sM,{string:s(()=>SW,"string"),number:s(()=>kW,"number"),date:s(()=>NW,"date"),boolean:s(()=>TW,"boolean"),bigint:s(()=>AW,"bigint")});function SW(e){return fN(W0,e)}s(SW,"Jg");function kW(e){return yN(X0,e)}s(kW,"Tg");function TW(e){return TN(K0,e)}s(TW,"wg");function AW(e){return NN(q0,e)}s(AW,"Zg");function NW(e){return zN(j2,e)}s(NW,"fg");Hn(aN());new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var CW=mi(iU(),1),MW=Object.defineProperty,IW=s((e,t,r)=>t in e?MW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"ng"),OW=s((e,t,r)=>(IW(e,t+"",r),r),"ig");function RW(e,t){let r=Array.from({length:e.length},(n,i)=>({start:i,end:i+1}));for(;r.length>1;){let n=null;for(let i=0;i<r.length-1;i++){let o=e.slice(r[i].start,r[i+1].end),a=t.get(o.join(","));a!=null&&(n==null||a<n[0])&&(n=[a,i])}if(n!=null){let i=n[1];r[i]={start:r[i].start,end:r[i+1].end},r.splice(i+1,1)}else break}return r}s(RW,"Bg");function jW(e,t){return e.length===1?[t.get(e.join(","))]:RW(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(r=>r!=null)}s(jW,"tg");function LW(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}s(LW,"Ug");var vv=class{static{s(this,"mz")}specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;let r=e.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{let[o,a,...l]=i.split(" "),u=Number.parseInt(a,10);return l.forEach((c,h)=>n[c]=u+h),n},{});for(let[n,i]of Object.entries(r)){let o=CW.default.toByteArray(n);this.rankMap.set(o.join(","),i),this.textMap.set(i,o)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,o])=>(n[o]=this.textEncoder.encode(i),n),{})}encode(e,t=[],r="all"){let n=new RegExp(this.patStr,"ug"),i=vv.specialTokenRegex(Object.keys(this.specialTokens)),o=[],a=new Set(t==="all"?Object.keys(this.specialTokens):t),l=new Set(r==="all"?Object.keys(this.specialTokens).filter(c=>!a.has(c)):r);if(l.size>0){let c=vv.specialTokenRegex([...l]),h=e.match(c);if(h!=null)throw Error(`The text contains a special token that is not allowed: ${h[0]}`)}let u=0;for(;;){let c=null,h=u;for(;i.lastIndex=h,c=i.exec(e),!(c==null||a.has(c[0]));)h=c.index+1;let f=c?.index??e.length;for(let m of e.substring(u,f).matchAll(n)){let w=this.textEncoder.encode(m[0]),_=this.rankMap.get(w.join(","));if(_!=null){o.push(_);continue}o.push(...jW(w,this.rankMap))}if(c==null)break;let v=this.specialTokens[c[0]];o.push(v),u=c.index+c[0].length}return o}decode(e){let t=[],r=0;for(let o=0;o<e.length;++o){let a=e[o],l=this.textMap.get(a)??this.inverseSpecialTokens[a];l!=null&&(t.push(l),r+=l.length)}let n=new Uint8Array(r),i=0;for(let o of t)n.set(o,i),i+=o.length;return this.textDecoder.decode(n)}},PW=vv;OW(PW,"specialTokenRegex",e=>new RegExp(e.map(t=>LW(t)).join("|"),"g"));mi(LU(),1);Zo();class DW{static{s(this,"Fj")}globalStore;constructor(t){this.globalStore=t}clear(){console.clear()}filterByLabel(t){tQ(t,this.globalStore.cache).forEach(r=>{tf(r)})}filterByNamespace(...t){rQ(t,this.globalStore.cache).forEach(r=>{tf(r)})}filterByLevel(t){nQ(t,this.globalStore.cache).forEach(r=>{tf(r)})}renderAll(){this.globalStore.cache.forEach(t=>{tf(t)})}}class V2{static{s(this,"c4")}config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor(t={}){this.config=t}get cache(){return this._cache}get configuration(){return this.config}get pid(){let t=this.pidCounter;return this.pidCounter++,t}get tools(){return new DW(this)}addLogToCache(t){this._cache.length<(this.config.cacheSize??300)&&this._cache.push(t)}clearCache(){this._cache=[]}getLabel(t){return this.labels.get(t)}setLabel(t,r){this.labels.set(t,r)}addListener(t,r){let n=this._listenerCounter+=1;return J2({...Bi.levels,...this.config.levels??{}},t).forEach(i=>{this._levelsToListeners.has(i)?this._levelsToListeners.get(i).set(n,r):this._levelsToListeners.set(i,new Map([[n,r]]))}),n}removeListener(t){this._levelsToListeners.forEach(r=>{r.delete(t)})}getListeners(t){return Array.from(this._levelsToListeners.get(t)?.values()??[])}}function BW(e){return globalThis.$adzeGlobal=new V2(e),globalThis.$adzeGlobal}s(BW,"kH");function aM(e){let t=globalThis.$adzeGlobal;if(zW(t))return t;let r=new V2(e);return globalThis.$adzeGlobal=r,r}s(aM,"aj");function zW(e){return e instanceof V2}s(zW,"lo");function G2(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!UW()}s(G2,"MK");function UW(){return typeof Deno<"u"}s(UW,"ro");function FW(e){return G2()}s(FW,"zM");function $W(){let e=!1;return G2()&&(e=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test"),globalThis.$ADZE_ENV==="test"||e}s($W,"WM");function HW(){let e=globalThis;return FW()?e.navigator.userAgent.includes("Firefox"):!1}s(HW,"HM");function Ah(e){return Object.prototype.toString.call(e)==="[object String]"}s(Ah,"p4");function Z2(e){return e!==null&&typeof e=="number"&&!isNaN(Number(e))}s(Z2,"m4");function oM(e){return _Q.includes(e)}s(oM,"Qj");function VW(e){return SQ.includes(e)}s(VW,"JM");function GW(e){return hM.includes(e)}s(GW,"TM");function Lw(e){return e.every(t=>Ah(t))}s(Lw,"AH");function ZW(e){return Array.isArray(e)&&e.length===3&&e[1]==="-"}s(ZW,"wM");function JW(){return Error().stack?.replace(/^Error\n/,`
`)}s(JW,"fM");function WW(e){return Z2(e.activeLevel)?e.activeLevel:e.levels[e.activeLevel].level}s(WW,"XM");var Pw=mi(i$(),1),QW=Pw.default??Pw;function XW(e){return e.charAt(0).toUpperCase()+e.slice(1)}s(XW,"CH");function Dw(e){return Object.values(e).map(t=>t.level)}s(Dw,"EH");function Bw(e,t,r){return e.filter(n=>n>=t&&n<=r)}s(Bw,"hH");function KW(e,t=!1,r){let n=(t&&r?9+r.length:9)-e.length,i=e;for(let o=0;o<=n;o+=1)i+=" ";return i}s(KW,"RH");function qW(e,t){return t.reduce((r,n)=>QW[n](r),e)}s(qW,"IH");function tf(e){e.data&&console[e.data.method](...e.data.message)}s(tf,"d7");function YW(e){return e.filter(t=>t!=="")}s(YW,"VM");function eQ(e){return typeof e=="object"&&e!==null}s(eQ,"SM");function J2(e,t){if(t==="*")return Object.values(e).map(r=>r.level);if(Ah(t))return[e[t].level];if(Z2(t))return[t];if(ZW(t)){if(Lw(t)){let r=e[t[0]].level,n=e[t[2]].level;return Bw(Dw(e),r,n)}return Bw(Dw(e),t[0],t[2])}return Array.isArray(t)&&Lw(t)?t.map(r=>e[r].level):t}s(J2,"l7");function lM(e,t,r){return t.length===0?!1:e==="include"?!t.includes(r):t.includes(r)}s(lM,"DH");function zw(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:!t.map(r=>e.includes(r)).includes(!0)}s(zw,"LH");function Uw(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:t.map(r=>e.includes(r)).includes(!0)}s(Uw,"bH");function tQ(e,t){return t.filter(r=>r.data?.label?.name===e)}s(tQ,"OM");function rQ(e,t){return t.filter(r=>r.data?.namespace?r.data.namespace.map(n=>e.includes(n)).includes(!0):!1)}s(rQ,"YM");function nQ(e,t){return t.filter(r=>{let n=J2(r.configuration.levels,e);return r.data?.level===void 0?!1:lM("exclude",n,r.data.level)})}s(nQ,"vM");function iQ(e){return e&&e.length>0?e.reduce((t,r)=>`${t}#${r} `,""):""}s(iQ,"gH");function sQ(e){return e?`[${e.name}] `:""}s(sQ,"yH");function aQ(e){return e!==void 0?`(Count: ${e}) `:""}s(aQ,"uH");function oQ(e,t){return e!==void 0&&!e?`${t?" ":""}Assertion failed:`:""}s(oQ,"xH");function lQ(e,t){return e!==void 0&&e?`${t?" ":""}Expression passed:`:""}s(lQ,"cH");var uM=-1,rp=0,Nh=1,Ch=2,W2=3,Q2=4,X2=5,K2=6,cM=7,dM=8,Fw=typeof self=="object"?self:globalThis,uQ=s((e,t)=>{let r=s((i,o)=>(e.set(o,i),i),"K"),n=s(i=>{if(e.has(i))return e.get(i);let[o,a]=t[i];switch(o){case rp:case uM:return r(a,i);case Nh:{let l=r([],i);for(let u of a)l.push(n(u));return l}case Ch:{let l=r({},i);for(let[u,c]of a)l[n(u)]=n(c);return l}case W2:return r(new Date(a),i);case Q2:{let{source:l,flags:u}=a;return r(new RegExp(l,u),i)}case X2:{let l=r(new Map,i);for(let[u,c]of a)l.set(n(u),n(c));return l}case K2:{let l=r(new Set,i);for(let u of a)l.add(n(u));return l}case cM:{let{name:l,message:u}=a;return r(new Fw[l](u),i)}case dM:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i)}return r(new Fw[o](a),i)},"P");return n},"oo"),$w=s(e=>uQ(new Map,e)(0),"pH"),cl="",{toString:cQ}={},{keys:dQ}=Object,bu=s(e=>{let t=typeof e;if(t!=="object"||!e)return[rp,t];let r=cQ.call(e).slice(8,-1);switch(r){case"Array":return[Nh,cl];case"Object":return[Ch,cl];case"Date":return[W2,cl];case"RegExp":return[Q2,cl];case"Map":return[X2,cl];case"Set":return[K2,cl]}return r.includes("Array")?[Nh,r]:r.includes("Error")?[cM,r]:[Ch,r]},"B7"),rf=s(([e,t])=>e===rp&&(t==="function"||t==="symbol"),"qO"),fQ=s((e,t,r,n)=>{let i=s((a,l)=>{let u=n.push(a)-1;return r.set(l,u),u},"_"),o=s(a=>{if(r.has(a))return r.get(a);let[l,u]=bu(a);switch(l){case rp:{let h=a;switch(u){case"bigint":l=dM,h=a.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([uM],a)}return i([l,h],a)}case Nh:{if(u)return i([u,[...a]],a);let h=[],f=i([l,h],a);for(let v of a)h.push(o(v));return f}case Ch:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());let h=[],f=i([l,h],a);for(let v of dQ(a))(e||!rf(bu(a[v])))&&h.push([o(v),o(a[v])]);return f}case W2:return i([l,a.toISOString()],a);case Q2:{let{source:h,flags:f}=a;return i([l,{source:h,flags:f}],a)}case X2:{let h=[],f=i([l,h],a);for(let[v,m]of a)(e||!(rf(bu(v))||rf(bu(m))))&&h.push([o(v),o(m)]);return f}case K2:{let h=[],f=i([l,h],a);for(let v of a)(e||!rf(bu(v)))&&h.push(o(v));return f}}let{message:c}=a;return i([l,{name:u,message:c}],a)},"O");return o},"Bo"),Hw=s((e,{json:t,lossy:r}={})=>{let n=[];return fQ(!(t||r),!!t,new Map,n)(e),n},"mH"),Vw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?$w(Hw(e,t)):structuredClone(e):(e,t)=>$w(Hw(e,t));function Gw(e,t,r,n){let{formatters:i,middleware:o=[],...a}=t.exportValues();return class extends e{_cfg=new yv({...Vw(a),formatters:{...i},middleware:[...o]});_modifierData=Vw(r);modifierQueue=[...n]}}s(Gw,"lH");function fM([e,t]){return`${e}s ${t/1e6}ms`}s(fM,"rH");function hQ(){return fM(bv())}s(hQ,"NM");function bv(e){let t=performance.now()*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);if(e===void 0)return[r,n];let i=r-e[0],o=n-e[1];return o<0&&(i-=1,o+=1e9),[i,o]}s(bv,"KO");function q2(e){let t=s(i=>`${Math.floor(Math.abs(i))}`.padStart(2,"0"),"q"),r=-e.getTimezoneOffset(),n=`${r>=0?"+":"-"}${t(r/60)}:${t(r%60)}`;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}${n}`}s(q2,"i4");function pQ(e){let t=s((w,_=2)=>String(w).padStart(_,"0"),"q"),r=t(e.getDate()),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],i=e.getFullYear(),o=t(e.getHours()),a=t(e.getMinutes()),l=t(e.getSeconds()),u=-e.getTimezoneOffset(),c=u>=0?"+":"-",h=Math.abs(u),f=t(Math.floor(h/60)),v=t(h%60),m=`${c}${f}${v}`;return`${r}/${n}/${i}:${o}:${a}:${l} ${m}`}s(pQ,"CM");class np{static{s(this,"I8")}cfg;level;timestampFormatFunction=s(t=>q2(t),"timestampFormatFunction");constructor(t,r){this.cfg=t,this.level=r}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print(t,r,n){if(this.level.level>WW(this.cfg))return[];if(this.failsFilters(t))return[];if(t.assertion===!0)return[];if(t.if===!1)return[];if(t.method&&!GW(t.method)&&VW(t.method)&&oM(t.method))return n;let i=G2()?this.formatBrowser(t,r,n):this.formatServer(t,r,n);return t.stacktrace&&i.push(t.stacktrace),i}failsFilters(t){return!!(this.failsLevelSelector()||this.failsNamespacesFilter(t)||this.failsLabelsFilter(t))}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let t=J2(this.cfg.levels,this.cfg.filters.levels.values);return!!lM(this.cfg.filters.levels.type,t,this.level.level)}failsNamespacesFilter(t){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&t.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let n=t.namespace??[];return zw(this.cfg.filters.namespaces.values,n)}let r=t.namespace??[];return Uw(this.cfg.filters.namespaces.values,r)}failsLabelsFilter(t){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&t.label===void 0)return!0;let r=t.label?[t.label.name]:[];return this.cfg.filters.labels.type==="include"?zw(this.cfg.filters.labels.values,r):Uw(this.cfg.filters.labels.values,r)}}class mQ extends np{static{s(this,"_O")}timestampFormatFunction=s(t=>pQ(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(t,r,n)}formatServer(t,r,n){return this.formatMessage(t,r,n)}formatMessage(t,r,n){this.cfg.meta.hostname===void 0&&console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let i=this.cfg.meta.hostname,o=this.cfg.meta.ident??"-",a=this.cfg.meta.user??"-",l=n[0];return[`${i} ${o} ${a} [${r}] ${l}`]}}var gQ=mQ;function vQ(e){return typeof e.name=="string"&&typeof e.hostname=="string"}s(vQ,"hM");class bQ extends np{static{s(this,"PO")}timestampFormatFunction=s(t=>q2(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(t,r,n)}formatServer(t,r,n){return this.formatMessage(t,r,n)}formatMessage(t,r,n){let i=aM(),o=[...n],a=o.shift();if(vQ(this.cfg.meta)){let{src:l,err:u,req_id:c,req:h,res:f,latency:v,hostname:m,name:w,..._}=this.cfg.meta,{namespace:A,label:M}=t,I={v:1,level:this.level.level,levelName:this.level.levelName,name:w,hostname:m,msg:a,args:o,pid:i.pid,time:r,meta:Object.keys(_).length>0?_:void 0,namespace:A,label:M?.name,src:l,err:u,req_id:c,req:h,res:f,latency:v};return[JSON.stringify(I)]}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log.")),[...o]}}var yQ=bQ;class wQ extends np{static{s(this,"jO")}formatBrowser(t,r,n){let i=this.formatLeader(),o=this.formatMeta(t,r);return this.cfg.withEmoji?[i,"font-size: 12px;",this.level.style,o,...n]:[i,this.level.style,o,...n]}formatServer(t,r,n){let i=`${KW(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,o=this.formatMeta(t,r);return[qW(i,this.level.terminalStyle),o,...n]}formatLeader(t=!0){let r=t?"%c":"",n=" "+XW(this.level.levelName);return this.cfg.withEmoji?`${r}${this.formatEmoji(t)}${r}${n}`:`${r}${n}`}formatEmoji(t){let r=t?" ":"";return this.level.emoji?`${this.level.emoji}${r}`:""}formatMeta(t,r){let n=this.cfg.showTimestamp?`${r} `:"",i=iQ(t.namespace),o=sQ(t.label),a=this.formatTime(t),l=aQ(t.label?.count),u=oQ(t.assertion,this.cfg.withEmoji),c=lQ(t.if,this.cfg.withEmoji),h=u!==""?u:c!==""?c:"";return n+i+o+a+l+h}formatTime(t){let r=this.cfg.withEmoji?" ":"Time elapsed: ";return t.timeNow?`(${r}${t.timeNow})`:t.label?.timeElapsed?`(${r}${t.label.timeElapsed})`:""}}var Zw=wQ;class xQ extends np{static{s(this,"t7")}timestampFormatFunction=s(t=>q2(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(r,t,n)}formatServer(t,r,n){return this.formatMessage(r,t,n)}formatMessage(t,r,n){let i="",{appname:o,hostname:a,port:l}=this.cfg.meta,u=Z2(l)?`/${l}`:"",c=Ah(o)?`${o}${u}`:"",h=Ah(a)?` on ${a}: `:"",f=this.formatNamespace(r.namespace),v=r.label?`[${r.label.name}] `:"";return i=`${c}${h}${f}${v}`,[`[${t}] ${this.level.levelName.toUpperCase()}: ${i}${n[0]} `,n.map(m=>eQ(m)?JSON.stringify(m):m).slice(1).join(" ")]}formatNamespace(t){return t&&t.length>0?`${t.reduce((r,n,i)=>i===t.length-1?`${r}${n}`:`${r}${n}/`,"")} `:""}}var hM=["group","groupCollapsed"],pM=["dir","dirxml","table",...hM],_Q=["error","warn","info","log","debug",...pM],EQ=["clear","groupEnd"],SQ=[...pM,...EQ],Bi={activeLevel:"log",cache:!1,cacheSize:300,dump:!1,format:"pretty",showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:kQ(),error:TQ(),warn:AQ(),info:NQ(),fail:CQ(),success:MQ(),log:IQ(),debug:OQ(),verbose:RQ()},formatters:{default:Zw,pretty:Zw,standard:xQ,common:gQ,json:yQ}};function kQ(e={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"",...e}}s(kQ,"to$1");function TQ(e={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"",...e}}s(TQ,"Uo");function AQ(e={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${HW()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"",...e}}s(AQ,"Fo");function NQ(e={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...e}}s(NQ,"ao");function CQ(e={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...e}}s(CQ,"Qo");function MQ(e={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"",...e}}s(MQ,"eo");function IQ(e={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"",...e}}s(IQ,"so");function OQ(e={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"",...e}}s(OQ,"$n");function RQ(e={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"",...e}}s(RQ,"qn");class yv{static{s(this,"n4")}logCfg;glblCfg;constructor(t){this.logCfg=t??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration(t){this.logCfg=t}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??Bi.activeLevel}set activeLevel(t){this.logCfg.activeLevel=t}get cache(){return this.glblCfg?.cache??this.logCfg.cache??Bi.cache}set cache(t){this.logCfg.cache=t}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??Bi.cacheSize}set cacheSize(t){this.logCfg.cacheSize=t}get dump(){return this.glblCfg?.dump??this.logCfg.dump??Bi.dump}set dump(t){this.logCfg.dump=t}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta(t){this.logCfg.meta=t}get silent(){return this.glblCfg?.silent??this.logCfg.silent??Bi.silent}set silent(t){this.logCfg.silent=t}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??Bi.showTimestamp}set showTimestamp(t){this.logCfg.showTimestamp=t}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??Bi.withEmoji}set withEmoji(t){this.logCfg.withEmoji=t}get format(){return this.glblCfg?.format??this.logCfg.format??Bi.format}set format(t){this.logCfg.format=t}get levels(){return{...Bi.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels(t){this.logCfg.levels=t}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware(t){this.logCfg.middleware=t}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters(t){this.logCfg.filters=t}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter(t){this.logCfg.timestampFormatter=t}get formatters(){return{...Bi.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters(t){this.logCfg.formatters=t}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function jQ(e){return typeof e=="function"}s(jQ,"Kn");class Mh{static{s(this,"B4")}globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor(t,r){this.globalStore=aM(t),this._modifierData=r??{},this._cfg=new yv(t),this.doHook(n=>{n.constructed&&n.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...t){this.terminate("alert",t)}static alert(...t){new this().alert(...t)}error(...t){this.terminate("error",t)}static error(...t){new this().error(...t)}warn(...t){this.terminate("warn",t)}static warn(...t){new this().warn(...t)}info(...t){this.terminate("info",t)}static info(...t){new this().info(...t)}fail(...t){this.terminate("fail",t)}static fail(...t){new this().fail(...t)}success(...t){this.terminate("success",t)}static success(...t){new this().success(...t)}log(...t){this.terminate("log",t)}static log(t,...r){new this().log(t,...r)}debug(...t){this.terminate("debug",t)}static debug(...t){new this().debug(...t)}verbose(...t){this.terminate("verbose",t)}static verbose(...t){new this().verbose(...t)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom(t,...r){return this._cfg.levels[t]?(this.terminate(t,r),this):(console.warn(Error("Custom log level not found in configuration.")),this)}static custom(t,...r){return new this().custom(t,...r)}seal(t){return t&&this._cfg.updateConfiguration(t),Gw(Mh,this._cfg,this.modifierData,this.modifierQueue)}static seal(t){return new this().seal(t)}sealTag(t,r){return this._cfg=new yv({...this._cfg.exportValues(),...r}),(n,...i)=>{let o=String.raw({raw:n},...i),a=Gw(Mh,this._cfg,this.modifierData,this.modifierQueue),l=t;jQ(a[l])&&a[l](o)}}static sealTag(t,r){return new this().sealTag(t,r)}thread(t,r){this.runModifierQueue(),this._modifierData.label&&(this._modifierData.label.context||(this._modifierData.label.context={}),this._modifierData.label.context={...this._modifierData.label.context,[t]:r})}static thread(t,r){new this().thread(t,r)}assert(t){return this.modifierQueue.push(["assert",r=>(r.assertion=t,r)]),this}static assert(t){return new this().assert(t)}get closeThread(){return this.modifierQueue.push(["closeThread",t=>(t.label?.context&&(t.label.context=void 0),t)]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",t=>(t.label&&(t.label.count=t.label.count!==void 0?t.label.count+1:1),t)]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",t=>(t.label&&delete t.label.count,t)]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",t=>(t.label&&(t.label.count=0),t)]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",t=>(t.method="dir",t)]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",t=>(t.method="dirxml",t)]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",(t,r)=>(r._cfg.dump=!0,t)]),this}static get dump(){return new this().dump}format(t){return this.modifierQueue.push(["format",(r,n)=>Object.keys(n._cfg.formatters).includes(t)?(n._cfg.format=t,r):(console.warn(Error(`Adze: Formatter "${t}" not found in configuration.`)),r)]),this}static format(t){return new this().format(t)}get group(){return this.modifierQueue.push(["group",t=>(t.method="group",t)]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",t=>(t.method="groupCollapsed",t)]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",t=>(t.method="groupEnd",t)]),this}static get groupEnd(){return new this().groupEnd}if(t){return this.modifierQueue.push(["if",r=>(r.if=t,r)]),this}static if(t){return new this().if(t)}test(t){return this.if(t)}static test(t){return new this().if(t)}label(t){return this.modifierQueue.unshift(["label",r=>{let n=this.globalStore.getLabel(t)??{name:t};return r.label=n,this.globalStore.setLabel(t,n),r}]),this}static label(t){return new this().label(t)}meta(t){return this.modifierQueue.push(["meta",(r,n)=>(n._cfg.meta={...n._cfg.meta,...t},r)]),this}static meta(t){return new this().meta(t)}namespace(...t){return this.modifierQueue.push(["namespace",r=>{let n=r.namespace??[];return r.namespace=n.length>0?[...n,...t]:t,r}]),this}static namespace(...t){return new this().namespace(...t)}ns(...t){return this.namespace(...t)}static ns(...t){return new this().namespace(...t)}get silent(){return this.modifierQueue.push(["silent",(t,r)=>(r._cfg.silent=!0,t)]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",t=>(t.method="table",t)]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",t=>{let r=bv();return t.label&&(t.label.timeStart=r),t}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",t=>(t.label?.timeStart&&(t.label.timeElapsed=fM(bv(t.label.timeStart))),t)]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",t=>(t.timeNow=hQ(),t)]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",(t,r)=>(r._cfg.showTimestamp=!0,t)]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",t=>(t.stacktrace=JW(),t)]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",(t,r)=>(r._cfg.withEmoji=!0,t)]),this}static get withEmoji(){return new this().withEmoji}print(t){$W()||t.silent||t.message.length<1||(oM(t.method)?console[t.method](...t.message):console[t.method]())}terminate(t,r){this.doHook(M=>{M.beforeTerminated&&M.beforeTerminated(this,t,r)}),this.runModifierQueue();let n=this.getLevelConfig(t),i=new(this.selectFormatter(this._cfg.format))(this._cfg,n),o=i.timestampFormatter(new Date),a=YW(i.print(this.modifierData,o,r));this._cfg.dump&&this.modifierData.label?.context&&a.push(this.modifierData.label.context),this.doHook(M=>{M.beforeFormatApplied&&(a=M.beforeFormatApplied(this,this._cfg.format,a))});let{activeLevel:l,cache:u,cacheSize:c,dump:h,format:f,meta:v,showTimestamp:m,silent:w,withEmoji:_}=this._cfg,A={activeLevel:l,cache:u,cacheSize:c,dump:h,format:f,meta:v,showTimestamp:m,silent:w,withEmoji:_,...n,...this._modifierData,terminator:t,args:r,timestamp:o,message:a};this.doHook(M=>{M.afterFormatApplied&&M.afterFormatApplied(this,this._cfg.format,a)}),this._data=A,this._cfg.cache&&this.globalStore.addLogToCache(this),this.doHook(M=>{M.beforePrint&&M.beforePrint(this)}),this.print(this._data),this.doHook(M=>{M.afterTerminated&&M.afterTerminated(this,t,r)}),this.globalStore.getListeners(n.level).forEach(M=>{M(this)})}selectFormatter(t){return this._cfg.formatters[t]}getLevelConfig(t){return this._cfg.levels[t]}runModifierQueue(){this.modifierQueue.forEach(([t,r])=>{let n=r(this.modifierData,this);this.doHook(i=>{i.beforeModifierApplied&&i.beforeModifierApplied(this,t,n)}),this._modifierData=n,this.doHook(i=>{i.afterModifierApplied&&i.afterModifierApplied(this,t,n)})})}doHook(t){this._cfg.middleware?.forEach(r=>{t(r)})}}var LQ=Mh,Ih={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},PQ={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function Jw(e,t){let r=Ih[e.toLowerCase()]||30,n=Ih[t.toLowerCase()]||30;return r>=n}s(Jw,"bM");function wv(e){try{let t=new WeakSet;return JSON.stringify(e,(r,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"[Circular]";t.add(n)}return n})}catch{return String(e)}}s(wv,"nH");function mM(e){if(!e)return!1;let t=e.toLowerCase().trim();return t==="true"||t==="1"||t==="yes"||t==="on"}s(mM,"gM");var DQ="info",Oh=ad("LOG_LEVEL")||DQ,xv=mM(ad("LOG_JSON_FORMAT")),Y2=mM(ad("LOG_TIMESTAMPS")??"true");function BQ(e=100){let t=[];return{write(r){t.push(r),t.length>e&&t.shift()},clear(){t.length=0},recentLogs(){return t.map(r=>{let n=Y2?new Date(r.time).toISOString():"",i=PQ[r.level??30]||"info";return`${n} ${i} ${r.msg}`.trim()}).join(`
`)}}}s(BQ,"Yn");var $f=BQ(),gM=s(()=>{let e=Oh.toLowerCase();return e==="trace"?"verbose":e==="debug"?"debug":e==="log"?"log":e==="info"?"info":e==="warn"?"warn":e==="error"?"error":e==="fatal"?"alert":"info"},"yM"),zQ=gM(),vM={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},UQ=BW({activeLevel:zQ,format:xv?"json":"pretty",timestampFormatter:Y2?void 0:()=>"",withEmoji:!1,levels:vM});UQ.addListener("*",e=>{try{let t=e.data,r=Array.isArray(t?.message)?t.message.map(i=>typeof i=="string"?i:wv(i)).join(" "):typeof t?.message=="string"?t.message:"",n={time:Date.now(),level:typeof t?.level=="number"?t.level:void 0,msg:r};$f.write(n)}catch{}});function FQ(e){let t=LQ,r=[];typeof e.namespace=="string"&&r.push(e.namespace),Array.isArray(e.namespaces)&&r.push(...e.namespaces),r.length>0&&(t=t.ns(...r));let n={...e};if(delete n.namespace,delete n.namespaces,xv&&(n.name||(n.name="elizaos"),!n.hostname)){let o="unknown";if(typeof process<"u"&&process.platform)try{o=(M9(),rr(Yb)).hostname()}catch{o="localhost"}else typeof window<"u"&&window.location&&(o=window.location.hostname||"browser");n.hostname=o}let i={activeLevel:gM(),format:xv?"json":"pretty",timestampFormatter:Y2?void 0:()=>"",withEmoji:!1,levels:vM};return t.meta(n).seal(i)}s(FQ,"Wn");function $Q(e){let t=Oh,r={},n;if(typeof e=="object"&&e!==null){"level"in e&&(t=e.level),"maxMemoryLogs"in e&&typeof e.maxMemoryLogs=="number"&&(n=e.maxMemoryLogs);let{level:i,maxMemoryLogs:o,...a}=e;r=a}return{level:t,base:r,maxMemoryLogs:n}}s($Q,"Hn");function _v(e=!1){let{level:t,base:r,maxMemoryLogs:n}=$Q(e);if(typeof n=="number"&&n>0&&$f.clear(),typeof e=="object"&&e&&"__forceType"in e&&e.__forceType==="browser"){let u=(typeof t=="number"?"info":t||Oh).toLowerCase(),c=s((...v)=>v.map(m=>typeof m=="string"?m:m instanceof Error?m.message:wv(m)).join(" "),"Q"),h=s((v,...m)=>{if(!Jw(v,u))return;let w=c(...m),_=v==="fatal"?"error":v==="trace"||v==="verbose"?"debug":v==="success"||v==="progress"?"info":v==="log"?"log":console[v]?v:"log";typeof console[_]=="function"&&console[_](w)},"e"),f=s((v,m,...w)=>typeof v=="string"?m!==void 0?[v,m,...w]:[v,...w]:v instanceof Error?m!==void 0?[v.message,m,...w]:[v.message,...w]:m!==void 0?[m,v,...w]:[v,...w],"m");return{level:u,trace:s((v,m,...w)=>h("trace",...f(v,m,...w)),"trace"),debug:s((v,m,...w)=>h("debug",...f(v,m,...w)),"debug"),info:s((v,m,...w)=>h("info",...f(v,m,...w)),"info"),warn:s((v,m,...w)=>h("warn",...f(v,m,...w)),"warn"),error:s((v,m,...w)=>h("error",...f(v,m,...w)),"error"),fatal:s((v,m,...w)=>h("fatal",...f(v,m,...w)),"fatal"),success:s((v,m,...w)=>h("success",...f(v,m,...w)),"success"),progress:s((v,m,...w)=>h("progress",...f(v,m,...w)),"progress"),log:s((v,m,...w)=>h("log",...f(v,m,...w)),"log"),clear:s(()=>{typeof console.clear=="function"&&console.clear()},"clear"),child:s(v=>_v({level:u,...r,...v,__forceType:"browser"}),"child")}}let i=FQ(r),o=(typeof t=="number"?"info":t||Oh).toLowerCase(),a=s((u,...c)=>{if(!Jw(u,o))return;try{let v="";c.length>0&&(v=c.map(w=>typeof w=="string"?w:w instanceof Error?w.message:wv(w)).join(" ")),r.namespace&&(v=`#${r.namespace}  ${v}`);let m={time:Date.now(),level:Ih[u.toLowerCase()]||Ih.info,msg:v};$f.write(m)}catch{}let h=u,f=c;u==="fatal"?h="alert":u==="progress"?(h="info",f=["[PROGRESS]",...c]):u==="success"?(h="info",f=["[SUCCESS]",...c]):u==="trace"&&(h="verbose");try{i[h](...f)}catch{console.log(`[${u.toUpperCase()}]`,...c)}},"w"),l=s((u,c,...h)=>typeof u=="string"?c!==void 0?[u,c,...h]:[u,...h]:u instanceof Error?c!==void 0?[u.message,{error:u},c,...h]:[u.message,{error:u},...h]:c!==void 0?[c,u,...h]:[u,...h],"k");return{level:o,trace:s((u,c,...h)=>a("verbose",...l(u,c,...h)),"trace"),debug:s((u,c,...h)=>a("debug",...l(u,c,...h)),"debug"),info:s((u,c,...h)=>a("info",...l(u,c,...h)),"info"),warn:s((u,c,...h)=>a("warn",...l(u,c,...h)),"warn"),error:s((u,c,...h)=>a("error",...l(u,c,...h)),"error"),fatal:s((u,c,...h)=>a("fatal",...l(u,c,...h)),"fatal"),success:s((u,c,...h)=>a("success",...l(u,c,...h)),"success"),progress:s((u,c,...h)=>a("progress",...l(u,c,...h)),"progress"),log:s((u,c,...h)=>a("log",...l(u,c,...h)),"log"),clear:s(()=>{try{typeof console?.clear=="function"&&console.clear()}catch{}$f.clear()},"clear"),child:s(u=>_v({level:o,...r,...u}),"child")}}s(_v,"F7");var rc=_v(),nf=rc;Zo();var HQ=At.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format");function $c(e){let t=HQ.safeParse(e);return t.success?t.data:null}s($c,"wn");var Om=s(e=>{if(e.startsWith("image/"))return"image";if(e.startsWith("video/"))return"video";if(e.startsWith("audio/"))return"audio";if(e.includes("pdf")||e.includes("document")||e.startsWith("text/"))return"document"},"wP$"),bM=At.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format").describe("Unique identifier for the character in UUID format"),VQ=At.object({id:At.string().describe("Unique identifier for the media"),url:At.string().describe("URL of the media file"),title:At.string().optional().describe("Media title"),source:At.string().optional().describe("Media source"),description:At.string().optional().describe("Media description"),text:At.string().optional().describe("Text content associated with the media"),contentType:At.nativeEnum(lh).optional().describe("Type of media content")}).loose().describe("Media attachment with URL and metadata"),GQ=At.object({text:At.string().optional().describe("The main text content of the message"),thought:At.string().optional().describe("Internal thought process or reasoning"),actions:At.array(At.string()).optional().describe("Actions to be taken in response"),providers:At.array(At.string()).optional().describe("Data providers to use (e.g., KNOWLEDGE)"),source:At.string().optional().describe("Source of the content"),target:At.string().optional().describe("Target of the content"),url:At.string().optional().describe("Related URL"),inReplyTo:bM.optional().describe("UUID of message this is replying to"),attachments:At.array(VQ).optional().describe("Array of media attachments (images, videos, documents, etc.)"),channelType:At.enum(Ft).optional().describe("Type of channel this content is for")}).catchall(At.unknown()).describe("Content structure for messages in conversation examples"),ZQ=At.object({name:At.string().describe("Name of the speaker (can use {{name1}} placeholder for dynamic names)"),content:GQ}).describe("A single message in a conversation example"),JQ=At.object({directory:At.string().describe("Path to a directory containing knowledge files"),shared:At.boolean().optional().describe("Whether this knowledge is shared across characters")}).describe("Directory-based knowledge source"),WQ=At.union([At.string().describe("File path to a knowledge document"),At.object({path:At.string().describe("Path to a knowledge file"),shared:At.boolean().optional().describe("Whether this knowledge is shared across characters")}),JQ]).describe("Knowledge source - can be a file path, file object, or directory"),QQ=At.union([At.string().describe("Template string with placeholders"),At.function().optional()]).describe("Template for generating text - can be a string template or function"),XQ=At.object({all:At.array(At.string()).optional().describe("Style guidelines applied to all types of responses"),chat:At.array(At.string()).optional().describe("Style guidelines specific to chat/conversation responses"),post:At.array(At.string()).optional().describe("Style guidelines specific to social media posts")}).optional().describe("Style configuration defining how the character communicates across different contexts"),KQ=At.record(At.string(),At.union([At.string(),At.boolean(),At.number(),At.object({}).loose(),At.array(At.any())])).optional().describe("Character-specific settings like avatar URL, preferences, and configuration"),qQ=At.record(At.string(),At.union([At.string(),At.boolean(),At.number()])).optional().describe("Secret values and API keys (should not be committed to version control)");At.object({id:bM.optional().describe("Unique identifier for the character"),name:At.string().min(1,"Character name is required").describe('The name of the character (e.g., "Eliza")'),username:At.string().optional().describe("Username for the character on various platforms"),system:At.string().optional().describe("System prompt that defines the character's core behavior and response style"),templates:At.record(At.string(),QQ).optional().describe("Custom templates for generating different types of content"),bio:At.union([At.string(),At.array(At.string())]).describe("Character biography - can be a single string or array of biographical points"),messageExamples:At.array(At.array(ZQ)).optional().describe("Example conversations showing how the character responds in different scenarios"),postExamples:At.array(At.string()).optional().describe("Example social media posts demonstrating the character's voice and topics"),topics:At.array(At.string()).optional().describe("Topics the character is knowledgeable about and engages with"),adjectives:At.array(At.string()).optional().describe("Adjectives that describe the character's personality and traits"),knowledge:At.array(WQ).optional().describe("Knowledge sources (files, directories) the character can reference"),plugins:At.array(At.string()).optional().describe('List of plugin package names to load (e.g., ["@elizaos/plugin-sql", "@elizaos/plugin-bootstrap"] - these are commonly required)'),settings:KQ,secrets:qQ,style:XQ}).strict().describe("Complete character definition including personality, behavior, and capabilities");Zo();function ga(){return typeof Buffer<"u"&&typeof Buffer.from=="function"}s(ga,"NK");function YQ(e){let t=e.replace(/[^0-9a-fA-F]/g,"");if(ga())return Buffer.from(t,"hex");let r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++)r[n]=parseInt(t.substr(n*2,2),16);return r}s(YQ,"Rn");function eX(e,t="utf8"){if(ga()){let r=t==="utf-8"?"utf8":t;return Buffer.from(e,r)}if(t==="base64"){let r=atob(e),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}return new TextEncoder().encode(e)}s(eX,"In");function yM(e){if(ga()&&Buffer.isBuffer(e))return e.toString("hex");let t=e instanceof Uint8Array?e:new Uint8Array(e),r="";for(let n=0;n<t.length;n++){let i=t[n].toString(16);r+=i.length===1?"0"+i:i}return r}s(yM,"tM");function tX(e,t="utf8"){if(ga()&&Buffer.isBuffer(e)){let n=t==="utf-8"?"utf8":t;return e.toString(n)}let r=e instanceof Uint8Array?e:new Uint8Array(e);if(t==="hex")return yM(r);if(t==="base64"){let n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return btoa(n)}return new TextDecoder().decode(r)}s(tX,"Dn");function rX(e){return e?ga()&&Buffer.isBuffer(e)?!0:e instanceof Uint8Array||e instanceof ArrayBuffer||typeof e=="object"&&e.buffer instanceof ArrayBuffer&&typeof e.byteLength=="number"&&!Array.isArray(e):!1}s(rX,"Ln");function nX(e){return ga()?Buffer.alloc(e):new Uint8Array(e)}s(nX,"bn");function iX(e){return ga()?Buffer.from(e):new Uint8Array(e)}s(iX,"gn");function sX(e){if(ga()&&e.every(i=>Buffer.isBuffer(i)))return Buffer.concat(e);let t=0;for(let i of e)t+=i.length;let r=new Uint8Array(t),n=0;for(let i of e){let o=i instanceof Uint8Array?i:new Uint8Array(i);r.set(o,n),n+=o.length}return r}s(sX,"yn");function aX(e,t,r){return ga()&&Buffer.isBuffer(e)?e.slice(t,r):(e instanceof Uint8Array?e:new Uint8Array(e)).slice(t,r)}s(aX,"un");function oX(e,t){if(e.length!==t.length)return!1;let r=e instanceof Uint8Array?e:new Uint8Array(e),n=t instanceof Uint8Array?t:new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}s(oX,"xn");function lX(e){return e.length}s(lX,"cn");function uX(e){let t=new Uint8Array(e),r=typeof globalThis<"u"?globalThis.crypto||globalThis.webcrypto:void 0;if(r&&typeof r.getRandomValues=="function")r.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t}s(uX,"pn");var cX={fromHex:YQ,fromString:eX,fromBytes:iX,toHex:yM,toString:tX,isBuffer:rX,alloc:nX,concat:sX,slice:aX,equals:oX,byteLength:lX,randomBytes:uX},dX=[];for(let e=0;e<256;++e)dX.push((e+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);Zo();Zo();Zo();function fX(){try{return typeof process<"u"&&(process.versions?.node!==void 0||process.versions?.bun!==void 0)}catch{return!1}}s(fX,"$i");function wM(){return fX()?(Xn(),rr(zn)):Bf("crypto-browserify")}s(wM,"_J");function hX(e){let t=wM().createHash(e);return{update(r){return t.update(r),this},digest(){return new Uint8Array(t.digest())}}}s(hX,"PJ");function pX(e,t,r){return wM().createDecipheriv(e,t,r)}s(pX,"_0");var yu=null,Ww=!1,mX=3e5;function gX(){let e=ad("SECRET_SALT","secretsalt")||"secretsalt",t=Date.now();return yu!==null&&t-yu.timestamp<mX&&yu.value===e?yu.value:(e==="secretsalt"&&!Ww&&(rc.warn("SECRET_SALT is not set or using default value"),Ww=!0),yu={value:e,timestamp:t},e)}s(gX,"y_");function vX(e,t){try{if(e==null||typeof e=="boolean"||typeof e=="number")return e;if(typeof e!="string")return rc.debug(`Value is not a string (type: ${typeof e}), returning as is`),e;let r=e.split(":");if(r.length!==2)return e;let n=cX.fromHex(r[0]),i=r[1];if(n.length!==16)return n.length&&rc.debug(`Invalid IV length (${n.length}) - expected 16 bytes`),e;let o=hX("sha256").update(t).digest().slice(0,32),a=pX("aes-256-cbc",o,n),l=a.update(i,"hex","utf8");return l+=a.final("utf8"),l}catch(r){return rc.error(`Error decrypting value: ${r}`),e}}s(vX,"HO");function bX(e,t){let r={};for(let[n,i]of Object.entries(e))typeof i=="string"&&i?r[n]=vX(i,t):r[n]=i;return r}s(bX,"j0");Zo();const Ye={info:s((e,...t)=>{nf.info({source:"client"},e,...t)},"info"),error:s((e,...t)=>{nf.error({source:"client"},e,...t)},"error"),warn:s((e,...t)=>{nf.warn({source:"client"},e,...t)},"warn"),debug:s((e,...t)=>{nf.debug({source:"client"},e,...t)},"debug")},yX="elizaos-plugins",wX="registry",xX=`https://raw.githubusercontent.com/${yX}/${wX}/refs/heads/main/generated-registry.json`,_X=["@elizaos/plugin-bootstrap","@elizaos/plugin-sql"];async function EX(){try{const e=await fetch(xX);if(!e.ok)throw new Error(`Failed to fetch registry: ${e.status}`);return await e.json()}catch(e){return Ye.error("Failed to fetch plugin registry:",e),null}}s(EX,"fetchPluginRegistry");function SX(e){return e.startsWith("@elizaos-plugins/")?e:e.replace("@elizaos/","@elizaos-plugins/")}s(SX,"getRegistryPluginName");function Hc(e){return _X.includes(e)}s(Hc,"isCorePlugin");function kX(e,t){if(Hc(e))return null;if(!t)return Ye.warn(`No registry data available for ${e}`),null;const r=SX(e),n=e;Ye.debug(`Looking for ${e} in registry as ${r} or ${n}`);let i=t.registry[r];if(!i&&r!==n&&(i=t.registry[n],i&&Ye.debug(`Found plugin under alternative name: ${n}`)),!i?.git?.repo)return Ye.warn(`No GitHub repo found in registry for plugin: ${e} (tried ${r} and ${n})`),null;Ye.debug(`Found repo info for ${e}: ${i.git.repo}`);const o=i.git.v1.branch?i.git.v1:i.git.v0,a=o?.branch||"main";o?.branch?Ye.debug(`Branch for ${e}: ${a}`):Ye.warn(`No branch information found for plugin: ${e}`);let l;const u=i.git.repo.match(/github\.com[:/]([^/]+\/[^/.]+)(\.git)?$/);if(u)l=u[1];else{const h=i.git.repo.match(/^([^/]+\/[^/.]+)$/);if(h)l=h[1];else return Ye.warn(`Could not parse GitHub repo URL: ${i.git.repo}`),null}Ye.debug(`Parsed owner/repo for ${e}: ${l}`);const c=`${l}/${a}`;return Ye.debug(`Initial path for ${e}: ${c}`),c}s(kX,"getGitHubRepoPath");async function TX(e,t){if(Hc(e))return null;if(!t)return Ye.warn(`No repo path available for plugin: ${e}`),null;Ye.debug(`Starting package.json fetch for ${e} with initial path: ${t}`);const r=t.split("/"),n=r[0],i=r[1],o=r[2]||"main",a=e.replace("@elizaos/","");Ye.debug(`Extracted parts - owner: ${n}, repo: ${i}, branch: ${o}, packageName: ${a}`);const l=[`${n}/${i}/${o}`,`${n}/${i}/main`,`${n}/${i}/master`,`${n}/${i}/1.x`,`${n}/${i}/v1`,`${n}/${i}/v2`,`${n}/${i}/${o}/packages/${a}`,`${n}/${i}/main/packages/${a}`,`${n}/${i}/master/packages/${a}`],u=[...new Set(l)];Ye.debug(`Will try ${u.length} unique paths for ${e}:`,u);for(const c of u)try{const h=`https://raw.githubusercontent.com/${c}/package.json`;Ye.debug(`Trying URL for ${e}: ${h}`);const f=await fetch(h);if(f.ok){const v=await f.json();return Ye.debug(` Found package.json for ${e} at ${h}`),v}else Ye.debug(` Failed to fetch ${e} from ${h}: HTTP ${f.status}`)}catch(h){Ye.debug(` Error fetching ${e} from ${c}: ${h instanceof Error?h.message:String(h)}`)}return Ye.warn(`Could not find package.json for ${e} in any of the expected locations`),null}s(TX,"fetchPluginPackageJson");function AX(e,t){if(Hc(e))return[];if(!t)return[];if(t?.agentConfig?.pluginParameters){const r=[];for(const[n,i]of Object.entries(t.agentConfig.pluginParameters))i.required===!0&&r.push({name:n,description:i.description,required:!0,example:i.example});return r}return t?.elizaos?.secrets?t.elizaos.secrets.filter(r=>r.required):t?.elizaos?.requiredSecrets?t.elizaos.requiredSecrets.map(r=>({name:r,required:!0})):[]}s(AX,"extractRequiredSecrets");function NX(e){const t=H.useMemo(()=>[...e].sort().join(","),[e]);return Cn({queryKey:["plugin-details",t],queryFn:s(async()=>{Ye.debug("[usePluginDetails] Starting fetch for plugins:",e);const r=[],n=e.filter(Hc),i=e.filter(o=>!Hc(o));if(Ye.debug("[usePluginDetails] Core plugins:",n),Ye.debug("[usePluginDetails] External plugins:",i),n.forEach(o=>{r.push({name:o,requiredSecrets:[]})}),i.length>0){const o=await EX();if(Ye.debug("[usePluginDetails] Registry data fetched:",o?"success":"failed"),o){const u=Object.keys(o.registry);Ye.debug("[usePluginDetails] Available plugins in registry:",u)}const a=i.map(async u=>{const c=kX(u,o),h=await TX(u,c);return{name:u,packageJson:h}}),l=await Promise.all(a);for(const{name:u,packageJson:c}of l){const h=AX(u,c);r.push({name:u,requiredSecrets:h})}}return Ye.debug("[usePluginDetails] Final details:",r),r},"queryFn"),enabled:e.length>0,staleTime:300*1e3,retry:2,refetchOnMount:!1,refetchOnWindowFocus:!1})}s(NX,"usePluginDetails");function xM(e){const{data:t,isLoading:r,error:n}=NX(e);return{requiredSecrets:H.useMemo(()=>t?t.reduce((o,a)=>(a.requiredSecrets.forEach(l=>{o.find(u=>u.name===l.name)||o.push({...l,plugin:a.name})}),o),[]):[],[t]),isLoading:r,error:n}}s(xM,"useRequiredSecrets");class eo extends Error{static{s(this,"ApiError")}code;details;status;constructor(t,r,n,i){super(r),this.code=t,this.details=n,this.status=i,this.name="ApiError"}}class Cs{static{s(this,"BaseApiClient")}baseUrl;apiKey;timeout;defaultHeaders;constructor(t){this.baseUrl=t.baseUrl.replace(/\/$/,""),this.apiKey=t.apiKey,this.timeout=t.timeout||3e4,this.defaultHeaders={"Content-Type":"application/json",...t.headers},this.apiKey&&(this.defaultHeaders["X-API-KEY"]=this.apiKey)}createNoContentResponse(){return{success:!0}}async request(t,r,n){let i;this.baseUrl?i=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?i=new URL(r,window.location.origin):i=new URL(r,"http://localhost:3000"),n?.params&&Object.entries(n.params).forEach(([l,u])=>{u!=null&&i.searchParams.append(l,String(u))});const o=new AbortController,a=setTimeout(()=>o.abort(),this.timeout);try{const l={...this.defaultHeaders,...n?.config?.headers,...n?.headers};n?.body instanceof FormData&&delete l["Content-Type"];const u=await fetch(i.toString(),{method:t,headers:l,body:n?.body instanceof FormData?n.body:n?.body?JSON.stringify(n.body):void 0,signal:o.signal});if(clearTimeout(a),u.status===204||u.headers.get("content-length")==="0")return this.createNoContentResponse();let c;try{c=await u.json()}catch{if(u.ok)return this.createNoContentResponse();throw new eo("PARSE_ERROR","Failed to parse response as JSON",void 0,u.status)}if(!u.ok){const h=c?.error||{code:"HTTP_ERROR",message:`HTTP ${u.status}: ${u.statusText}`};throw new eo(h.code,h.message,h.details,u.status)}if(c&&typeof c=="object"&&"success"in c){const h=c;if(!h.success){const f="error"in h?h.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred"};throw new eo(f.code,f.message,f.details,u.status)}return h.data}else return c}catch(l){throw clearTimeout(a),l instanceof eo?l:l instanceof Error?l.name==="AbortError"?new eo("TIMEOUT","Request timed out"):new eo("NETWORK_ERROR",l.message):new eo("UNKNOWN_ERROR","An unknown error occurred")}}async get(t,r){return this.request("GET",t,r)}async post(t,r,n){return this.request("POST",t,{...n,body:r})}async put(t,r,n){return this.request("PUT",t,{...n,body:r})}async patch(t,r,n){return this.request("PATCH",t,{...n,body:r})}async delete(t,r){return this.request("DELETE",t,r)}}class CX extends Cs{static{s(this,"AgentsService")}async listAgents(){return this.get("/api/agents")}async getAgent(t){return this.get(`/api/agents/${t}`)}async createAgent(t){return this.post("/api/agents",t)}async updateAgent(t,r){return this.patch(`/api/agents/${t}`,r)}async deleteAgent(t){return this.delete(`/api/agents/${t}`)}async startAgent(t){return this.post(`/api/agents/${t}/start`)}async stopAgent(t){return this.post(`/api/agents/${t}/stop`)}async getWorlds(){return this.get("/api/agents/worlds")}async addAgentToWorld(t,r){return this.post(`/api/agents/${t}/worlds`,{worldId:r})}async updateAgentWorldSettings(t,r,n){return this.patch(`/api/agents/${t}/worlds/${r}`,{settings:n})}async getAgentPanels(t){const r=await this.get(`/api/agents/${t}/panels`);return{panels:(Array.isArray(r)?r:[]).map((i,o)=>({id:`${i.name}-${o}`,name:i.name,url:i.path,type:"plugin"}))}}async getAgentLogs(t,r){return this.get(`/api/agents/${t}/logs`,{params:r})}async deleteAgentLog(t,r){return this.delete(`/api/agents/${t}/logs/${r}`)}async getAgentsForServer(t){return this.get(`/api/messaging/servers/${t}/agents`)}async addAgentToServer(t,r){return this.post(`/api/messaging/servers/${t}/agents`,{agentId:r})}async removeAgentFromServer(t,r){return this.delete(`/api/messaging/servers/${t}/agents/${r}`)}async getServersForAgent(t){return this.get(`/api/messaging/agents/${t}/servers`)}}class MX extends Cs{static{s(this,"MessagingService")}async submitMessage(t){return this.post("/api/messaging/submit",t)}async completeMessage(t){return this.post("/api/messaging/complete",t)}async ingestExternalMessages(t){return this.post("/api/messaging/ingest-external",t)}async createChannel(t){const r={name:t.name,type:t.type,server_id:t.serverId||"00000000-0000-0000-0000-000000000000",metadata:t.metadata};return this.post("/api/messaging/central-channels",r)}async createGroupChannel(t){const r="00000000-0000-0000-0000-000000000000";let n,i,o;if(t.metadata){const l={...t.metadata};"server_id"in l&&(i=l.server_id,delete l.server_id),"type"in l&&(o=l.type,delete l.type),Object.keys(l).length>0&&(n=l)}const a={name:t.name,server_id:i||r,participantCentralUserIds:t.participantIds,...o?{type:o}:{},...n?{metadata:n}:{}};return this.post("/api/messaging/central-channels",a)}async getOrCreateDmChannel(t){const[r,n]=t.participantIds,i={currentUserId:r,targetUserId:n,dmServerId:"00000000-0000-0000-0000-000000000000"};return this.get("/api/messaging/dm-channel",{params:i})}async getChannelDetails(t){return this.get(`/api/messaging/central-channels/${t}/details`)}async getChannelParticipants(t){return this.get(`/api/messaging/central-channels/${t}/participants`)}async addAgentToChannel(t,r){return this.post(`/api/messaging/central-channels/${t}/agents`,{agentId:r})}async removeAgentFromChannel(t,r){return this.delete(`/api/messaging/central-channels/${t}/agents/${r}`)}async deleteChannel(t){return this.delete(`/api/messaging/central-channels/${t}`)}async clearChannelHistory(t){return this.delete(`/api/messaging/central-channels/${t}/messages`)}async postMessage(t,r,n){return this.post(`/api/messaging/central-channels/${t}/messages`,{content:r,metadata:n})}async getChannelMessages(t,r){return this.get(`/api/messaging/central-channels/${t}/messages`,{params:r})}async getMessage(t){return this.get(`/api/messaging/messages/${t}`)}async deleteMessage(t,r){return this.delete(`/api/messaging/central-channels/${t}/messages/${r}`)}async updateMessage(t,r){return this.patch(`/api/messaging/messages/${t}`,{content:r})}async searchMessages(t){return this.post("/api/messaging/messages/search",t)}async listServers(){return this.get("/api/messaging/central-servers")}async getServerChannels(t){return this.get(`/api/messaging/central-servers/${t}/channels`)}async createServer(t){return this.post("/api/messaging/servers",t)}async syncServerChannels(t,r){return this.post(`/api/messaging/servers/${t}/sync-channels`,r)}async deleteServer(t){return this.delete(`/api/messaging/servers/${t}`)}async updateChannel(t,r){return this.patch(`/api/messaging/central-channels/${t}`,r)}async generateChannelTitle(t,r){return this.post(`/api/messaging/central-channels/${t}/generate-title`,{agentId:r})}async addUserToChannel(t,r){const n=await this.getChannelDetails(t),i=n.metadata?.participantCentralUserIds||[];if(!i.includes(r)){const o=[...i,r];return this.updateChannel(t,{participantCentralUserIds:o})}return{success:!0,data:n}}async addUsersToChannel(t,r){const o=[...(await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]];for(const a of r)o.includes(a)||o.push(a);return this.updateChannel(t,{participantCentralUserIds:o})}async removeUserFromChannel(t,r){const o=((await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]).filter(a=>a!==r);return this.updateChannel(t,{participantCentralUserIds:o})}}class IX extends Cs{static{s(this,"MemoryService")}async getAgentMemories(t,r){return this.get(`/api/memory/${t}/memories`,{params:r})}async getRoomMemories(t,r,n){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:n})}async updateMemory(t,r,n){return this.patch(`/api/memory/${t}/memories/${r}`,n)}async clearAgentMemories(t){return this.delete(`/api/memory/${t}/memories`)}async clearRoomMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async listAgentRooms(t){return this.get(`/api/memory/${t}/rooms`)}async getRoom(t,r){return this.get(`/api/memory/${t}/rooms/${r}`)}async createRoom(t,r){return this.post(`/api/memory/${t}/rooms`,r)}async createWorldFromServer(t,r){return this.post(`/api/memory/groups/${t}`,r)}async deleteWorld(t){return this.delete(`/api/memory/groups/${t}`)}async clearWorldMemories(t){return this.delete(`/api/memory/groups/${t}/memories`)}async deleteMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async getAgentInternalMemories(t,r,n){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:{includeEmbedding:n}})}async deleteAgentInternalMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async deleteAllAgentInternalMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async updateAgentInternalMemory(t,r,n){return this.patch(`/api/memory/${t}/memories/${r}`,n)}async deleteGroupMemory(t,r){return this.delete(`/api/messaging/central-channels/${t}/messages/${r}`)}async clearGroupChat(t){return this.delete(`/api/messaging/central-channels/${t}/messages`)}}class OX extends Cs{static{s(this,"AudioService")}async requestBinary(t,r,n){let i;this.baseUrl?i=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?i=new URL(r,window.location.origin):i=new URL(r,"http://localhost:3000"),n?.params&&Object.entries(n.params).forEach(([l,u])=>{u!=null&&i.searchParams.append(l,String(u))});const o=new AbortController,a=setTimeout(()=>o.abort(),this.timeout);try{const l={...this.defaultHeaders,...n?.headers};n?.body instanceof FormData&&delete l["Content-Type"];const u=await fetch(i.toString(),{method:t,headers:l,body:n?.body instanceof FormData?n.body:n?.body?JSON.stringify(n.body):void 0,signal:o.signal});if(clearTimeout(a),!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return await u.arrayBuffer()}catch(l){throw clearTimeout(a),l instanceof Error?l.name==="AbortError"?new Error("Request timed out"):l:new Error("An unknown error occurred")}}processAudioInput(t){if(t instanceof Blob)return t;if(typeof t=="string"){if(t.startsWith("data:"))try{const[n,i]=t.split(","),o=n.match(/data:([^;]+)/),a=o?o[1]:"audio/wav",l=atob(i),u=new Uint8Array(l.length);for(let c=0;c<l.length;c++)u[c]=l.charCodeAt(c);return new Blob([u],{type:a})}catch(n){throw new Error(`Invalid base64 data URL: ${n instanceof Error?n.message:"Unknown error"}`)}if(this.isBase64String(t))try{const n=atob(t),i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:"audio/wav"})}catch{return t}return t}if(this.isBuffer(t))return new Blob([new Uint8Array(t)],{type:"audio/wav"});const r=t;if(r instanceof ArrayBuffer)return new Blob([r],{type:"audio/wav"});if(r&&typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer)return new Blob([r.buffer],{type:"audio/wav"});throw new Error(`Unsupported audio input type: ${typeof t}. Expected Blob, Buffer, ArrayBuffer, or string.`)}isBase64String(t){const r=/^[A-Za-z0-9+/]*={0,2}$/;return t.length<4||t.length%4!==0?!1:r.test(t)}isBuffer(t){return t!=null&&typeof t=="object"&&typeof t.constructor=="function"&&t.constructor.name==="Buffer"&&typeof t.readUInt8=="function"}async speechConversation(t,r){const n=new FormData,i=this.processAudioInput(r.audio);return i instanceof Blob,n.append("file",i),r.format&&n.append("format",r.format),r.language&&n.append("language",r.language),r.metadata&&n.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/audio/${t}/speech/conversation`,{body:n})}async generateSpeech(t,r){const n=await this.requestBinary("POST",`/api/audio/${t}/speech/generate`,{body:r}),i=new Uint8Array(n);let o="";for(let u=0;u<i.byteLength;u++)o+=String.fromCharCode(i[u]);return{audio:btoa(o),format:"mpeg"}}async synthesizeAudioMessage(t,r){return this.post(`/api/audio/${t}/audio-messages/synthesize`,r)}async transcribe(t,r){const n=new FormData,i=this.processAudioInput(r.audio);return i instanceof Blob,n.append("file",i),r.format&&n.append("format",r.format),r.language&&n.append("language",r.language),this.request("POST",`/api/audio/${t}/transcriptions`,{body:n})}async processSpeech(t,r,n){const i=new FormData,o=this.processAudioInput(r);return o instanceof Blob,i.append("file",o),n&&i.append("metadata",JSON.stringify(n)),this.request("POST",`/api/audio/${t}/speech`,{body:i})}}class RX extends Cs{static{s(this,"MediaService")}async uploadAgentMedia(t,r){const n=new FormData;return n.append("file",r.file,r.filename),r.contentType&&n.append("contentType",r.contentType),r.metadata&&n.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/media/agents/${t}/upload-media`,{body:n})}async uploadChannelMedia(t,r){const n=new FormData;return n.append("file",r),this.request("POST",`/api/messaging/central-channels/${t}/upload-media`,{body:n})}}class jX extends Cs{static{s(this,"ServerService")}async checkHealth(){return this.get("/api/server/health")}async ping(){return this.get("/api/server/ping")}async hello(){return this.get("/api/server/hello")}async getStatus(){return this.get("/api/server/status")}async stopServer(){return this.post("/api/server/stop")}async getDebugInfo(){return this.get("/api/server/debug/servers")}async submitLogs(t){return this.post("/api/server/logs",{logs:t})}async clearLogs(){return this.delete("/api/server/logs")}}class LX extends Cs{static{s(this,"SystemService")}async getEnvironment(){return this.get("/api/system/env/local")}async updateLocalEnvironment(t){if(!t||typeof t!="object")throw new Error("updateLocalEnvironment requires a configuration object");let r;return"variables"in t?r={content:t.variables}:"content"in t?r={content:t.content}:r={content:t},this.post("/api/system/env/local",r)}async getGlobalLogs(t){const r=await fetch(this.buildUrl("/api/server/logs",{params:t}),{method:"GET",headers:this.getHeaders()});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const n=await r.json();return{logs:n.logs||[],count:n.count||0,total:n.total||0,level:n.requestedLevel||n.level||"all",levels:n.levels||[]}}buildUrl(t,r){const n=new URL(`${this.baseUrl}${t}`);return r?.params&&Object.entries(r.params).forEach(([i,o])=>{o!=null&&n.searchParams.append(i,String(o))}),n.toString()}getHeaders(){return{...this.defaultHeaders}}async deleteGlobalLogs(){return this.delete("/api/server/logs")}async deleteLog(t){throw new Error("Individual log deletion is not supported. Use deleteGlobalLogs() to clear all logs.")}}function Qw(e,t){if(!e)return;let r;if(e instanceof Date)r=e.getTime();else if(typeof e=="string"){if(r=new Date(e).getTime(),isNaN(r)){console.warn(`Invalid date string for ${t}: ${e}`);return}}else if(typeof e=="number")r=e;else{console.warn(`Invalid type for ${t}: ${typeof e}`);return}return r.toString()}s(Qw,"toTimestampString");function wu(e,t){if(!e||e.trim()==="")throw new Error(`${t} is required and cannot be empty`)}s(wu,"validateRequiredParam");class PX extends Cs{static{s(this,"SessionsService")}async checkHealth(){return this.get("/api/messaging/sessions/health")}async createSession(t){return this.post("/api/messaging/sessions",t)}async getSession(t){return wu(t,"sessionId"),this.get(`/api/messaging/sessions/${t}`)}async sendMessage(t,r){return wu(t,"sessionId"),wu(r?.content,"content"),this.post(`/api/messaging/sessions/${t}/messages`,r)}async getMessages(t,r){wu(t,"sessionId");const n={};r?.limit&&(n.limit=r.limit.toString());const i=Qw(r?.before,"before");i&&(n.before=i);const o=Qw(r?.after,"after");return o&&(n.after=o),this.get(`/api/messaging/sessions/${t}/messages`,{params:n})}async deleteSession(t){return wu(t,"sessionId"),this.delete(`/api/messaging/sessions/${t}`)}async listSessions(){return this.get("/api/messaging/sessions")}}class DX extends Cs{static{s(this,"RunsService")}async listRuns(t,r){return this.get(`/api/agents/${t}/runs`,{params:r})}async getRun(t,r,n){return this.get(`/api/agents/${t}/runs/${r}`,{params:n?{roomId:n}:void 0})}}var BX;(e=>{e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.TIMEOUT="timeout"})(BX||={});class zX extends Cs{static{s(this,"JobsService")}async create(t){return this.post("/api/messaging/jobs",t)}async getJob(t){return this.get(`/api/messaging/jobs/${t}`)}async list(t){return this.get("/api/messaging/jobs",{params:t})}async health(){return this.get("/api/messaging/jobs/health")}async poll(t,r={}){const{interval:n=1e3,maxAttempts:i=30,timeout:o,onProgress:a}=r,l=Date.now();let u=0;const c=o?Math.ceil(o/n):i;for(;u<c;){if(o&&Date.now()-l>o)return{success:!1,job:await this.getJob(t),attempts:u,timeMs:Date.now()-l};u>0&&await new Promise(v=>setTimeout(v,n)),u++;const f=await this.getJob(t);if(a&&a(f,u),f.status==="completed")return{success:!0,job:f,attempts:u,timeMs:Date.now()-l};if(f.status==="failed"||f.status==="timeout")return{success:!1,job:f,attempts:u,timeMs:Date.now()-l}}return{success:!1,job:await this.getJob(t),attempts:u,timeMs:Date.now()-l}}async createAndPoll(t,r){const n=await this.create(t);return this.poll(n.jobId,r)}async createAndPollWithBackoff(t,r={}){const{initialInterval:n=500,maxInterval:i=5e3,multiplier:o=1.5,maxAttempts:a=40,timeout:l,onProgress:u}=r,h=(await this.create(t)).jobId,f=Date.now();let v=0,m=n;for(;v<a;){if(l&&Date.now()-f>l)return{success:!1,job:await this.getJob(h),attempts:v,timeMs:Date.now()-f};v>0&&(await new Promise(A=>setTimeout(A,m)),m=Math.min(m*o,i)),v++;const _=await this.getJob(h);if(u&&u(_,v),_.status==="completed")return{success:!0,job:_,attempts:v,timeMs:Date.now()-f};if(_.status==="failed"||_.status==="timeout")return{success:!1,job:_,attempts:v,timeMs:Date.now()-f}}return{success:!1,job:await this.getJob(h),attempts:v,timeMs:Date.now()-f}}async ask(t,r,n,i){const o=await this.createAndPoll({userId:t,content:r,...n&&{agentId:n}},i);if(!o.success||!o.job.result)throw new Error(o.job.error||"Job failed or timed out without a response");return o.job.result.message.content}}class e4{static{s(this,"ElizaClient")}agents;messaging;memory;audio;media;server;system;sessions;runs;jobs;constructor(t){this.agents=new CX(t),this.messaging=new MX(t),this.memory=new IX(t),this.audio=new OX(t),this.media=new RX(t),this.server=new jX(t),this.system=new LX(t),this.sessions=new PX(t),this.runs=new DX(t),this.jobs=new zX(t)}static create(t){return new e4(t)}}function UX(){const e=s(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey"),t=localStorage.getItem(e()),r={baseUrl:window.location.origin,timeout:3e4,headers:{Accept:"application/json"}};return t&&(r.apiKey=t),r}s(UX,"createApiClientConfig");let Hf=null;function Nr(){return Hf||(Hf=e4.create(UX())),Hf}s(Nr,"createElizaClient");function FX(){Hf=null}s(FX,"resetElizaClient");function $X(e){const t=s(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");e?localStorage.setItem(t(),e):localStorage.removeItem(t()),FX()}s($X,"updateApiClientApiKey");const HX="elizaos-plugins",VX="registry",GX=`https://raw.githubusercontent.com/${HX}/${VX}/refs/heads/main/generated-registry.json`;function _M(){return Cn({queryKey:["plugins"],queryFn:s(async()=>{try{const e=Nr(),[t,r]=await Promise.all([fetch(GX),e.agents.listAgents()]),n=await t.json(),i=Object.entries(n.registry||{}).filter(([l,u])=>{const c=l.includes("plugin"),h=u.supports.v1===!0,f=u.npm.v1!==null||u.git.v1.version!==null&&u.git.v1.branch!==null;return c&&h&&f}).map(([l])=>l.replace(/^@elizaos-plugins\//,"@elizaos/")).sort();let o=[];try{const l=r?.agents||[];if(l.length>0){const u=l.find(c=>c.status==="active");if(u&&u.id){const h=(await e.agents.getAgent(u.id))?.plugins;Array.isArray(h)&&(o=h)}}}catch(l){Ye.warn("Could not fetch agent plugins:",l)}return[...new Set([...i,...o])].sort()}catch(e){return Ye.error("Failed to fetch from registry, falling back to basic list:",e),["@elizaos/plugin-bootstrap","@elizaos/plugin-evm","@elizaos/plugin-discord","@elizaos/plugin-elevenlabs","@elizaos/plugin-anthropic","@elizaos/plugin-browser","@elizaos/plugin-farcaster","@elizaos/plugin-groq"].filter(t=>t.includes("plugin")).sort()}},"queryFn")})}s(_M,"usePlugins");const ZX={google:"@elizaos/plugin-google-genai",llama_local:"@elizaos/plugin-ollama"},JX={},WX=["@elizaos/plugin-sql","@elizaos/plugin-bootstrap"];function QX(){const{data:e=[]}=_M(),t=s(i=>{const o=new Set;if(Array.isArray(i.clients))for(const l of i.clients){const u=l.toLowerCase(),c=JX[u];if(c&&e.includes(c))o.add(c);else{const h=`@elizaos/plugin-${u}`;e.includes(h)&&o.add(h)}}let a=!1;if(typeof i.modelProvider=="string"){const l=i.modelProvider.toLowerCase(),u=ZX[l];if(u&&e.includes(u))o.add(u),a=!0;else{const c=`@elizaos/plugin-${l}`;e.includes(c)&&(o.add(c),a=!0)}a||e.includes("@elizaos/plugin-openai")&&o.add("@elizaos/plugin-openai")}else e.includes("@elizaos/plugin-openai")&&o.add("@elizaos/plugin-openai");for(const l of WX)e.includes(l)&&o.add(l);return Array.from(o).sort()},"matchPlugins");function r(i){return typeof i=="object"&&i!==null&&"user"in i}return s(r,"isV1MessageExampleFormat"),{convertCharacter:s(i=>{const o=[...Array.isArray(i.bio)?i.bio:i.bio?[i.bio]:[],...i.lore??[]],a=(i.messageExamples??[]).map(c=>c.map(h=>r(h)?{name:h.user,content:h.content}:h))??[],l=t(i);return{name:i.name,username:i.username,system:i.system,settings:i.settings,plugins:l,bio:o,topics:i.topics,style:i.style,adjectives:i.adjectives,messageExamples:a,postExamples:i.postExamples}},"convertCharacter")}}s(QX,"useConvertCharacter");const XX=s((e=768)=>{const t=H.useRef(null),[r,n]=H.useState(!0),i=H.useRef(null),o=H.useRef(0);return H.useEffect(()=>{const a=t.current;if(!a)return;const l=s(c=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{const h=c>=e;n(f=>f!==h?h:f),o.current=c},150)},"handleResize"),u=new ResizeObserver(c=>{for(const h of c){const{width:f}=h.contentRect;Math.abs(f-o.current)>5&&l(f)}});return u.observe(a),setTimeout(()=>{const{width:c}=a.getBoundingClientRect();o.current=c,n(c>=e)},0),()=>{u.disconnect(),i.current&&clearTimeout(i.current)}},[e]),{containerRef:t,showLabels:r}},"useContainerWidth");function EM({characterValue:e,setCharacterValue:t,title:r,description:n,onSubmit:i,onDelete:o,onReset:a,onStopAgent:l,isDeleting:u=!1,isStopping:c=!1,customComponents:h=[],onTemplateChange:f,secretPanelRef:v}){const{toast:m}=Mr(),{data:w,isLoading:_}=gz(),[A,M]=H.useState(!1),[I,R]=H.useState("none"),[L,P]=H.useState("basic"),F=H.useRef(null),[Z,G]=H.useState(!1),[se,U]=H.useState(!1),[X,d]=H.useState(!1),[y,g]=H.useState(null),[x,E]=H.useState({}),T=H.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:N}=xM(T),{convertCharacter:k}=QX();H.useEffect(()=>{s(async()=>{try{const re=await Nr().system.getEnvironment();E(re||{})}catch(te){console.error("Failed to fetch global environment variables:",te),E({})}},"fetchGlobalEnvs")()},[]);const{containerRef:p,showLabels:S}=XX(640),C=H.useCallback(()=>{const q=F.current;if(!q)return;const{scrollLeft:te,scrollWidth:re,clientWidth:Ee}=q;G(te>0),U(te+Ee<re-1)},[]);H.useEffect(()=>{const q=F.current;if(q)return C(),q.addEventListener("scroll",C),window.addEventListener("resize",C),()=>{q.removeEventListener("scroll",C),window.removeEventListener("resize",C)}},[C,h.length]);const O=s(q=>{const te=F.current;if(!te)return;const re=te.clientWidth*.8;te.scrollBy({left:q==="left"?-re:re,behavior:"smooth"})},"scrollTabs"),B=H.useMemo(()=>{const q=W7();return w&&!_?[...q.filter(re=>re.provider!=="elevenlabs"),...w]:q},[w,_]),z=H.useMemo(()=>[{sectionTitle:"Basic Info",sectionValue:"basic",sectionType:"input",fields:[{title:"Name",name:"name",description:"The primary identifier for this agent",fieldType:"text",getValue:s(q=>q.name||"","getValue"),tooltip:"Display name that will be visible to users. Required for identification purposes."},{title:"Username",name:"username",description:"Used in URLs and API endpoints",fieldType:"text",getValue:s(q=>q.username||"","getValue"),tooltip:"Unique identifier for your agent. Used in APIs/URLs and Rooms."},{title:"System",name:"system",description:"System prompt defining agent behavior",fieldType:"textarea",getValue:s(q=>q.system||"","getValue"),tooltip:"Instructions for the AI model that establish core behavior patterns and personality traits."},{title:"Voice Model",name:"settings.voice.model",description:"Voice model for audio synthesis",fieldType:"select",getValue:s(q=>q.settings?.voice?.model||"","getValue"),options:B.map(q=>({value:q.value,label:q.label})),tooltip:"Select a voice that aligns with the agent's intended persona."}]},{sectionTitle:"Content",sectionValue:"content",sectionType:"array",fields:[{title:"Bio",description:"Bio data for this agent",path:"bio",getData:s(q=>Array.isArray(q.bio)?q.bio:[],"getData"),tooltip:"Biographical details that establish the agent's background and context."},{title:"Topics",description:"Topics this agent can talk about",path:"topics",getData:s(q=>q.topics||[],"getData"),tooltip:"Subject domains the agent can discuss with confidence."},{title:"Adjectives",description:"Descriptive personality traits",path:"adjectives",getData:s(q=>q.adjectives||[],"getData"),tooltip:"Key personality attributes that define the agent's character."}]},{sectionTitle:"Style",sectionValue:"style",sectionType:"array",fields:[{title:"All Styles",description:"Writing style for all content types",path:"style.all",getData:s(q=>q.style?.all||[],"getData"),tooltip:"Core writing style guidelines applied across all content formats."},{title:"Chat Style",description:"Style specific to chat interactions",path:"style.chat",getData:s(q=>q.style?.chat||[],"getData"),tooltip:"Writing style specific to conversational exchanges."},{title:"Post Style",description:"Style for long-form content",path:"style.post",getData:s(q=>q.style?.post||[],"getData"),tooltip:"Writing style for structured content such as articles or posts."}]}],[B]),$=s(q=>{const{name:te,value:re,type:Ee}=q.target,ge=q.target.checked;if(Ee==="checkbox")t.updateField(te,ge);else if(te.startsWith("settings.")){const he=te.substring(9);t.updateSetting?t.updateSetting(he,re):t.updateField(te,re)}else t.updateField(te,re)},"handleChange"),W=s((q,te)=>{if(te.startsWith("settings.")){const re=te.substring(9);if(t.updateSetting){if(t.updateSetting(re,q),re==="voice.model"&&q){const Ee=P1(q);if(Ee){const ge=Array.isArray(e.plugins)?[...e.plugins]:[],he=P1(e.settings?.voice?.model),it=Z7[Ee.provider],Re=[...ge];it&&!ge.includes(it)&&Re.push(it),t.setPlugins?t.setPlugins(Re):t.updateField&&t.updateField("plugins",Re),he?.provider!==Ee.provider&&m({title:"Plugin Updated",description:`${it} plugin has been set for the selected voice model.`})}}}else t.updateField(te,q)}else t.updateField(te,q)},"handleVoiceModelChange"),oe=s((q,te)=>{if(!q.includes(".")){t.updateField(q,te);return}const re=q.split(".");if(re.length===2&&re[0]==="style"){t.setStyleArray?t.setStyleArray(re[1],te):t.updateField(q,te);return}t.updateField(q,te)},"updateArray"),ne=s(async q=>{if(q.settings?.avatar){const te=new Image;if(te.src=q.settings.avatar,await new Promise(re=>te.onload=re),te.width>gc||te.height>gc){const Ee=await(await fetch(q.settings.avatar)).blob(),ge=new File([Ee],"avatar.jpg",{type:Ee.type}),he=await j7(ge);return{...q,settings:{...q.settings,avatar:he}}}}return q},"ensureAvatarSize"),ie=s(async q=>{q.preventDefault(),M(!0);try{const te=await ne(e);let re=[];if(v?.current)re=v.current.validateSecrets().missingSecrets;else{const Ee=te.settings?.secrets,ge=Ee&&typeof Ee=="object"&&!Array.isArray(Ee)?Ee:{};re=N.filter(he=>{const it=ge[he.name];if(it&&typeof it=="string"&&it.trim()!=="")return!1;const Re=x[he.name];return!(Re&&Re.trim()!=="")}).map(he=>he.name)}if(re.length>0){M(!1),g(te),d(!0);return}await i(te)}catch(te){m({title:"Error",description:te instanceof Error?te.message:"Failed to update agent",variant:"destructive"})}finally{M(!1)}},"handleFormSubmit"),Qe=s(async()=>{if(d(!1),y){M(!0);try{await i(y)}catch(q){m({title:"Error",description:q instanceof Error?q.message:"Failed to update agent",variant:"destructive"})}finally{M(!1),g(null)}}},"handleConfirmSaveWithMissingSecrets"),Ne=s(()=>{d(!1),g(null),P("custom-Secret")},"handleCancelSaveWithMissingSecrets"),ve=s(q=>b.jsxs("div",{className:`w-full ${q.name==="name"?"agent-form-name":""} ${q.name==="system"?"agent-form-system-prompt":""}`,children:[b.jsxs(Al,{htmlFor:q.name,className:"text-sm font-normal block mb-2",children:[q.title,q.name in sl&&sl[q.name]===Rf.REQUIRED&&b.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),q.fieldType==="textarea"?b.jsx(nd,{id:q.name,name:q.name,value:q.getValue(e),onChange:$,className:"min-h-[120px] resize-y"}):q.fieldType==="checkbox"?b.jsx(sn,{id:q.name,name:q.name,type:"checkbox",checked:e[q.name]==="true",onChange:$}):q.fieldType==="select"?b.jsxs(sa,{name:q.name,value:q.getValue(e),onValueChange:s(te=>W(te,q.name),"onValueChange"),children:[b.jsx(ys,{children:b.jsx(aa,{placeholder:q.name.includes("voice.model")&&_?"Loading voice models...":"Select a voice model"})}),b.jsx(ws,{children:q.name==="settings.voice.model"?b.jsxs(b.Fragment,{children:[b.jsx(rm,{children:b.jsx(yr,{value:"none",children:"No Voice"})}),b.jsx(L1,{}),b.jsxs(rm,{children:[b.jsx(j1,{children:"OpenAI Voices"}),J7.map(te=>b.jsx(yr,{value:te.value,children:te.label.replace("OpenAI - ","")},te.value))]}),b.jsx(L1,{}),b.jsxs(rm,{children:[b.jsx(j1,{children:"ElevenLabs Voices"}),zb.map(te=>b.jsx(yr,{value:te.value,children:te.label.replace("ElevenLabs - ","")},te.value)),w&&w.length>0&&w.map(te=>b.jsx(yr,{value:te.value,children:te.label.replace("ElevenLabs - ","")},te.value))]})]}):q.options?.map(te=>b.jsx(yr,{value:te.value,children:te.label},te.value))})]}):b.jsx(sn,{id:q.name,name:q.name,type:q.fieldType,value:q.getValue(e),onChange:$}),q.description&&b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:q.description})]},q.name),"renderInputField"),Me=s(q=>b.jsxs("div",{className:"w-full",children:[b.jsxs(Al,{htmlFor:q.path,className:"text-sm font-normal block mb-2",children:[q.title,q.path in sl&&sl[q.path]===Rf.REQUIRED&&b.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),b.jsx(iz,{data:q.getData(e),onChange:s(te=>oe(q.path,te),"onChange")}),q.description&&b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:q.description})]},q.path),"renderArrayField"),J=s(()=>{Bb(e,m)},"handleExportJSON");function ae(q){return typeof q=="object"&&q!==null&&("lore"in q||"clients"in q||"modelProvider"in q)}s(ae,"isV1Character");const K=s(async q=>{const te=q.target.files?.[0];if(te)try{const re=await te.text();let Ee=JSON.parse(re);ae(Ee)&&(Ee=k(Ee));const ge=Object.keys(sl).filter(he=>{if(sl[he]!==Rf.REQUIRED)return!1;const it=he.split(".");let Re=Ee;for(const Xe of it)if(Re=Re?.[Xe],Re===void 0)return!0;return!1});if(ge.length>0){m({title:"Import Failed",description:`Missing required fields: ${ge.join(", ")}`,variant:"destructive"});return}t.importAgent?t.importAgent(Ee):console.warn("Missing importAgent method"),m({title:"Agent Imported",description:"Agent data has been successfully loaded."})}catch(re){m({title:"Import Failed",description:re instanceof Error?re.message:"Invalid JSON file",variant:"destructive"})}finally{q.target.value=""}},"handleImportJSON"),Y=H.useRef(null),de=s(()=>{Y.current?.click()},"handleImportClick"),Be=H.useMemo(()=>{const q=[];return l&&q.push({label:"Stop Agent",description:"Stop running",onClick:l}),o&&q.push({label:"Delete Agent",description:"Delete permanently",onClick:s(()=>o(),"onClick")}),q},[l,o]),Pe=H.useCallback(q=>{if(R(q),q==="none"&&a){a();return}const te=X7(q);te&&t.importAgent&&(t.importAgent(te.template),f?.())},[a,t,f]),we=[...z.map(q=>({value:q.sectionValue,label:q.sectionTitle,shortLabel:q.sectionTitle.split(" ")[0]})),...h.map(q=>({value:`custom-${q.name}`,label:q.name,shortLabel:q.shortLabel||q.name.split(" ")[0]}))];return b.jsxs("div",{ref:p,className:"w-full max-w-full mx-auto p-6 sm:p-8 h-full overflow-y-auto",children:[(r||n)&&b.jsxs("div",{className:"mb-8",children:[r&&b.jsx("h1",{className:"text-2xl font-semibold mb-2",children:r}),n&&b.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:n})]}),b.jsxs("div",{className:"mb-8",children:[b.jsx(Al,{htmlFor:"template-selector",className:"text-sm",children:"Start with a template"}),b.jsxs(sa,{value:I,onValueChange:Pe,children:[b.jsx(ys,{className:"w-full mt-1",children:b.jsx(aa,{placeholder:"None (blank start)"})}),b.jsx(ws,{children:Q7.map(q=>b.jsx(yr,{value:q.id,children:b.jsx(Tl,{children:b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx("span",{className:"w-full text-left",children:q.label})}),b.jsx(Wr,{side:"right",children:b.jsx("p",{className:"max-w-xs",children:q.description})})]})})},q.id))})]})]}),b.jsxs("form",{onSubmit:ie,children:[b.jsxs(Db,{value:L,onValueChange:P,className:"w-full",children:[b.jsxs("div",{className:"relative mb-4",children:[Z&&b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:s(()=>O("left"),"onClick"),children:b.jsx(PP,{className:"h-4 w-4"})}),b.jsx("div",{ref:F,className:"overflow-x-auto scrollbar-hide",children:b.jsx(_0,{className:"inline-flex h-10 items-center justify-start text-muted-foreground w-full",children:we.map(q=>b.jsx(yc,{value:q.value,className:Fe("whitespace-nowrap",!S&&"px-2 text-xs"),children:S?q.label:q.shortLabel},q.value))})}),se&&b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:s(()=>O("right"),"onClick"),children:b.jsx($E,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"max-h-[100vh] overflow-y-auto pb-4 px-1",children:[z.map(q=>b.jsx(Fi,{value:q.sectionValue,className:"space-y-6 mt-0 focus:outline-none",children:q.sectionType==="input"?q.fields.map(ve):q.fields.map(Me)},q.sectionValue)),h.map(q=>b.jsx(Fi,{value:`custom-${q.name}`,className:"mt-0 focus:outline-none",children:b.jsx("div",{className:"h-full",children:q.component})},`custom-${q.name}`))]})]}),b.jsxs("div",{className:"flex items-center justify-between w-full mt-6",children:[b.jsxs(wc,{children:[b.jsx(xc,{asChild:!0,children:b.jsxs(dt,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 p-2.5",children:[b.jsx(HE,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"More options"})]})}),b.jsxs(_c,{align:"start",side:"top",children:[b.jsxs(ps,{onClick:de,children:[b.jsx(DP,{className:"h-4 w-4 mr-2"}),"Import"]}),b.jsxs(ps,{onClick:J,children:[b.jsx(VE,{className:"h-4 w-4 mr-2"}),"Export"]}),Be.length>0&&b.jsx(ih,{}),Be.length>0&&Be.map(q=>{const te=q.label==="Stop Agent",re=q.label==="Delete Agent",Ee=te?c:re?u:!1;return b.jsxs(ps,{onClick:q.onClick,disabled:Ee,className:re?"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50":"",children:[Ee?b.jsx(Nn,{className:"h-4 w-4 animate-spin mr-2"}):te?b.jsx(yb,{className:"h-4 w-4 mr-2"}):b.jsx(Yc,{className:"h-4 w-4 mr-2"}),Ee?`${te?"Stopping":"Deleting"}...`:q.label]},q.label)})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Tl,{children:b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsxs(dt,{type:"button",variant:"outline",onClick:s(()=>{a?.()},"onClick"),children:[b.jsx(GE,{className:"h-4 w-4"}),b.jsx("span",{className:"ml-2",children:"Reset"})]})}),b.jsx(Wr,{children:b.jsx("p",{children:"Reset all form fields to their original values"})})]})}),b.jsx(Tl,{children:b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{type:"submit",disabled:A,className:"agent-form-submit",children:A?b.jsxs(b.Fragment,{children:[b.jsx(Nn,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{className:"ml-2",children:"Saving..."})]}):b.jsxs(b.Fragment,{children:[b.jsx(ZE,{className:"h-4 w-4"}),b.jsx("span",{className:"ml-2",children:"Save"})]})})}),b.jsx(Wr,{children:b.jsx("p",{children:"Save all changes to the agent configuration"})})]})})]}),b.jsx("input",{ref:Y,type:"file",accept:".json",onChange:K,className:"hidden"})]})]}),b.jsx(yz,{open:X,onOpenChange:d,missingSecrets:(()=>{let q=[];if(v?.current)q=v.current.validateSecrets().missingSecrets;else{const te=e.settings?.secrets,re=te&&typeof te=="object"&&!Array.isArray(te)?te:{};q=N.filter(Ee=>{const ge=re[Ee.name];if(ge&&typeof ge=="string"&&ge.trim()!=="")return!1;const he=x[Ee.name];return!(he&&he.trim()!=="")}).map(Ee=>Ee.name)}return q.map(te=>{const re=N.find(Ee=>Ee.name===te);return{name:te,plugin:re?.plugin,description:re?.description}})})(),onConfirm:Qe,onCancel:Ne})]})}s(EM,"CharacterForm");function SM({characterValue:e,setCharacterValue:t}){const r=s(()=>{const f=e?.settings?.avatar;return typeof f=="string"?f:null},"getAvatarUrl"),[n,i]=H.useState(r()),[o,a]=H.useState(!1),l=H.useRef(null);H.useEffect(()=>{i(r()),a(!1)},[e.id]);const u=s(async f=>{const v=f.target.files?.[0];if(v)try{const m=await j7(v);i(m),a(!0),h(m)}catch(m){console.error("Error compressing image:",m)}},"handleFileUpload"),c=s(()=>{n&&(i(null),a(!0),h(""))},"handleRemoveAvatar"),h=s(f=>{t.updateAvatar?t.updateAvatar(f):t.updateSetting?t.updateSetting("avatar",f):t.updateField&&t.updateField("settings.avatar",f)},"updateCharacterAvatar");return b.jsxs("div",{className:"rounded-lg w-full",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Avatar Settings"}),b.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 max-w-sm mx-auto",children:[n?b.jsx("div",{className:"w-64 h-64 mb-2",children:b.jsx("img",{src:n,alt:"Agent Avatar",className:"object-cover w-full h-full rounded-lg border"})}):b.jsx("div",{className:"w-64 h-64 flex items-center justify-center border border-dashed rounded-lg text-gray-500 mb-2 cursor-pointer hover:bg-gray-50 transition-colors",onClick:s(()=>l.current?.click(),"onClick"),children:b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsx(BP,{className:"w-10 h-10"}),b.jsx("span",{className:"text-sm",children:"Click to upload"})]})}),b.jsxs("div",{className:"flex flex-col gap-3 w-64",children:[b.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:l,onChange:u}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(dt,{type:"button",className:"flex items-center gap-2 flex-1",onClick:s(()=>l.current?.click(),"onClick"),children:[b.jsx(zP,{className:"w-5 h-5"}),n?"Replace":"Upload"]}),n&&b.jsx(dt,{type:"button",variant:"outline",className:"flex items-center",onClick:c,children:b.jsx(ei,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground mt-1",children:[b.jsx(wb,{className:"w-3.5 h-3.5"}),b.jsxs("span",{children:["Images greater than ",gc,"x",gc," will be resized"]})]})]})]})]})}s(SM,"AvatarPanel");const t4=wE,KX=xE,qX=_E,kM=H.forwardRef(({className:e,...t},r)=>b.jsx(l0,{ref:r,className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kM.displayName=l0.displayName;const ip=H.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(qX,{children:[b.jsx(kM,{}),b.jsxs(o0,{ref:n,className:Fe("fixed left-[50%] top-[50%] z-50 bg-card grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,b.jsxs(EE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(ei,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ip.displayName=o0.displayName;const sp=s(({className:e,...t})=>b.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),"DialogHeader");sp.displayName="DialogHeader";const r4=s(({className:e,...t})=>b.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"DialogFooter");r4.displayName="DialogFooter";const ap=H.forwardRef(({className:e,...t},r)=>b.jsx(u0,{ref:r,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...t}));ap.displayName=u0.displayName;const n4=H.forwardRef(({className:e,...t},r)=>b.jsx(c0,{ref:r,className:Fe("text-sm text-muted-foreground",e),...t}));n4.displayName=c0.displayName;const _a={"@elizaos/plugin-sql":{title:"Essential Plugin: SQL",description:"Provides memory and state storage. If removed, replace with an adapter plugin or your agent may lose conversation history and memory capabilities."},"@elizaos/plugin-openai":{title:"Essential Plugin: OpenAI",description:"Provides language model access. If removed, replace with another LLM plugin or your agent may fail to function properly."},"@elizaos/plugin-bootstrap":{title:"Essential Plugin: Bootstrap",description:"Provides default message processing, event handling, and attachment workflows for your agent. If removed, ensure you have a custom plugin handling these responsibilities, or your agent may not process events or respond to messages as expected."}};function TM({characterValue:e,setCharacterValue:t,initialPlugins:r}){const{data:n,error:i}=_M(),{toast:o}=Mr(),[a,l]=H.useState(""),[u,c]=H.useState(!1),[h,f]=H.useState(null),[v,m]=H.useState(!1),w=H.useMemo(()=>Array.isArray(e?.plugins)?e.plugins:[],[e?.plugins]),_=H.useMemo(()=>{const G=["@elizaos/plugin-sql"];return n?[...G,...(Array.isArray(n)?n:Object.keys(n)).filter(se=>!G.includes(se))]:G},[n]),A=H.useMemo(()=>{const G=e?.settings;if(!G||typeof G!="object"||Array.isArray(G))return null;const se=G.voice;if(!se||typeof se!="object"||Array.isArray(se))return null;const U=se.model;if(!U||typeof U!="string")return null;const X=P1(U);if(!X)return null;const d=Z7[X.provider],y=w.includes(d);return{provider:X.provider,requiredPlugin:d,isPluginEnabled:y}},[e?.settings,w]),M=H.useMemo(()=>r?r.length!==w.length?!0:!r?.every(G=>w.includes(G)):!1,[w,r]),I=H.useMemo(()=>_.filter(G=>!w.includes(G)).filter(G=>G.toLowerCase().includes(a.toLowerCase())),[_,w,a]),R=s(G=>{if(!w.includes(G)){if(t.addPlugin)t.addPlugin(G);else if(t.updateField){const se=Array.isArray(e.plugins)?[...e.plugins]:[];t.updateField("plugins",[...se,G])}}},"handlePluginAdd"),L=s(G=>{if(Object.keys(_a).includes(G)){f(G),m(!0);return}P(G)},"handlePluginRemove"),P=s(G=>{const se=w.indexOf(G);if(se!==-1){if(t.removePlugin)t.removePlugin(se);else if(t.updateField){const U=[...w];U.splice(se,1),t.updateField("plugins",U)}}},"removePlugin"),F=s(()=>{h&&(P(h),f(null)),m(!1)},"handleConfirmRemoval"),Z=s(()=>{f(null),m(!1)},"handleCancelRemoval");return b.jsx("div",{className:"space-y-6",children:b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plugins"}),i?b.jsxs("p",{className:"text-destructive",children:["Failed to load plugins: ",i.message]}):b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ub,{open:v,onOpenChange:m,children:b.jsxs(E0,{children:[b.jsxs(S0,{children:[b.jsx(T0,{children:h&&Object.keys(_a).includes(h)?_a[h].title:"Warning: Essential Plugin"}),b.jsx(A0,{children:h&&Object.keys(_a).includes(h)?_a[h].description:"This plugin provides essential functionality for your agent."})]}),b.jsxs(k0,{children:[b.jsx(C0,{onClick:Z,children:"Cancel"}),b.jsx(N0,{onClick:F,children:"Confirm Removal"})]})]})}),A&&b.jsxs("div",{className:"rounded-md border p-4 mb-4 flex items-center gap-2",children:[b.jsx(Ni,{className:"h-4 w-4 text-yellow-500"}),b.jsx("p",{className:"text-xs text-white",children:(()=>{switch(A.provider){case"elevenlabs":return"ElevenLabs plugin is required for the selected voice model.";case"openai":return"OpenAI plugin is required for the selected voice model.";case"none":return'No voice plugin required for "No Voice" option.';default:return`${A.provider} plugin is required for the selected voice model.`}})()})]}),w.length>0&&b.jsxs("div",{className:"rounded-md bg-muted p-4",children:[b.jsx("h4",{className:"text-sm font-medium mb-2",children:"Currently Enabled"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:[...w].sort((G,se)=>{const U=Object.keys(_a).includes(G),X=Object.keys(_a).includes(se);return U===X?0:U?-1:1}).map(G=>{const se=A?.requiredPlugin===G,U=Object.keys(_a).includes(G);return b.jsxs(dt,{type:"button",variant:"ghost",size:"sm",className:`inline-flex items-center rounded-full ${U?"bg-blue-800 text-blue-700 hover:bg-blue-600":"bg-primary/10 text-primary hover:bg-primary/20"} px-2.5 py-0.5 text-xs font-medium h-auto`,title:se?"Required by voice model":U?"Essential plugin for agent functionality":"",children:[U&&b.jsx("span",{className:"w-2 h-2 rounded-full bg-white inline-block"}),b.jsx("span",{className:"text-white font-semibold",children:G}),b.jsx("span",{className:v0("ml-1 opacity-70 hover:opacity-100",U&&"text-white"),onClick:s(()=>{if(se){o({title:"Can't Remove Plugin",description:"This plugin is required by the selected voice model.",variant:"destructive"});return}L(G)},"onClick"),children:""})]},G)})}),b.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:b.jsxs("span",{className:"inline-flex items-center",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 mr-1"}),"Essential plugins provide core functionality"]})})]}),b.jsx("div",{className:"space-y-2",children:b.jsxs(t4,{open:u,onOpenChange:c,children:[b.jsx(KX,{asChild:!0,children:b.jsx(dt,{variant:"outline",className:"w-full justify-start",children:"Search and add plugins..."})}),b.jsxs(ip,{className:"max-w-[400px]",children:[b.jsx(sp,{children:b.jsx(ap,{children:"Add Plugins"})}),b.jsxs("div",{className:"space-y-4 py-4",children:[b.jsx("div",{className:"space-y-2",children:b.jsx(sn,{type:"search",placeholder:"Search plugins...",value:a,onChange:s(G=>l(G.target.value),"onChange")})}),b.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:I.length===0?b.jsx("p",{className:"text-sm text-muted-foreground",children:"No plugins found."}):I.map(G=>b.jsx(dt,{variant:"ghost",className:"w-full justify-start font-normal",onClick:s(()=>{R(G),l(""),c(!1)},"onClick"),children:G},G))})]})]})]})}),M&&b.jsx("p",{className:"text-xs text-yellow-500",children:"Plugins configuration has been changed"})]})]})})})}s(TM,"PluginsPanel");const AM=H.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(JE,{ref:n,className:Fe("relative overflow-hidden",e),...r,children:[b.jsx(UP,{className:"h-full w-full rounded-[inherit]",children:t}),b.jsx(NM,{}),b.jsx(FP,{})]}));AM.displayName=JE.displayName;const NM=H.forwardRef(({className:e,orientation:t="vertical",...r},n)=>b.jsx(WE,{ref:n,orientation:t,className:Fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:b.jsx($P,{className:"relative flex-1 rounded-full bg-border"})}));NM.displayName=WE.displayName;const YX=ma("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ev=H.forwardRef(({className:e,variant:t,...r},n)=>b.jsx("div",{ref:n,role:"alert",className:Fe(YX({variant:t}),e),...r}));Ev.displayName="Alert";const eK=H.forwardRef(({className:e,...t},r)=>b.jsx("h5",{ref:r,className:Fe("mb-1 font-medium leading-none tracking-tight",e),...t}));eK.displayName="AlertTitle";const Sv=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Fe("text-sm [&_p]:leading-relaxed",e),...t}));Sv.displayName="AlertDescription";const i4=H.forwardRef(({characterValue:e,onChange:t},r)=>{const[n,i]=H.useState([]),[o,a]=H.useState(""),[l,u]=H.useState(""),[c,h]=H.useState(!1),[f,v]=H.useState(null),[m,w]=H.useState(""),[_,A]=H.useState(!1),[M,I]=H.useState([]),[R,L]=H.useState(new Set),[P,F]=H.useState({}),[Z,G]=H.useState(!0),[se,U]=H.useState(!1),[X,d]=H.useState(""),y=H.useRef(null),g=H.useRef(""),x=H.useRef(null),E=H.useRef(""),T=H.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:N,isLoading:k}=xM(T);H.useEffect(()=>{s(async()=>{try{G(!0);const de=await Nr().system.getEnvironment();F(de||{})}catch(Y){console.error("Failed to fetch global environment variables:",Y),F({})}finally{G(!1)}},"fetchGlobalEnvs")()},[]);const p=H.useCallback(()=>{const K={};return n.forEach(({name:Y,value:de})=>{K[Y]=de}),M.forEach(Y=>{K[Y]=null}),K},[n,M]),S=H.useCallback(()=>{const K=p(),de=(k?n.filter(Be=>Be.isRequired):N).filter(Be=>{const Pe=typeof Be=="object"&&"name"in Be?Be.name:Be,we=K[Pe];return!(we&&we.trim()!==""||P[Pe]&&P[Pe].trim()!=="")}).map(Be=>typeof Be=="object"&&"name"in Be?Be.name:Be);return{isValid:de.length===0,missingSecrets:de}},[p,N,k,n,P]);H.useImperativeHandle(r,()=>({getSecrets:p,validateSecrets:S}),[p,S]);const C=s(K=>{L(Y=>{const de=new Set(Y);return de.has(K)?de.delete(K):de.add(K),de})},"toggleSecretVisibility"),O=H.useCallback(()=>{const K=[];K.push("# Environment Variables"),K.push("");const Y=n.filter(Be=>Be.isRequired),de=n.filter(Be=>!Be.isRequired&&Be.value&&Be.value.trim()!=="");return Y.length>0&&(K.push("# Required Secrets"),Y.forEach(Be=>{Be.plugin&&K.push(`# Required by ${Be.plugin}`),Be.description&&K.push(`# ${Be.description}`),K.push(`${Be.name}=${Be.value||""}`),K.push("")})),de.length>0&&(K.push("# Optional Variables"),de.forEach(Be=>{K.push(`${Be.name}=${Be.value}`)})),K.join(`
`)},[n]),B=H.useCallback(K=>{const Y=K.split(`
`),de={};for(const Be of Y){const Pe=Be.trim();if(!Pe||Pe.startsWith("#"))continue;const[we,...q]=Pe.split("="),te=q.join("=").trim().replace(/^['"]|['"]$/g,"");we&&we.trim()&&(de[we.trim()]=te)}return de},[]),z=s(()=>{const K=B(X),Y=n.map(de=>{if(K.hasOwnProperty(de.name)){const Be=K[de.name].startsWith("process.env.")?"":K[de.name];return{...de,value:Be,isModified:de.value!==Be}}return de.isRequired?{...de,value:"",isModified:de.value!==""}:null}).filter(Boolean);Object.entries(K).forEach(([de,Be])=>{if(!Y.some(we=>we.name===de)){const we=Be.startsWith("process.env.")?"":Be,q=N.find(te=>te.name===de);Y.push({name:de,value:we,isNew:!0,isModified:!1,isDeleted:!1,isRequired:q?.required||!1,description:q?.description,example:q?.example,plugin:q?.plugin})}}),Y.sort((de,Be)=>de.isRequired&&!Be.isRequired?-1:!de.isRequired&&Be.isRequired?1:de.name.localeCompare(Be.name)),i(Y),U(!1)},"handleRawEditorSave"),$=s(()=>{d(O()),U(!0)},"openRawEditor"),W=s(()=>{navigator.clipboard.writeText(X)},"copyEnvContent");H.useEffect(()=>{if(!(k||Z)&&(e.id!==y.current||!y.current||n.length===0)){const K=gX(),Y=e?.settings?.secrets||{},de=typeof Y=="object"&&!Array.isArray(Y)&&Y!==null?bX(Y,K):{},Be=Object.entries(de).map(([te,re])=>{const Ee=String(re),ge=Ee.startsWith("process.env.")?"":Ee;return{name:te,value:ge,isNew:!1,isModified:!1,isDeleted:!1,isRequired:!1,description:void 0,example:void 0,plugin:void 0}}),Pe=new Map(Be.map(te=>[te.name,te])),we=[...Be];N.forEach(te=>{if(!Pe.has(te.name))we.push({name:te.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:te.description,example:te.example,plugin:te.plugin});else{const re=we.findIndex(Ee=>Ee.name===te.name);re!==-1&&(we[re]={...we[re],isRequired:!0,description:te.description,example:te.example,plugin:te.plugin})}}),we.sort((te,re)=>te.isRequired&&!re.isRequired?-1:!te.isRequired&&re.isRequired?1:te.name.localeCompare(re.name)),i(we),I([]),y.current=e.id||"new-agent";const q=N.map(te=>te.name).sort().join(",");E.current=q}},[e.id,e.settings?.secrets,N,k,P,Z]),H.useEffect(()=>{if(k)return;const K=N.map(de=>de.name).sort().join(",");if(K===E.current)return;E.current=K;const Y=new Set(N.map(de=>de.name));i(de=>{const Be=de.map(we=>{const q=Y.has(we.name),te=N.find(re=>re.name===we.name);return we.isRequired&&!q?(setTimeout(()=>{I(re=>re.includes(we.name)?re:[...re,we.name])},0),null):q&&te?{...we,isRequired:!0,description:te.description,example:te.example,plugin:te.plugin}:{...we,isRequired:q,description:q?we.description:void 0,example:q?we.example:void 0,plugin:q?we.plugin:void 0}}).filter(Boolean),Pe=new Set(Be.map(we=>we.name));return N.forEach(we=>{Pe.has(we.name)||Be.push({name:we.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:we.description,example:we.example,plugin:we.plugin})}),Be.sort((we,q)=>we.isRequired&&!q.isRequired?-1:!we.isRequired&&q.isRequired?1:we.name.localeCompare(q.name)),Be})},[N,k,P]),H.useEffect(()=>{const K=new Set(N.map(Y=>Y.name));i(Y=>Y.filter(Be=>{const Pe=K.has(Be.name)||!Be.isRequired&&Be.value&&Be.value.trim()!=="";return!Pe&&Be.isRequired&&I(we=>we.includes(Be.name)?we:[...we,Be.name]),Pe}))},[N]),H.useEffect(()=>{if(!t)return;const K=setTimeout(()=>{const Y=p(),de=new Set(n.map(q=>q.name)),Be=e?.settings?.secrets||{};Object.keys(Be).forEach(q=>{!de.has(q)&&!M.includes(q)&&(Y[q]=null)});const Pe=Object.keys(Y).sort().reduce((q,te)=>(q[te]=Y[te],q),{}),we=JSON.stringify(Pe);we!==g.current&&(g.current=we,t(Y))},100);return()=>clearTimeout(K)},[n,M,t,e?.settings?.secrets,p]);const oe=H.useCallback(K=>{const Y=new FileReader;Y.onload=de=>{const Pe=(de.target?.result).split(`
`),we={};for(const q of Pe){const te=q.trim();if(!te||te.startsWith("#"))continue;const[re,...Ee]=te.split("="),ge=Ee.join("=").trim().replace(/^['"]|['"]$/g,"");re&&(we[re.trim()]=ge)}i(q=>{const te=new Map(q.map(({name:Ee,value:ge,...he})=>[Ee,{value:ge,...he}]));for(const[Ee,ge]of Object.entries(we)){const he=ge.startsWith("process.env.")?"":ge,it=te.get(Ee);if(it)te.set(Ee,{...it,value:he,isModified:!0});else{const Re=N.find(Xe=>Xe.name===Ee);te.set(Ee,{value:he,isNew:!0,isModified:!1,isRequired:Re?.required||!1,description:Re?.description,example:Re?.example,plugin:Re?.plugin})}}const re=Array.from(te.entries()).map(([Ee,ge])=>({name:Ee,...ge}));return re.sort((Ee,ge)=>Ee.isRequired&&!ge.isRequired?-1:!Ee.isRequired&&ge.isRequired?1:Ee.name.localeCompare(ge.name)),re}),M.length>0&&I(q=>q.filter(te=>!Object.keys(we).includes(te)))},Y.readAsText(K)},[N,M]);H.useEffect(()=>{const K=x.current;if(!K)return;const Y=s(we=>{we.preventDefault(),we.stopPropagation()},"preventDefaults"),de=s(()=>{A(!0)},"highlight"),Be=s(()=>{A(!1)},"unhighlight"),Pe=s(we=>{Y(we),Be();const q=we.dataTransfer?.files?.[0];q&&q.name.endsWith(".env")&&oe(q)},"handleDrop");return["dragenter","dragover"].forEach(we=>K.addEventListener(we,de)),["dragleave","drop"].forEach(we=>K.addEventListener(we,Be)),["dragenter","dragover","dragleave","drop"].forEach(we=>K.addEventListener(we,Y)),K.addEventListener("drop",Pe),()=>{["dragenter","dragover","dragleave","drop"].forEach(we=>K.removeEventListener(we,Y)),["dragenter","dragover"].forEach(we=>K.removeEventListener(we,de)),["dragleave","drop"].forEach(we=>K.removeEventListener(we,Be)),K.removeEventListener("drop",Pe)}},[oe]);const ne=s(()=>{if(o&&l){const K=n.some(de=>de.name===o),Y=l.startsWith("process.env.")?"":l;if(K)i(n.map(de=>de.name===o?{...de,value:Y,isModified:!0}:de)),a(""),u("");else{M.includes(o)&&I(M.filter(we=>we!==o));const de=N.find(we=>we.name===o),Be={name:o,value:Y,isNew:!0,isRequired:de?.required||!1,description:de?.description,example:de?.example,plugin:de?.plugin},Pe=[...n,Be];Pe.sort((we,q)=>we.isRequired&&!q.isRequired?-1:!we.isRequired&&q.isRequired?1:we.name.localeCompare(q.name)),i(Pe),a(""),u("")}}},"addEnv"),ie=s(K=>{f!==null&&f!==K&&v(null),v(K),w(n[K].value),L(Y=>new Set(Y).add(K))},"startEditing"),Qe=s(K=>{const Y=[...n],de=m.startsWith("process.env.")?"":m;Y[K].value!==de&&(Y[K].value=de,Y[K].isModified=!0),i(Y),v(null),w(""),L(Be=>{const Pe=new Set(Be);return Pe.delete(K),Pe})},"saveEdit"),Ne=s(()=>{const K=f;v(null),w(""),K!==null&&L(Y=>{const de=new Set(Y);return de.delete(K),de})},"cancelEdit"),ve=s(K=>{const Y=n[K].name;I([...M,Y]),i(n.filter((de,Be)=>Be!==K)),v(null)},"removeEnv"),Me=N.filter(K=>{const Y=n.find(Pe=>Pe.name===K.name),de=Y&&Y.value&&Y.value.trim()!=="",Be=P[K.name]&&P[K.name].trim()!=="";return!de&&!Be}),J=H.useCallback(K=>P[K]&&P[K].trim()!=="",[P]),ae="scrollbar-visible";return b.jsxs("div",{className:"w-full h-full flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:"text-lg font-semibold",children:"Variables"}),b.jsxs(Hi,{variant:"secondary",className:"text-xs",children:[n.filter(K=>K.value&&K.value.trim()!=="").length," Service Variables"]})]}),b.jsxs(dt,{type:"button",variant:"outline",size:"sm",onClick:$,className:"flex items-center gap-2",children:[b.jsx(xo,{className:"w-4 h-4"}),"Raw Editor"]})]}),b.jsx(AM,{className:"flex-1",children:b.jsxs("div",{className:"p-4 space-y-4",children:[(k||Z)&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(bc,{className:"h-4 w-48"}),b.jsx(bc,{className:"h-4 w-64"})]}),!k&&!Z&&Me.length>0&&b.jsxs(Ev,{children:[b.jsx(Ni,{className:"h-4 w-4"}),b.jsxs(Sv,{children:[b.jsx("strong",{children:"Missing required secrets:"}),b.jsx("ul",{className:"mt-2 space-y-1",children:Me.map(K=>b.jsxs("li",{className:"text-sm",children:[" ",b.jsx("code",{className:"font-mono",children:K.name}),K.plugin&&b.jsxs("span",{className:"text-muted-foreground ml-1",children:["(required by ",K.plugin,")"]})]},K.name))})]})]}),!k&&!Z&&N.some(K=>J(K.name)&&!n.find(Y=>Y.name===K.name)?.value)&&b.jsxs(Ev,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:[b.jsx(Wp,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),b.jsxs(Sv,{className:"text-blue-800 dark:text-blue-200",children:[b.jsx("strong",{children:"Global environment variables detected:"}),b.jsx("p",{className:"text-sm mt-1",children:"Some required secrets are automatically using values from your global environment settings. To override any of these for this specific agent, simply enter a new value in the field."})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"hidden md:grid md:grid-cols-[minmax(200px,1fr)_2fr_auto] gap-2 items-end",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-name",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),b.jsx(sn,{id:"new-secret-name",placeholder:"VARIABLE_NAME",value:o,onChange:s(K=>a(K.target.value),"onChange"),className:"font-mono text-sm",onKeyDown:s(K=>{K.key==="Enter"&&(K.preventDefault(),ne())},"onKeyDown")})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-value",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`rounded border ${ae}`,children:b.jsx(sn,{id:"new-secret-value",type:c?"text":"password",placeholder:"Enter value...",value:l,onChange:s(K=>u(K.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:s(K=>{K.key==="Enter"&&(K.preventDefault(),ne())},"onKeyDown")})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:s(()=>h(!c),"onClick"),children:c?b.jsx(Ks,{className:"w-4 h-4"}):b.jsx(cs,{className:"w-4 h-4"})})]})]}),b.jsx(dt,{type:"button",onClick:ne,size:"sm",children:"Add"})]}),b.jsxs("div",{className:"md:hidden space-y-3",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-name-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),b.jsx(sn,{id:"new-secret-name-mobile",placeholder:"VARIABLE_NAME",value:o,onChange:s(K=>a(K.target.value),"onChange"),className:"font-mono text-sm w-full",onKeyDown:s(K=>{K.key==="Enter"&&(K.preventDefault(),document.getElementById("new-secret-value-mobile")?.focus())},"onKeyDown")})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-value-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`rounded border ${ae}`,children:b.jsx(sn,{id:"new-secret-value-mobile",type:c?"text":"password",placeholder:"Enter value...",value:l,onChange:s(K=>u(K.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:s(K=>{K.key==="Enter"&&(K.preventDefault(),ne())},"onKeyDown")})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:s(()=>h(!c),"onClick"),children:c?b.jsx(Ks,{className:"w-4 h-4"}):b.jsx(cs,{className:"w-4 h-4"})})]})]}),b.jsx(dt,{type:"button",onClick:ne,size:"sm",className:"w-full",children:"Add Variable"})]})]}),n.length>0&&b.jsxs(Tl,{children:[b.jsxs("div",{className:"hidden md:block border rounded-lg overflow-hidden relative",children:[b.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b",children:b.jsxs("div",{className:"grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 text-xs font-medium text-muted-foreground uppercase",children:[b.jsx("div",{children:"Name"}),b.jsx("div",{children:"Value"}),b.jsx("div",{className:"text-center",children:"Actions"})]})}),b.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.map((K,Y)=>b.jsxs("div",{className:`grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 items-center px-4 py-3 border-b last:border-b-0 hover:bg-muted/10 transition-colors ${K.isRequired&&(!K.value||K.value.trim()==="")&&!J(K.name)?"bg-red-500/5":""}`,children:[b.jsxs("div",{className:"pr-2",children:[b.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[b.jsx("code",{className:"font-mono text-sm font-medium break-words cursor-default",children:K.name}),K.isRequired&&b.jsx(Hi,{variant:"outline",className:"text-xs shrink-0",children:"Required"}),J(K.name)&&b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsxs(Hi,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[b.jsx(Wp,{className:"w-3 h-3"}),"Global"]})}),b.jsx(Wr,{children:b.jsx("p",{children:K.value?"Overriding global value":"Value pulled from global environment. Add new value to override."})})]})]}),K.description&&b.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:K.description}),K.plugin&&b.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Required by: ",K.plugin]})]}),b.jsx("div",{className:"min-w-0",children:f===Y?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"relative flex-1",children:b.jsx("div",{className:`rounded border ${ae}`,children:b.jsx(sn,{value:m,onChange:s(de=>w(de.target.value),"onChange"),className:"font-mono text-sm border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:R.has(Y)?"text":"password",placeholder:J(K.name)&&!K.value?"Using global (enter to override)":K.example||"Enter value...",autoFocus:!0,onKeyDown:s(de=>{de.key==="Enter"?(de.preventDefault(),Qe(Y)):de.key==="Escape"&&Ne()},"onKeyDown")})})}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>C(Y),"onClick"),className:"h-8 w-8 p-0",children:R.has(Y)?b.jsx(Ks,{className:"w-4 h-4"}):b.jsx(cs,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>Qe(Y),"onClick"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:b.jsx(ca,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:Ne,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:b.jsx(ei,{className:"w-4 h-4"})})]})]}):b.jsxs("div",{className:"flex items-center gap-2 group",children:[b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${ae}`,children:R.has(Y)?b.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:K.value||b.jsx("span",{className:"text-muted-foreground italic",children:J(K.name)?"Using global value":K.example?`e.g. ${K.example}`:"Not set"})}):K.value?b.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):b.jsx("span",{className:"text-muted-foreground italic text-sm block",children:J(K.name)?"Using global value":"Not set"})})}),J(K.name)&&b.jsx(Wr,{className:"max-w-xs",children:b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),b.jsx("p",{className:"text-sm",children:K.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>C(Y),"onClick"),className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:R.has(Y)?b.jsx(Ks,{className:"w-4 h-4"}):b.jsx(cs,{className:"w-4 h-4"})})]})}),b.jsxs("div",{className:"flex items-center justify-center gap-1",children:[b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>ie(Y),"onClick"),disabled:f!==null&&f!==Y,className:"h-8 w-8 p-0",children:b.jsx(D6,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>ve(Y),"onClick"),disabled:f!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:b.jsx(No,{className:"w-4 h-4"})})]})]},`${K.name}-${Y}`))})]}),b.jsx("div",{className:"md:hidden space-y-3",children:n.map((K,Y)=>b.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${K.isRequired&&(!K.value||K.value.trim()==="")?"border-red-500/50 bg-red-500/5":""}`,children:[b.jsx("div",{className:"space-y-1",children:b.jsxs("div",{className:"flex items-start justify-between gap-2",children:[b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[b.jsx("code",{className:"font-mono text-sm font-medium break-all",children:K.name}),K.isRequired&&b.jsx(Hi,{variant:"outline",className:"text-xs",children:"Required"}),J(K.name)&&b.jsxs(Hi,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[b.jsx(Wp,{className:"w-3 h-3"}),"Global"]})]}),K.description&&b.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:K.description}),K.plugin&&b.jsxs("div",{className:"text-xs text-muted-foreground",children:["Required by: ",K.plugin]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>ie(Y),"onClick"),disabled:f!==null&&f!==Y,className:"h-8 w-8 p-0",children:b.jsx(D6,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>ve(Y),"onClick"),disabled:f!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:b.jsx(No,{className:"w-4 h-4"})})]})]})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),f===Y?b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`rounded border ${ae}`,children:b.jsx(sn,{value:m,onChange:s(de=>w(de.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:R.has(Y)?"text":"password",placeholder:J(K.name)&&!K.value?"Using global (enter to override)":K.example||"Enter value...",autoFocus:!0,onKeyDown:s(de=>{de.key==="Enter"?(de.preventDefault(),Qe(Y)):de.key==="Escape"&&Ne()},"onKeyDown")})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>C(Y),"onClick"),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:R.has(Y)?b.jsx(Ks,{className:"w-4 h-4"}):b.jsx(cs,{className:"w-4 h-4"})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(dt,{type:"button",variant:"outline",size:"sm",onClick:s(()=>Qe(Y),"onClick"),className:"flex-1",children:[b.jsx(ca,{className:"w-4 h-4 mr-2"}),"Save"]}),b.jsxs(dt,{type:"button",variant:"ghost",size:"sm",onClick:Ne,className:"flex-1",children:[b.jsx(ei,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${ae}`,children:R.has(Y)?b.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:K.value||b.jsx("span",{className:"text-muted-foreground italic",children:J(K.name)?"Using global value":K.example?`e.g. ${K.example}`:"Not set"})}):K.value?b.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):b.jsx("span",{className:"text-muted-foreground italic text-sm block",children:J(K.name)?"Using global value":"Not set"})})}),J(K.name)&&b.jsx(Wr,{className:"max-w-xs",children:b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),b.jsx("p",{className:"text-sm",children:K.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:s(()=>C(Y),"onClick"),className:"h-8 w-8 p-0",children:R.has(Y)?b.jsx(Ks,{className:"w-4 h-4"}):b.jsx(cs,{className:"w-4 h-4"})})]})]})]},`${K.name}-${Y}-mobile`))})]}),b.jsxs("div",{ref:x,className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${_?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onClick:s(()=>document.getElementById("env-upload")?.click(),"onClick"),children:[b.jsx(HP,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Drag & drop ",b.jsx("code",{className:"bg-muted px-1 rounded",children:".env"})," file or click to select"]}),b.jsx("input",{id:"env-upload",type:"file",accept:"*/*",className:"hidden",onChange:s(K=>{const Y=K.target.files?.[0];Y&&Y.name.endsWith(".env")&&oe(Y)},"onChange")})]})]})}),b.jsx(t4,{open:se,onOpenChange:U,children:b.jsxs(ip,{className:"max-w-3xl h-[600px] flex flex-col",children:[b.jsxs(sp,{children:[b.jsx(ap,{children:"Raw Editor"}),b.jsx(n4,{children:"Add, edit, or delete your project variables in .env format"})]}),b.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:b.jsx(nd,{value:X,onChange:s(K=>d(K.target.value),"onChange"),placeholder:`# Environment Variables

# Required Secrets
API_KEY=your_api_key_here

# Optional Variables
DEBUG=true

# Comments are supported`,className:"w-full h-full resize-none border-0 font-mono text-sm focus-visible:ring-0"})}),b.jsxs(r4,{children:[b.jsxs(dt,{variant:"outline",size:"sm",onClick:W,children:[b.jsx(hs,{className:"w-4 h-4 mr-2"}),"Copy ENV"]}),b.jsx(dt,{variant:"outline",size:"sm",onClick:s(()=>U(!1),"onClick"),children:"Cancel"}),b.jsx(dt,{size:"sm",onClick:z,children:"Update Variables"})]})]})})]})});i4.displayName="SecretPanel";function tK(e){const[t,r]=H.useState(e),n=H.useCallback((f,v)=>{r(m=>{if(!f.includes("."))return{...m,[f]:v};const w=f.split("."),_=w[0],A=w.slice(1).join(".");if(!isNaN(Number(w[1]))){const R=w[0],L=Number(w[1]),P=m[R],F=Array.isArray(P)?[...P]:[];if(w.length===2)F[L]=v;else{const Z=w.slice(2).join(".");F[L]=i(F[L],Z,v)}return{...m,[R]:F}}if(f.startsWith("settings.secrets.")){const R=f.split(".")[2],L=m.settings||{},F={...L.secrets||{},[R]:v};return{...m,settings:{...L,secrets:F}}}return{...m,[_]:i(m[_],A,v)}})},[]),i=s((f,v,m)=>{if(!v.includes("."))return{...f,[v]:m};const[w,..._]=v.split("."),A=_.join(".");return{...f,[w]:i(f[w]||{},A,m)}},"updateNestedObject"),o=H.useCallback((f,v)=>{r(m=>{const w=f.split(".");if(w.length===1){const I=w[0],R=Array.isArray(m[I])?[...m[I]]:[];return{...m,[I]:[...R,v]}}const _=f,A=l(m,_),M=Array.isArray(A)?[...A]:[];return u(m,_,[...M,v])})},[]),a=H.useCallback((f,v)=>{r(m=>{const w=f.split(".");if(w.length===1){const I=w[0],R=Array.isArray(m[I])?[...m[I]]:[];return v<0||v>=R.length?m:{...m,[I]:[...R.slice(0,v),...R.slice(v+1)]}}const _=f,A=l(m,_);if(!Array.isArray(A)||v<0||v>=A.length)return m;const M=[...A.slice(0,v),...A.slice(v+1)];return u(m,_,M)})},[]),l=s((f,v)=>{const m=v.split(".");let w=f;for(const _ of m){if(w==null)return;w=w[_]}return w},"getNestedValue"),u=s((f,v,m)=>{const w=v.split(".");if(w.length===1)return{...f,[w[0]]:m};const[_,...A]=w,M=f[_]||{};return{...f,[_]:u(M,A.join("."),m)}},"setNestedValue"),c=H.useCallback(()=>{r(e)},[e]),h=H.useCallback(f=>{r(v=>{const{secrets:m,avatar:w,..._}=f,A={...v.settings,..._};if(typeof w=="string"&&(A.avatar=w),m){const I={};Object.entries(m).forEach(([R,L])=>{L!==null&&(I[R]=L)}),A.secrets=I}return{...v,settings:A}})},[]);return{value:t,updateField:n,addArrayItem:o,removeArrayItem:a,reset:c,updateSettings:h}}s(tK,"usePartialUpdate");function CM(e){const t=H.useRef(JSON.parse(JSON.stringify(e))),{value:r,updateField:n,addArrayItem:i,removeArrayItem:o,reset:a,updateSettings:l}=tK(e),u=H.useCallback(U=>{Object.entries(U).forEach(([X,d])=>{X==="settings"&&d?l({...r.settings,...d}):X==="style"&&d?n("style",{all:d.all||[],chat:d.chat||[],post:d.post||[]}):Array.isArray(d)?n(X,[...d]):n(X,d)})},[r.settings,n,l]),c=H.useCallback((U,X)=>{n(`settings.${U}`,X)},[n]),h=H.useCallback(U=>{l(U)},[l]),f=H.useCallback(U=>{n("system",U)},[n]),v=H.useCallback((U,X)=>{const d=r.settings||{},y=d.secrets||{},x={...typeof y=="object"&&y!==null&&!Array.isArray(y)?y:{},[U]:X};l({...d,secrets:x})},[r.settings,l]),m=H.useCallback(U=>{const X=r.settings||{},d=X.secrets||{},g={...typeof d=="object"&&d!==null&&!Array.isArray(d)?d:{}};delete g[U];const x={...X,secrets:g};l(x)},[r.settings,l]),w=H.useCallback((U,X)=>{i(U,X)},[i]),_=H.useCallback((U,X)=>{o(U,X)},[o]),A=H.useCallback((U,X,d)=>{n(`${U}.${X}`,d)},[n]),M=H.useCallback((U,X)=>{i(`style.${U}`,X)},[i]),I=H.useCallback((U,X)=>{o(`style.${U}`,X)},[o]),R=H.useCallback((U,X,d)=>{n(`style.${U}.${X}`,d)},[n]),L=H.useCallback((U,X)=>{n(`style.${U}`,X)},[n]),P=H.useCallback(U=>{i("plugins",U)},[i]),F=H.useCallback(U=>{o("plugins",U)},[o]),Z=H.useCallback(U=>{n("plugins",U)},[n]),G=H.useCallback(U=>{c("avatar",U)},[c]),se=H.useCallback(()=>{const U={},X=r,d=t.current;["name","username","system"].forEach(E=>{X[E]!==d[E]&&(U[E]=X[E])}),X.enabled!==d.enabled&&(U.enabled=X.enabled),JSON.stringify(X.bio)!==JSON.stringify(d.bio)&&(U.bio=X.bio),JSON.stringify(X.topics)!==JSON.stringify(d.topics)&&(U.topics=X.topics),JSON.stringify(X.adjectives)!==JSON.stringify(d.adjectives)&&(U.adjectives=X.adjectives),JSON.stringify(X.plugins)!==JSON.stringify(d.plugins)&&(U.plugins=X.plugins),JSON.stringify(X.style)!==JSON.stringify(d.style)&&(U.style=X.style);const g=d.settings||{},x=X.settings||{};if(JSON.stringify(x)!==JSON.stringify(g)){if(U.settings={},x.avatar!==g.avatar&&(U.settings.avatar=x.avatar),JSON.stringify(x.voice)!==JSON.stringify(g.voice)&&(U.settings.voice=x.voice),JSON.stringify(x.secrets)!==JSON.stringify(g.secrets)){const E=g.secrets||{},T=x.secrets||{},N=typeof E=="object"&&E!==null&&!Array.isArray(E)?E:{},k=typeof T=="object"&&T!==null&&!Array.isArray(T)?T:{},p={};let S=!1;Object.entries(k).forEach(([C,O])=>{N[C]!==O&&(p[C]=O,S=!0)}),Object.keys(N).forEach(C=>{k[C]===void 0&&(p[C]=null,S=!0)}),S&&(U.settings||(U.settings={}),U.settings.secrets=p)}Object.keys(U.settings).length===0&&delete U.settings}return U},[r]);return{agent:r,updateField:n,reset:a,updateSettings:l,setSettings:h,getChangedFields:se,updateSetting:c,updateSystemPrompt:f,updateSecret:v,removeSecret:m,addContentItem:w,removeContentItem:_,updateContentItem:A,addStyleRule:M,removeStyleRule:I,updateStyleRule:R,setStyleArray:L,addPlugin:P,removePlugin:F,setPlugins:Z,updateAvatar:G,importAgent:u}}s(CM,"useAgentUpdate");const rK=X7("none")?.template||{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}};function MM(){const e=Rn(),{toast:t}=Mr(),r=En(),[n]=H.useState({...rK}),i=H.useRef(null),[o,a]=H.useState({}),l=CM(n),u=s(h=>({...h,bio:h.bio??[],messageExamples:h.messageExamples??[],postExamples:h.postExamples??[],topics:h.topics??[],adjectives:h.adjectives??[],plugins:h.plugins??[],style:{all:h.style?.all??[],chat:h.style?.chat??[],post:h.style?.post??[]},settings:h.settings??{secrets:{}}}),"ensureRequiredFields"),c=s(async h=>{try{const f=u(h),v=o||i.current?.getSecrets()||{};v&&Object.keys(v).length>0&&(f.settings={...f.settings,secrets:v}),await Nr().agents.createAgent({agent:f}),r.invalidateQueries({queryKey:["characters"]}),t({title:"Success",description:"Agent created successfully!"}),r.invalidateQueries({queryKey:["agents"]}),e("/")}catch(f){t({title:"Error",description:f instanceof Error?f.message:"Failed to create agent",variant:"destructive"})}},"handleSubmit");return b.jsx("div",{className:"h-full w-full",children:b.jsx(EM,{characterValue:l.agent,setCharacterValue:l,title:"Create Agent",description:"Configure your AI agent's behavior and capabilities.",onSubmit:c,onReset:s(()=>{l.reset(),a({})},"onReset"),onDelete:s(()=>{e("/")},"onDelete"),onTemplateChange:s(()=>{a({})},"onTemplateChange"),isAgent:!0,secretPanelRef:i,customComponents:[{name:"Plugins",component:b.jsx(TM,{characterValue:l.agent,setCharacterValue:l})},{name:"Secret",component:b.jsx(i4,{characterValue:l.agent,ref:i,onChange:s(h=>{a(h)},"onChange")})},{name:"Avatar",component:b.jsx(SM,{characterValue:l.agent,setCharacterValue:l})}]})})}s(MM,"AgentCreator");function Xo({open:e,onOpenChange:t,title:r,description:n,confirmText:i="Confirm",cancelText:o="Cancel",onConfirm:a,variant:l="destructive"}){const u=s(()=>{a(),t(!1)},"handleConfirm");return b.jsx(Ub,{open:e,onOpenChange:t,children:b.jsxs(E0,{children:[b.jsxs(S0,{children:[b.jsx(T0,{children:r}),b.jsx(A0,{children:n})]}),b.jsxs(k0,{children:[b.jsx(C0,{children:o}),b.jsx(N0,{onClick:u,className:l==="destructive"?"bg-destructive text-destructive-foreground":void 0,children:i})]})]})})}s(Xo,"ConfirmationDialog");const nK=s(()=>typeof window>"u"?"eliza-api-key":`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");function IM({open:e,onOpenChange:t,onApiKeySaved:r}){const[n,i]=H.useState(""),[o,a]=H.useState(!1),{toast:l}=Mr(),u=nK();H.useEffect(()=>{if(e)try{const h=localStorage.getItem(u);h&&i(h)}catch(h){console.error("Unable to access localStorage",h)}},[e,u]);const c=s(()=>{if(!n.trim()){l({title:"API Key Required",description:"Please enter a valid API key.",variant:"destructive"});return}try{localStorage.setItem(u,n)}catch{l({title:"Storage Error",description:"Unable to save the API key (browser storage blocked).",variant:"destructive"});return}r(),l({title:"API Key Saved",description:"The API key has been stored locally."}),t(!1)},"handleSave");return b.jsx(t4,{open:e,onOpenChange:t,children:b.jsxs(ip,{className:"sm:max-w-[425px]",children:[b.jsxs(sp,{children:[b.jsx(ap,{children:"API Key Required"}),b.jsx(n4,{children:"Please enter the API key required to connect to the Eliza server. This key will be stored locally in your browser."})]}),b.jsx("div",{className:"grid gap-4 py-4",children:b.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[b.jsx(Al,{htmlFor:"api-key",className:"text-right",children:"API Key"}),b.jsxs("div",{className:"col-span-3 relative",children:[b.jsx(sn,{id:"api-key",type:o?"text":"password",value:n,onChange:s(h=>i(h.target.value),"onChange"),className:"pr-10"}),b.jsx(dt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:s(()=>a(!o),"onClick"),"aria-label":o?"Hide API key":"Show API key",children:o?b.jsx(Ks,{className:"h-4 w-4"}):b.jsx(cs,{className:"h-4 w-4"})})]})]})}),b.jsx(r4,{children:b.jsx(dt,{type:"button",onClick:c,children:"Save Key"})})]})})}s(IM,"ApiKeyDialog");const OM=H.createContext(void 0),iK=s(({children:e})=>{const t=En(),[r,n]=H.useState(!1),i=H.useCallback(()=>{n(!0)},[]),o=H.useCallback(()=>{n(!1),Ye.info("API key saved via dialog, invalidating ping query."),t.invalidateQueries({queryKey:["ping"]})},[t]);return b.jsxs(OM.Provider,{value:{openApiKeyDialog:i},children:[e,b.jsx(IM,{open:r,onOpenChange:n,onApiKeySaved:o})]})},"AuthProvider"),sK=s(()=>{const e=H.useContext(OM);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},"useAuth");var to={},Di={},Rm={},Xw;function aK(){return Xw||(Xw=1,Object.defineProperty(Rm,"__esModule",{value:!0})),Rm}s(aK,"requireHelper");var ro={},jm={},sf={},Kw;function yd(){if(Kw)return sf;Kw=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.typeGuard=e;function e(t,r){return r}return s(e,"typeGuard$1"),sf}s(yd,"requireTypeGuard");var qw;function RM(){return qw||(qw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CtxLike=void 0;var t=yd();(function(r){function n(i){return(0,t.typeGuard)(i,!0)&&i instanceof Object&&typeof i.done=="function"&&typeof i.abort=="function"&&typeof i.zz__addHandler=="function"&&typeof i.zz__removeHandler=="function"}s(n,"match"),r.match=n})(e.CtxLike||(e.CtxLike={}))})(jm)),jm}s(RM,"requireCtxLike");var Yw;function oK(){return Yw||(Yw=1,(function(e){var t=ro&&ro.__createBinding||(Object.create?(function(n,i,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(i,o);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:s(function(){return i[o]},"get")}),Object.defineProperty(n,a,l)}):(function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]})),r=ro&&ro.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(RM(),e)})(ro)),ro}s(oK,"requireInterfaces");var xu={},ex;function lK(){if(ex)return xu;ex=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.__hack=void 0;return xu.__hack="NOT TYPE ONLY",xu}s(lK,"requireLib_dom");var Lm={},tx;function jM(){return tx||(tx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventTargetLike=void 0;var t=yd();(function(r){var n;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.subscribe=="function"}s(c,"match"),u.match=c})(n=r.RxJSSubject||(r.RxJSSubject={}));var i;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.addListener=="function"&&typeof h.removeListener=="function"}s(c,"match"),u.match=c})(i=r.NodeStyleEventEmitter||(r.NodeStyleEventEmitter={}));var o;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.on=="function"&&typeof h.off=="function"}s(c,"match"),u.match=c})(o=r.JQueryStyleEventEmitter||(r.JQueryStyleEventEmitter={}));var a;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.addEventListener=="function"&&typeof h.removeEventListener=="function"}s(c,"match"),u.match=c})(a=r.HasEventTargetAddRemove||(r.HasEventTargetAddRemove={}));function l(u){try{return a.match(u)||i.match(u)||o.match(u)||n.match(u)}catch{return!1}}s(l,"canBe"),r.canBe=l})(e.EventTargetLike||(e.EventTargetLike={}))})(Lm)),Lm}s(jM,"requireEventTargetLike");var Ds={},rx;function LM(){if(rx)return Ds;rx=1;var e=Ds&&Ds.__extends||(function(){var n=s(function(i,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])},n(i,o)},"extendStatics");return function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(i,o);function a(){this.constructor=i}s(a,"__"),i.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}})();Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.DetachedEvtError=Ds.TimeoutEvtError=void 0;var t=(function(n){e(i,n);function i(o){var a=this.constructor,l=n.call(this,"Evt timeout after ".concat(o,"ms"))||this;return l.timeout=o,Object.setPrototypeOf(l,a.prototype),l}return s(i,"TimeoutEvtError"),i})(Error);Ds.TimeoutEvtError=t;var r=(function(n){e(i,n);function i(){var o=this.constructor,a=n.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(a,o.prototype),a}return s(i,"DetachedEvtError"),i})(Error);return Ds.DetachedEvtError=r,Ds}s(LM,"requireEvtError");var Pm={},nx;function uK(){return nx||(nx=1,Object.defineProperty(Pm,"__esModule",{value:!0})),Pm}s(uK,"requireOperator");var ix;function cK(){return ix||(ix=1,(function(e){var t=Di&&Di.__createBinding||(Object.create?(function(o,a,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:s(function(){return a[l]},"get")}),Object.defineProperty(o,u,c)}):(function(o,a,l,u){u===void 0&&(u=l),o[u]=a[l]})),r=Di&&Di.__setModuleDefault||(Object.create?(function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}):function(o,a){o.default=a}),n=Di&&Di.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,o,l)},i=Di&&Di.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&t(a,o,l);return r(a,o),a};Object.defineProperty(e,"__esModule",{value:!0}),e.dom=void 0,n(aK(),e),n(oK(),e),e.dom=i(lK()),n(jM(),e),n(LM(),e),n(uK(),e)})(Di)),Di}s(cK,"requireTypes");var Dm={},Bs={},Bm={},sx;function PM(){return sx||(sx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertOperatorToStatelessF=void 0;function t(i){var o=i[1];return function(a,l){var u=i[0](a,o,l);return u!==null&&l(function(){return o=u[0]}),u}}s(t,"encapsulateOpState");function r(i){return function(o,a){var l=i(o,a);return l instanceof Object&&!("input"in l)&&l.length===1?l:l?[o]:null}}s(r,"statelessOpToStatelessF");function n(i){return typeof i!="function"?t(i):r(i)}s(n,"convertOperatorToStatelessF"),e.convertOperatorToStatelessF=n})(Bm)),Bm}s(PM,"requireConvertOperatorToStatelessFLambda");var _u={},ax;function op(){if(ax)return _u;ax=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.id=void 0;var e=s(function(t){return t},"id$1");return _u.id=e,_u}s(op,"requireId");var ox;function lp(){if(ox)return Bs;ox=1;var e=Bs&&Bs.__read||function(a,l){var u=typeof Symbol=="function"&&a[Symbol.iterator];if(!u)return a;var c=u.call(a),h,f=[],v;try{for(;(l===void 0||l-- >0)&&!(h=c.next()).done;)f.push(h.value)}catch(m){v={error:m}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(v)throw v.error}}return f},t=Bs&&Bs.__spreadArray||function(a,l,u){if(u||arguments.length===2)for(var c=0,h=l.length,f;c<h;c++)(f||!(c in l))&&(f||(f=Array.prototype.slice.call(l,0,c)),f[c]=l[c]);return a.concat(f||Array.prototype.slice.call(l))};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.compose=void 0;var r=PM(),n=op();function i(a,l){var u=(0,r.convertOperatorToStatelessF)(a),c=(0,r.convertOperatorToStatelessF)(l);return(0,n.id)(function(h,f){var v=u(h,f);if(!v)return null;var m=e(v,1),w=m[0],_=c(w,f);return _&&[_[0]]})}s(i,"f_o_g");function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(a.length===1){var u=e(a,1),c=u[0];return(0,r.convertOperatorToStatelessF)(c)}var h=e(a),f=h[0],v=h[1],m=h.slice(2),w=i(f,v);return m.length===0?w:o.apply(void 0,t([w],e(m),!1))}return s(o,"compose$1"),Bs.compose=o,Bs}s(lp,"requireCompose");var lx;function dK(){return lx||(lx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compose=void 0;var t=lp();Object.defineProperty(e,"compose",{enumerable:!0,get:s(function(){return t.compose},"get")})})(Dm)),Dm}s(dK,"requireUtil");var no={},io={},so={},ux;function s4(){if(ux)return so;ux=1,so.__esModule=!0,so.Polyfill=so.LightMapImpl=void 0;var e=(function(){function t(){this.record=[]}return s(t,"LightMapImpl"),t.prototype.has=function(r){return this.record.map(function(n){var i=n[0];return i}).indexOf(r)>=0},t.prototype.get=function(r){var n=this.record.filter(function(i){var o=i[0];return o===r})[0];if(n!==void 0)return n[1]},t.prototype.set=function(r,n){var i=this.record.filter(function(o){var a=o[0];return a===r})[0];return i===void 0?this.record.push([r,n]):i[1]=n,this},t.prototype.delete=function(r){var n=this.record.map(function(i){var o=i[0];return o}).indexOf(r);return n<0?!1:(this.record.splice(n,1),!0)},t.prototype.keys=function(){return this.record.map(function(r){var n=r[0];return n})},t})();return so.LightMapImpl=e,so.Polyfill=typeof Map<"u"?Map:e,so}s(s4,"require_Map");var cx;function fK(){if(cx)return io;cx=1,io.__esModule=!0,io.Polyfill=io.LightSetImpl=void 0;var e=s4(),t=(function(){function r(n){if(this.map=new e.Polyfill,n!==void 0)for(var i=0,o=n;i<o.length;i++){var a=o[i];this.add(a)}}return s(r,"LightSetImpl"),r.prototype.has=function(n){return this.map.has(n)},r.prototype.add=function(n){return this.map.set(n,!0),this},r.prototype.values=function(){return this.map.keys()},r.prototype.delete=function(n){return this.map.delete(n)},r})();return io.LightSetImpl=t,io.Polyfill=typeof Set<"u"?Set:t,io}s(fK,"require_Set");var Eu={},dx;function up(){if(dx)return Eu;dx=1,Eu.__esModule=!0,Eu.Polyfill=void 0;var e=s4();return Eu.Polyfill=typeof WeakMap<"u"?WeakMap:e.Polyfill,Eu}s(up,"require_WeakMap");var zs={},fx;function a4(){if(fx)return zs;fx=1;var e=zs&&zs.__extends||(function(){var a=s(function(l,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])},a(l,u)},"extendStatics");return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(l,u);function c(){this.constructor=l}s(c,"__"),l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}})();Object.defineProperty(zs,"__esModule",{value:!0}),zs.AssertionError=void 0,zs.assert=n,zs.is=o;var t=(function(a){e(l,a);function l(u){var c=this.constructor,h=a.call(this,"Wrong assertion encountered"+(u?': "'.concat(u,'"'):""))||this;return h.originalMessage=u,Object.setPrototypeOf(h,c.prototype),h}return s(l,"AssertionError"),l})(Error);zs.AssertionError=t;var r=void 0;function n(a,l){if(arguments.length===0&&(a=!0),r!==void 0){r=void 0;return}if(!a){var u=new t(typeof l=="function"?l():l);throw Error.captureStackTrace&&Error.captureStackTrace(u,n),u}}s(n,"assert");var i="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is";function o(a){var l={};if(r!==void 0)throw r=void 0,new Error(i);return r=l,Promise.resolve().then(function(){if(r===l)throw new Error(i)}),null}return s(o,"is"),zs}s(a4,"requireAssert");var Su={},dl={},hx;function wd(){if(hx)return dl;hx=1;var e=dl&&dl.__assign||function(){return e=Object.assign||function(r){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},e.apply(this,arguments)};Object.defineProperty(dl,"__esModule",{value:!0}),dl.overwriteReadonlyProp=t;function t(r,n,i){try{r[n]=i}catch{}if(r[n]===i)return i;var o=void 0,a=Object.getOwnPropertyDescriptor(r,n)||{enumerable:!0,configurable:!0};if(a.get)throw new Error("Probably a wrong idea to overwrite ".concat(String(n)," getter"));try{Object.defineProperty(r,n,e(e({},a),{value:i}))}catch(l){o=l}if(r[n]!==i)throw o||new Error("Can't assign");return i}return s(t,"overwriteReadonlyProp$1"),dl}s(wd,"requireOverwriteReadonlyProp");var ku={},px;function rs(){return px||(px=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.importProxy=void 0,ku.importProxy={}),ku}s(rs,"requireImportProxy");var mx;function o4(){if(mx)return Su;mx=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.LazyEvt=void 0;var e=wd(),t=rs(),r=(function(){function n(){this.initialPostCount=0}return s(n,"LazyEvt"),Object.defineProperty(n.prototype,"evt",{get:s(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.Evt,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),n.prototype.__post=function(i,o){return this.__evt===void 0?++this.initialPostCount:this.__evt[o?"postAndWait":"post"](i)},n.prototype.post=function(i){return this.__post(i,!1)},n.prototype.postAndWait=function(i){return this.__post(i,!0)},n})();return Su.LazyEvt=r,Su}s(o4,"requireLazyEvt");var gx;function hK(){return gx||(gx=1,(function(e){var t=no&&no.__assign||function(){return t=Object.assign||function(h){for(var f,v=1,m=arguments.length;v<m;v++){f=arguments[v];for(var w in f)Object.prototype.hasOwnProperty.call(f,w)&&(h[w]=f[w])}return h},t.apply(this,arguments)},r=no&&no.__values||function(h){var f=typeof Symbol=="function"&&Symbol.iterator,v=f&&h[f],m=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:s(function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}},"next")};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Ctx=void 0;var n=fK(),i=up(),o=a4(),a=o4(),l=rs(),u=wd(),c=(function(){function h(){this.lazyEvtAttach=new a.LazyEvt,this.lazyEvtDetach=new a.LazyEvt,this.lazyEvtDoneOrAborted=new a.LazyEvt,this.handlers=new n.Polyfill,this.evtByHandler=new i.Polyfill}return s(h,"CtxImpl"),Object.defineProperty(h.prototype,"evtDoneOrAborted",{get:s(function(){return this.lazyEvtDoneOrAborted.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"evtAttach",{get:s(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"evtDetach",{get:s(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"completionStatus",{get:s(function(){return this.__completionStatus},"get"),enumerable:!1,configurable:!0}),h.prototype.onDoneOrAborted=function(f){this.__completionStatus=f,this.lazyEvtDoneOrAborted.post(f)},h.prototype.waitFor=function(f){var v=this;return this.evtDoneOrAborted.waitFor(f).then(function(m){if(m.type==="ABORTED")throw m.error;return m.result},function(m){throw v.abort(m),m})},h.prototype.abort=function(f){return this.__done(f)},h.prototype.done=function(f){return this.__done(void 0,f)},h.prototype.__done=function(f,v){var m,w,_=[];try{for(var A=r(this.handlers.values()),M=A.next();!M.done;M=A.next()){var I=M.value,R=this.evtByHandler.get(I),L=I.detach();L&&_.push({handler:I,evt:R})}}catch(P){m={error:P}}finally{try{M&&!M.done&&(w=A.return)&&w.call(A)}finally{if(m)throw m.error}}return this.onDoneOrAborted(t(t({},f?{type:"ABORTED",error:f}:{type:"DONE",result:v}),{handlers:_})),_},h.prototype.getHandlers=function(){var f=this;return Array.from(this.handlers.values()).map(function(v){return{handler:v,evt:f.evtByHandler.get(v)}})},h.prototype.zz__addHandler=function(f,v){if((0,o.assert)(f.ctx===this),(0,o.assert)((0,o.is)(f)),this.completionStatus!==void 0){f.detach();return}this.handlers.add(f),this.evtByHandler.set(f,v),this.lazyEvtAttach.post({handler:f,evt:v})},h.prototype.zz__removeHandler=function(f){(0,o.assert)(f.ctx===this),(0,o.assert)((0,o.is)(f)),this.lazyEvtDetach.post({handler:f,evt:this.evtByHandler.get(f)}),this.handlers.delete(f)},h})();e.Ctx=c;try{(0,u.overwriteReadonlyProp)(e.Ctx,"name","Ctx")}catch{}l.importProxy.Ctx=e.Ctx})(no)),no}s(hK,"requireCtx");var Kr={},zm={},vx;function pK(){return vx||(vx=1,zm.__esModule=!0,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:s(function(e){if(this==null)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if(typeof e!="function")throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<r;){var o=t[i];if(e.call(n,o,i,t))return o;i++}},"value"),configurable:!0,writable:!0})),zm}s(pK,"requireArray_prototype_find");var Tu={},bx;function mK(){if(bx)return Tu;bx=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.create=void 0;var e=rs();function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===0?new e.importProxy.Evt:new e.importProxy.StatefulEvt(r[0])}return s(t,"create"),Tu.create=t,Tu}s(mK,"requireEvt_create");var Au={},yx;function gK(){if(yx)return Au;yx=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.getCtxFactory=void 0;var e=up(),t=rs();function r(){var n=new e.Polyfill;function i(o){var a=n.get(o);return a===void 0&&(a=new t.importProxy.Ctx,n.set(o,a)),a}return s(i,"getCtx"),i}return s(r,"getCtxFactory"),Au.getCtxFactory=r,Au}s(gK,"requireEvt_getCtx");var Nu={},wx;function vK(){if(wx)return Nu;wx=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.factorize=void 0;function e(t){return t}return s(e,"factorize"),Nu.factorize=e,Nu}s(vK,"requireEvt_factorize");var ao={},xx;function DM(){if(xx)return ao;xx=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.merge=ao.mergeImpl=void 0;var e=rs();function t(n,i){var o=new e.importProxy.Evt,a=s(function(l){return o.post(l)},"callback");return i.forEach(function(l){n===void 0?l.attach(a):l.attach(n,a)}),o}s(t,"mergeImpl"),ao.mergeImpl=t;function r(n,i){return"length"in n?t(void 0,n):t(n,i)}return s(r,"merge"),ao.merge=r,ao}s(DM,"requireEvt_merge");var ii={},_x;function bK(){if(_x)return ii;_x=1;var e=ii&&ii.__createBinding||(Object.create?(function(w,_,A,M){M===void 0&&(M=A);var I=Object.getOwnPropertyDescriptor(_,A);(!I||("get"in I?!_.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:s(function(){return _[A]},"get")}),Object.defineProperty(w,M,I)}):(function(w,_,A,M){M===void 0&&(M=A),w[M]=_[A]})),t=ii&&ii.__setModuleDefault||(Object.create?(function(w,_){Object.defineProperty(w,"default",{enumerable:!0,value:_})}):function(w,_){w.default=_}),r=ii&&ii.__importStar||function(w){if(w&&w.__esModule)return w;var _={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&e(_,w,A);return t(_,w),_},n=ii&&ii.__read||function(w,_){var A=typeof Symbol=="function"&&w[Symbol.iterator];if(!A)return w;var M=A.call(w),I,R=[],L;try{for(;(_===void 0||_-- >0)&&!(I=M.next()).done;)R.push(I.value)}catch(P){L={error:P}}finally{try{I&&!I.done&&(A=M.return)&&A.call(M)}finally{if(L)throw L.error}}return R};Object.defineProperty(ii,"__esModule",{value:!0}),ii.from=void 0;var i=op(),o=a4(),a=yd(),l=DM(),u=rs(),c=r(jM()),h=c.EventTargetLike;function f(w,_,A,M){var I=s(function(se){return h.canBe(se)},"matchEventTargetLike");if(!I(_)){if("then"in _){var R=new u.importProxy.Evt,L=(function(){var se=s(function(){return w?.evtDoneOrAborted.postCount},"getEvtDonePostCount"),U=se();return function(){return U!==se()}})();return _.then(function(se){L()||R.post(se)}),R}return(0,l.mergeImpl)(w,Array.from(_).map(function(se){return f(w,se,A,M)}))}var P;if(h.HasEventTargetAddRemove.match(_))P={on:s(function(se,U,X){return _.addEventListener(U,se,X)},"on"),off:s(function(se,U,X){return _.removeEventListener(U,se,X)},"off")};else if(h.NodeStyleEventEmitter.match(_))P={on:s(function(se,U){return _.addListener(U,se)},"on"),off:s(function(se,U){return _.removeListener(U,se)},"off")};else if(h.JQueryStyleEventEmitter.match(_))P={on:s(function(se,U){return _.on(U,se)},"on"),off:s(function(se,U){return _.off(U,se)},"off")};else if(h.RxJSSubject.match(_)){var F;P={on:s(function(se){return F=_.subscribe(function(U){return se(U)})},"on"),off:s(function(){return F.unsubscribe()},"off")}}else(0,i.id)(_),(0,o.assert)(!1);var Z=new u.importProxy.Evt,G=s(function(se){return Z.post(se)},"listener");return w?.evtDoneOrAborted.attachOnce(function(){return P.off(G,A,M)}),P.on(G,A,M),Z}s(f,"fromImplForTargetEventLike");function v(w,_,A){var M=u.importProxy.Evt.create(),I=s(function(L){var P=n(L,1),F=P[0];return M.post(F)},"listener"),R=new _(I);return R.observe(A),w?.evtDoneOrAborted.attachOnce(function(){return R.disconnect()}),M}s(v,"fromImplForObserver");function m(w,_,A,M){return"evtDoneOrAborted"in w?((0,o.assert)((0,a.typeGuard)(_,!0)&&(0,a.typeGuard)(A,!0)&&(0,a.typeGuard)(M,!0)),typeof _=="function"?((0,o.assert)((0,a.typeGuard)(A,!0)&&(0,a.typeGuard)(M,!0)),v(w,_,A)):((0,o.assert)((0,a.typeGuard)(A,!0)),f(w,_,A,M))):((0,o.assert)((0,a.typeGuard)(w,!0)&&(0,a.typeGuard)(_,!0)&&(0,a.typeGuard)(A,!0)),typeof w=="function"?((0,o.assert)((0,a.typeGuard)(_,!0)&&(0,a.typeGuard)(A,!0)),v(void 0,w,_)):((0,o.assert)((0,a.typeGuard)(_,!0)),f(void 0,w,_,A)))}return s(m,"from"),ii.from=m,ii}s(bK,"requireEvt_from");var Cu={},Ex;function yK(){if(Ex)return Cu;Ex=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.asPostable=void 0;function e(t){return t}return s(e,"asPostable"),Cu.asPostable=e,Cu}s(yK,"requireEvt_asPostable");var Us={},Sx;function wK(){if(Sx)return Us;Sx=1;var e=Us&&Us.__awaiter||function(i,o,a,l){function u(c){return c instanceof a?c:new a(function(h){h(c)})}return s(u,"adopt"),new(a||(a=Promise))(function(c,h){function f(w){try{m(l.next(w))}catch(_){h(_)}}s(f,"fulfilled");function v(w){try{m(l.throw(w))}catch(_){h(_)}}s(v,"rejected");function m(w){w.done?c(w.value):u(w.value).then(f,v)}s(m,"step"),m((l=l.apply(i,o||[])).next())})},t=Us&&Us.__generator||function(i,o){var a={label:0,sent:s(function(){if(c[0]&1)throw c[1];return c[1]},"sent"),trys:[],ops:[]},l,u,c,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(m){return function(w){return v([m,w])}}function v(m){if(l)throw new TypeError("Generator is already executing.");for(;a;)try{if(l=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,u=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){a.label=m[1];break}if(m[0]===6&&a.label<c[1]){a.label=c[1],c=m;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(m);break}c[2]&&a.ops.pop(),a.trys.pop();continue}m=o.call(i,a)}catch(w){m=[6,w],u=0}finally{l=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(Us,"__esModule",{value:!0}),Us.asyncPipe=void 0;var r=rs();function n(i,o){var a=this,l="state"in i?r.importProxy.Evt.create(void 0):r.importProxy.Evt.create(),u=0;return i.attach(function(c){return e(a,void 0,void 0,function(){var h,f,v;return t(this,function(m){switch(m.label){case 0:return u++,h=u,f=o(c),f!==null&&"then"in f?[4,f]:[3,2];case 1:return v=m.sent(),"state"in i&&h!==u?[2]:[3,3];case 2:v=f,m.label=3;case 3:return v?(l.post(v[0]),[2]):[2]}})})}),l}return s(n,"asyncPipe"),Us.asyncPipe=n,Us}s(wK,"requireEvt_asyncPipe");var Mu={},kx;function xK(){if(kx)return Mu;kx=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.asNonPostable=void 0;function e(t){return t}return s(e,"asNonPostable"),Mu.asNonPostable=e,Mu}s(xK,"requireEvt_asNonPostable");var si={},Tx;function _K(){if(Tx)return si;Tx=1;var e=si&&si.__assign||function(){return e=Object.assign||function(h){for(var f,v=1,m=arguments.length;v<m;v++){f=arguments[v];for(var w in f)Object.prototype.hasOwnProperty.call(f,w)&&(h[w]=f[w])}return h},e.apply(this,arguments)},t=si&&si.__read||function(h,f){var v=typeof Symbol=="function"&&h[Symbol.iterator];if(!v)return h;var m=v.call(h),w,_=[],A;try{for(;(f===void 0||f-- >0)&&!(w=m.next()).done;)_.push(w.value)}catch(M){A={error:M}}finally{try{w&&!w.done&&(v=m.return)&&v.call(m)}finally{if(A)throw A.error}}return _},r=si&&si.__spreadArray||function(h,f,v){if(v||arguments.length===2)for(var m=0,w=f.length,_;m<w;m++)(_||!(m in f))&&(_||(_=Array.prototype.slice.call(f,0,m)),_[m]=f[m]);return h.concat(_||Array.prototype.slice.call(f))};Object.defineProperty(si,"__esModule",{value:!0}),si.parsePropsFromArgs=si.matchAll=void 0;var n=op(),i=lp(),o=yd();function a(){return!0}s(a,"matchAll"),si.matchAll=a;var l=s(function(h){return h!==void 0&&(0,o.typeGuard)(h,!0)&&(typeof h=="function"||typeof h[0]=="function")},"canBeOperator"),u={op:a,ctx:void 0,timeout:void 0,callback:void 0};function c(h,f){switch(f){case"pipe":{var v=s(function(d){return d.length===0?{}:{op:d.length===1?d[0]:i.compose.apply(void 0,r([],t(d),!1))}},"getOpWrap");if(l(h[0]))return(0,n.id)(e(e({},u),v(h)));var m=t(h),w=m[0],_=m.slice(1);return(0,n.id)(e(e(e({},u),w!==void 0?{ctx:w}:{}),v(_)))}case"waitFor":return c(r(r([],t(h.filter(function(d,y){return!(y===h.length-1&&d===void 0)})),!1),[u.callback],!1),"attach*");case"attach*":{var A=h.length;switch(A){case 4:{var M=t(h,4),I=M[0],R=M[1],L=M[2],P=M[3];return(0,n.id)(e(e({},u),{op:I,ctx:R,timeout:L,callback:P}))}case 3:{var F=t(h,3),I=F[0],R=F[1],L=F[2];if(typeof R=="number"){var Z=R,G=L;return l(I)?(0,n.id)(e(e({},u),{timeout:Z,callback:G,op:I})):(0,n.id)(e(e({},u),{timeout:Z,callback:G,ctx:I}))}else return(0,n.id)(e(e({},u),{op:I,ctx:R,callback:L}))}case 2:{var se=t(h,2),I=se[0],R=se[1];if(typeof I=="number")return(0,n.id)(e(e({},u),{timeout:I,callback:R}));var G=R;return l(I)?(0,n.id)(e(e({},u),{callback:G,op:I})):(0,n.id)(e(e({},u),{callback:G,ctx:I}))}case 1:{var U=t(h,1),X=U[0];return(0,n.id)(e(e({},u),{callback:X}))}case 0:return(0,n.id)(e({},u))}}break}}return s(c,"parsePropsFromArgs"),si.parsePropsFromArgs=c,si}s(_K,"requireEvt_parsePropsFromArgs");var Iu={},Ax;function EK(){if(Ax)return Iu;Ax=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.newCtx=void 0;var e=rs();function t(){return new e.importProxy.Ctx}return s(t,"newCtx"),Iu.newCtx=t,Iu}s(EK,"requireEvt_newCtx");var $r={},Nx;function SK(){if(Nx)return $r;Nx=1;var e=$r&&$r.__spreadArrays||function(){for(var R=0,L=0,P=arguments.length;L<P;L++)R+=arguments[L].length;for(var F=Array(R),Z=0,L=0;L<P;L++)for(var G=arguments[L],se=0,U=G.length;se<U;se++,Z++)F[Z]=G[se];return F};$r.__esModule=!0,$r.buildMethodCb=$r.buildCb=$r.getPrComplete=$r.isRunning=$r.cancelAllQueuedCalls=$r.getQueuedCallCount=$r.buildMethod=$r.build=$r.createGroupRef=void 0;var t=up(),r=(function(){function R(){this.queuedCalls=[],this.isRunning=!1,this.prComplete=Promise.resolve()}return s(R,"ExecQueue2"),R.prototype.cancelAllQueuedCalls=function(){var L;return this.queuedCalls.splice(0,L=this.queuedCalls.length),L},R})(),n={},i=new t.Polyfill;function o(R,L){var P=i.get(R);P||(P=new t.Polyfill,i.set(R,P));var F=P.get(L);return F||(F=new r,P.set(L,F)),F}s(o,"getOrCreateExecQueue");function a(){return new Array(0)}s(a,"createGroupRef"),$r.createGroupRef=a;function l(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return _(!0,a(),R[0]);case 2:return _(!0,R[0],R[1])}}s(l,"build"),$r.build=l;function u(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return _(!1,a(),R[0]);case 2:return _(!1,R[0],R[1])}}s(u,"buildMethod"),$r.buildMethod=u;function c(R,L){var P=w(R,L);return P?P.queuedCalls.length:0}s(c,"getQueuedCallCount"),$r.getQueuedCallCount=c;function h(R,L){var P=w(R,L);return P?P.cancelAllQueuedCalls():0}s(h,"cancelAllQueuedCalls"),$r.cancelAllQueuedCalls=h;function f(R,L){var P=w(R,L);return P?P.isRunning:!1}s(f,"isRunning"),$r.isRunning=f;function v(R,L){var P=w(R,L);return P?P.prComplete:Promise.resolve()}s(v,"getPrComplete"),$r.getPrComplete=v;var m=new t.Polyfill;function w(R,L){L===void 0&&(L=n);var P=m.get(R);if(!P)throw Error("Not a run exclusiveFunction");var F=i.get(L);if(F)return F.get(P)}s(w,"getExecQueueByFunctionAndContext");function _(R,L,P){var F,Z=s((function(){for(var G=this,se=[],U=0;U<arguments.length;U++)se[U]=arguments[U];if(!R){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");F=o(this,L)}return new Promise(function(X,d){var y;F.prComplete=new Promise(function(x){return y=s(function(){return x()},"onPrCompleteResolve")});var g=s(function(x){y(),F.isRunning=!1,F.queuedCalls.length&&F.queuedCalls.shift()(),"data"in x?X(x.data):d(x.reason)},"onComplete");s((function x(){for(var E=this,T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];if(F.isRunning){F.queuedCalls.push(function(){return x.apply(E,T)});return}F.isRunning=!0;try{P.apply(this,T).then(function(k){return g({data:k})}).catch(function(k){return g({reason:k})})}catch(k){g({reason:k})}}),"callee").apply(G,se)})}),"runExclusiveFunction");return R&&(F=o(n,L)),m.set(Z,L),Z}s(_,"buildFnPromise");function A(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return I(!0,a(),R[0]);case 2:return I(!0,R[0],R[1])}}s(A,"buildCb"),$r.buildCb=A;function M(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return I(!1,a(),R[0]);case 2:return I(!1,R[0],R[1])}}s(M,"buildMethodCb"),$r.buildMethodCb=M;function I(R,L,P){var F,Z=s((function(){for(var G=this,se=[],U=0;U<arguments.length;U++)se[U]=arguments[U];if(!R){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");F=o(this,L)}var X=void 0;se.length&&typeof se[se.length-1]=="function"&&(X=se.pop());var d;F.prComplete=new Promise(function(g){return d=s(function(){return g()},"onPrCompleteResolve")});var y=s(function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];d(),F.isRunning=!1,F.queuedCalls.length&&F.queuedCalls.shift()(),X&&X.apply(G,g)},"onComplete");y.hasCallback=!!X,s((function g(){for(var x=this,E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];if(F.isRunning){F.queuedCalls.push(function(){return g.apply(x,E)});return}F.isRunning=!0;try{P.apply(this,e(E,[y]))}catch(N){throw N.message+=" ( This exception should not have been thrown, miss use of run-exclusive buildCb )",N}}),"callee").apply(this,se)}),"runExclusiveFunction");return R&&(F=o(n,L)),m.set(Z,L),Z}return s(I,"buildFnCallback"),$r}s(SK,"requireRunExclusive");var Fs={},Cx;function kK(){if(Cx)return Fs;Cx=1;var e=Fs&&Fs.__extends||(function(){var i=s(function(o,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(l[c]=u[c])},i(o,a)},"extendStatics");return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(o,a);function l(){this.constructor=o}s(l,"__"),o.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}})();Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.VoidDeferred=Fs.Deferred=void 0;var t=wd(),r=(function(){function i(){var o=this;this.isPending=!0;var a,l;this.pr=new Promise(function(u,c){a=s(function(h){(0,t.overwriteReadonlyProp)(o,"isPending",!1),u(h)},"resolve"),l=s(function(h){(0,t.overwriteReadonlyProp)(o,"isPending",!1),c(h)},"reject")}),this.resolve=a,this.reject=l}return s(i,"Deferred"),i})();Fs.Deferred=r;var n=(function(i){e(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return s(o,"VoidDeferred"),o})(r);return Fs.VoidDeferred=n,Fs}s(kK,"requireDeferred");var Ou={},Mx;function TK(){if(Mx)return Ou;Mx=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.loosenType=void 0;function e(t){return t}return s(e,"loosenType"),Ou.loosenType=e,Ou}s(TK,"requireEvt_loosenType");var oo={},Ix;function AK(){if(Ix)return oo;Ix=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.safeClearTimeout=oo.safeSetTimeout=void 0;var e=s(function(r,n){return setTimeout(r,n)},"safeSetTimeout$1");oo.safeSetTimeout=e;var t=s(function(r){return clearTimeout(r)},"safeClearTimeout");return oo.safeClearTimeout=t,oo}s(AK,"requireSafeSetTimeout");var af={},Ox;function NK(){if(Ox)return af;Ox=1,Object.defineProperty(af,"__esModule",{value:!0}),af.isPromiseLike=e;function e(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}return s(e,"isPromiseLike$1"),af}s(NK,"requireIsPromiseLike");var Rx;function BM(){return Rx||(Rx=1,(function(e){var t=Kr&&Kr.__assign||function(){return t=Object.assign||function(S){for(var C,O=1,B=arguments.length;O<B;O++){C=arguments[O];for(var z in C)Object.prototype.hasOwnProperty.call(C,z)&&(S[z]=C[z])}return S},t.apply(this,arguments)},r=Kr&&Kr.__createBinding||(Object.create?(function(S,C,O,B){B===void 0&&(B=O);var z=Object.getOwnPropertyDescriptor(C,O);(!z||("get"in z?!C.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:s(function(){return C[O]},"get")}),Object.defineProperty(S,B,z)}):(function(S,C,O,B){B===void 0&&(B=O),S[B]=C[O]})),n=Kr&&Kr.__setModuleDefault||(Object.create?(function(S,C){Object.defineProperty(S,"default",{enumerable:!0,value:C})}):function(S,C){S.default=C}),i=Kr&&Kr.__importStar||function(S){if(S&&S.__esModule)return S;var C={};if(S!=null)for(var O in S)O!=="default"&&Object.prototype.hasOwnProperty.call(S,O)&&r(C,S,O);return n(C,S),C},o=Kr&&Kr.__awaiter||function(S,C,O,B){function z($){return $ instanceof O?$:new O(function(W){W($)})}return s(z,"adopt"),new(O||(O=Promise))(function($,W){function oe(Qe){try{ie(B.next(Qe))}catch(Ne){W(Ne)}}s(oe,"fulfilled");function ne(Qe){try{ie(B.throw(Qe))}catch(Ne){W(Ne)}}s(ne,"rejected");function ie(Qe){Qe.done?$(Qe.value):z(Qe.value).then(oe,ne)}s(ie,"step"),ie((B=B.apply(S,C||[])).next())})},a=Kr&&Kr.__generator||function(S,C){var O={label:0,sent:s(function(){if($[0]&1)throw $[1];return $[1]},"sent"),trys:[],ops:[]},B,z,$,W;return W={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function oe(ie){return function(Qe){return ne([ie,Qe])}}function ne(ie){if(B)throw new TypeError("Generator is already executing.");for(;O;)try{if(B=1,z&&($=ie[0]&2?z.return:ie[0]?z.throw||(($=z.return)&&$.call(z),0):z.next)&&!($=$.call(z,ie[1])).done)return $;switch(z=0,$&&(ie=[ie[0]&2,$.value]),ie[0]){case 0:case 1:$=ie;break;case 4:return O.label++,{value:ie[1],done:!1};case 5:O.label++,z=ie[1],ie=[0];continue;case 7:ie=O.ops.pop(),O.trys.pop();continue;default:if($=O.trys,!($=$.length>0&&$[$.length-1])&&(ie[0]===6||ie[0]===2)){O=0;continue}if(ie[0]===3&&(!$||ie[1]>$[0]&&ie[1]<$[3])){O.label=ie[1];break}if(ie[0]===6&&O.label<$[1]){O.label=$[1],$=ie;break}if($&&O.label<$[2]){O.label=$[2],O.ops.push(ie);break}$[2]&&O.ops.pop(),O.trys.pop();continue}ie=C.call(S,O)}catch(Qe){ie=[6,Qe],z=0}finally{B=$=0}if(ie[0]&5)throw ie[1];return{value:ie[0]?ie[1]:void 0,done:!0}}},l=Kr&&Kr.__read||function(S,C){var O=typeof Symbol=="function"&&S[Symbol.iterator];if(!O)return S;var B=O.call(S),z,$=[],W;try{for(;(C===void 0||C-- >0)&&!(z=B.next()).done;)$.push(z.value)}catch(oe){W={error:oe}}finally{try{z&&!z.done&&(O=B.return)&&O.call(B)}finally{if(W)throw W.error}}return $},u=Kr&&Kr.__spreadArray||function(S,C,O){if(O||arguments.length===2)for(var B=0,z=C.length,$;B<z;B++)($||!(B in C))&&($||($=Array.prototype.slice.call(C,0,B)),$[B]=C[B]);return S.concat($||Array.prototype.slice.call(C))},c=Kr&&Kr.__values||function(S){var C=typeof Symbol=="function"&&Symbol.iterator,O=C&&S[C],B=0;if(O)return O.call(S);if(S&&typeof S.length=="number")return{next:s(function(){return S&&B>=S.length&&(S=void 0),{value:S&&S[B++],done:!S}},"next")};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Evt=e.onAddHandlerByEvt=void 0,pK();var h=s4(),f=up(),v=rs(),m=mK(),w=gK(),_=vK(),A=DM(),M=bK(),I=yK(),R=wK(),L=xK(),P=_K(),F=EK(),Z=o4(),G=i(SK()),se=wd(),U=yd(),X=kK(),d=TK(),y=AK(),g=NK(),x=LM(),E=i(RM()),T=PM(),N=s(function(S){return S()},"runSideEffect"),k=E.CtxLike,p=(function(){function S(){this.lazyEvtAttach=new Z.LazyEvt,this.lazyEvtDetach=new Z.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new h.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return s(S,"EvtImpl"),S.setDefaultMaxHandlers=function(C){this.__defaultMaxHandlers=isFinite(C)?C:0},S.prototype.toStateful=function(C,O){var B=k.match(C),z=B?void 0:C,$=O||(B?C:void 0),W=new v.importProxy.StatefulEvt(z),oe=s(function(ne){return W.post(ne)},"callback");return $?this.attach($,oe):this.attach(oe),W},Object.defineProperty(S.prototype,"evtAttach",{get:s(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"evtDetach",{get:s(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),S.prototype.setMaxHandlers=function(C){return this.__maxHandlers=isFinite(C)?C:0,this},S.prototype.enableTrace=function(C){var O=C.id,B=C.formatter,z=C.log;this.traceId=O,this.traceFormatter=B||(function($){try{return JSON.stringify($,null,2)}catch{return"".concat($)}}),this.log=z===void 0?(function(){for(var $=[],W=0;W<arguments.length;W++)$[W]=arguments[W];return console.log.apply(console,u([],l($),!1))}):z===!1?void 0:z},S.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(S.prototype,"asyncHandlerChronologyMark",{get:s(function(){var C,O,B,z;return(O=(z=(C=(B=this)["~internal"])!==null&&C!==void 0?C:B["~internal"]={}).asyncHandlerChronologyMark)!==null&&O!==void 0?O:z.asyncHandlerChronologyMark=new f.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"asyncHandlerChronologyExceptionRange",{get:s(function(){var C,O,B,z;return(O=(z=(C=(B=this)["~internal"])!==null&&C!==void 0?C:B["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&O!==void 0?O:z.asyncHandlerChronologyExceptionRange=new f.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"invocableOpByOp",{get:s(function(){var C,O,B,z;return(O=(z=(C=(B=this)["~internal"])!==null&&C!==void 0?C:B["~internal"]={}).invocableOpByOp)!==null&&O!==void 0?O:z.invocableOpByOp=new f.Polyfill},"get"),enumerable:!1,configurable:!0}),S.prototype.getInvocableOp=function(C){var O=this.invocableOpByOp.get(C);if(O===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return O},S.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},S.prototype.detachHandler=function(C,O,B){var z=this.handlers.indexOf(C);return z<0?!1:((0,U.typeGuard)(C,!!C.ctx)&&C.ctx.zz__removeHandler(C),this.handlers.splice(z,1),C.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(C),O[0]!==void 0&&((0,y.safeClearTimeout)(O[0]),B(new x.DetachedEvtError)),this.lazyEvtDetach.post(C),!0)},S.prototype.triggerHandler=function(C,O,B,z){var $=C.callback,W=C.once;O[0]!==void 0&&((0,y.safeClearTimeout)(O[0]),O[0]=void 0),W&&C.detach();var oe=l(z,1),ne=oe[0],ie=$?.call(this,ne);return B?.(ne),(0,g.isPromiseLike)(ie)?ie:void 0},S.prototype.addHandler=function(C,O){var B=this,z;this.invocableOpByOp.set(C.op,(0,T.convertOperatorToStatelessF)(C.op));var $=new X.Deferred,W=[void 0],oe=t(t(t({},C),O),{detach:s(function(){return B.detachHandler(oe,W,$.reject)},"detach"),promise:$.pr});typeof oe.timeout=="number"&&(W[0]=(0,y.safeSetTimeout)(function(){W[0]=void 0,oe.detach(),$.reject(new x.TimeoutEvtError(oe.timeout))},oe.timeout));var ne=s(function(Qe){return B.triggerHandler(oe,W,$.isPending?$.resolve:void 0,Qe)},"handlerTrigger");if(this.handlerTriggers.set(oe,ne),oe.async&&this.asyncHandlerChronologyMark.set(oe,this.getChronologyMark()),oe.prepend){var ie=void 0;for(ie=0;ie<this.handlers.length&&this.handlers[ie].extract;ie++);this.handlers.splice(ie,0,oe)}else this.handlers.push(oe);return oe.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,U.typeGuard)(oe,!!oe.ctx)&&oe.ctx.zz__addHandler(oe,this),(z=e.onAddHandlerByEvt.get(this))===null||z===void 0||z(oe,ne),this.handlerTriggers.has(oe)&&this.lazyEvtAttach.post(oe),oe},S.prototype.checkForPotentialMemoryLeak=function(){var C=this.__maxHandlers!==void 0?this.__maxHandlers:S.__defaultMaxHandlers;if(!(C===0||this.handlers.length%(C+1)!==0)){var O=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(S.__defaultMaxHandlers,`.
`)].join(""),B=new h.Polyfill;this.getHandlers().map(function(z){var $=z.ctx,W=z.async,oe=z.once,ne=z.prepend,ie=z.extract,Qe=z.op,Ne=z.callback;return t(t({hasCtx:!!$,once:oe,prepend:ne,extract:ie,isWaitFor:W},Qe===P.matchAll?{}:{op:Qe.toString()}),Ne?{callback:Ne.toString()}:{})}).map(function(z){return`{
`+Object.keys(z).map(function($){return"  ".concat($,": ").concat(z[$])}).join(`,
`)+`
}`}).forEach(function(z){return B.set(z,(B.has(z)?B.get(z):0)+1)}),O+=`
`+Array.from(B.keys()).map(function(z){return"".concat(B.get(z)," handler").concat(B.get(z)===1?"":"s",` like:
`).concat(z)}).join(`
`)+`
`,this.traceId===null&&(O+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(O)}catch{}}},S.prototype.isHandledByOp=function(C,O){var B=!1,z;try{z=this.getInvocableOp(C)}catch{return!1}var $=z(O,function(){return B=!0});return $!==null||B},S.prototype.trace=function(C){var O=this,B;if(this.traceId!==null){var z="(".concat(this.traceId,") "),$=!!this.handlers.find(function(oe){var ne=oe.extract,ie=oe.op;return ne&&O.isHandledByOp(ie,C)});if($)z+="extracted ";else{var W=this.handlers.filter(function(oe){var ne=oe.extract,ie=oe.op;return!ne&&O.isHandledByOp(ie,C)}).length;z+="".concat(W," handler").concat(W>1?"s":"",", ")}(B=this.log)===null||B===void 0||B.call(this,z+this.traceFormatter(C))}},S.prototype.postSync=function(C){var O,B,z=[],$=s(function(ae){return[ae,Promise.all(z).then(function(){})]},"getReturnValue");try{for(var W=c(u([],l(this.handlers),!1)),oe=W.next();!oe.done;oe=W.next()){var ne=oe.value,ie=ne.async,Qe=ne.op,Ne=ne.extract;if(!ie){var ve=this.handlerTriggers.get(ne),Me=this.getInvocableOp(Qe)(C,N);if(Me!==null&&ve){var J=ve(Me);if(J!==void 0&&z.push(J),Ne)return $(!0)}}}}catch(ae){O={error:ae}}finally{try{oe&&!oe.done&&(B=W.return)&&B.call(W)}finally{if(O)throw O.error}}return $(!1)},S.prototype.postAsyncFactory=function(){var C=this;return G.buildMethodCb(function(O,B,z){var $,W;if(C.asyncHandlerCount===0){z();return}var oe=[],ne;Promise.resolve().then(function(){return ne=C.getChronologyMark()});var ie=s(function(J){if(!J.async)return"continue";var ae=C.getInvocableOp(J.op)(O,N);if(ae===null)return"continue";var K=C.handlerTriggers.get(J);if(!K)return"continue";var Y=(function(){var de=C.asyncHandlerChronologyMark.get(J);if(B>de)return!0;var Be=C.asyncHandlerChronologyExceptionRange.get(J);return Be!==void 0&&Be.lowerMark<B&&B<Be.upperMark&&de>Be.upperMark})();if(!Y)return"continue";oe.push(new Promise(function(de){return J.promise.then(function(){return de()}).catch(function(){return de()})})),K(ae)},"_loop_1");try{for(var Qe=c(u([],l(C.handlers),!1)),Ne=Qe.next();!Ne.done;Ne=Qe.next()){var ve=Ne.value;ie(ve)}}catch(J){$={error:J}}finally{try{Ne&&!Ne.done&&(W=Qe.return)&&W.call(Qe)}finally{if($)throw $.error}}if(oe.length===0){z();return}var Me=u([],l(C.handlers),!1);Promise.all(oe).then(function(){var J,ae;try{for(var K=c(C.handlers),Y=K.next();!Y.done;Y=K.next()){var de=Y.value;de.async&&(Me.indexOf(de)>=0||C.asyncHandlerChronologyExceptionRange.set(de,{lowerMark:B,upperMark:ne}))}}catch(Be){J={error:Be}}finally{try{Y&&!Y.done&&(ae=K.return)&&ae.call(K)}finally{if(J)throw J.error}}z()})})},S.prototype.isHandled=function(C){var O=this;return!!this.getHandlers().find(function(B){var z=B.op;return O.isHandledByOp(z,C)})},S.prototype.getHandlers=function(){return u([],l(this.handlers),!1)},S.prototype.detach=function(C){var O,B,z=[];try{for(var $=c(this.getHandlers()),W=$.next();!W.done;W=$.next()){var oe=W.value;if(!(C!==void 0&&oe.ctx!==C)){var ne=oe.detach();ne&&z.push(oe)}}}catch(ie){O={error:ie}}finally{try{W&&!W.done&&(B=$.return)&&B.call($)}finally{if(O)throw O.error}}return z},S.prototype.pipe=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var B=new S;return this.addHandler(t(t({},(0,P.parsePropsFromArgs)(C,"pipe")),{callback:s(function(z){return B.post(z)},"callback")}),S.propsFormMethodNames.attach),B},S.prototype.waitFor=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.addHandler((0,P.parsePropsFromArgs)(C,"waitFor"),S.propsFormMethodNames.waitFor).promise},S.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},S.prototype.iter=function(){for(var C,O,B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];var $=(0,P.parsePropsFromArgs)(B,"waitFor"),W=(O=$.ctx)!==null&&O!==void 0?O:(0,F.newCtx)(),oe=this;return C={ctx:W},C[Symbol.asyncIterator]=function(){var ne=W.evtDoneOrAborted.postCount,ie=(function(){var Me=$.timeout;if(Me!==void 0){var J=s(function(){var K=new x.TimeoutEvtError(Me);W.abort(K)},"setTimeoutCallback"),ae=setTimeout(J,Me);return{timeout:Me,setTimeoutCallback:J,timer:ae}}})(),Qe=oe.pipe(W,$.op).pipe(function(Me,J){return ie!==void 0&&J(function(){clearTimeout(ie.timer),ie.timer=setTimeout(ie.setTimeoutCallback,ie.timeout)}),[Me]}),Ne=[];if(Qe.attach(function(Me){return Ne.push([Me])}),ie!==void 0){var ve=ie.timer;W.evtDoneOrAborted.attachOnce(function(Me){return Me.type==="DONE"},function(){return clearTimeout(ve)})}return{next:s(function(){return o(this,void 0,void 0,function(){var Me,J,ae,K;return a(this,function(Y){switch(Y.label){case 0:return Me=Ne.shift(),Me!==void 0?[3,2]:(J=new X.Deferred,ne<W.evtDoneOrAborted.postCount?[2,{done:!0}]:(ae=(0,F.newCtx)(),W.evtDoneOrAborted.attachOnce(ae,function(){return J.resolve(void 0)}),Qe.attachOnceExtract(ae,function(de){ae.done(),J.resolve([de])}),[4,J.pr]));case 1:if(Me=Y.sent(),Me===void 0)return[2,{done:!0}];Y.label=2;case 2:return K={done:!1,value:Me[0]},[2,K]}})})},"next"),return:s(function(){return oe.detach(W),{done:!0}},"return"),throw:s(function(Me){return oe.detach(W),Promise.reject(Me)},"throw")}},C},S.prototype.$attach=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.attach.apply(this,u([],l(C),!1))},S.prototype.attach=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.__attachX(C,"attach")},S.prototype.$attachOnce=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.attachOnce.apply(this,u([],l(C),!1))},S.prototype.attachOnce=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.__attachX(C,"attachOnce")},S.prototype.$attachExtract=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.attachExtract.apply(this,u([],l(C),!1))},S.prototype.attachExtract=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.__attachX(C,"attachExtract")},S.prototype.$attachPrepend=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.attachPrepend.apply(this,u([],l(C),!1))},S.prototype.attachPrepend=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.__attachX(C,"attachPrepend")},S.prototype.$attachOncePrepend=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.attachOncePrepend.apply(this,u([],l(C),!1))},S.prototype.attachOncePrepend=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.__attachX(C,"attachOncePrepend")},S.prototype.$attachOnceExtract=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.attachOnceExtract.apply(this,u([],l(C),!1))},S.prototype.attachOnceExtract=function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];return this.__attachX(C,"attachOnceExtract")},S.prototype.__attachX=function(C,O){var B=(0,P.parsePropsFromArgs)(C,"attach*"),z=this.addHandler(B,S.propsFormMethodNames[O]);return B.timeout===void 0?this:z.promise},S.prototype.postAsyncOnceHandled=function(C){var O=this;if(this.isHandled(C))return this.post(C);var B=new X.Deferred;return this.evtAttach.attachOnce(function(z){var $=z.op;return O.isHandledByOp($,C)},function(){return Promise.resolve().then(function(){return B.resolve(O.post(C))})}),B.pr},S.prototype.postOrPostAndWait=function(C,O){var B=this;this.trace(C),(0,se.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var z=this.getChronologyMark(),$=l(this.postSync(C),2),W=$[0],oe=$[1],ne=O?function(){return oe}:function(){return B.postCount};if(W)return ne();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return ne();this.postAsync=this.postAsyncFactory()}return this.postAsync(C,z),ne()},S.prototype.post=function(C){return this.postOrPostAndWait(C,!1)},S.prototype.postAndWait=function(C){return this.postOrPostAndWait(C,!0)},S.create=m.create,S.newCtx=F.newCtx,S.merge=A.merge,S.from=M.from,S.getCtx=(0,w.getCtxFactory)(),S.loosenType=d.loosenType,S.factorize=_.factorize,S.asPostable=I.asPostable,S.asyncPipe=R.asyncPipe,S.asNonPostable=L.asNonPostable,S.__defaultMaxHandlers=25,S.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},S})();e.onAddHandlerByEvt=new f.Polyfill,e.Evt=p;try{(0,se.overwriteReadonlyProp)(e.Evt,"name","Evt")}catch{}v.importProxy.Evt=e.Evt})(Kr)),Kr}s(BM,"requireEvt");var $s={},Um={},jx;function CK(){return jx||(jx=1,Um.__esModule=!0,Object.is||(Object.is=function(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t})),Um}s(CK,"requireObject_is");var Ru={},Lx;function MK(){if(Lx)return Ru;Lx=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.LazyStatefulEvt=void 0;var e=wd(),t=rs(),r=(function(){function n(i){this.initialPostCount=0,this.initialState=i}return s(n,"LazyStatefulEvt"),Object.defineProperty(n.prototype,"evt",{get:s(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),n.prototype.__post=function(i,o){return this.__evt===void 0?(this.initialState=i,++this.initialPostCount):this.__evt[o?"postAndWait":"post"](i)},n.prototype.post=function(i){return this.__post(i,!1)},n.prototype.postAndWait=function(i){return this.__post(i,!0)},n})();return Ru.LazyStatefulEvt=r,Ru}s(MK,"requireLazyStatefulEvt");var Px;function IK(){return Px||(Px=1,(function(e){var t=$s&&$s.__extends||(function(){var v=s(function(m,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(_[M]=A[M])},v(m,w)},"extendStatics");return function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");v(m,w);function _(){this.constructor=m}s(_,"__"),m.prototype=w===null?Object.create(w):(_.prototype=w.prototype,new _)}})(),r=$s&&$s.__read||function(v,m){var w=typeof Symbol=="function"&&v[Symbol.iterator];if(!w)return v;var _=w.call(v),A,M=[],I;try{for(;(m===void 0||m-- >0)&&!(A=_.next()).done;)M.push(A.value)}catch(R){I={error:R}}finally{try{A&&!A.done&&(w=_.return)&&w.call(_)}finally{if(I)throw I.error}}return M},n=$s&&$s.__spreadArray||function(v,m,w){if(w||arguments.length===2)for(var _=0,A=m.length,M;_<A;_++)(M||!(_ in m))&&(M||(M=Array.prototype.slice.call(m,0,_)),M[_]=m[_]);return v.concat(M||Array.prototype.slice.call(m))};Object.defineProperty(e,"__esModule",{value:!0}),e.StatefulEvt=void 0,CK();var i=o4(),o=MK(),a=rs(),l=BM(),u=a4(),c=op(),h=s(function(v){return v()},"runSideEffect"),f=(function(v){t(m,v);function m(w){var _=v.call(this)||this;return _.lazyEvtDiff=new i.LazyEvt,_.lazyEvtChangeDiff=new i.LazyEvt,_.__state=w,_.lazyEvtChange=new o.LazyStatefulEvt(_.__state),l.onAddHandlerByEvt.set(_,function(A,M){if(!A.extract){var I=(0,c.id)(void 0),R=_.getInvocableOp(A.op)(_.__state,_.setOpResultForPipe!==void 0?(function(L){return I=L}):h);_.setOpResultForPipe!==void 0&&(_.setOpResultForPipe(R),I!==void 0&&I()),R&&M(R)}}),_}return s(m,"StatefulEvtImpl"),Object.defineProperty(m.prototype,"state",{get:s(function(){return this.__state},"get"),set:s(function(w){this.state!==w&&this.post(w)},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtDiff",{get:s(function(){return this.lazyEvtDiff.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtChange",{get:s(function(){return this.lazyEvtChange.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtChangeDiff",{get:s(function(){return this.lazyEvtChangeDiff.evt},"get"),enumerable:!1,configurable:!0}),m.prototype.post=function(w){return this.__post(w,!1,!1)},m.prototype.postForceChange=function(w){return this.__post(w?w[0]:this.state,!0,!1)},m.prototype.postAndWait=function(w){return this.__post(w,!1,!0)},m.prototype.__post=function(w,_,A){var M=this.state;this.__state=w;var I={prevState:M,newState:this.state},R=A?"postAndWait":"post",L=[],P=this.lazyEvtDiff[R](I);if(A&&L.push(P),_||!Object.is(M,this.state)){var F=this.lazyEvtChange[R](this.state),Z=this.lazyEvtChangeDiff[R](I);A&&L.push(F,Z)}var G=v.prototype[R].call(this,w);return A?(L.push(G),Promise.all(L).then(function(){})):G},m.prototype.pipe=function(){for(var w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];var A=void 0;this.setOpResultForPipe=function(I){return A=I};var M=v.prototype.pipe.apply(this,n([],r(w),!1));if((0,u.assert)(A!==void 0),this.setOpResultForPipe=void 0,!A)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return M.toStateful(A[0])},m.prototype.toStateless=function(w){var _=l.onAddHandlerByEvt.get(this);l.onAddHandlerByEvt.delete(this);var A=w?v.prototype.pipe.call(this,w):v.prototype.pipe.call(this);return l.onAddHandlerByEvt.set(this,_),A},m})(l.Evt);e.StatefulEvt=f,a.importProxy.StatefulEvt=e.StatefulEvt})($s)),$s}s(IK,"requireStatefulEvt");var Fm={},Dx;function OK(){return Dx||(Dx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.to=void 0;var t=new Map,r=s(function(n){var i;return(i=t.get(n))!==null&&i!==void 0?i:(t.set(n,function(o){return o[0]!==n?null:[o[1]]}),(0,e.to)(n))},"to");e.to=r})(Fm)),Fm}s(OK,"requireTo");var ju={},Bx;function RK(){if(Bx)return ju;Bx=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.throttleTime=void 0;var e=lp(),t=s(function(r){return(0,e.compose)([function(n,i){var o=i.lastClick,a=Date.now();return a-o<r?null:[{data:n,lastClick:a}]},{lastClick:0,data:null}],function(n){var i=n.data;return[i]})},"throttleTime$1");return ju.throttleTime=t,ju}s(RK,"requireThrottleTime");var Lu={},zx;function jK(){if(zx)return Lu;zx=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.nonNullable=void 0;var e=s(function(n){return n!=null},"isNonNullable"),t=s(function(n){return e(n)?[n]:null},"nonNullableImpl"),r=s(function(){return t},"nonNullable$1");return Lu.nonNullable=r,Lu}s(jK,"requireNonNullable");var Hs={},Ux;function LK(){if(Ux)return Hs;Ux=1;var e=Hs&&Hs.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var l=a.call(i),u,c=[],h;try{for(;(o===void 0||o-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(f){h={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(h)throw h.error}}return c},t=Hs&&Hs.__spreadArray||function(i,o,a){if(a||arguments.length===2)for(var l=0,u=o.length,c;l<u;l++)(c||!(l in o))&&(c||(c=Array.prototype.slice.call(o,0,l)),c[l]=o[l]);return i.concat(c||Array.prototype.slice.call(o))};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.distinct=void 0;var r=lp(),n=s(function(i,o){var a;return(0,r.compose)(function(l){var u,c;return[{data:l,selectedKey:(u=i?.(l))!==null&&u!==void 0?u:l,currentFlushCount:(c=o?.evtDoneOrAborted.postCount)!==null&&c!==void 0?c:0}]},[function(l,u){var c=l.data,h=l.selectedKey,f=l.currentFlushCount,v=u.alreadyPostedData,m=u.previousFlushCount;return[{boxedData:f!==m||!v.has(h)?[c]:null,alreadyPostedData:new Set(t(t([],e(f!==m?[]:Array.from(v)),!1),[h],!1)),previousFlushCount:f}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(a=o?.evtDoneOrAborted.postCount)!==null&&a!==void 0?a:0}],function(l){var u=l.boxedData;return u})},"distinct$1");return Hs.distinct=n,Hs}s(LK,"requireDistinct");var Fx;function PK(){return Fx||(Fx=1,(function(e){var t=to&&to.__createBinding||(Object.create?(function(h,f,v,m){m===void 0&&(m=v);var w=Object.getOwnPropertyDescriptor(f,v);(!w||("get"in w?!f.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:s(function(){return f[v]},"get")}),Object.defineProperty(h,m,w)}):(function(h,f,v,m){m===void 0&&(m=v),h[m]=f[v]})),r=to&&to.__exportStar||function(h,f){for(var v in h)v!=="default"&&!Object.prototype.hasOwnProperty.call(f,v)&&t(f,h,v)};Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=e.nonNullable=e.throttleTime=e.to=e.StatefulEvt=e.Evt=e.Ctx=void 0,r(cK(),e),r(dK(),e);var n=hK();Object.defineProperty(e,"Ctx",{enumerable:!0,get:s(function(){return n.Ctx},"get")});var i=BM();Object.defineProperty(e,"Evt",{enumerable:!0,get:s(function(){return i.Evt},"get")});var o=IK();Object.defineProperty(e,"StatefulEvt",{enumerable:!0,get:s(function(){return o.StatefulEvt},"get")});var a=OK();Object.defineProperty(e,"to",{enumerable:!0,get:s(function(){return a.to},"get")});var l=RK();Object.defineProperty(e,"throttleTime",{enumerable:!0,get:s(function(){return l.throttleTime},"get")});var u=jK();Object.defineProperty(e,"nonNullable",{enumerable:!0,get:s(function(){return u.nonNullable},"get")});var c=LK();Object.defineProperty(e,"distinct",{enumerable:!0,get:s(function(){return c.distinct},"get")})})(to)),to}s(PK,"requireLib");var Vs=PK();const As=Object.create(null);As.open="0";As.close="1";As.ping="2";As.pong="3";As.message="4";As.upgrade="5";As.noop="6";const Vf=Object.create(null);Object.keys(As).forEach(e=>{Vf[As[e]]=e});const kv={type:"error",data:"parser error"},zM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",UM=typeof ArrayBuffer=="function",FM=s(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,"isView$1"),l4=s(({type:e,data:t},r,n)=>zM&&t instanceof Blob?r?n(t):$x(t,n):UM&&(t instanceof ArrayBuffer||FM(t))?r?n(t):$x(new Blob([t]),n):n(As[e]+(t||"")),"encodePacket"),$x=s((e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)},"encodeBlobAsBase64");function Hx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}s(Hx,"toArray$1");let $m;function DK(e,t){if(zM&&e.data instanceof Blob)return e.data.arrayBuffer().then(Hx).then(t);if(UM&&(e.data instanceof ArrayBuffer||FM(e.data)))return t(Hx(e.data));l4(e,!1,r=>{$m||($m=new TextEncoder),t($m.encode(r))})}s(DK,"encodePacketToBinary");const Vx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Vx.length;e++)Xu[Vx.charCodeAt(e)]=e;const BK=s(e=>{let t=e.length*.75,r=e.length,n,i=0,o,a,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),h=new Uint8Array(c);for(n=0;n<r;n+=4)o=Xu[e.charCodeAt(n)],a=Xu[e.charCodeAt(n+1)],l=Xu[e.charCodeAt(n+2)],u=Xu[e.charCodeAt(n+3)],h[i++]=o<<2|a>>4,h[i++]=(a&15)<<4|l>>2,h[i++]=(l&3)<<6|u&63;return c},"decode$1"),zK=typeof ArrayBuffer=="function",u4=s((e,t)=>{if(typeof e!="string")return{type:"message",data:$M(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:UK(e.substring(1),t)}:Vf[r]?e.length>1?{type:Vf[r],data:e.substring(1)}:{type:Vf[r]}:kv},"decodePacket"),UK=s((e,t)=>{if(zK){const r=BK(e);return $M(r,t)}else return{base64:!0,data:e}},"decodeBase64Packet"),$M=s((e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},"mapBinary"),HM="",FK=s((e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((o,a)=>{l4(o,!1,l=>{n[a]=l,++i===r&&t(n.join(HM))})})},"encodePayload"),$K=s((e,t)=>{const r=e.split(HM),n=[];for(let i=0;i<r.length;i++){const o=u4(r[i],t);if(n.push(o),o.type==="error")break}return n},"decodePayload");function HK(){return new TransformStream({transform(e,t){DK(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}s(HK,"createPacketEncoderStream");let Hm;function of(e){return e.reduce((t,r)=>t+r.length,0)}s(of,"totalLength");function lf(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}s(lf,"concatChunks");function VK(e,t){Hm||(Hm=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,l){for(r.push(a);;){if(n===0){if(of(r)<1)break;const u=lf(r,1);o=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(of(r)<2)break;const u=lf(r,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(of(r)<8)break;const u=lf(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),h=c.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(kv);break}i=h*Math.pow(2,32)+c.getUint32(4),n=3}else{if(of(r)<i)break;const u=lf(r,i);l.enqueue(u4(o?u:Hm.decode(u),t)),n=0}if(i===0||i>e){l.enqueue(kv);break}}}})}s(VK,"createPacketDecoderStream");const VM=4;function ln(e){if(e)return GK(e)}s(ln,"Emitter");function GK(e){for(var t in ln.prototype)e[t]=ln.prototype[t];return e}s(GK,"mixin");ln.prototype.on=ln.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ln.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return s(r,"on"),r.fn=t,this.on(e,r),this};ln.prototype.off=ln.prototype.removeListener=ln.prototype.removeAllListeners=ln.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};ln.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};ln.prototype.emitReserved=ln.prototype.emit;ln.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ln.prototype.hasListeners=function(e){return!!this.listeners(e).length};const cp=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ZK="arraybuffer";function GM(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}s(GM,"pick");const JK=xi.setTimeout,WK=xi.clearTimeout;function dp(e,t){t.useNativeTimers?(e.setTimeoutFn=JK.bind(xi),e.clearTimeoutFn=WK.bind(xi)):(e.setTimeoutFn=xi.setTimeout.bind(xi),e.clearTimeoutFn=xi.clearTimeout.bind(xi))}s(dp,"installTimerFunctions");const QK=1.33;function XK(e){return typeof e=="string"?KK(e):Math.ceil((e.byteLength||e.size)*QK)}s(XK,"byteLength");function KK(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}s(KK,"utf8Length");function ZM(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}s(ZM,"randomString");function qK(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}s(qK,"encode");function YK(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}s(YK,"decode");class eq extends Error{static{s(this,"TransportError")}constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class c4 extends ln{static{s(this,"Transport")}constructor(t){super(),this.writable=!1,dp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new eq(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=u4(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=qK(t);return r.length?"?"+r:""}}class tq extends c4{static{s(this,"Polling")}constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=s(()=>{this.readyState="paused",t()},"pause");if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=s(n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)},"callback");$K(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=s(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,FK(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=ZM()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let JM=!1;try{JM=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const rq=JM;function nq(){}s(nq,"empty");class iq extends tq{static{s(this,"BaseXHR")}constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class _s extends ln{static{s(this,"Request")}constructor(t,r,n){super(),this.createRequest=t,dp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=GM(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=_s.requestsCount++,_s.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=nq,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _s.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}_s.requestsCount=0;_s.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gx);else if(typeof addEventListener=="function"){const e="onpagehide"in xi?"pagehide":"unload";addEventListener(e,Gx,!1)}}function Gx(){for(let e in _s.requests)_s.requests.hasOwnProperty(e)&&_s.requests[e].abort()}s(Gx,"unloadHandler");const sq=(function(){const e=WM({xdomain:!1});return e&&e.responseType!==null})();class aq extends iq{static{s(this,"XHR")}constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=sq&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new _s(WM,this.uri(),t)}}function WM(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||rq))return new XMLHttpRequest}catch{}if(!t)try{return new xi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}s(WM,"newRequest");const QM=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class oq extends c4{static{s(this,"BaseWS")}get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=QM?{}:GM(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;l4(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&cp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=ZM()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Vm=xi.WebSocket||xi.MozWebSocket;class lq extends oq{static{s(this,"WS")}createSocket(t,r,n){return QM?new Vm(t,r,n):r?new Vm(t,r):new Vm(t)}doWrite(t,r){this.ws.send(r)}}class uq extends c4{static{s(this,"WT")}get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=VK(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=HK();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=s(()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),o())}).catch(l=>{})},"read");o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&cp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const cq={websocket:lq,webtransport:uq,polling:aq},dq=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fq=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Tv(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=dq.exec(e||""),o={},a=14;for(;a--;)o[fq[a]]=i[a]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=hq(o,o.path),o.queryKey=pq(o,o.query),o}s(Tv,"parse");function hq(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}s(hq,"pathNames");function pq(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}s(pq,"queryKey");const Av=typeof addEventListener=="function"&&typeof removeEventListener=="function",Gf=[];Av&&addEventListener("offline",()=>{Gf.forEach(e=>e())},!1);class ja extends ln{static{s(this,"SocketWithoutUpgrade")}constructor(t,r){if(super(),this.binaryType=ZK,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Tv(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Tv(r.host).host);dp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=YK(this.opts.query)),Av&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=VM,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ja.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ja.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=XK(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,cp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=s(()=>{this._onClose("forced close"),this.transport.close()},"close"),r=s(()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},"cleanupAndClose"),n=s(()=>{this.once("upgrade",r),this.once("upgradeError",r)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ja.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Av&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Gf.indexOf(this._offlineEventListener);n!==-1&&Gf.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}ja.protocol=VM;class mq extends ja{static{s(this,"SocketWithUpgrade")}constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;ja.priorWebsocketSuccess=!1;const i=s(()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ja.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=r.name,this.emitReserved("upgradeError",v)}}))},"onTransportOpen");function o(){n||(n=!0,h(),r.close(),r=null)}s(o,"freezeTransport");const a=s(f=>{const v=new Error("probe error: "+f);v.transport=r.name,o(),this.emitReserved("upgradeError",v)},"onerror");function l(){a("transport closed")}s(l,"onTransportClose");function u(){a("socket closed")}s(u,"onclose");function c(f){r&&f.name!==r.name&&o()}s(c,"onupgrade");const h=s(()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",l),this.off("close",u),this.off("upgrading",c)},"cleanup");r.once("open",i),r.once("error",a),r.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let gq=class extends mq{static{s(this,"Socket")}constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>cq[i]).filter(i=>!!i)),super(t,n)}};function vq(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Tv(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}s(vq,"url");const bq=typeof ArrayBuffer=="function",yq=s(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,"isView"),XM=Object.prototype.toString,wq=typeof Blob=="function"||typeof Blob<"u"&&XM.call(Blob)==="[object BlobConstructor]",xq=typeof File=="function"||typeof File<"u"&&XM.call(File)==="[object FileConstructor]";function d4(e){return bq&&(e instanceof ArrayBuffer||yq(e))||wq&&e instanceof Blob||xq&&e instanceof File}s(d4,"isBinary");function Zf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Zf(e[r]))return!0;return!1}if(d4(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Zf(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Zf(e[r]))return!0;return!1}s(Zf,"hasBinary");function _q(e){const t=[],r=e.data,n=e;return n.data=Nv(r,t),n.attachments=t.length,{packet:n,buffers:t}}s(_q,"deconstructPacket");function Nv(e,t){if(!e)return e;if(d4(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Nv(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Nv(e[n],t));return r}return e}s(Nv,"_deconstructPacket");function Eq(e,t){return e.data=Cv(e.data,t),delete e.attachments,e}s(Eq,"reconstructPacket");function Cv(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Cv(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Cv(e[r],t));return e}s(Cv,"_reconstructPacket");const Sq=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],kq=5;var cr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(cr||(cr={}));class Tq{static{s(this,"Encoder")}constructor(t){this.replacer=t}encode(t){return(t.type===cr.EVENT||t.type===cr.ACK)&&Zf(t)?this.encodeAsBinary({type:t.type===cr.EVENT?cr.BINARY_EVENT:cr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===cr.BINARY_EVENT||t.type===cr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=_q(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Zx(e){return Object.prototype.toString.call(e)==="[object Object]"}s(Zx,"isObject");class f4 extends ln{static{s(this,"Decoder")}constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===cr.BINARY_EVENT;n||r.type===cr.BINARY_ACK?(r.type=n?cr.EVENT:cr.ACK,this.reconstructor=new Aq(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(d4(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(cr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===cr.BINARY_EVENT||n.type===cr.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(o,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(o,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(f4.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case cr.CONNECT:return Zx(r);case cr.DISCONNECT:return r===void 0;case cr.CONNECT_ERROR:return typeof r=="string"||Zx(r);case cr.EVENT:case cr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Sq.indexOf(r[0])===-1);case cr.ACK:case cr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Aq{static{s(this,"BinaryReconstructor")}constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Eq(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Nq=Object.freeze(Object.defineProperty({__proto__:null,Decoder:f4,Encoder:Tq,get PacketType(){return cr},protocol:kq},Symbol.toStringTag,{value:"Module"}));function zi(e,t,r){return e.on(t,r),s(function(){e.off(t,r)},"subDestroy")}s(zi,"on");const Cq=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class KM extends ln{static{s(this,"Socket")}constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[zi(t,"open",this.onopen.bind(this)),zi(t,"packet",this.onpacket.bind(this)),zi(t,"error",this.onerror.bind(this)),zi(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,o;if(Cq.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:cr.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,f=r.pop();this._registerAckCallback(h,f),a.id=h}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),a=s((...l)=>{this.io.clearTimeoutFn(o),r.apply(this,l)},"fn");a.withError=!0,this.acks[t]=a}emitWithAck(t,...r){return new Promise((n,i)=>{const o=s((a,l)=>a?i(a):n(l),"fn");o.withError=!0,r.push(o),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:cr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case cr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case cr.EVENT:case cr.BINARY_EVENT:this.onevent(t);break;case cr.ACK:case cr.BINARY_ACK:this.onack(t);break;case cr.DISCONNECT:this.ondisconnect();break;case cr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:cr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:cr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function ql(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}s(ql,"Backoff");ql.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};ql.prototype.reset=function(){this.attempts=0};ql.prototype.setMin=function(e){this.ms=e};ql.prototype.setMax=function(e){this.max=e};ql.prototype.setJitter=function(e){this.jitter=e};class Mv extends ln{static{s(this,"Manager")}constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,dp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ql({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||Nq;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gq(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=zi(r,"open",function(){n.onopen(),t&&t()}),o=s(l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},"onError"),a=zi(r,"error",o);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(zi(t,"ping",this.onping.bind(this)),zi(t,"data",this.ondata.bind(this)),zi(t,"error",this.onerror.bind(this)),zi(t,"close",this.onclose.bind(this)),zi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){cp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new KM(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Pu={};function Jf(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=vq(e,t.path||"/socket.io"),n=r.source,i=r.id,o=r.path,a=Pu[i]&&o in Pu[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let u;return l?u=new Mv(n,t):(Pu[i]||(Pu[i]=new Mv(n,t)),u=Pu[i]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}s(Jf,"lookup");Object.assign(Jf,{Manager:Mv,Socket:KM,io:Jf,connect:Jf});class Mq{static{s(this,"EventAdapter")}events={};constructor(){this.events.messageBroadcast=Vs.Evt.create(),this.events.messageComplete=Vs.Evt.create(),this.events.controlMessage=Vs.Evt.create(),this.events.messageDeleted=Vs.Evt.create(),this.events.channelCleared=Vs.Evt.create(),this.events.channelDeleted=Vs.Evt.create(),this.events.logStream=Vs.Evt.create()}on(t,r){return this.events[t]||(this.events[t]=Vs.Evt.create()),this.events[t].attach(r),this}off(t,r){if(this.events[t]){const n=this.events[t].getHandlers();for(const i of n)i.callback===r&&i.detach()}return this}emit(t,...r){return this.events[t]&&this.events[t].post(r.length===1?r[0]:r),this}once(t,r){return this.events[t]||(this.events[t]=Vs.Evt.create()),this.events[t].attachOnce(r),this}listenerCount(t){return this.events[t]?this.events[t].getHandlers().length:0}_getEvt(t){return this.events[t]}}class Ti extends Mq{static{s(this,"SocketIOManager")}static instance=null;socket=null;isConnected=!1;connectPromise=null;resolveConnect=null;activeChannelIds=new Set;clientEntityId=null;logStreamSubscribed=!1;get evtMessageBroadcast(){return this._getEvt("messageBroadcast")}get evtMessageComplete(){return this._getEvt("messageComplete")}get evtControlMessage(){return this._getEvt("controlMessage")}get evtMessageDeleted(){return this._getEvt("messageDeleted")}get evtChannelCleared(){return this._getEvt("channelCleared")}get evtChannelDeleted(){return this._getEvt("channelDeleted")}get evtLogStream(){return this._getEvt("logStream")}constructor(){super()}static getInstance(){return Ti.instance||(Ti.instance=new Ti),Ti.instance}static isConnected(){return Ti.instance?.isConnected||!1}isChannelActive(t){return this.activeChannelIds.has(t)}initialize(t){if(this.clientEntityId=t,this.socket){Ye.debug("[SocketIO] Socket already initialized");return}const r=window.location.origin+"/";Ye.info("connecting to",r),this.socket=Jf(r,{autoConnect:!0,reconnection:!0}),this.connectPromise=new Promise(n=>{this.resolveConnect=n}),this.socket.on("connect",()=>{Ye.info("[SocketIO] Connected to server"),this.isConnected=!0,this.resolveConnect?.(),this.emit("connect")}),this.socket.on("unauthorized",n=>{this.emit("unauthorized",n)}),this.socket.on("messageBroadcast",n=>{const i=typeof n=="string"?(()=>{try{return JSON.parse(n)}catch{return Ye.warn("[SocketIO] Failed to parse string messageBroadcast payload:",n),{}}})():n;Ye.info("[SocketIO] Message broadcast received:",i);const o=i&&typeof i=="object",a=o?Object.keys(i):[];Ye.debug("[SocketIO] Message broadcast data structure:",{keys:a,senderId:i.senderId,senderNameType:typeof i.senderName,textType:typeof i.text,textLength:i.text?i.text.length:0,hasThought:o&&"thought"in i,hasActions:o&&"actions"in i,additionalKeys:a.filter(u=>!["senderId","senderName","text","roomId","createdAt","source","thought","actions"].includes(u))});const l=i.channelId||i.roomId;l&&this.activeChannelIds.has(l)?(Ye.info(`[SocketIO] Handling message for active channel ${l}`),this.emit("messageBroadcast",{...i,channelId:l,roomId:l,name:i.senderName})):Ye.warn(`[SocketIO] Received message for inactive channel ${l}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageComplete",n=>{this.emit("messageComplete",n)}),this.socket.on("controlMessage",n=>{Ye.info("[SocketIO] Control message received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(Ye.info(`[SocketIO] Handling control message for active channel ${i}`),this.emit("controlMessage",{...n,channelId:i,roomId:i})):Ye.warn(`[SocketIO] Received control message for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageDeleted",n=>{Ye.debug("[SocketIO] Message deleted event received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(Ye.info(`[SocketIO] Handling message deletion for active channel ${i}`),this.emit("messageDeleted",{...n,channelId:i,roomId:i})):Ye.warn(`[SocketIO] Received message deleted event for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelCleared",n=>{Ye.info("[SocketIO] Channel cleared event received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(Ye.info(`[SocketIO] Handling channel cleared for active channel ${i}`),this.emit("channelCleared",{...n,channelId:i,roomId:i})):Ye.warn(`[SocketIO] Received channel cleared event for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelDeleted",n=>{Ye.info("[SocketIO] Channel deleted event received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(Ye.info(`[SocketIO] Handling channel deleted for active channel ${i}`),this.emit("channelDeleted",{...n,channelId:i,roomId:i})):Ye.warn(`[SocketIO] Received channel deleted event for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("disconnect",n=>{Ye.info(`[SocketIO] Disconnected. Reason: ${n}`),this.isConnected=!1,this.emit("disconnect",n),this.connectPromise=new Promise(i=>{this.resolveConnect=i}),n==="io server disconnect"&&this.socket?.connect()}),this.socket.on("reconnect_attempt",n=>{Ye.info("[SocketIO] Reconnect attempt",n),this.emit("reconnect_attempt",n)}),this.socket.on("reconnect",n=>{Ye.info(`[SocketIO] Reconnected after ${n} attempts`),this.emit("reconnect",n)}),this.socket.on("connect_error",n=>{Ye.error("[SocketIO] Connection error:",n),this.emit("connect_error",n)}),this.socket.on("log_stream",n=>{Ye.debug("[SocketIO] Log stream data received:",n),n.type==="log_entry"&&n.payload&&this.emit("logStream",n.payload)}),this.socket.on("log_subscription_confirmed",n=>{Ye.info("[SocketIO] Log subscription confirmed:",n),this.logStreamSubscribed=n.subscribed})}async joinChannel(t){if(!this.socket){Ye.error("[SocketIO] Cannot join channel: socket not initialized");return}this.isConnected||await this.connectPromise,Ye.info(`[SocketIO] joinChannel: Attempting to join ${t}. Current activeChannelIds before add:`,new Set(this.activeChannelIds)),this.activeChannelIds.add(t),Ye.info(`[SocketIO] joinChannel: Joined ${t}. Current activeChannelIds after add:`,new Set(this.activeChannelIds)),this.socket.emit("message",{type:tv.ROOM_JOINING,payload:{channelId:t,roomId:t,entityId:this.clientEntityId}}),Ye.info(`[SocketIO] Emitted ROOM_JOINING for ${t}`)}async joinRoom(t){return this.joinChannel(t)}leaveChannel(t){if(!this.socket||!this.isConnected){Ye.warn(`[SocketIO] Cannot leave channel ${t}: not connected`);return}Ye.info(`[SocketIO] leaveChannel: Attempting to leave ${t}. Current activeChannelIds before delete:`,new Set(this.activeChannelIds)),this.activeChannelIds.delete(t),Ye.info(`[SocketIO] leaveChannel: Left ${t}. Current activeChannelIds after delete:`,new Set(this.activeChannelIds))}leaveRoom(t){return this.leaveChannel(t)}async sendMessage(t,r,n,i,o,a,l){if(!this.socket){Ye.error("[SocketIO] Cannot send message: socket not initialized");return}this.isConnected||await this.connectPromise;const u=a||ta();Ye.info(`[SocketIO] Sending message to central channel ${r} on server ${n}`),this.socket.emit("message",{type:tv.SEND_MESSAGE,payload:{senderId:this.clientEntityId,senderName:wl,message:t,channelId:r,roomId:r,serverId:n,messageId:u,source:i,attachments:o,metadata:l}})}async subscribeToLogStream(){if(!this.socket){Ye.error("[SocketIO] Cannot subscribe to logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("subscribe_logs"),Ye.info("[SocketIO] Subscribed to log stream")}async unsubscribeFromLogStream(){if(!this.socket){Ye.error("[SocketIO] Cannot unsubscribe from logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("unsubscribe_logs"),Ye.info("[SocketIO] Unsubscribed from log stream")}async updateLogStreamFilters(t){if(!this.socket){Ye.error("[SocketIO] Cannot update log filters: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("update_log_filters",t),Ye.info("[SocketIO] Updated log stream filters:",t)}isLogStreamSubscribed(){return this.logStreamSubscribed}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.activeChannelIds.clear(),this.logStreamSubscribed=!1,Ye.info("[SocketIO] Disconnected from server"))}}const Ea={setUnauthorized:s(e=>{console.warn("setUnauthorized called before ConnectionContext is ready",e)},"setUnauthorized"),setOfflineStatus:s(e=>{console.warn("setOfflineStatus called before ConnectionContext is ready",e)},"setOfflineStatus")},qM=H.createContext(void 0),Iq=s(({children:e})=>{const{toast:t}=Mr(),[r,n]=H.useState("loading"),[i,o]=H.useState(null),a=H.useRef(!0),l=Ti.getInstance(),u=H.useCallback(f=>{n("unauthorized"),o(f),t({title:"Authorization Required",description:f||"Please provide a valid API Key.",variant:"destructive"})},[t]),c=H.useCallback(f=>{f?r!=="error"&&r!=="unauthorized"&&(n("error"),o("Network connection appears to be offline."),t({title:"Network Offline",description:"Please check your internet connection.",variant:"destructive"})):r==="error"&&i?.includes("offline")},[r,i,t]),h=H.useCallback(f=>{try{f!==void 0&&$X(f),console.log("API client refreshed with new configuration")}catch(v){console.error("Failed to refresh API client:",v)}},[]);return H.useEffect(()=>{Ea.setUnauthorized=u,Ea.setOfflineStatus=c},[u,c]),H.useEffect(()=>{const f=s(()=>{n("connected"),o(null),Ea.setOfflineStatus&&Ea.setOfflineStatus(!1),a.current?a.current=!1:t({title:"Connection Restored",description:"Successfully reconnected to the Eliza server."})},"onConnect"),v=s(A=>{n("error"),o(`Connection lost: ${A}`),Ea.setOfflineStatus&&Ea.setOfflineStatus(!0),t({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server",variant:"destructive"})},"onDisconnect"),m=s(()=>{n("reconnecting"),o("Reconnecting...")},"onReconnectAttempt"),w=s(A=>{n("error"),o(A.message),Ea.setOfflineStatus&&Ea.setOfflineStatus(!0)},"onConnectError"),_=s(A=>{n("unauthorized"),o(`Unauthorized: ${A}`),t({title:"Unauthorized",description:"Please log in again.",variant:"destructive"})},"onUnauthorized");return l.on("connect",f),l.on("disconnect",v),l.on("reconnect",f),l.on("reconnect_attempt",m),l.on("connect_error",w),l.on("unauthorized",_),Ti.isConnected()&&f(),()=>{l.off("connect",f),l.off("disconnect",v),l.off("reconnect",f),l.off("reconnect_attempt",m),l.off("connect_error",w),l.off("unauthorized",_)}},[t,l,c]),b.jsx(qM.Provider,{value:{status:r,error:i,setUnauthorizedFromApi:u,setOfflineStatusFromProvider:c,refreshApiClient:h},children:e})},"ConnectionProvider"),h4=s(()=>{const e=H.useContext(qM);if(!e)throw new Error("useConnection must be inside ConnectionProvider");return e},"useConnection");function Oq(){const{toast:e}=Mr(),[t,r]=H.useState(null),{openApiKeyDialog:n}=sK(),{status:i,error:o}=h4(),a=i==="loading",l=i==="connected",u=i==="error",c=i==="unauthorized",h=u||c;H.useEffect(()=>{(t==="error"||t==="unauthorized"||t==="disconnected")&&l?e({title:"Connection Restored",description:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(QE,{className:"h-4 w-4 text-green-500"}),b.jsx("span",{children:"Successfully reconnected to the Eliza server."})]})}):t==="connected"&&(u||c)&&e({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server...",variant:"destructive"}),r(i)},[i,t,l,u,c,e]),H.useEffect(()=>{c&&t!=="unauthorized"&&n()},[c,t,n]);const f=s(()=>c?"bg-yellow-500":a?"bg-muted-foreground":l?"bg-green-600":"bg-red-600","getStatusColor"),v=s(()=>c?"Unauthorized":a?"Connecting...":l?"Connected":"Disconnected","getStatusText"),m=s(()=>c?"text-yellow-500":a?"text-muted-foreground":l?"text-green-600":"text-red-600","getTextColor"),w=s(()=>o?c?"Unauthorized: Invalid or missing API Key. Check client configuration or server logs.":o.includes("NetworkError")||o.includes("Failed to fetch")?"Cannot reach server":o.includes("ECONNREFUSED")?"Connection refused":o.includes("timeout")?"Connection timeout":o.includes("404")||o.includes("not found")||o.includes("API endpoint not found")?"Endpoint not found":o:"Connection failed","getErrorMessage");return b.jsx(Xi,{"data-testid":"connection-status",children:b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(Oo,{className:"rounded",children:b.jsx("div",{className:"flex flex-col gap-1 select-none",children:b.jsxs("div",{className:"flex items-center gap-1",children:[h||c?b.jsx(Ni,{className:Fe("h-3.5 w-3.5",c?"text-yellow-500":"text-red-600")}):b.jsx("div",{className:Fe(["h-2.5 w-2.5 rounded-full",f()])}),b.jsx("span",{className:Fe("text-xs",m()),children:v()})]})})})}),h&&b.jsx(Wr,{side:"top",align:"center",className:"max-w-xs",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("div",{className:Fe("font-semibold",c?"text-yellow-500":"text-red-500"),children:w()}),b.jsx("p",{className:"text-xs",children:"Please ensure the Eliza server is running and accessible."}),!c&&b.jsx("p",{className:"text-xs",children:"Try refreshing the connection or check server logs."}),c&&b.jsx("p",{className:"text-xs",children:"Check the X-API-KEY configured in your client or the ELIZA_SERVER_AUTH_TOKEN on the server."})]})})]})})}s(Oq,"ConnectionStatus");const $a=H.forwardRef(({className:e,...t},r)=>b.jsx(XE,{ref:r,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-md",e),"data-testid":t["data-testid"]||"avatar",...t}));$a.displayName=XE.displayName;const Uo=H.forwardRef(({className:e,...t},r)=>b.jsx(KE,{ref:r,className:Fe("aspect-square h-full w-full object-cover",e),"data-testid":t["data-testid"]||"avatar-image",...t}));Uo.displayName=KE.displayName;const fp=H.forwardRef(({className:e,...t},r)=>b.jsx(qE,{ref:r,className:Fe("flex h-full w-full items-center justify-center rounded-md bg-muted",e),"data-testid":t["data-testid"]||"avatar-fallback",...t}));fp.displayName=qE.displayName;function Ko(){const[e,t]=H.useState({open:!1,options:null,onConfirm:null}),r=H.useCallback((o,a)=>{t({open:!0,options:o,onConfirm:a})},[]),n=H.useCallback(o=>{o||t({open:!1,options:null,onConfirm:null})},[]),i=H.useCallback(()=>{e.onConfirm&&e.onConfirm(),n(!1)},[e.onConfirm,n]);return{confirm:r,isOpen:e.open,onOpenChange:n,onConfirm:i,options:e.options}}s(Ko,"useConfirmation");function Rq(e){switch(e){case"active":return on.ACTIVE;case"inactive":case"stopped":return on.INACTIVE;default:return on.INACTIVE}}s(Rq,"mapApiStatusToEnum");function YM(e){return{...e,id:e.id,status:Rq(e.status),createdAt:e.createdAt instanceof Date?e.createdAt.getTime():new Date(e.createdAt).getTime(),updatedAt:e.updatedAt instanceof Date?e.updatedAt.getTime():new Date(e.updatedAt).getTime()}}s(YM,"mapApiAgentToClient");function Rh(e){return e instanceof Date?e.getTime():typeof e=="string"?new Date(e).getTime():e}s(Rh,"apiDateToTimestamp");function jh(e){return e instanceof Date?e.toISOString():e}s(jh,"apiDateToString");function p4(e){return{...e,id:e.id,messageServerId:e.messageServerId,type:e.type,createdAt:jh(e.createdAt),updatedAt:jh(e.updatedAt)}}s(p4,"mapApiChannelToClient");function jq(e){return{...e,id:e.id,createdAt:jh(e.createdAt),updatedAt:jh(e.updatedAt)}}s(jq,"mapApiServerToClient");function Lq(e){return e.map(jq)}s(Lq,"mapApiServersToClient");function Pq(e){return e.map(p4)}s(Pq,"mapApiChannelsToClient");function Dq(e,t){const r=e.metadata?.attachments?.map(o=>({id:o.id||crypto.randomUUID(),url:o.url,title:o.title||o.name,source:o.source,description:o.description,text:o.text,contentType:o.contentType||o.type}))||void 0,n=e.sourceType,i=e.rawMessage;return{id:e.id,text:e.content,name:e.metadata?.authorDisplayName||e.metadata?.agentName||"Unknown",senderId:e.authorId,isAgent:!!e.metadata?.isAgent||!1,createdAt:Rh(e.createdAt),channelId:e.channelId,serverId:t||e.metadata?.serverId,prompt:e.metadata?.prompt,attachments:r,thought:e.metadata?.thought,actions:e.metadata?.actions,type:n,rawMessage:i}}s(Dq,"mapApiMessageToUi");function Bq(e){return{id:e.id,type:e?.type||e.body?.modelType,timestamp:e.timestamp?Rh(e.timestamp):void 0,message:e.message,details:e.details,roomId:e.roomId,body:e.body,createdAt:e.createdAt?Rh(e.createdAt):void 0}}s(Bq,"mapApiLogToClient");function zq(e){const t=e.entityId||e.metadata?.entityId||e.metadata?.userId||e.agentId;return{id:e.id,entityId:t,agentId:e.agentId,content:e.content,embedding:e.embedding,roomId:e.roomId,createdAt:Rh(e.createdAt),unique:e.metadata?.unique}}s(zq,"mapApiMemoryToClient");const un=Nr(),Er={FREQUENT:3e4,STANDARD:12e4,RARE:6e5,NEVER:Number.POSITIVE_INFINITY},va=s(()=>{const e=typeof navigator<"u"&&"connection"in navigator?navigator.connection:null;return{isOffline:typeof navigator<"u"&&!navigator.onLine,effectiveType:e?.effectiveType||"unknown",saveData:e?.saveData||!1}},"useNetworkStatus");function m4(e={}){const t=va();return Cn({queryKey:["agents"],queryFn:s(async()=>({data:{agents:(await un.agents.listAgents()).agents.map(i=>YM(i))}}),"queryFn"),staleTime:Er.FREQUENT,refetchInterval:t.isOffline?!1:Er.FREQUENT,refetchIntervalInBackground:!1,...!t.isOffline&&t.effectiveType==="slow-2g"&&{refetchInterval:Er.STANDARD},...e})}s(m4,"useAgents");function xd(e,t={}){const r=va();return Cn({queryKey:["agent",e],queryFn:s(async()=>{if(!e)throw new Error("Agent ID is required");const n=await un.agents.getAgent(e);return{data:YM(n)}},"queryFn"),staleTime:Er.FREQUENT,enabled:!!e,refetchInterval:!r.isOffline&&e?Er.FREQUENT:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:Er.STANDARD},...t})}s(xd,"useAgent");function Uq(e,t,r={}){const n=va(),i=void 0;return Cn({queryKey:["agent",e,"runs","default"],queryFn:s(async()=>{if(!e)throw new Error("Agent ID is required");return un.runs.listRuns(e,i)},"queryFn"),enabled:!!e,staleTime:Er.FREQUENT,refetchInterval:!n.isOffline&&e?Er.FREQUENT:!1,refetchIntervalInBackground:!1,...!n.isOffline&&n.effectiveType==="slow-2g"&&{refetchInterval:Er.STANDARD},...r})}s(Uq,"useAgentRuns");function Fq(){const e=En(),{toast:t}=Mr();return ci({mutationFn:s(async r=>{try{const n=await un.agents.startAgent(r);return{data:{id:r,name:"Agent",status:n.status}}}catch(n){throw n instanceof Error&&n.message.includes("already running")?new Error("Agent is already running."):n}},"mutationFn"),onMutate:s(async r=>(t({title:"Starting Agent",description:"Initializing agent..."}),{}),"onMutate"),onSuccess:s((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Agent Started",description:`${r?.data?.name||"Agent"} is now running`})},"onSuccess"),onError:s(r=>{const n=r instanceof Error?r.message:"Failed to start agent";t({title:"Error Starting Agent",description:`${n}. Please try again.`,variant:"destructive"})},"onError")})}s(Fq,"useStartAgent");function $q(){const e=En(),{toast:t}=Mr();return ci({mutationFn:s(async r=>({data:{message:`Agent ${(await un.agents.stopAgent(r)).status}`}}),"mutationFn"),onMutate:s(async r=>{const n=e.getQueryData(["agent",r]);n&&t({title:"Stopping Agent",description:`Stopping ${n.name}...`})},"onMutate"),onSuccess:s((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Agent Stopped",description:r?.data?.message||"The agent has been successfully stopped"})},"onSuccess"),onError:s((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Error",description:r instanceof Error?r.message:"Failed to stop agent",variant:"destructive"})},"onError")})}s($q,"useStopAgent");function Jx(e,t){const r=Io(),[n,i]=H.useState([]),[o,a]=H.useState(null),[l,u]=H.useState(!0),[c,h]=H.useState(!0),[f,v]=H.useState(!1),[m,w]=H.useState(null),[_,A]=H.useState(!1),M=H.useCallback((G,se)=>{const U=G.authorId!==r;let X=Date.now();if(typeof G.createdAt=="number")X=G.createdAt;else if(typeof G.createdAt=="string"){const d=Date.parse(G.createdAt);isNaN(d)?Ye.warn("[transformServerMessageToUiMessage] createdAt string was not directly parsable by Date.parse():",G.createdAt,"for message id:",G.id):X=d}else if(G.createdAt)try{const d=new Date(G.createdAt).getTime();isNaN(d)||(X=d)}catch{Ye.warn("[transformServerMessageToUiMessage] Could not process createdAt (unknown type):",G.createdAt,"for message:",G.id)}return{id:G.id,text:G.content,name:U?G.metadata?.agentName||G.metadata?.authorDisplayName||G.authorDisplayName||"Agent":wl,senderId:G.authorId,isAgent:U,createdAt:X,attachments:G.metadata?.attachments,thought:U?G.metadata?.thought:void 0,actions:U?G.metadata?.actions:void 0,channelId:G.channelId,serverId:se||G.metadata?.serverId||G.serverId||t,source:G.sourceType,isLoading:!1,prompt:U?G.metadata?.prompt:void 0}},[r,t]),I=H.useCallback(async G=>{if(!e){i([]),h(!1);return}G?A(!0):h(!0),v(!1),w(null);try{const U=(await un.messaging.getChannelMessages(e,{limit:30,before:G?new Date(G).toISOString():void 0})).messages.map(X=>Dq(X,t||X.metadata?.serverId));if(i(X=>{const d=G?[...U,...X]:U;return Array.from(new Map(d.map(g=>[g.id,g])).values()).sort((g,x)=>g.createdAt-x.createdAt)}),U.length>0){const X=Math.min(...U.map(d=>d.createdAt));(!G||X<(o||1/0))&&a(X)}u(U.length>=30)}catch(se){v(!0),w(se),Ye.error(`Failed to fetch messages for channel ${e}:`,se)}finally{h(!1),A(!1)}},[e,M,t]);H.useEffect(()=>{e?(Ye.info(`[useChannelMessages] ChannelId changed or became available: ${e}. Clearing messages and fetching initial set.`),i([]),a(null),u(!0),I()):(Ye.info("[useChannelMessages] ChannelId is undefined. Clearing messages."),i([]),a(null),u(!0),h(!1))},[e,I]);const R=s(async()=>{l&&!_&&o&&await I(o-1)},"fetchNextPage"),L=H.useCallback(G=>{i(se=>{const U=se.findIndex(X=>X.id===G.id);if(U>=0){const X=[...se];return X[U]=G,X.sort((d,y)=>d.createdAt-y.createdAt)}else return[...se,G].sort((X,d)=>X.createdAt-d.createdAt)})},[]),P=H.useCallback((G,se)=>{i(U=>U.map(X=>X.id===G?{...X,...se}:X))},[]),F=H.useCallback(G=>{i(se=>se.filter(U=>U.id!==G))},[]),Z=H.useCallback(()=>{i([]),a(null),u(!0)},[]);return{data:n,isLoading:c&&n.length===0,isError:f,error:m,fetchNextPage:R,hasNextPage:l,isFetchingNextPage:_,addMessage:L,updateMessage:P,removeMessage:F,clearMessages:Z}}s(Jx,"useChannelMessages");function Hq(e,t,r){return Cn({queryKey:["agentActions",e,t,r],queryFn:s(async()=>{const n=await un.agents.getAgentLogs(e,{limit:50});return n?n.map(Bq):[]},"queryFn"),refetchInterval:1e3,staleTime:1e3})}s(Hq,"useAgentActions");function Vq(){const e=En(),{toast:t}=Mr();return ci({mutationFn:s(async({agentId:r,logId:n})=>(await un.agents.deleteAgentLog(r,n),{agentId:r,logId:n}),"mutationFn"),onMutate:s(async({agentId:r,logId:n})=>{const i=e.getQueryData(["agentActions",r]);return i&&e.setQueryData(["agentActions",r],o=>o.filter(a=>a.id!==n)),{previousLogs:i,agentId:r,logId:n}},"onMutate"),onSuccess:s((r,{agentId:n})=>{e.invalidateQueries({queryKey:["agentActions",n]}),t({title:"Log Deleted",description:"The log entry has been successfully removed"})},"onSuccess"),onError:s((r,{agentId:n},i)=>{i?.previousLogs&&e.setQueryData(["agentActions",n],i.previousLogs),t({title:"Error",description:r instanceof Error?r.message:"Failed to delete log",variant:"destructive"}),e.invalidateQueries({queryKey:["agentActions",n]})},"onError")})}s(Vq,"useDeleteLog");function Wx(e,t,r,n=!1){return Cn({queryKey:r?["agents",e,"channels",r,"memories",t,n]:["agents",e,"memories",t,n],queryFn:s(async()=>{const o={tableName:t,includeEmbedding:n},a=r?await un.memory.getRoomMemories(e,r,o):await un.memory.getAgentMemories(e,o);return console.log("Agent memories result:",{agentId:e,tableName:t,includeEmbedding:n,channelId:r,result:a,dataLength:a.memories?.length,firstMemory:a.memories?.[0],hasEmbeddings:(a.memories||[]).some(u=>u.embedding?.length>0)}),(a.memories||[]).map(zq)},"queryFn"),enabled:!!(e&&t),staleTime:1e3,refetchInterval:10*1e3})}s(Wx,"useAgentMemories");function Gq(){const e=En();return ci({mutationFn:s(async({agentId:t,memoryId:r})=>(await un.memory.deleteMemory(t,r),{agentId:t,memoryId:r}),"mutationFn"),onSuccess:s(t=>{e.invalidateQueries({queryKey:["agents",t.agentId,"memories"]}),e.invalidateQueries({queryKey:["agents",t.agentId,"rooms"],predicate:s(r=>r.queryKey.length>3&&r.queryKey[4]==="memories","predicate")})},"onSuccess")})}s(Gq,"useDeleteMemory");function Zq(){const e=En(),{toast:t}=Mr();return ci({mutationFn:s(async({agentId:r,memoryId:n,memoryData:i})=>{const o=await un.memory.updateMemory(r,n,i);return{agentId:r,memoryId:n,result:o}},"mutationFn"),onSuccess:s(r=>{e.invalidateQueries({queryKey:["agents",r.agentId,"memories"]}),r.result?.roomId?e.invalidateQueries({queryKey:["agents",r.agentId,"rooms",r.result.roomId,"memories"]}):e.invalidateQueries({queryKey:["agents",r.agentId,"rooms"],predicate:s(n=>n.queryKey.length>3&&n.queryKey[4]==="memories","predicate")}),r.result?.roomId&&e.invalidateQueries({queryKey:["messages",r.agentId,r.result.roomId]}),t({title:"Memory Updated",description:"The memory has been successfully updated"})},"onSuccess"),onError:s(r=>{t({title:"Error",description:r instanceof Error?r.message:"Failed to update memory",variant:"destructive"})},"onError")})}s(Zq,"useUpdateMemory");function Jq(e,t={}){const r=va();return Cn({queryKey:["agentPanels",e],queryFn:s(async()=>{if(!e)throw new Error("Agent ID required");return{success:!0,data:(await un.agents.getAgentPanels(e)).panels}},"queryFn"),enabled:!!e,staleTime:Er.STANDARD,refetchInterval:!r.isOffline&&e?Er.RARE:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:Er.NEVER},...t})}s(Jq,"useAgentPanels");function Yl(){const e=va(),{data:t,isLoading:r}=m4(),n=t?.data?.agents?.map(c=>c.id)||[],i=YE({queries:n.map(c=>({queryKey:["agent",c],queryFn:s(async()=>({data:await un.agents.getAgent(c)}),"queryFn"),staleTime:Er.FREQUENT,enabled:!!c,refetchInterval:!e.isOffline&&c?Er.FREQUENT:!1,refetchIntervalInBackground:!1,...!e.isOffline&&e.effectiveType==="slow-2g"&&{refetchInterval:Er.STANDARD}}))}),o=r||i.some(c=>c.isLoading),a=i.some(c=>c.isError),l=i.find(c=>c.error)?.error;return{data:{agents:i.filter(c=>!!c.data?.data).map(c=>c.data.data)},isLoading:o,isError:a,error:l}}s(Yl,"useAgentsWithDetails");function g4(e={}){const t=va();return Cn({queryKey:["servers"],queryFn:s(async()=>{const r=await un.messaging.listServers();return{data:{servers:Lq(r.servers)}}},"queryFn"),staleTime:Er.RARE,refetchInterval:t.isOffline?!1:Er.RARE,...e})}s(g4,"useServers");function v4(e,t={}){const r=va();return Cn({queryKey:["channels",e],queryFn:s(async()=>{if(!e)return Promise.resolve({data:{channels:[]}});const n=await un.messaging.getServerChannels(e);return{data:{channels:Pq(n.channels)}}},"queryFn"),enabled:!!e,staleTime:Er.STANDARD,refetchInterval:!r.isOffline&&e?Er.STANDARD:!1,...t})}s(v4,"useChannels");function Wq(e,t={}){const r=va();return Cn({queryKey:["channelDetails",e],queryFn:s(async()=>{if(!e)return Promise.resolve({success:!0,data:null});const n=await un.messaging.getChannelDetails(e);return{success:!0,data:p4(n)}},"queryFn"),enabled:!!e,staleTime:Er.STANDARD,refetchInterval:!r.isOffline&&e?Er.RARE:!1,...t})}s(Wq,"useChannelDetails");function b4(e,t={}){const r=va();return Cn({queryKey:["channelParticipants",e],queryFn:s(async()=>{if(!e)return Promise.resolve({success:!0,data:[]});try{const n=await un.messaging.getChannelParticipants(e);let i=[];return n&&Array.isArray(n.participants)?i=n.participants.map(o=>o.userId):n&&Array.isArray(n)&&(i=n.map(o=>o.userId||o.id||o)),{success:!0,data:i}}catch(n){return console.error("[useChannelParticipants] Error:",n),{success:!1,data:[]}}},"queryFn"),enabled:!!e,staleTime:Er.STANDARD,refetchInterval:!r.isOffline&&e?Er.FREQUENT:!1,...t})}s(b4,"useChannelParticipants");function Qq(){En();const{toast:e}=Mr();return ci({mutationFn:s(async({channelId:t,messageId:r})=>(await un.messaging.deleteMessage(t,r),{channelId:t,messageId:r}),"mutationFn"),onSuccess:s((t,r)=>{e({title:"Message Deleted",description:"Message removed successfully."})},"onSuccess"),onError:s(t=>{e({title:"Error Deleting Message",description:t instanceof Error?t.message:"Failed to delete message",variant:"destructive"})},"onError")})}s(Qq,"useDeleteChannelMessage");function Xq(){const e=En(),{toast:t}=Mr();return ci({mutationFn:s(async r=>(await un.messaging.clearChannelHistory(r),{channelId:r}),"mutationFn"),onSuccess:s((r,n)=>{t({title:"Channel Cleared",description:`All messages in channel ${n} cleared.`}),e.invalidateQueries({queryKey:["messages",n]}),e.setQueryData(["messages",n],()=>[])},"onSuccess"),onError:s(r=>{t({title:"Error Clearing Channel",description:r instanceof Error?r.message:"Failed to clear messages",variant:"destructive"})},"onError")})}s(Xq,"useClearChannelMessages");function eI(){return Cn({queryKey:["server-version"],queryFn:s(async()=>{try{const e=await fetch("/api/system/version");if(!e.ok)throw new Error(`Failed to fetch server version: ${e.status} ${e.statusText}`);return await e.json()}catch(e){throw Ye.error("Error fetching server version:",e),e}},"queryFn"),staleTime:300*1e3,retry:3,retryDelay:s(e=>Math.min(1e3*2**e,3e4),"retryDelay")})}s(eI,"useServerVersion");function Kq(){const{data:e}=eI();return e?.version||"0.0.0-loading"}s(Kq,"useServerVersionString");const qq=s((e,t)=>{const r=[],n=[];return e.forEach(i=>(t(i)?r:n).push(i)),[r,n]},"partition"),y4=s(({children:e,className:t=""})=>b.jsx("div",{className:Fe("px-4 pt-1 pb-0 text-sm font-medium text-muted-foreground sidebar-section-header",t),children:e}),"SectionHeader"),Yq=s(({title:e,children:t,className:r=""})=>b.jsxs(b.Fragment,{children:[b.jsx(y4,{className:r,children:e}),b.jsx(y0,{children:b.jsx(w0,{className:"mt-0",children:b.jsx(Eo,{children:t})})})]}),"SidebarSection"),eY=s(({agent:e,isOnline:t,active:r})=>b.jsx(Xi,{children:b.jsx(h0,{to:`/chat/${e.id}`,children:b.jsxs(Oo,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[b.jsx("span",{className:"text-base truncate max-w-36",children:e.name}),b.jsx("div",{className:"flex items-center",children:b.jsxs("div",{className:"relative",children:[b.jsxs($a,{className:"h-6 w-6 rounded-full",children:[b.jsx(Uo,{src:vc(e),alt:e.name||"avatar"}),b.jsx(fp,{className:"rounded-full",children:Mo(e.name||"")})]}),b.jsx("span",{className:Fe("absolute bottom-0 right-0 w-[8px] h-[8px] rounded border border-white",t?"bg-green-500":"bg-muted-foreground")})]})})]})})}),"AgentRow"),tY=s(({channel:e,serverId:t,active:r})=>{const n=Io(),{data:i}=Yl(),o=i?.agents||[],{data:a}=b4(e.id),l=a?.data,u=l&&Array.isArray(l)?l:[],c=o.filter(v=>v.id&&u.includes(v.id)),h=c.slice(0,3),f=c.length>3?c.length-3:0;return b.jsx(Xi,{children:b.jsx(h0,{to:`/group/${e.id}?serverId=${t}`,className:"flex-1",children:b.jsxs(Oo,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[b.jsx("span",{className:"text-base truncate max-w-36",children:e.name||jb(e,e.participants||[],n)}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"flex -space-x-2",children:[h.map(v=>b.jsxs($a,{className:"h-6 w-6 rounded-full border border-background",children:[b.jsx(Uo,{src:typeof v.settings?.avatar=="string"?v.settings.avatar:"",alt:v.name||""}),b.jsx(fp,{className:"rounded-full text-xs",children:Mo(v.name||"")})]},v.id)),f>0&&b.jsxs("div",{className:"w-6 h-6 rounded-full bg-muted text-[10px] flex items-center justify-center border border-background",children:["+",f]})]})})]})})})},"GroupRow"),rY=s(({agents:e,activePath:t})=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[b.jsx(y4,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:b.jsx("div",{children:"Agents"})}),b.jsx(pi,{})]}),b.jsx(y0,{children:b.jsx(w0,{className:"px-1 mt-0",children:b.jsx(Eo,{children:e.map(r=>b.jsx(eY,{agent:r,isOnline:r.status===on.ACTIVE,active:t.includes(`/chat/${String(r?.id)}`)},r?.id))})})})]}),"AgentListSection"),nY=s(({servers:e,isLoadingServers:t,activePath:r})=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[b.jsx(y4,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:b.jsx("div",{children:"Groups"})}),b.jsx(pi,{})]}),b.jsx(y0,{children:b.jsx(w0,{className:"px-1 mt-0",children:b.jsxs(Eo,{children:[t&&Array.from({length:3}).map((n,i)=>b.jsx(Xi,{children:b.jsx(x0,{})},`skel-group-${i}`)),e?.map(n=>b.jsx(iY,{serverId:n.id,activePath:r},n.id)),(!e||e.length===0)&&!t&&b.jsx(Xi,{children:b.jsx("div",{className:"p-4 text-xs text-muted-foreground",children:"No groups found."})})]})})})]}),"GroupListSection"),iY=s(({serverId:e,activePath:t})=>{const{data:r,isLoading:n}=v4(e),i=H.useMemo(()=>r?.data?.channels?.filter(o=>o.type===Ft.GROUP)||[],[r]);return n?b.jsx(Xi,{children:b.jsx(x0,{})}):i.length?b.jsx(b.Fragment,{children:i.map(o=>b.jsx(tY,{channel:o,serverId:e,active:t.includes(`/group/${o.id}`)},o.id))}):null},"GroupChannelsForServer");function Qx({refreshHomePage:e,isMobile:t=!1}){const r=d0(),n=Rn(),i=En(),o=Kq(),{data:a,error:l,isLoading:u}=Yl(),{data:c,isLoading:h}=g4(),f=H.useMemo(()=>a?.agents||[],[a]),v=H.useMemo(()=>c?.data?.servers||[],[c]),[m,w]=H.useMemo(()=>qq(f,I=>I.status===on.ACTIVE),[f]),_=l?"Error loading agents: NetworkError: Unable to connect to the server. Please check if the server is running.":void 0,A=s(I=>{I.preventDefault(),Ye.info("[AppSidebar] handleLogoClick triggered",{currentPath:r.pathname}),i.invalidateQueries({queryKey:["agents"]}),i.invalidateQueries({queryKey:["agentsWithDetails"]}),i.invalidateQueries({queryKey:["servers"]}),i.invalidateQueries({queryKey:["channels"]}),r.pathname==="/"?(Ye.info("[AppSidebar] Already on home page. Calling refreshHomePage()."),e()):(Ye.info('[AppSidebar] Not on home page. Navigating to "/".'),n("/"))},"handleLogoClick");function M(){const I=Rn(),R=s(()=>{I("/create")},"handleCreateAgent"),L=s(()=>{I("/group/new")},"handleCreateGroup");return b.jsxs(wc,{children:[b.jsx(xc,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",className:"w-full bg-sidebar-accent hover:bg-sidebar-accent/80 h-10 rounded justify-start",children:[b.jsx(f0,{className:"w-4 h-4 bg"}),"Create New"]})}),b.jsxs(_c,{align:"start",className:"w-full min-w-[var(--radix-dropdown-menu-trigger-width)]",children:[b.jsx(ps,{onClick:R,className:"w-full",children:"Create New Agent"}),b.jsx(ps,{onClick:L,className:"w-full",children:"Create New Group"})]})]})}return s(M,"renderCreateNewButton"),b.jsx(b.Fragment,{children:b.jsxs(z7,{className:Fe("bg-background border-r overflow-hidden",t?"p-3 pt-12 w-full h-full":"p-4 w-72 fixed left-0 top-0 z-40 h-screen",!t&&"hidden md:flex md:flex-col"),collapsible:"none","data-testid":"app-sidebar",children:[b.jsx(F7,{children:b.jsx(Eo,{children:b.jsx(Xi,{children:b.jsx(Oo,{size:"lg",asChild:!0,children:b.jsx("a",{href:"/",onClick:A,className:"px-4 py-2 h-full sidebar-logo no-underline cursor-pointer",children:b.jsxs("div",{className:"flex flex-col pt-2 gap-1 items-start justify-center",children:[b.jsx("img",{alt:"elizaos-logo",src:"/elizaos-logo-light.png",className:"w-32 max-w-full"}),b.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["v",o]})]})})})})})}),b.jsxs(H7,{className:"flex-1 overflow-y-auto",children:[_&&b.jsx("div",{className:"px-4 py-2 text-xs text-red-500",children:_}),b.jsx(Eo,{className:"my-2",children:b.jsx(Xi,{className:"list-none",children:M()})}),b.jsxs("div",{className:"pt-2",children:[u&&!_&&b.jsx(Yq,{title:"Agents",children:b.jsx(x0,{})}),!u&&!_&&b.jsxs(b.Fragment,{children:[b.jsx(rY,{agents:[...m,...w],activePath:r.pathname}),b.jsx(nY,{servers:v,isLoadingServers:h,activePath:r.pathname})]})]})]}),b.jsx($7,{className:"px-2 py-4",children:b.jsxs(Eo,{children:[b.jsx(Gm,{to:"https://eliza.how/",Icon:VP,label:"Documentation"}),b.jsx(Gm,{to:"/logs",Icon:GP,label:"Logs"}),b.jsx(Gm,{to:"/settings",Icon:ZP,label:"Settings"}),b.jsx(Oq,{})]})})]})})}s(Qx,"AppSidebar");const Gm=s(({to:e,Icon:t,label:r})=>e.startsWith("http://")||e.startsWith("https://")?b.jsx(Xi,{children:b.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:b.jsxs(Oo,{className:"rounded cursor-pointer",children:[b.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}):b.jsx(Xi,{children:b.jsx(h0,{to:e,children:b.jsxs(Oo,{className:"rounded cursor-pointer",children:[b.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}),"FooterLink");function sY({className:e}){const{status:t,error:r}=h4();if(!(t==="error"||t==="unauthorized"))return null;let i="Connection Failed",o="Please ensure the Eliza server is running and accessible.";const a=t==="unauthorized";if(r){const l=r;a?(i="Unauthorized",o="Invalid or missing API Key provided."):l.includes("NetworkError")||l.includes("Failed to fetch")?(i="Network Error",o="Cannot reach the server. Please check your network connection."):l.includes("ECONNREFUSED")?(i="Connection Refused",o="The server refused the connection. Please ensure it is running."):l.includes("timeout")?(i="Connection Timeout",o="The server took too long to respond."):l.includes("404")||l.includes("not found")||l.includes("API endpoint not found")||l.includes("Endpoint not found")?(i="Endpoint Not Found",o="The server API endpoint could not be found."):o=l}return b.jsx("div",{className:Fe("bg-opacity-10 border rounded-md p-3 mb-4 w-full md:max-w-4xl","flex items-center justify-between w-full mt-4",a?"bg-yellow-900/20 border-yellow-700 text-yellow-100":"bg-red-900/20 border-red-700 text-red-100",e),children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Ni,{className:Fe("h-5 w-5 flex-shrink-0",a?"text-yellow-400":"text-red-400")}),b.jsxs("div",{children:[b.jsx("h4",{className:Fe("font-medium text-sm",a?"text-yellow-200":"text-red-200"),children:i}),b.jsx("p",{className:Fe("text-xs mt-1",a?"text-yellow-300":"text-red-300"),children:o}),b.jsx("div",{className:"mt-2 flex space-x-4",children:b.jsxs("a",{href:"https://eliza.how",target:"_blank",rel:"noopener noreferrer",className:Fe("text-xs flex items-center",a?"hover:text-yellow-200 text-yellow-300":"hover:text-red-200 text-red-300"),children:[b.jsx(Vu,{className:"h-3 w-3 mr-1"}),"Troubleshooting Guide"]})})]})]})})}s(sY,"ConnectionErrorBanner");const Ns=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Fe("rounded-lg border bg-card text-card-foreground shadow-sm",e),"data-slot":"card",...t}));Ns.displayName="Card";const hp=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Fe("flex flex-col space-y-1.5 bg-black/50 rounded-t-lg p-2",e),"data-slot":"card-header",...t}));hp.displayName="CardHeader";const w4=H.forwardRef(({className:e,...t},r)=>b.jsx("h3",{ref:r,className:Fe("text-2xl font-semibold leading-none tracking-tight",e),"data-slot":"card-title",...t}));w4.displayName="CardTitle";const aY=H.forwardRef(({className:e,...t},r)=>b.jsx("p",{ref:r,className:Fe("text-sm text-muted-foreground",e),"data-slot":"card-description",...t}));aY.displayName="CardDescription";const qo=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Fe("p-6 pt-0",e),"data-slot":"card-content",...t}));qo.displayName="CardContent";const pp=H.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Fe("flex items-center p-6 pt-0",e),"data-slot":"card-footer",...t}));pp.displayName="CardFooter";function oY(){const[e,t]=H.useState(""),[r,n]=H.useState(""),[i,o]=H.useState(!1),[a,l]=H.useState(null),[u,c]=H.useState(null),[h,f]=H.useState(""),[v,m]=H.useState({}),w=H.useRef(null),[_,A]=H.useState(!1),[M,I]=H.useState(!1),{toast:R}=Mr();H.useEffect(()=>{const X=s(d=>{w.current&&!w.current.contains(d.target)&&l(null)},"handleClickOutside");return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]),H.useEffect(()=>{L()},[]);const L=s(async()=>{const d=await Nr().system.getEnvironment();m(d)},"fetchLocalEnvs"),P=s(async()=>{await L(),c(null),l(null),t(""),n("")},"handleReset"),F=s(X=>{c(a),f(v[X]),l(null)},"handleEdit"),Z=s(X=>{const d={...v};delete d[X],m(d),l(null)},"handleRemove"),G=s(X=>{m({...v,[X]:h}),c(null)},"saveEdit"),se=s(()=>{!e||!r||(m({...v,[e]:r}),t(""),n(""),c(null))},"addEnv"),U=s(()=>{console.log("API Key was saved")},"handleApiKeySaved");return b.jsxs("div",{className:"container max-w-4xl mx-auto p-6",children:[b.jsx(IM,{open:M,onOpenChange:I,onApiKeySaved:U}),b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Env settings"}),b.jsx("p",{className:"text-muted-foreground mt-1",children:"Env settings"})]}),b.jsxs(dt,{onClick:s(()=>I(!0),"onClick"),"aria-label":"Manage API Key",children:[b.jsx(Co,{className:"h-5 w-5"}),"Manage API Key"]})]}),b.jsx(Ns,{children:b.jsx(qo,{className:"p-6",children:b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"rounded-lg w-full flex flex-col gap-3",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Environment Settings"}),b.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-end w-full pb-4",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{htmlFor:"secret-name",className:"ml-2 text-xs font-medium text-gray-400",children:"NAME"}),b.jsx(sn,{id:"secret-name",placeholder:"VARIABLE_NAME",value:e,onChange:s(X=>t(X.target.value),"onChange")})]}),b.jsxs("div",{className:"flex flex-col gap-1 relative",children:[b.jsx("label",{htmlFor:"secret-value",className:"ml-2 text-xs font-medium text-gray-400",children:"VALUE"}),b.jsxs("div",{className:"relative",children:[b.jsx(sn,{id:"secret-value",type:i?"text":"password",placeholder:"i9ju23nfsdf56",value:r,onChange:s(X=>n(X.target.value),"onChange"),className:"pr-10"}),b.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500",onClick:s(()=>o(!i),"onClick"),children:i?b.jsx(Ks,{}):b.jsx(cs,{})})]})]}),b.jsx(dt,{className:"shrink-0",onClick:se,children:"Add"})]}),Object.keys(v).length>0&&b.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 mt-6 font-medium text-gray-400 border-b pb-2 ml-1",children:[b.jsx("div",{children:"Name"}),b.jsx("div",{children:"Value"}),b.jsx("div",{children:"Action"})]}),b.jsx("div",{className:"mt-2",children:Object.entries(v).map(([X,d],y)=>b.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-center border-b py-2 ml-1 relative",children:[b.jsx("div",{className:"truncate max-w-48",children:X}),b.jsx("div",{children:u===y?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(sn,{value:h,onChange:s(g=>f(g.target.value),"onChange"),className:"w-full"}),b.jsx(dt,{variant:"ghost",onClick:s(()=>G(X),"onClick"),children:b.jsx(ca,{className:"w-5 h-5 text-green-500"})}),b.jsx(dt,{variant:"ghost",onClick:s(()=>c(null),"onClick"),children:b.jsx(ei,{className:"w-5 h-5 text-red-500"})})]}):b.jsx("div",{className:"truncate text-gray-500",children:"Encrypted"})}),b.jsxs("div",{className:"relative",children:[b.jsx(dt,{variant:"ghost",className:"p-2 text-gray-500",onClick:s(()=>l(a===y?null:y),"onClick"),children:b.jsx(HE,{className:"h-5 w-5"})}),a===y&&b.jsx("div",{ref:w,className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-card ring-1 ring-black ring-opacity-5 z-10",children:b.jsxs("div",{className:"py-1",children:[b.jsx("button",{onClick:s(()=>F(X),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:"Edit"}),b.jsx("button",{onClick:s(()=>Z(X),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-accent",children:"Remove"})]})})]})]},y))})]})})})}),b.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[b.jsx(dt,{variant:"outline",onClick:P,children:"Reset"}),b.jsx(dt,{type:"submit",disabled:_,onClick:s(async()=>{A(!0);try{await Nr().system.updateLocalEnvironment(v),R({title:"Success",description:"Environment variables updated successfully!"})}catch{R({title:"Error",description:"Failed to update environment variables.",variant:"destructive"})}finally{A(!1)}},"onClick"),children:"Save Changes"})]})]})}s(oY,"EnvSettings");const lY={10:"TRACE",20:"DEBUG",27:"SUCCESS",28:"PROGRESS",29:"LOG",30:"INFO",40:"WARN",50:"ERROR",60:"FATAL"};function Xx(e){return lY[e]||"UNKNOWN"}s(Xx,"getLevelName");function uY(e){return e>=50?"bg-red-600/80":e>=40?"bg-amber-600/80":e>=27?"bg-emerald-600/80":"bg-slate-500"}s(uY,"getLevelColor");function cY(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}s(cY,"formatTimestamp$1");function dY(e){const t=Date.now(),r=24,n={};for(let o=r-1;o>=0;o--){const a=new Date(t-o*60*60*1e3);a.setMinutes(0,0,0);const l=a.toISOString();n[l]={info:0,errors:0}}const i=t-1440*60*1e3;return e.forEach(o=>{if(o.time>=i){const a=new Date(o.time);a.setMinutes(0,0,0);const l=a.toISOString();n[l]&&(o.level>=50?n[l].errors++:n[l].info++)}}),Object.entries(n).map(([o,a])=>({timestamp:new Date(o),...a,total:a.info+a.errors}))}s(dY,"generateLogChart");function fY({data:e}){const t=Math.max(...e.map(r=>r.total),1);return b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-500"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Info"," ",b.jsx("span",{className:"font-mono",children:e.reduce((r,n)=>r+n.info,0).toLocaleString()})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-red-600/80"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Errors"," ",b.jsx("span",{className:"font-mono",children:e.reduce((r,n)=>r+n.errors,0).toLocaleString()})]})]})]}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})," ","- (UTC-7)"]})]}),b.jsx("div",{className:"h-32 flex items-end gap-1 bg-muted/30 rounded p-4",children:e.map((r,n)=>b.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[b.jsx("div",{style:{height:`${r.info/t*100}%`},className:"bg-slate-500 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.info} info logs`},`${r.timestamp.getTime()}-info`),b.jsx("div",{style:{height:`${r.errors/t*100}%`},className:"bg-red-600/80 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.errors} error logs`},`${r.timestamp.getTime()}-errors`)]},n))}),b.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[b.jsx("span",{children:e[0]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),b.jsx("span",{children:e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit"})})]})]})}s(fY,"LogChart");function hY(){return b.jsx("div",{className:"flex items-center justify-center py-8",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(hc,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"font-medium",children:"Loading Logs"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching system logs..."})]})]})})}s(hY,"LoadingIndicator$1");function pY({selectedLevel:e,searchQuery:t}){return b.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[b.jsx(Pa,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Logs Found"}),b.jsx("p",{className:"text-muted-foreground max-w-md",children:t?`No logs match "${t}". Try adjusting your search or filter.`:e==="all"?"No logs available. Logs will appear here as the system generates them.":`No ${e.toUpperCase()} logs found.`})]})}s(pY,"EmptyState$1");function tI({agentName:e,level:t}){const[r,n]=H.useState(t||"all"),[i,o]=H.useState(e||"all"),[a,l]=H.useState(""),[u,c]=H.useState("7 days"),[h,f]=H.useState(!0),[v,m]=H.useState(!1),[w,_]=H.useState([]),[A,M]=H.useState(!1),I=En(),{confirm:R,isOpen:L,onOpenChange:P,onConfirm:F,options:Z}=Ko(),{data:G,isLoading:se,error:U,refetch:X}=Cn({queryKey:["logs",r,i],queryFn:s(async()=>await Nr().system.getGlobalLogs({level:r==="all"?"":r,agentName:i==="all"?void 0:i}),"queryFn"),refetchInterval:h&&!A?5e3:!1,staleTime:1e3,enabled:!0}),{data:d}=m4(),y=H.useCallback(O=>{(r==="all"||Xx(O.level).toLowerCase()===r.toLowerCase())&&(i==="all"||O.agentName===i)&&_(z=>[O,...z].slice(0,1e3))},[r,i]);H.useEffect(()=>{if(h&&A){const O=Ti.getInstance();return O.subscribeToLogStream().catch(console.error),O.on("logStream",y),()=>{O.off("logStream",y),O.unsubscribeFromLogStream().catch(console.error)}}},[h,A,y]),H.useEffect(()=>{h?Ti.isConnected()?M(!0):M(!1):(M(!1),_([]))},[h]),H.useEffect(()=>{A&&h&&Ti.getInstance().updateLogStreamFilters({agentName:i,level:r}).catch(console.error)},[i,r,A,h]);const g=G?.logs||[];let x;A&&h&&w.length>0?x=w:x=g;const E=x.sort((O,B)=>B.time-O.time),T=G?.levels||[],N=d?.data?.agents?.map(O=>O.name)||[],k=E.filter(O=>{if(a.trim()){const B=a.toLowerCase();return[O.msg,O.agentName,O.roomId,Xx(O.level),...Object.entries(O).filter(([$])=>!Number.isNaN(Number($))).map(([$,W])=>String(W))].filter(Boolean).join(" ").toLowerCase().includes(B)}return!0}),p=dY(k),S=s(()=>{R({title:"Clear All Logs",description:"Are you sure you want to permanently delete all system logs? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{m(!0),await Nr().system.deleteGlobalLogs(),I.invalidateQueries({queryKey:["logs"]}),A&&_([])}catch(O){console.error("Failed to clear logs:",O)}finally{m(!1)}})},"handleClearLogs"),C=s(()=>{A&&h?_([]):X&&X()},"handleRefresh");if(se&&E.length===0)return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx(hY,{})});if(U){const O=U.message?.includes("404")||U.message?.includes("endpoint not found")||U.message?.includes("Not Found");return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx(Pa,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),b.jsx("h3",{className:"font-medium mb-2",children:O?"Global Logs API Not Available":"Failed to Load Logs"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:O?"The server does not have the global logs API endpoint configured. You can still view individual agent logs from the agent details pages.":`There was an error loading the system logs: ${U.message}`}),!O&&b.jsxs(dt,{variant:"outline",size:"sm",onClick:s(()=>X?.(),"onClick"),children:[b.jsx(B6,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})}return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6 px-4 pt-4 flex-none",children:[b.jsxs(sa,{value:r,onValueChange:n,children:[b.jsxs(ys,{className:"w-32 h-9",children:[b.jsx(JP,{className:"h-4 w-4 mr-2"}),b.jsx(aa,{placeholder:"Filter"})]}),b.jsxs(ws,{children:[b.jsx(yr,{value:"all",children:"ALL"}),T.map(O=>b.jsx(yr,{value:O,children:O.toUpperCase()},O))]})]}),b.jsxs("div",{className:"relative flex-1 max-w-md",children:[b.jsx(ed,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(sn,{placeholder:"Full-text log search",value:a,onChange:s(O=>l(O.target.value),"onChange"),className:"pl-10 h-9"})]}),N&&N.length>0&&!e&&b.jsxs(sa,{value:i,onValueChange:o,children:[b.jsx(ys,{className:"w-40 h-9",children:b.jsx(aa,{placeholder:"Agent"})}),b.jsxs(ws,{children:[b.jsx(yr,{value:"all",children:"ALL AGENTS"}),N?.map(O=>b.jsx(yr,{value:O,children:O},O))]})]}),b.jsxs(sa,{value:u,onValueChange:c,children:[b.jsxs(ys,{className:"w-32 h-9",children:[b.jsx(p0,{className:"h-4 w-4 mr-2"}),b.jsx(aa,{})]}),b.jsxs(ws,{children:[b.jsx(yr,{value:"1 hour",children:"1 hour"}),b.jsx(yr,{value:"6 hours",children:"6 hours"}),b.jsx(yr,{value:"24 hours",children:"24 hours"}),b.jsx(yr,{value:"7 days",children:"7 days"}),b.jsx(yr,{value:"30 days",children:"30 days"})]})]}),b.jsx(dt,{variant:"outline",size:"sm",onClick:C,className:"h-9 w-9 p-0",children:b.jsx(B6,{className:"h-4 w-4"})}),b.jsxs(dt,{variant:h?"default":"outline",size:"sm",onClick:s(()=>f(!h),"onClick"),className:"h-9 px-3",title:h?A?"Live mode (WebSocket)":"Live mode (Polling)":"Live mode disabled",children:[b.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),"Live"]})]}),b.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:k.length===0?b.jsx(pY,{selectedLevel:r,searchQuery:a}):b.jsxs("div",{className:"space-y-6",children:[b.jsx(fY,{data:p}),b.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[b.jsx("div",{className:"bg-muted/50 border-b px-4 py-3",children:b.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4",children:[b.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timestamp"}),b.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Message"})]})}),b.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:k.slice(0,100).map((O,B)=>b.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 px-4 py-3 hover:bg-muted/30 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-1 h-6 rounded-full ${uY(O.level)}`}),b.jsx("div",{className:"text-sm font-mono text-muted-foreground",children:cY(O.time)})]}),b.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[b.jsx("div",{className:"font-mono text-sm leading-relaxed break-all",children:O.msg}),O.agentName&&b.jsx(Hi,{variant:"secondary",className:"text-xs flex-shrink-0",children:O.agentName})]})]},`${O.time}-${O.msg}-${B}`))}),k.length>100&&b.jsx("div",{className:"border-t bg-muted/30 px-4 py-3 text-center",children:b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing first 100 of ",k.length.toLocaleString()," logs"]})})]})]})}),b.jsxs("div",{className:"border-t bg-muted/30 px-4 py-3 flex items-center justify-between",children:[b.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:h&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),b.jsxs("span",{children:["Live updates enabled ",A?"(streaming)":"(polling)"]})]})}),b.jsxs(dt,{variant:"destructive",size:"sm",onClick:S,disabled:v,className:"h-8 px-3 text-xs",children:[b.jsx(No,{className:"h-3 w-3 mr-1"}),v?"Clearing...":"Clear All Logs"]})]})]}),b.jsx(Xo,{open:L,onOpenChange:P,title:Z?.title||"",description:Z?.description||"",confirmText:Z?.confirmText,cancelText:Z?.cancelText,variant:Z?.variant,onConfirm:F})]})}s(tI,"AgentLogViewer");const Kx="eliza-onboarding-completed",mY=s(()=>{const[e,t]=H.useState(()=>{try{return localStorage.getItem(Kx)==="true"}catch(i){return Ye.error("Error accessing localStorage:",i),!1}});return H.useEffect(()=>{try{localStorage.setItem(Kx,e.toString())}catch(i){Ye.error("Error writing to localStorage:",i)}},[e]),{onboardingCompleted:e,completeOnboarding:s(()=>{t(!0)},"completeOnboarding"),resetOnboarding:s(()=>{t(!1)},"resetOnboarding")}},"useOnboarding");function gY(){const{onboardingCompleted:e,completeOnboarding:t}=mY(),[r,n]=H.useState(!1),i=d0(),[o,a]=H.useState(0),l=[{target:".sidebar-logo",content:"Welcome to ElizaOS! This is your gateway to creating and managing intelligent AI agents.",disableBeacon:!0,title:"Welcome to ElizaOS"},{target:".sidebar-create-button",content:"This is your main creation button. Click here to create new agents or rooms quickly.",title:"Create Button"},{target:".sidebar-online-section, .sidebar-offline-section",content:"Your agents are organized here. Online agents (green dot) are ready to chat, while offline agents need to be activated first.",title:"Your Agents"},{target:".sidebar-groups-section",content:"Access your agent groups from here to see collaborative conversations between multiple agents.",title:"Groups Navigation"},{target:".sidebar-docs-button, .sidebar-logs-button, .sidebar-settings-button",content:"Access documentation, system logs, and global settings from these utility buttons.",title:"System Utilities"},{target:".sidebar-connection-status",content:"This indicator shows your connection status to the ElizaOS server.",title:"Connection Status"},{target:".agents-section",content:'This is your main workspace showing all your agents. Active agents have a green dot, while inactive ones appear grayed out with an "Offline" label.',title:"Agent Dashboard"},{target:".message-button, .start-button",content:'Click "Message" to chat with active agents, or "Start" to activate offline agents first.',title:"Agent Interaction"},{target:".agent-info-button, .agent-settings-button",content:"View agent details or configure settings using these buttons on each agent card.",title:"Agent Management"},{target:".groups-section",content:"This section displays your agent groups for collaborative interactions between multiple agents.",title:"Agent Groups"},{target:".groups-create-button",content:"Create a new group by clicking this button. Groups allow multiple agents to interact together.",title:"Create New Group"},{target:".create-agent-button",content:"Let's create your first agent! Click this button to get started.",title:"Create Your First Agent",spotlightClicks:!0}],u=[{target:".agent-form-name",content:"Give your agent a name that reflects its purpose or personality.",title:"Name Your Agent",disableBeacon:!0},{target:".agent-form-system-prompt",content:"The system prompt defines your agent's behavior and capabilities. This is the most important field for shaping how your agent will respond.",title:"Define Agent Behavior"},{target:".tabs-list",content:"Switch between these tabs to configure different aspects of your agent such as content, style, plugins, and appearance.",title:"Configuration Tabs"},{target:".agent-form-submit",content:"Click Save to create your agent and return to the dashboard.",title:"Save Your Agent",spotlightClicks:!0}],c=i.pathname==="/"?l:i.pathname==="/create"?u:[];H.useEffect(()=>{if(i.pathname==="/"&&!e&&o===0){const f=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(f)}else if(i.pathname==="/create"&&!e&&o===1){const f=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(f)}else n(!1)},[i.pathname,e,o]);const h=s(f=>{const{status:v,index:m,type:w,action:_}=f;i.pathname==="/"&&w==="step:after"&&m===l.length-1&&(a(1),n(!1)),(v===z6.FINISHED||v===z6.SKIPPED||_===QP.CLOSE)&&(t(),n(!1))},"handleJoyrideCallback");return e||c.length===0?null:b.jsx(WP,{callback:h,continuous:!0,run:r,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:c,floaterProps:{disableAnimation:!1,styles:{floater:{filter:"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.25))"}}},styles:{options:{primaryColor:"#3b82f6",backgroundColor:"#1f2937",textColor:"#f3f4f6",overlayColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,arrowColor:"#1f2937",beaconSize:36},tooltip:{fontSize:"14px",padding:"16px",borderRadius:"10px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},tooltipContent:{padding:"5px 0",fontSize:"14px",lineHeight:"1.5"},buttonClose:{color:"#9ca3af",opacity:.8},buttonBack:{color:"#9ca3af",fontSize:"14px",fontWeight:"500",padding:"8px 12px",borderRadius:"6px",marginRight:"8px",transition:"background-color 0.2s ease"},buttonNext:{backgroundColor:"#3b82f6",fontSize:"14px",fontWeight:"500",padding:"8px 16px",borderRadius:"6px",color:"white",border:"none",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},buttonSkip:{color:"#9ca3af",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",transition:"background-color 0.2s ease"},spotlight:{borderRadius:"8px",backgroundColor:"transparent"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.7)"}}})}s(gY,"OnboardingTour");const vY=XP,rI=H.forwardRef(({className:e,...t},r)=>b.jsx(s7,{ref:r,className:Fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rI.displayName=s7.displayName;const bY=ma("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nI=H.forwardRef(({className:e,variant:t,...r},n)=>b.jsx(t7,{ref:n,className:Fe(bY({variant:t}),e),...r}));nI.displayName=t7.displayName;const iI=H.forwardRef(({className:e,...t},r)=>b.jsx(e7,{ref:r,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));iI.displayName=e7.displayName;const sI=H.forwardRef(({className:e,...t},r)=>b.jsx(i7,{ref:r,className:Fe("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:b.jsx(ei,{className:"h-4 w-4"})}));sI.displayName=i7.displayName;const aI=H.forwardRef(({className:e,...t},r)=>b.jsx(r7,{ref:r,className:Fe("text-sm font-semibold [&+div]:text-xs",e),...t}));aI.displayName=r7.displayName;const oI=H.forwardRef(({className:e,...t},r)=>b.jsx(n7,{ref:r,className:Fe("text-sm opacity-90",e),...t}));oI.displayName=n7.displayName;function yY(){const{toasts:e}=Mr();return b.jsxs(vY,{children:[e.map(({id:t,title:r,description:n,action:i,...o})=>b.jsxs(nI,{...o,children:[b.jsxs("div",{className:"grid gap-1",children:[r&&b.jsx(aI,{children:r}),n&&b.jsx(oI,{children:n})]}),i,b.jsx(sI,{})]},t)),b.jsx(rI,{})]})}s(yY,"Toaster");var uf={exports:{}},Zm,qx;function mp(){if(qx)return Zm;qx=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=t-6;return Zm={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Zm}s(mp,"requireConstants");var Jm,Yx;function gp(){if(Yx)return Jm;Yx=1;var e={};return Jm=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},Jm}s(gp,"requireDebug");var e8;function _d(){return e8||(e8=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=mp(),o=gp();t=e.exports={};const a=t.re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],h=t.t={};let f=0;const v="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[v,n]],w=s(A=>{for(const[M,I]of m)A=A.split(`${M}*`).join(`${M}{0,${I}}`).split(`${M}+`).join(`${M}{1,${I}}`);return A},"makeSafeRegex"),_=s((A,M,I)=>{const R=w(M),L=f++;o(A,L,M),h[A]=L,u[L]=M,c[L]=R,a[L]=new RegExp(M,I?"g":void 0),l[L]=new RegExp(R,I?"g":void 0)},"createToken");_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),_("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${v}+`),_("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),_("FULL",`^${u[h.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),_("LOOSE",`^${u[h.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),_("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",u[h.COERCE],!0),_("COERCERTLFULL",u[h.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(uf,uf.exports)),uf.exports}s(_d,"requireRe");var Wm,t8;function x4(){if(t8)return Wm;t8=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Wm=s(n=>n?typeof n!="object"?e:n:t,"parseOptions"),Wm}s(x4,"requireParseOptions");var Qm,r8;function lI(){if(r8)return Qm;r8=1;const e=/^[0-9]+$/,t=s((n,i)=>{if(typeof n=="number"&&typeof i=="number")return n===i?0:n<i?-1:1;const o=e.test(n),a=e.test(i);return o&&a&&(n=+n,i=+i),n===i?0:o&&!a?-1:a&&!o?1:n<i?-1:1},"compareIdentifiers");return Qm={compareIdentifiers:t,rcompareIdentifiers:s((n,i)=>t(i,n),"rcompareIdentifiers")},Qm}s(lI,"requireIdentifiers");var Xm,n8;function Gn(){if(n8)return Xm;n8=1;const e=gp(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=mp(),{safeRe:n,t:i}=_d(),o=x4(),{compareIdentifiers:a}=lI();class l{static{s(this,"SemVer")}constructor(c,h){if(h=o(h),c instanceof l){if(c.loose===!!h.loose&&c.includePrerelease===!!h.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const f=c.trim().match(h.loose?n[i.LOOSE]:n[i.FULL]);if(!f)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(v=>{if(/^[0-9]+$/.test(v)){const m=+v;if(m>=0&&m<r)return m}return v}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),this.major<c.major?-1:this.major>c.major?1:this.minor<c.minor?-1:this.minor>c.minor?1:this.patch<c.patch?-1:this.patch>c.patch?1:0}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let h=0;do{const f=this.prerelease[h],v=c.prerelease[h];if(e("prerelease compare",h,f,v),f===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(f===void 0)return-1;if(f===v)continue;return a(f,v)}while(++h)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let h=0;do{const f=this.build[h],v=c.build[h];if(e("build compare",h,f,v),f===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(f===void 0)return-1;if(f===v)continue;return a(f,v)}while(++h)}inc(c,h,f){if(c.startsWith("pre")){if(!h&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const v=`-${h}`.match(this.options.loose?n[i.PRERELEASELOOSE]:n[i.PRERELEASE]);if(!v||v[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,f),this.inc("pre",h,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,f),this.inc("pre",h,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const v=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[v];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(h===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(v)}}if(h){let m=[h,v];f===!1&&(m=[h]),a(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Xm=l,Xm}s(Gn,"requireSemver$1");var Km,i8;function eu(){if(i8)return Km;i8=1;const e=Gn();return Km=s((r,n,i=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(o){if(!i)return null;throw o}},"parse"),Km}s(eu,"requireParse");var qm,s8;function wY(){if(s8)return qm;s8=1;const e=eu();return qm=s((r,n)=>{const i=e(r,n);return i?i.version:null},"valid"),qm}s(wY,"requireValid$1");var Ym,a8;function xY(){if(a8)return Ym;a8=1;const e=eu();return Ym=s((r,n)=>{const i=e(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},"clean"),Ym}s(xY,"requireClean");var eg,o8;function _Y(){if(o8)return eg;o8=1;const e=Gn();return eg=s((r,n,i,o,a)=>{typeof i=="string"&&(a=o,o=i,i=void 0);try{return new e(r instanceof e?r.version:r,i).inc(n,o,a).version}catch{return null}},"inc"),eg}s(_Y,"requireInc");var tg,l8;function EY(){if(l8)return tg;l8=1;const e=eu();return tg=s((r,n)=>{const i=e(r,null,!0),o=e(n,null,!0),a=i.compare(o);if(a===0)return null;const l=a>0,u=l?i:o,c=l?o:i,h=!!u.prerelease.length;if(!!c.prerelease.length&&!h){if(!c.patch&&!c.minor)return"major";if(c.compareMain(u)===0)return c.minor&&!c.patch?"minor":"patch"}const v=h?"pre":"";return i.major!==o.major?v+"major":i.minor!==o.minor?v+"minor":i.patch!==o.patch?v+"patch":"prerelease"},"diff"),tg}s(EY,"requireDiff");var rg,u8;function SY(){if(u8)return rg;u8=1;const e=Gn();return rg=s((r,n)=>new e(r,n).major,"major"),rg}s(SY,"requireMajor");var ng,c8;function kY(){if(c8)return ng;c8=1;const e=Gn();return ng=s((r,n)=>new e(r,n).minor,"minor"),ng}s(kY,"requireMinor");var ig,d8;function TY(){if(d8)return ig;d8=1;const e=Gn();return ig=s((r,n)=>new e(r,n).patch,"patch"),ig}s(TY,"requirePatch");var sg,f8;function AY(){if(f8)return sg;f8=1;const e=eu();return sg=s((r,n)=>{const i=e(r,n);return i&&i.prerelease.length?i.prerelease:null},"prerelease"),sg}s(AY,"requirePrerelease");var ag,h8;function ns(){if(h8)return ag;h8=1;const e=Gn();return ag=s((r,n,i)=>new e(r,i).compare(new e(n,i)),"compare"),ag}s(ns,"requireCompare");var og,p8;function NY(){if(p8)return og;p8=1;const e=ns();return og=s((r,n,i)=>e(n,r,i),"rcompare"),og}s(NY,"requireRcompare");var lg,m8;function CY(){if(m8)return lg;m8=1;const e=ns();return lg=s((r,n)=>e(r,n,!0),"compareLoose"),lg}s(CY,"requireCompareLoose");var ug,g8;function _4(){if(g8)return ug;g8=1;const e=Gn();return ug=s((r,n,i)=>{const o=new e(r,i),a=new e(n,i);return o.compare(a)||o.compareBuild(a)},"compareBuild"),ug}s(_4,"requireCompareBuild");var cg,v8;function MY(){if(v8)return cg;v8=1;const e=_4();return cg=s((r,n)=>r.sort((i,o)=>e(i,o,n)),"sort"),cg}s(MY,"requireSort");var dg,b8;function IY(){if(b8)return dg;b8=1;const e=_4();return dg=s((r,n)=>r.sort((i,o)=>e(o,i,n)),"rsort"),dg}s(IY,"requireRsort");var fg,y8;function vp(){if(y8)return fg;y8=1;const e=ns();return fg=s((r,n,i)=>e(r,n,i)>0,"gt"),fg}s(vp,"requireGt");var hg,w8;function E4(){if(w8)return hg;w8=1;const e=ns();return hg=s((r,n,i)=>e(r,n,i)<0,"lt"),hg}s(E4,"requireLt");var pg,x8;function uI(){if(x8)return pg;x8=1;const e=ns();return pg=s((r,n,i)=>e(r,n,i)===0,"eq"),pg}s(uI,"requireEq");var mg,_8;function cI(){if(_8)return mg;_8=1;const e=ns();return mg=s((r,n,i)=>e(r,n,i)!==0,"neq"),mg}s(cI,"requireNeq");var gg,E8;function S4(){if(E8)return gg;E8=1;const e=ns();return gg=s((r,n,i)=>e(r,n,i)>=0,"gte"),gg}s(S4,"requireGte");var vg,S8;function k4(){if(S8)return vg;S8=1;const e=ns();return vg=s((r,n,i)=>e(r,n,i)<=0,"lte"),vg}s(k4,"requireLte");var bg,k8;function dI(){if(k8)return bg;k8=1;const e=uI(),t=cI(),r=vp(),n=S4(),i=E4(),o=k4();return bg=s((l,u,c,h)=>{switch(u){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,h);case"!=":return t(l,c,h);case">":return r(l,c,h);case">=":return n(l,c,h);case"<":return i(l,c,h);case"<=":return o(l,c,h);default:throw new TypeError(`Invalid operator: ${u}`)}},"cmp"),bg}s(dI,"requireCmp");var yg,T8;function OY(){if(T8)return yg;T8=1;const e=Gn(),t=eu(),{safeRe:r,t:n}=_d();return yg=s((o,a)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;a=a||{};let l=null;if(!a.rtl)l=o.match(a.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const m=a.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let w;for(;(w=m.exec(o))&&(!l||l.index+l[0].length!==o.length);)(!l||w.index+w[0].length!==l.index+l[0].length)&&(l=w),m.lastIndex=w.index+w[1].length+w[2].length;m.lastIndex=-1}if(l===null)return null;const u=l[2],c=l[3]||"0",h=l[4]||"0",f=a.includePrerelease&&l[5]?`-${l[5]}`:"",v=a.includePrerelease&&l[6]?`+${l[6]}`:"";return t(`${u}.${c}.${h}${f}${v}`,a)},"coerce"),yg}s(OY,"requireCoerce");var wg,A8;function RY(){if(A8)return wg;A8=1;class e{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(r,n)}return this}}return wg=e,wg}s(RY,"requireLrucache");var xg,N8;function is(){if(N8)return xg;N8=1;const e=/\s+/g;class t{static{s(this,"Range")}constructor(x,E){if(E=i(E),x instanceof t)return x.loose===!!E.loose&&x.includePrerelease===!!E.includePrerelease?x:new t(x.raw,E);if(x instanceof o)return this.raw=x.value,this.set=[[x]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=x.trim().replace(e," "),this.set=this.raw.split("||").map(T=>this.parseRange(T.trim())).filter(T=>T.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const T=this.set[0];if(this.set=this.set.filter(N=>!_(N[0])),this.set.length===0)this.set=[T];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&A(N[0])){this.set=[N];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let x=0;x<this.set.length;x++){x>0&&(this.formatted+="||");const E=this.set[x];for(let T=0;T<E.length;T++)T>0&&(this.formatted+=" "),this.formatted+=E[T].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(x){const T=((this.options.includePrerelease&&m)|(this.options.loose&&w))+":"+x,N=n.get(T);if(N)return N;const k=this.options.loose,p=k?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];x=x.replace(p,d(this.options.includePrerelease)),a("hyphen replace",x),x=x.replace(u[c.COMPARATORTRIM],h),a("comparator trim",x),x=x.replace(u[c.TILDETRIM],f),a("tilde trim",x),x=x.replace(u[c.CARETTRIM],v),a("caret trim",x);let S=x.split(" ").map(z=>I(z,this.options)).join(" ").split(/\s+/).map(z=>X(z,this.options));k&&(S=S.filter(z=>(a("loose invalid filter",z,this.options),!!z.match(u[c.COMPARATORLOOSE])))),a("range list",S);const C=new Map,O=S.map(z=>new o(z,this.options));for(const z of O){if(_(z))return[z];C.set(z.value,z)}C.size>1&&C.has("")&&C.delete("");const B=[...C.values()];return n.set(T,B),B}intersects(x,E){if(!(x instanceof t))throw new TypeError("a Range is required");return this.set.some(T=>M(T,E)&&x.set.some(N=>M(N,E)&&T.every(k=>N.every(p=>k.intersects(p,E)))))}test(x){if(!x)return!1;if(typeof x=="string")try{x=new l(x,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(y(this.set[E],x,this.options))return!0;return!1}}xg=t;const r=RY(),n=new r,i=x4(),o=bp(),a=gp(),l=Gn(),{safeRe:u,t:c,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:v}=_d(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:w}=mp(),_=s(g=>g.value==="<0.0.0-0","isNullSet"),A=s(g=>g.value==="","isAny"),M=s((g,x)=>{let E=!0;const T=g.slice();let N=T.pop();for(;E&&T.length;)E=T.every(k=>N.intersects(k,x)),N=T.pop();return E},"isSatisfiable"),I=s((g,x)=>(g=g.replace(u[c.BUILD],""),a("comp",g,x),g=F(g,x),a("caret",g),g=L(g,x),a("tildes",g),g=G(g,x),a("xrange",g),g=U(g,x),a("stars",g),g),"parseComparator"),R=s(g=>!g||g.toLowerCase()==="x"||g==="*","isX"),L=s((g,x)=>g.trim().split(/\s+/).map(E=>P(E,x)).join(" "),"replaceTildes"),P=s((g,x)=>{const E=x.loose?u[c.TILDELOOSE]:u[c.TILDE];return g.replace(E,(T,N,k,p,S)=>{a("tilde",g,T,N,k,p,S);let C;return R(N)?C="":R(k)?C=`>=${N}.0.0 <${+N+1}.0.0-0`:R(p)?C=`>=${N}.${k}.0 <${N}.${+k+1}.0-0`:S?(a("replaceTilde pr",S),C=`>=${N}.${k}.${p}-${S} <${N}.${+k+1}.0-0`):C=`>=${N}.${k}.${p} <${N}.${+k+1}.0-0`,a("tilde return",C),C})},"replaceTilde"),F=s((g,x)=>g.trim().split(/\s+/).map(E=>Z(E,x)).join(" "),"replaceCarets"),Z=s((g,x)=>{a("caret",g,x);const E=x.loose?u[c.CARETLOOSE]:u[c.CARET],T=x.includePrerelease?"-0":"";return g.replace(E,(N,k,p,S,C)=>{a("caret",g,N,k,p,S,C);let O;return R(k)?O="":R(p)?O=`>=${k}.0.0${T} <${+k+1}.0.0-0`:R(S)?k==="0"?O=`>=${k}.${p}.0${T} <${k}.${+p+1}.0-0`:O=`>=${k}.${p}.0${T} <${+k+1}.0.0-0`:C?(a("replaceCaret pr",C),k==="0"?p==="0"?O=`>=${k}.${p}.${S}-${C} <${k}.${p}.${+S+1}-0`:O=`>=${k}.${p}.${S}-${C} <${k}.${+p+1}.0-0`:O=`>=${k}.${p}.${S}-${C} <${+k+1}.0.0-0`):(a("no pr"),k==="0"?p==="0"?O=`>=${k}.${p}.${S}${T} <${k}.${p}.${+S+1}-0`:O=`>=${k}.${p}.${S}${T} <${k}.${+p+1}.0-0`:O=`>=${k}.${p}.${S} <${+k+1}.0.0-0`),a("caret return",O),O})},"replaceCaret"),G=s((g,x)=>(a("replaceXRanges",g,x),g.split(/\s+/).map(E=>se(E,x)).join(" ")),"replaceXRanges"),se=s((g,x)=>{g=g.trim();const E=x.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return g.replace(E,(T,N,k,p,S,C)=>{a("xRange",g,T,N,k,p,S,C);const O=R(k),B=O||R(p),z=B||R(S),$=z;return N==="="&&$&&(N=""),C=x.includePrerelease?"-0":"",O?N===">"||N==="<"?T="<0.0.0-0":T="*":N&&$?(B&&(p=0),S=0,N===">"?(N=">=",B?(k=+k+1,p=0,S=0):(p=+p+1,S=0)):N==="<="&&(N="<",B?k=+k+1:p=+p+1),N==="<"&&(C="-0"),T=`${N+k}.${p}.${S}${C}`):B?T=`>=${k}.0.0${C} <${+k+1}.0.0-0`:z&&(T=`>=${k}.${p}.0${C} <${k}.${+p+1}.0-0`),a("xRange return",T),T})},"replaceXRange"),U=s((g,x)=>(a("replaceStars",g,x),g.trim().replace(u[c.STAR],"")),"replaceStars"),X=s((g,x)=>(a("replaceGTE0",g,x),g.trim().replace(u[x.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),d=s(g=>(x,E,T,N,k,p,S,C,O,B,z,$)=>(R(T)?E="":R(N)?E=`>=${T}.0.0${g?"-0":""}`:R(k)?E=`>=${T}.${N}.0${g?"-0":""}`:p?E=`>=${E}`:E=`>=${E}${g?"-0":""}`,R(O)?C="":R(B)?C=`<${+O+1}.0.0-0`:R(z)?C=`<${O}.${+B+1}.0-0`:$?C=`<=${O}.${B}.${z}-${$}`:g?C=`<${O}.${B}.${+z+1}-0`:C=`<=${C}`,`${E} ${C}`.trim()),"hyphenReplace"),y=s((g,x,E)=>{for(let T=0;T<g.length;T++)if(!g[T].test(x))return!1;if(x.prerelease.length&&!E.includePrerelease){for(let T=0;T<g.length;T++)if(a(g[T].semver),g[T].semver!==o.ANY&&g[T].semver.prerelease.length>0){const N=g[T].semver;if(N.major===x.major&&N.minor===x.minor&&N.patch===x.patch)return!0}return!1}return!0},"testSet");return xg}s(is,"requireRange");var _g,C8;function bp(){if(C8)return _g;C8=1;const e=Symbol("SemVer ANY");class t{static{s(this,"Comparator")}static get ANY(){return e}constructor(h,f){if(f=r(f),h instanceof t){if(h.loose===!!f.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),a("comparator",h,f),this.options=f,this.loose=!!f.loose,this.parse(h),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(h){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],v=h.match(f);if(!v)throw new TypeError(`Invalid comparator: ${h}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new l(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(h){if(a("Comparator.test",h,this.options.loose),this.semver===e||h===e)return!0;if(typeof h=="string")try{h=new l(h,this.options)}catch{return!1}return o(h,this.operator,this.semver,this.options)}intersects(h,f){if(!(h instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(h.value,f).test(this.value):h.operator===""?h.value===""?!0:new u(this.value,f).test(h.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||o(this.semver,"<",h.semver,f)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||o(this.semver,">",h.semver,f)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}_g=t;const r=x4(),{safeRe:n,t:i}=_d(),o=dI(),a=gp(),l=Gn(),u=is();return _g}s(bp,"requireComparator");var Eg,M8;function yp(){if(M8)return Eg;M8=1;const e=is();return Eg=s((r,n,i)=>{try{n=new e(n,i)}catch{return!1}return n.test(r)},"satisfies"),Eg}s(yp,"requireSatisfies");var Sg,I8;function jY(){if(I8)return Sg;I8=1;const e=is();return Sg=s((r,n)=>new e(r,n).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),"toComparators"),Sg}s(jY,"requireToComparators");var kg,O8;function LY(){if(O8)return kg;O8=1;const e=Gn(),t=is();return kg=s((n,i,o)=>{let a=null,l=null,u=null;try{u=new t(i,o)}catch{return null}return n.forEach(c=>{u.test(c)&&(!a||l.compare(c)===-1)&&(a=c,l=new e(a,o))}),a},"maxSatisfying"),kg}s(LY,"requireMaxSatisfying");var Tg,R8;function PY(){if(R8)return Tg;R8=1;const e=Gn(),t=is();return Tg=s((n,i,o)=>{let a=null,l=null,u=null;try{u=new t(i,o)}catch{return null}return n.forEach(c=>{u.test(c)&&(!a||l.compare(c)===1)&&(a=c,l=new e(a,o))}),a},"minSatisfying"),Tg}s(PY,"requireMinSatisfying");var Ag,j8;function DY(){if(j8)return Ag;j8=1;const e=Gn(),t=is(),r=vp();return Ag=s((i,o)=>{i=new t(i,o);let a=new e("0.0.0");if(i.test(a)||(a=new e("0.0.0-0"),i.test(a)))return a;a=null;for(let l=0;l<i.set.length;++l){const u=i.set[l];let c=null;u.forEach(h=>{const f=new e(h.semver.version);switch(h.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!c||r(f,c))&&(c=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),c&&(!a||r(a,c))&&(a=c)}return a&&i.test(a)?a:null},"minVersion"),Ag}s(DY,"requireMinVersion");var Ng,L8;function BY(){if(L8)return Ng;L8=1;const e=is();return Ng=s((r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},"validRange"),Ng}s(BY,"requireValid");var Cg,P8;function T4(){if(P8)return Cg;P8=1;const e=Gn(),t=bp(),{ANY:r}=t,n=is(),i=yp(),o=vp(),a=E4(),l=k4(),u=S4();return Cg=s((h,f,v,m)=>{h=new e(h,m),f=new n(f,m);let w,_,A,M,I;switch(v){case">":w=o,_=l,A=a,M=">",I=">=";break;case"<":w=a,_=u,A=o,M="<",I="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(h,f,m))return!1;for(let R=0;R<f.set.length;++R){const L=f.set[R];let P=null,F=null;if(L.forEach(Z=>{Z.semver===r&&(Z=new t(">=0.0.0")),P=P||Z,F=F||Z,w(Z.semver,P.semver,m)?P=Z:A(Z.semver,F.semver,m)&&(F=Z)}),P.operator===M||P.operator===I||(!F.operator||F.operator===M)&&_(h,F.semver))return!1;if(F.operator===I&&A(h,F.semver))return!1}return!0},"outside"),Cg}s(T4,"requireOutside");var Mg,D8;function zY(){if(D8)return Mg;D8=1;const e=T4();return Mg=s((r,n,i)=>e(r,n,">",i),"gtr"),Mg}s(zY,"requireGtr");var Ig,B8;function UY(){if(B8)return Ig;B8=1;const e=T4();return Ig=s((r,n,i)=>e(r,n,"<",i),"ltr"),Ig}s(UY,"requireLtr");var Og,z8;function FY(){if(z8)return Og;z8=1;const e=is();return Og=s((r,n,i)=>(r=new e(r,i),n=new e(n,i),r.intersects(n,i)),"intersects"),Og}s(FY,"requireIntersects");var Rg,U8;function $Y(){if(U8)return Rg;U8=1;const e=yp(),t=ns();return Rg=s((r,n,i)=>{const o=[];let a=null,l=null;const u=r.sort((v,m)=>t(v,m,i));for(const v of u)e(v,n,i)?(l=v,a||(a=v)):(l&&o.push([a,l]),l=null,a=null);a&&o.push([a,null]);const c=[];for(const[v,m]of o)v===m?c.push(v):!m&&v===u[0]?c.push("*"):m?v===u[0]?c.push(`<=${m}`):c.push(`${v} - ${m}`):c.push(`>=${v}`);const h=c.join(" || "),f=typeof n.raw=="string"?n.raw:String(n);return h.length<f.length?h:n},"simplify"),Rg}s($Y,"requireSimplify");var jg,F8;function HY(){if(F8)return jg;F8=1;const e=is(),t=bp(),{ANY:r}=t,n=yp(),i=ns(),o=s((f,v,m={})=>{if(f===v)return!0;f=new e(f,m),v=new e(v,m);let w=!1;e:for(const _ of f.set){for(const A of v.set){const M=u(_,A,m);if(w=w||M!==null,M)continue e}if(w)return!1}return!0},"subset"),a=[new t(">=0.0.0-0")],l=[new t(">=0.0.0")],u=s((f,v,m)=>{if(f===v)return!0;if(f.length===1&&f[0].semver===r){if(v.length===1&&v[0].semver===r)return!0;m.includePrerelease?f=a:f=l}if(v.length===1&&v[0].semver===r){if(m.includePrerelease)return!0;v=l}const w=new Set;let _,A;for(const G of f)G.operator===">"||G.operator===">="?_=c(_,G,m):G.operator==="<"||G.operator==="<="?A=h(A,G,m):w.add(G.semver);if(w.size>1)return null;let M;if(_&&A){if(M=i(_.semver,A.semver,m),M>0)return null;if(M===0&&(_.operator!==">="||A.operator!=="<="))return null}for(const G of w){if(_&&!n(G,String(_),m)||A&&!n(G,String(A),m))return null;for(const se of v)if(!n(G,String(se),m))return!1;return!0}let I,R,L,P,F=A&&!m.includePrerelease&&A.semver.prerelease.length?A.semver:!1,Z=_&&!m.includePrerelease&&_.semver.prerelease.length?_.semver:!1;F&&F.prerelease.length===1&&A.operator==="<"&&F.prerelease[0]===0&&(F=!1);for(const G of v){if(P=P||G.operator===">"||G.operator===">=",L=L||G.operator==="<"||G.operator==="<=",_){if(Z&&G.semver.prerelease&&G.semver.prerelease.length&&G.semver.major===Z.major&&G.semver.minor===Z.minor&&G.semver.patch===Z.patch&&(Z=!1),G.operator===">"||G.operator===">="){if(I=c(_,G,m),I===G&&I!==_)return!1}else if(_.operator===">="&&!n(_.semver,String(G),m))return!1}if(A){if(F&&G.semver.prerelease&&G.semver.prerelease.length&&G.semver.major===F.major&&G.semver.minor===F.minor&&G.semver.patch===F.patch&&(F=!1),G.operator==="<"||G.operator==="<="){if(R=h(A,G,m),R===G&&R!==A)return!1}else if(A.operator==="<="&&!n(A.semver,String(G),m))return!1}if(!G.operator&&(A||_)&&M!==0)return!1}return!(_&&L&&!A&&M!==0||A&&P&&!_&&M!==0||Z||F)},"simpleSubset"),c=s((f,v,m)=>{if(!f)return v;const w=i(f.semver,v.semver,m);return w>0?f:w<0||v.operator===">"&&f.operator===">="?v:f},"higherGT"),h=s((f,v,m)=>{if(!f)return v;const w=i(f.semver,v.semver,m);return w<0?f:w>0||v.operator==="<"&&f.operator==="<="?v:f},"lowerLT");return jg=o,jg}s(HY,"requireSubset");var Lg,$8;function VY(){if($8)return Lg;$8=1;const e=_d(),t=mp(),r=Gn(),n=lI(),i=eu(),o=wY(),a=xY(),l=_Y(),u=EY(),c=SY(),h=kY(),f=TY(),v=AY(),m=ns(),w=NY(),_=CY(),A=_4(),M=MY(),I=IY(),R=vp(),L=E4(),P=uI(),F=cI(),Z=S4(),G=k4(),se=dI(),U=OY(),X=bp(),d=is(),y=yp(),g=jY(),x=LY(),E=PY(),T=DY(),N=BY(),k=T4(),p=zY(),S=UY(),C=FY(),O=$Y(),B=HY();return Lg={parse:i,valid:o,clean:a,inc:l,diff:u,major:c,minor:h,patch:f,prerelease:v,compare:m,rcompare:w,compareLoose:_,compareBuild:A,sort:M,rsort:I,gt:R,lt:L,eq:P,neq:F,gte:Z,lte:G,cmp:se,coerce:U,Comparator:X,Range:d,satisfies:y,toComparators:g,maxSatisfying:x,minSatisfying:E,minVersion:T,validRange:N,outside:k,gtr:p,ltr:S,intersects:C,simplifyRange:O,subset:B,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Lg}s(VY,"requireSemver");var GY=VY();const ZY=a0(GY);function JY(){const{toast:e}=Mr(),{data:t}=eI();async function r(i){const o=`https://api.github.com/repos/${i}/releases/latest`;try{const a=await fetch(o,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"fetch-latest-release"}});if(!a.ok)throw new Error(`Failed to fetch latest release: ${a.status} ${a.statusText}`);return(await a.json()).tag_name}catch{}}s(r,"getLatestRelease");const n=H.useCallback(async()=>{try{const i=await r("elizaos/eliza"),o=t?.version;i&&o&&ZY.gt(i.replace("v",""),o.replace("v",""))&&e({variant:"default",title:`New version ${i} is available.`,description:"Visit GitHub for more information.",action:b.jsx(h0,{to:"https://github.com/elizaos/eliza/releases",target:"_blank",children:b.jsx(iI,{altText:"Update",children:"Update"})})})}catch(i){Ye.error(`Unable to retrieve latest version from GitHub: ${i}`)}},[e,t?.version]);return H.useEffect(()=>{n()},[n]),null}s(JY,"useVersion");const WY=s(({text:e})=>{const[t,r]=H.useState(!1),n=s(()=>{navigator.clipboard.writeText(e).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},"handleCopy");return b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{onClick:n,variant:"ghost",size:"icon",className:"flex items-center space-x-2 text-muted-foreground",children:t?b.jsx(ca,{className:"size-3"}):b.jsx(hs,{className:"size-3"})})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:"Copy"})})]})},"CopyButton$1"),QY=s(({onClick:e})=>b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{onClick:e,variant:"ghost",size:"icon",className:"text-muted-foreground",children:b.jsx(No,{className:"size-3"})})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:"Delete"})})]}),"DeleteButton");function XY({onClick:e,className:t}){return b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{variant:"ghost",size:"icon",className:`text-muted-foreground ${t}`,onClick:e,children:b.jsx(KP,{className:"size-3"})})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:"Retry message"})})]})}s(XY,"RetryButton");const KY=s(e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const r of t){const n=e.match(r);if(n)return n[1]}return null},"getYouTubeId"),qY=s(e=>{const t=e.match(/spotify\.com\/(track|album|playlist|episode|show)\/([a-zA-Z0-9]+)(?:\?.*)?/);return t?{type:t[1],id:t[2]}:null},"getSpotifyId"),YY=s(e=>/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)(\?.*)?$/i.test(e),"isImageUrl$1"),eee=s(e=>/\.(mp4|webm|ogg|mov|avi|wmv|flv|mkv)(\?.*)?$/i.test(e),"isVideoUrl"),tee=s(e=>/\.(mp3|wav|ogg|aac|flac|m4a|wma)(\?.*)?$/i.test(e),"isAudioUrl"),ree=s(e=>/\.pdf(\?.*)?$/i.test(e)||e.includes("pdf"),"isPdfUrl"),nee=s(e=>/\.(pdf|doc|docx|ppt|pptx|xls|xlsx|txt)(\?.*)?$/i.test(e),"isDocumentUrl");function H8({url:e,title:t,className:r,maxWidth:n=600,maxHeight:i=400}){const[o,a]=H.useState(!0),[l,u]=H.useState(!1),c=s(()=>a(!1),"handleLoad"),h=s(()=>{a(!1),u(!0)},"handleError"),f=KY(e);if(f)return b.jsxs("div",{className:Fe("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:[o&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx(xb,{className:"w-6 h-6"}),b.jsx("span",{children:"Loading video..."})]})}),b.jsx("iframe",{src:`https://www.youtube.com/embed/${f}`,title:t||"YouTube video",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:c,onError:h})]});const v=qY(e);if(v){const m=v.type==="track"?152:v.type==="episode"?232:352;return b.jsxs("div",{className:Fe("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n},children:[o&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx(A1,{className:"w-6 h-6"}),b.jsx("span",{children:"Loading Spotify content..."})]})}),b.jsx("iframe",{src:`https://open.spotify.com/embed/${v.type}/${v.id}?utm_source=generator`,width:"100%",height:m,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:t||"Spotify content",onLoad:c,onError:h})]})}return YY(e)?b.jsxs("div",{className:Fe("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:[o&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsx("div",{className:"animate-pulse w-full h-32 bg-muted-foreground/20 rounded"})}),l?b.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[b.jsx(Ni,{className:"w-6 h-6 mr-2"}),b.jsx("span",{children:"Failed to load image"})]}):b.jsx("img",{src:e||"/placeholder.svg",alt:t||"Image",width:n,height:i,className:"w-full h-auto object-contain",onLoad:c,onError:h})]}):eee(e)?b.jsx("div",{className:Fe("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:l?b.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[b.jsx(Ni,{className:"w-6 h-6 mr-2"}),b.jsx("span",{children:"Failed to load video"})]}):b.jsxs("video",{controls:!0,preload:"metadata",className:"w-full h-auto",onLoadedData:c,onError:h,crossOrigin:"anonymous",children:[b.jsx("source",{src:e}),"Your browser does not support the video tag."]})}):tee(e)?b.jsxs("div",{className:Fe("relative rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:[b.jsxs("div",{className:"flex items-center space-x-3 mb-3 overflow-hidden",children:[b.jsx(A1,{className:"w-5 h-5 text-muted-foreground"}),b.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Audio File"})]}),l?b.jsxs("div",{className:"flex items-center text-muted-foreground",children:[b.jsx(Ni,{className:"w-4 h-4 mr-2"}),b.jsx("span",{className:"text-sm",children:"Failed to load audio"})]}):b.jsxs("audio",{controls:!0,className:"w-full",preload:"metadata",onLoadedData:c,onError:h,crossOrigin:"anonymous",children:[b.jsx("source",{src:e}),"Your browser does not support the audio tag."]})]}):ree(e)?b.jsxs("div",{className:Fe("relative rounded-lg overflow-hidden bg-card border",r),style:{maxWidth:n},children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 border-b gap-10",children:[b.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[b.jsx(xo,{className:"w-5 h-5 text-muted-foreground"}),b.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"PDF Document"})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[b.jsx(Vu,{className:"w-4 h-4"}),b.jsx("span",{children:"View"})]}),b.jsxs("a",{href:e,download:!0,className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[b.jsx(a7,{className:"w-4 h-4"}),b.jsx("span",{children:"Download"})]})]})]}),b.jsx("div",{className:"relative",style:{height:Math.min(i,500)},children:l?b.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground h-full",children:[b.jsx(Ni,{className:"w-8 h-8 mb-2"}),b.jsx("span",{className:"text-center mb-4",children:"PDF preview not available"}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90",children:"Open in Google Viewer"}),b.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",children:"Open Original"})]})]}):b.jsxs(b.Fragment,{children:[o&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx(xo,{className:"w-6 h-6"}),b.jsx("span",{children:"Loading PDF..."})]})}),b.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,className:"w-full h-full border-0",title:t||"PDF Document",onLoad:c,onError:s(()=>{const m=document.createElement("iframe");m.src=`${e}#toolbar=0&navpanes=0&scrollbar=0`,m.className="w-full h-full border-0",m.title=t||"PDF Document",m.onload=c,m.onerror=h;const w=document.querySelector(`[data-pdf-container="${e}"]`);w&&(w.innerHTML="",w.appendChild(m))},"onError")}),b.jsx("div",{"data-pdf-container":e,className:"hidden"})]})}),b.jsx("div",{className:"p-2 bg-muted/50 border-t text-xs text-muted-foreground",children:b.jsx("span",{children:`PDF Document  Click "View" or "Download" if preview doesn't load`})})]}):nee(e)?b.jsx("div",{className:Fe("rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(xo,{className:"w-8 h-8 text-muted-foreground"}),b.jsxs("div",{className:"flex-1 overflow-hidden mr-6",children:[b.jsx("p",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Document"}),b.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.split(".").pop()?.toUpperCase()," file"]})]}),b.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[b.jsx(Vu,{className:"w-4 h-4"}),b.jsx("span",{children:"Open"})]})]})}):b.jsx("div",{className:Fe("rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Vu,{className:"w-8 h-8 text-muted-foreground"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-primary font-medium",children:t||"External Link"}),b.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e})]}),b.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[b.jsx(Vu,{className:"w-4 h-4"}),b.jsx("span",{children:"Open"})]})]})})}s(H8,"MediaContent");function tu(){Rn(),En();const{toast:e}=Mr(),t=Fq(),r=$q(),[n,i]=H.useState([]),[o,a]=H.useState([]);return{startAgent:s(async f=>{if(!f.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const v=f.id;if(!n.includes(v))try{i(m=>[...m,v]),await t.mutateAsync(v)}catch(m){console.error("Failed to start agent:",m)}finally{i(m=>m.filter(w=>w!==v))}},"startAgent"),stopAgent:s(async f=>{if(!f.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const v=f.id;if(!o.includes(v))try{a(m=>[...m,v]),await r.mutateAsync(v),e({title:"Agent Stopped",description:`${f.name} has been stopped`})}catch(m){console.error("Failed to stop agent:",m)}finally{a(m=>m.filter(w=>w!==v))}},"stopAgent"),isAgentStarting:s(f=>f?n.includes(f):!1,"isAgentStarting"),isAgentStopping:s(f=>f?o.includes(f):!1,"isAgentStopping"),startingAgents:n,stoppingAgents:o}}s(tu,"useAgentManagement");function iee({agent:e,variant:t="destructive",size:r="default",className:n="",showIcon:i=!0,redirectToHome:o=!1,onStopComplete:a}){const{stopAgent:l,isAgentStopping:u}=tu(),c=Rn(),h=u(e.id),{confirm:f,isOpen:v,onOpenChange:m,onConfirm:w,options:_}=Ko(),A=s(()=>{f({title:"Stop Agent",description:`Are you sure you want to stop "${e.name}"?`,confirmText:"Stop",variant:"destructive"},async()=>{try{await l(e),a&&a(),o&&c("/")}catch(M){Ye.error("Error stopping agent:",M)}})},"handleStopAgent");return b.jsxs(b.Fragment,{children:[b.jsx(dt,{type:"button",variant:t,size:r,className:n,onClick:A,disabled:h,children:h?b.jsxs(b.Fragment,{children:[i&&b.jsx(Nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Stopping..."]}):b.jsxs(b.Fragment,{children:[i&&b.jsx(qP,{className:"mr-2 h-4 w-4"}),"Stop"]})}),b.jsx(Xo,{open:v,onOpenChange:m,title:_?.title||"",description:_?.description||"",confirmText:_?.confirmText,cancelText:_?.cancelText,variant:_?.variant,onConfirm:w})]})}s(iee,"StopAgentButton");function fI({isOpen:e,onClose:t,agentId:r}){if(!e)return null;const{startAgent:n,isAgentStarting:i,isAgentStopping:o}=tu(),{toast:a}=Mr(),l=Rn(),{data:u}=xd(r),c=u?.data,h=c?.status===on.ACTIVE,f=i(r),v=o(r),m=f||v,w={label:"Start",icon:b.jsx(xb,{className:"w-4 h-4"})};f&&(w.label="Starting...",w.icon=b.jsx(Nn,{className:"animate-spin w-4 h-4"}));const _=s(()=>{m||n(c)},"handleAgentStart"),A=s(()=>{if(!u?.data)return;const M={...u.data,createdAt:u.data.createdAt||Date.now(),updatedAt:u.data.updatedAt||Date.now()};Bb(M,a)},"handleExportCharacter");return b.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:t,onKeyUp:s(M=>{(M.key==="Enter"||M.key===" ")&&t()},"onKeyUp"),children:b.jsxs(Ns,{className:"flex flex-col w-full max-w-md md:max-w-xl overflow-hidden relative",onClick:s(M=>M.stopPropagation(),"onClick"),children:[b.jsxs(hp,{className:"p-0 space-y-0",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(dt,{variant:"ghost",size:"icon",onClick:t,children:b.jsx(ei,{className:"w-5 h-5"})})}),b.jsx("div",{className:"p-6 w-full flex items-end bg-gradient-to-b from-primary/20 to-background",children:b.jsx("div",{className:"flex w-full justify-between items-end",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"w-24 h-24 flex justify-center items-center relative",children:[b.jsx("div",{className:"text-4xl bg-muted rounded-full h-full w-full flex justify-center items-center overflow-hidden border-4 border-background",children:typeof c?.settings?.avatar=="string"?b.jsx("img",{src:c.settings.avatar,alt:"Agent Avatar",className:"w-full h-full object-cover"}):Mo(c?.name??"")}),b.jsx("div",{className:`absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-background ${h?"bg-emerald-500":"bg-muted-foreground"}`})]}),b.jsxs("div",{className:"flex flex-col justify-center mr-4",children:[b.jsx("div",{className:"text-xl font-bold truncate max-w-48",children:c?.name}),b.jsx("div",{className:"text-xs text-muted-foreground",children:b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsxs("span",{className:"cursor-pointer hover:underline",onClick:s(M=>{M.stopPropagation(),c?.id&&navigator.clipboard.writeText(c.id)},"onClick"),onKeyUp:s(M=>{(M.key==="Enter"||M.key===" ")&&(M.stopPropagation(),c?.id&&navigator.clipboard.writeText(c.id))},"onKeyUp"),children:["ID: ",c?.id??"N/A"]})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:"Click to copy agent ID"})})]})})]})]})})})]}),b.jsxs(qo,{className:"p-6 overflow-auto",children:[b.jsxs("div",{className:"rounded-md bg-muted p-4 mb-6 max-h-60 overflow-y-auto",children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"About Me"}),b.jsx("p",{className:"font-light text-sm text-gray-500",children:u?.data?.system})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Status"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${h?"bg-green-500":"bg-gray-400"}`}),b.jsx("span",{className:"text-sm",children:h?"Active":"Inactive"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Model"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(rh,{className:"w-4 h-4 text-muted-foreground"}),b.jsx("span",{className:"text-sm",children:typeof c?.settings?.model=="string"?c.settings.model:c?.settings?.model!==void 0?String(c.settings.model):"Default"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Created"}),b.jsx("p",{className:"text-sm text-gray-500",children:c?.createdAt?_o(c.createdAt).format("LLL"):_o().format("LLL")})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Plugins"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:c?.plugins&&c.plugins.length>0?c.plugins.map((M,I)=>{const R=M.replace("@elizaos/plugin-","").replace("@elizaos-plugins/plugin-","");return b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border",children:R},I)}):b.jsx("p",{className:"text-sm text-gray-500",children:"No plugins enabled"})})]})]})]}),b.jsxs(pp,{className:"flex justify-between items-center p-4 border-t",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[h?b.jsx(iee,{agent:c,showIcon:!0,size:"default",className:"h-9"}):b.jsxs(dt,{variant:"default",onClick:_,disabled:m,className:"h-9",children:[w.icon,b.jsx("span",{className:"ml-2",children:w.label})]}),b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsxs(dt,{variant:"outline",onClick:A,disabled:!c,className:"h-9",size:"sm",children:["Export",b.jsx(a7,{size:16})]})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:"Export character as JSON"})})]}),b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsxs(dt,{variant:"outline",onClick:s(()=>l(`/settings/${r}`),"onClick"),disabled:!c,className:"h-9",size:"sm",children:[b.jsx(Co,{size:16,className:"mr-1"}),"Settings"]})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:"Configure agent settings"})})]})]}),h&&b.jsx(dt,{variant:"default",className:"h-9",onClick:s(()=>l(`/chat/${c.id}`),"onClick"),children:"Message"})]})]})})}s(fI,"ProfileOverlay");function see(){return b.jsxs("svg",{role:"img","aria-label":"Loading animation",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"text-foreground","data-testid":"loading",children:[b.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:b.jsx("animate",{id:"spinner_qFRN",begin:"0;spinner_OcgL.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),b.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:b.jsx("animate",{begin:"spinner_qFRN.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),b.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:b.jsx("animate",{id:"spinner_OcgL",begin:"spinner_qFRN.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})}s(see,"MessageLoading");const aee=ma("flex gap-2 max-w-[60%] relative group",{variants:{variant:{received:"self-start",sent:"self-end flex-row-reverse"},layout:{default:"",ai:"max-w-full w-full items-center"}},defaultVariants:{variant:"received",layout:"default"}}),hI=H.forwardRef(({className:e,variant:t,layout:r,children:n,...i},o)=>b.jsx("div",{className:Fe(aee({variant:t,layout:r,className:e}),"relative group"),ref:o,...i,children:H.Children.map(n,a=>H.isValidElement(a)&&typeof a.type!="string"&&a.type!==H.Fragment?H.cloneElement(a,{variant:t,layout:r}):a)}));hI.displayName="ChatBubble";const oee=ma("",{variants:{variant:{received:"text-secondary-foreground",sent:"px-5 py-2.5 bg-secondary text-secondary-foreground rounded-lg"},layout:{default:"",ai:"border-t w-full rounded-none bg-transparent"}},defaultVariants:{variant:"received",layout:"default"}}),pI=H.forwardRef(({className:e,variant:t,layout:r,isLoading:n=!1,children:i,...o},a)=>b.jsx("div",{className:Fe(oee({variant:t,layout:r,className:e}),"break-words max-w-full whitespace-pre-wrap"),ref:a,...o,children:n?b.jsx("div",{className:"flex items-center space-x-2",children:b.jsx(see,{})}):i}));pI.displayName="ChatBubbleMessage";const lee=s(({timestamp:e,className:t,...r})=>b.jsx("div",{className:Fe("text-xs text-right select-none",t),...r,children:e}),"ChatBubbleTimestamp"),uee=H.forwardRef(({variant:e,className:t,children:r,...n},i)=>b.jsx("div",{ref:i,className:Fe("absolute top-1/2 -translate-y-1/2 flex opacity-0 group-hover:opacity-100 transition-opacity duration-200",e==="sent"?"-left-1 -translate-x-full flex-row-reverse":"-right-1 translate-x-full",t),...n,children:r}));uee.displayName="ChatBubbleActionWrapper";let Gs=null;function cee({agentId:e,text:t}){const{toast:r}=Mr(),[n,i]=H.useState(!1),[o,a]=H.useState(null),[l,u]=H.useState(null),c=H.useRef(null),h=H.useRef(null),f=Nr();H.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]);const v=ci({mutationKey:["tts",t],mutationFn:s(async()=>{console.log(" Starting TTS API call..."),console.log(" agentId:",e),console.log(" text:",t);const M=await f.audio.generateSpeech(e,{text:t});console.log(" TTS API response:",M);const{audio:I,format:R}=M;let L,P;if(I.startsWith("data:")){const[G,se]=I.split(","),U=G.match(/data:([^;]+)/);P=U?U[1]:`audio/${R||"mpeg"}`,L=se}else L=I,P=`audio/${R||"mpeg"}`;const F=atob(L),Z=new Uint8Array(F.length);for(let G=0;G<F.length;G++)Z[G]=F.charCodeAt(G);return new Blob([Z],{type:P})},"mutationFn"),onSuccess:s(M=>{a(M),h.current=M;const I=URL.createObjectURL(M);u(I),setTimeout(()=>{m()},100)},"onSuccess"),onError:s(M=>{r({variant:"destructive",title:"Unable to read message aloud",description:M.message})},"onError")}),m=s(async()=>{if(c.current)try{Gs&&Gs!==c.current&&(Gs.pause(),Gs.currentTime=0),Gs=c.current,c.current.volume=1,c.current.muted=!1,await c.current.play(),i(!0)}catch(M){r({variant:"destructive",title:"Audio playback failed",description:M.message}),i(!1)}},"play"),w=s(()=>{c.current&&(c.current.pause(),c.current.currentTime=0,Gs===c.current&&(Gs=null)),i(!1)},"stop"),_=s(async()=>{if(v?.isPending)return;if(n){w();return}if(o||h.current||c.current?.src&&c.current.src.startsWith("blob:")){await m();return}v.mutate()},"execute"),A="text-muted-foreground size-3";return b.jsxs(b.Fragment,{children:[o?b.jsx("audio",{crossOrigin:"anonymous",playsInline:!0,ref:c,src:l||"",onEnded:s(()=>{i(!1),Gs===c.current&&(Gs=null)},"onEnded"),children:"Your browser does not support the audio element."}):null,b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{size:"icon",variant:"ghost",type:"button",onClick:s(()=>_(),"onClick"),disabled:v?.isPending,children:v?.isPending?b.jsx(_b,{className:A}):n?b.jsx(yb,{className:A}):b.jsx(A1,{className:A})})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:n?"Stop":"Read aloud"})})]})]})}s(cee,"ChatTtsButton");const V8=/[#.]/g;function dee(e,t){const r=e||"",n={};let i=0,o,a;for(;i<r.length;){V8.lastIndex=i;const l=V8.exec(r),u=r.slice(i,l?l.index:r.length);u&&(o?o==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:a=u,i+=u.length),l&&(o=l[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}s(dee,"parseSelector");function mI(e,t,r){const n=r?mee(r):void 0;function i(o,a,...l){let u;if(o==null){u={type:"root",children:[]};const c=a;l.unshift(c)}else{u=dee(o,t);const c=u.tagName.toLowerCase(),h=n?n.get(c):void 0;if(u.tagName=h||c,fee(a))l.unshift(a);else for(const[f,v]of Object.entries(a))hee(e,u.properties,f,v)}for(const c of l)Iv(u.children,c);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return s(i,"h"),i}s(mI,"createH");function fee(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const a of o)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}s(fee,"isChild");function hee(e,t,r,n){const i=Eb(e,r);let o;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;o=n}else typeof n=="boolean"?o=n:typeof n=="string"?i.spaceSeparated?o=U6(n):i.commaSeparated?o=F6(n):i.commaOrSpaceSeparated?o=U6(F6(n).join(" ")):o=G8(i,i.property,n):Array.isArray(n)?o=[...n]:o=i.property==="style"?pee(n):String(n);if(Array.isArray(o)){const a=[];for(const l of o)a.push(G8(i,i.property,l));o=a}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}s(hee,"addProperty");function Iv(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)Iv(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?Iv(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}s(Iv,"addChild");function G8(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||$6(r)===$6(t)))return!0}return r}s(G8,"parsePrimitive");function pee(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}s(pee,"style");function mee(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}s(mee,"createAdjustMap");const gee=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],gI=mI(m0,"div"),vI=mI(td,"g",gee),gs={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vee(e,t){return bI(e,{})||{type:"root",children:[]}}s(vee,"fromDom");function bI(e,t){const r=bee(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}s(bI,"transform$1");function bee(e,t){switch(e.nodeType){case 1:return _ee(e,t);case 3:return wee(e);case 8:return xee(e);case 9:return Z8(e,t);case 10:return yee();case 11:return Z8(e,t);default:return}}s(bee,"one$3");function Z8(e,t){return{type:"root",children:yI(e,t)}}s(Z8,"root$4");function yee(){return{type:"doctype"}}s(yee,"doctype$3");function wee(e){return{type:"text",value:e.nodeValue||""}}s(wee,"text$6");function xee(e){return{type:"comment",value:e.nodeValue||""}}s(xee,"comment$3");function _ee(e,t){const r=e.namespaceURI,n=r===gs.svg?vI:gI,i=r===gs.html?e.tagName.toLowerCase():e.tagName,o=r===gs.html&&i==="template"?e.content:e,a=e.getAttributeNames(),l={};let u=-1;for(;++u<a.length;)l[a[u]]=e.getAttribute(a[u])||"";return n(i,l,yI(o,t))}s(_ee,"element$5");function yI(e,t){const r=e.childNodes,n=[];let i=-1;for(;++i<r.length;){const o=bI(r[i],t);o!==void 0&&n.push(o)}return n}s(yI,"all$4");new DOMParser;function Eee(e,t){const r=See(e);return vee(r)}s(Eee,"fromHtmlIsomorphic");function See(e){const t=document.createElement("template");return t.innerHTML=e,t.content}s(See,"parseFragment$1");const J8=s((function(e,t,r){const n=Sb(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),"findAfter"),Yo=s((function(e){if(e==null)return Aee;if(typeof e=="string")return Tee(e);if(typeof e=="object")return kee(e);if(typeof e=="function")return A4(e);throw new Error("Expected function, string, or array as `test`")}),"convertElement");function kee(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Yo(e[r]);return A4(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}s(kee,"anyFactory");function Tee(e){return A4(t);function t(r){return r.tagName===e}}s(Tee,"tagNameFactory");function A4(e){return t;function t(r,n,i){return!!(Nee(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}s(A4,"castFactory");function Aee(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}s(Aee,"element$4");function Nee(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}s(Nee,"looksLikeAnElement");const W8=/\n/g,Q8=/[\t ]+/g,Ov=Yo("br"),X8=Yo(Pee),Cee=Yo("p"),K8=Yo("tr"),Mee=Yo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Lee,Dee]),wI=Yo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Iee(e,t){const r=t||{},n="children"in e?e.children:[],i=wI(e),o=EI(e,{whitespace:r.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(..._I(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)a.push(...xI(n[l],e,{whitespace:o,breakBefore:l?void 0:i,breakAfter:l<n.length-1?Ov(n[l+1]):i}));const u=[];let c;for(l=-1;++l<a.length;){const h=a[l];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&u.push(`
`.repeat(c)||" "),c=-1,u.push(h))}return u.join("")}s(Iee,"toText");function xI(e,t,r){return e.type==="element"?Oee(e,t,r):e.type==="text"?r.whitespace==="normal"?_I(e,r):Ree(e):[]}s(xI,"renderedTextCollection");function Oee(e,t,r){const n=EI(e,r),i=e.children||[];let o=-1,a=[];if(Mee(e))return a;let l,u;for(Ov(e)||K8(e)&&J8(t,e,K8)?u=`
`:Cee(e)?(l=2,u=2):wI(e)&&(l=1,u=1);++o<i.length;)a=a.concat(xI(i[o],e,{whitespace:n,breakBefore:o?void 0:l,breakAfter:o<i.length-1?Ov(i[o+1]):u}));return X8(e)&&J8(t,e,X8)&&a.push("	"),l&&a.unshift(l),u&&a.push(u),a}s(Oee,"collectElement");function _I(e,t){const r=String(e.value),n=[],i=[];let o=0;for(;o<=r.length;){W8.lastIndex=o;const u=W8.exec(r),c=u&&"index"in u?u.index:r.length;n.push(jee(r.slice(o,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),o=c+1}let a=-1,l;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),l=void 0):n[a]?(typeof l=="number"&&i.push(l),i.push(n[a]),l=0):(a===0||a===n.length-1)&&i.push(0);return i}s(_I,"collectText");function Ree(e){return[String(e.value)]}s(Ree,"collectPreText");function jee(e,t,r){const n=[];let i=0,o;for(;i<e.length;){Q8.lastIndex=i;const a=Q8.exec(e);o=a?a.index:e.length,!i&&!o&&a&&!t&&n.push(""),i!==o&&n.push(e.slice(i,o)),i=a?o+a[0].length:o}return i!==o&&!r&&n.push(""),n.join(" ")}s(jee,"trimAndCollapseSpacesAndTabs");function EI(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}s(EI,"inferWhitespace");function Lee(e){return!!(e.properties||{}).hidden}s(Lee,"hidden");function Pee(e){return e.tagName==="td"||e.tagName==="th"}s(Pee,"isCell");function Dee(e){return e.tagName==="dialog"&&!(e.properties||{}).open}s(Dee,"closedDialog");class qn{static{s(this,"SourceLocation")}constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new qn(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class fi{static{s(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new fi(r,qn.range(this,t))}}class yt{static{s(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,o,a=r&&r.loc;if(a&&a.start<=a.end){var l=a.lexer.input;i=a.start,o=a.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var u=l.slice(i,o).replace(/[^]/g,"$&"),c;i>15?c=""+l.slice(i-15,i):c=l.slice(0,i);var h;o+15<l.length?h=l.slice(o,o+15)+"":h=l.slice(o),n+=c+u+h}var f=new Error(n);return f.name="ParseError",f.__proto__=yt.prototype,f.position=i,i!=null&&o!=null&&(f.length=o-i),f.rawMessage=t,f}}yt.prototype.__proto__=Error.prototype;var Bee=s(function(t,r){return t===void 0?r:t},"deflt2"),zee=/([A-Z])/g,Uee=s(function(t){return t.replace(zee,"-$1").toLowerCase()},"hyphenate2"),Fee={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$ee=/[&><"']/g;function Hee(e){return String(e).replace($ee,t=>Fee[t])}s(Hee,"escape");var SI=s(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem2"),Vee=s(function(t){var r=SI(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},"isCharacterBox2"),Gee=s(function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},"assert2"),Zee=s(function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},"protocolFromUrl2"),gr={deflt:Bee,escape:Hee,hyphenate:Uee,getBaseElem:SI,isCharacterBox:Vee,protocolFromUrl:Zee},nc={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:s(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:s((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:s(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:s(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:s(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:s(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}};function Jee(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}s(Jee,"getDefaultValue");class N4{static{s(this,"Settings")}constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in nc)if(nc.hasOwnProperty(r)){var n=nc[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:Jee(n)}}reportNonstrict(t,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(t,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new yt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var i=this.strict;if(typeof i=="function")try{i=i(t,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=gr.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class Sa{static{s(this,"Style")}constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return ds[Wee[this.id]]}sub(){return ds[Qee[this.id]]}fracNum(){return ds[Xee[this.id]]}fracDen(){return ds[Kee[this.id]]}cramp(){return ds[qee[this.id]]}text(){return ds[Yee[this.id]]}isTight(){return this.size>=2}}var C4=0,Lh=1,Ml=2,oa=3,Vc=4,Ci=5,Hl=6,Un=7,ds=[new Sa(C4,0,!1),new Sa(Lh,0,!0),new Sa(Ml,1,!1),new Sa(oa,1,!0),new Sa(Vc,2,!1),new Sa(Ci,2,!0),new Sa(Hl,3,!1),new Sa(Un,3,!0)],Wee=[Vc,Ci,Vc,Ci,Hl,Un,Hl,Un],Qee=[Ci,Ci,Ci,Ci,Un,Un,Un,Un],Xee=[Ml,oa,Vc,Ci,Hl,Un,Hl,Un],Kee=[oa,oa,Ci,Ci,Un,Un,Un,Un],qee=[Lh,Lh,oa,oa,Ci,Ci,Un,Un],Yee=[C4,Lh,Ml,oa,Ml,oa,Ml,oa],Vt={DISPLAY:ds[C4],TEXT:ds[Ml],SCRIPT:ds[Vc],SCRIPTSCRIPT:ds[Hl]},Rv=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ete(e){for(var t=0;t<Rv.length;t++)for(var r=Rv[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}s(ete,"scriptFromCodepoint");var Wf=[];Rv.forEach(e=>e.blocks.forEach(t=>Wf.push(...t)));function kI(e){for(var t=0;t<Wf.length;t+=2)if(e>=Wf[t]&&e<=Wf[t+1])return!0;return!1}s(kI,"supportedCodepoint");var fl=80,tte=s(function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtMain2"),rte=s(function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize12"),nte=s(function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize22"),ite=s(function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},"sqrtSize32"),ste=s(function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},"sqrtSize42"),ate=s(function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},"phasePath2"),ote=s(function(t,r,n){var i=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},"sqrtTall2"),lte=s(function(t,r,n){r=1e3*r;var i="";switch(t){case"sqrtMain":i=tte(r,fl);break;case"sqrtSize1":i=rte(r,fl);break;case"sqrtSize2":i=nte(r,fl);break;case"sqrtSize3":i=ite(r,fl);break;case"sqrtSize4":i=ste(r,fl);break;case"sqrtTall":i=ote(r,fl,n)}return i},"sqrtPath2"),ute=s(function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},"innerPath2"),q8={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},cte=s(function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim2");class Ed{static{s(this,"DocumentFragment")}constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=s(r=>r.toText(),"toText");return this.children.map(t).join("")}}var vs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},cf={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Y8={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function TI(e,t){vs[e]=t}s(TI,"setFontMetrics");function M4(e,t,r){if(!vs[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=vs[t][n];if(!i&&e[0]in Y8&&(n=Y8[e[0]].charCodeAt(0),i=vs[t][n]),!i&&r==="text"&&kI(n)&&(i=vs[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}s(M4,"getCharacterMetrics");var Pg={};function dte(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Pg[t]){var r=Pg[t]={cssEmPerMu:cf.quad[t]/18};for(var n in cf)cf.hasOwnProperty(n)&&(r[n]=cf[n][t])}return Pg[t]}s(dte,"getGlobalMetrics");var fte=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],e5=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],t5=s(function(t,r){return r.size<2?t:fte[t-1][r.size-1]},"sizeAtStyle2");class Ys{static{s(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ys.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=e5[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Ys(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:t5(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:e5[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=t5(Ys.BASESIZE,t);return this.size===r&&this.textSize===Ys.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ys.BASESIZE?["sizing","reset-size"+this.size,"size"+Ys.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=dte(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ys.BASESIZE=6;var jv={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},hte={ex:!0,em:!0,mu:!0},AI=s(function(t){return typeof t!="string"&&(t=t.unit),t in jv||t in hte||t==="ex"},"validUnit2"),Gr=s(function(t,r){var n;if(t.unit in jv)n=jv[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,t.unit==="ex")n=i.fontMetrics().xHeight;else if(t.unit==="em")n=i.fontMetrics().quad;else throw new yt("Invalid unit: '"+t.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},"calculateSize2"),kt=s(function(t){return+t.toFixed(4)+"em"},"makeEm2"),Ha=s(function(t){return t.filter(r=>r).join(" ")},"createClass2"),NI=s(function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},"initNode2"),CI=s(function(t){var r=document.createElement(t);r.className=Ha(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)r.appendChild(this.children[o].toNode());return r},"toNode2"),pte=/[\s"'>/=\x00-\x1f]/,MI=s(function(t){var r="<"+t;this.classes.length&&(r+=' class="'+gr.escape(Ha(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=gr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+gr.escape(n)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(pte.test(o))throw new yt("Invalid attribute name '"+o+"'");r+=" "+o+'="'+gr.escape(this.attributes[o])+'"'}r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+t+">",r},"toMarkup2");class Sd{static{s(this,"Span")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,NI.call(this,t,n,i),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return CI.call(this,"span")}toMarkup(){return MI.call(this,"span")}}class I4{static{s(this,"Anchor")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,NI.call(this,r,i),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return CI.call(this,"a")}toMarkup(){return MI.call(this,"a")}}class mte{static{s(this,"Img")}constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+gr.escape(this.src)+'"'+(' alt="'+gr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=gr.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+gr.escape(r)+'"'),t+="'/>",t}}var gte={:"",:"",:"",:""};class Ii{static{s(this,"SymbolNode")}constructor(t,r,n,i,o,a,l,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=l||[],this.style=u||{},this.maxFontSize=0;var c=ete(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=gte[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=kt(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Ha(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=gr.escape(Ha(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=gr.hyphenate(i)+":"+this.style[i]+";");n&&(t=!0,r+=' style="'+gr.escape(n)+'"');var o=gr.escape(this.text);return t?(r+=">",r+=o,r+="</span>",r):o}}class fa{static{s(this,"SvgNode")}constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+gr.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class Va{static{s(this,"PathNode")}constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",q8[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+gr.escape(this.alternate)+'"/>':'<path d="'+gr.escape(q8[this.pathName])+'"/>'}}class Lv{static{s(this,"LineNode")}constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+gr.escape(this.attributes[r])+'"');return t+="/>",t}}function r5(e){if(e instanceof Ii)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}s(r5,"assertSymbolDomNode");function vte(e){if(e instanceof Sd)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}s(vte,"assertSpan");var bte={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yte={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Cr={math:{},text:{}};function D(e,t,r,n,i,o){Cr[e][i]={font:t,group:r,replace:n},o&&n&&(Cr[e][n]=Cr[e][i])}s(D,"defineSymbol");var V="math",ht="text",Q="main",xe="ams",Dr="accent-token",jt="bin",Zn="close",ru="inner",Ht="mathord",cn="op-token",bi="open",wp="punct",Se="rel",ba="spacing",Oe="textord";D(V,Q,Se,"","\\equiv",!0);D(V,Q,Se,"","\\prec",!0);D(V,Q,Se,"","\\succ",!0);D(V,Q,Se,"","\\sim",!0);D(V,Q,Se,"","\\perp");D(V,Q,Se,"","\\preceq",!0);D(V,Q,Se,"","\\succeq",!0);D(V,Q,Se,"","\\simeq",!0);D(V,Q,Se,"","\\mid",!0);D(V,Q,Se,"","\\ll",!0);D(V,Q,Se,"","\\gg",!0);D(V,Q,Se,"","\\asymp",!0);D(V,Q,Se,"","\\parallel");D(V,Q,Se,"","\\bowtie",!0);D(V,Q,Se,"","\\smile",!0);D(V,Q,Se,"","\\sqsubseteq",!0);D(V,Q,Se,"","\\sqsupseteq",!0);D(V,Q,Se,"","\\doteq",!0);D(V,Q,Se,"","\\frown",!0);D(V,Q,Se,"","\\ni",!0);D(V,Q,Se,"","\\propto",!0);D(V,Q,Se,"","\\vdash",!0);D(V,Q,Se,"","\\dashv",!0);D(V,Q,Se,"","\\owns");D(V,Q,wp,".","\\ldotp");D(V,Q,wp,"","\\cdotp");D(V,Q,Oe,"#","\\#");D(ht,Q,Oe,"#","\\#");D(V,Q,Oe,"&","\\&");D(ht,Q,Oe,"&","\\&");D(V,Q,Oe,"","\\aleph",!0);D(V,Q,Oe,"","\\forall",!0);D(V,Q,Oe,"","\\hbar",!0);D(V,Q,Oe,"","\\exists",!0);D(V,Q,Oe,"","\\nabla",!0);D(V,Q,Oe,"","\\flat",!0);D(V,Q,Oe,"","\\ell",!0);D(V,Q,Oe,"","\\natural",!0);D(V,Q,Oe,"","\\clubsuit",!0);D(V,Q,Oe,"","\\wp",!0);D(V,Q,Oe,"","\\sharp",!0);D(V,Q,Oe,"","\\diamondsuit",!0);D(V,Q,Oe,"","\\Re",!0);D(V,Q,Oe,"","\\heartsuit",!0);D(V,Q,Oe,"","\\Im",!0);D(V,Q,Oe,"","\\spadesuit",!0);D(V,Q,Oe,"","\\S",!0);D(ht,Q,Oe,"","\\S");D(V,Q,Oe,"","\\P",!0);D(ht,Q,Oe,"","\\P");D(V,Q,Oe,"","\\dag");D(ht,Q,Oe,"","\\dag");D(ht,Q,Oe,"","\\textdagger");D(V,Q,Oe,"","\\ddag");D(ht,Q,Oe,"","\\ddag");D(ht,Q,Oe,"","\\textdaggerdbl");D(V,Q,Zn,"","\\rmoustache",!0);D(V,Q,bi,"","\\lmoustache",!0);D(V,Q,Zn,"","\\rgroup",!0);D(V,Q,bi,"","\\lgroup",!0);D(V,Q,jt,"","\\mp",!0);D(V,Q,jt,"","\\ominus",!0);D(V,Q,jt,"","\\uplus",!0);D(V,Q,jt,"","\\sqcap",!0);D(V,Q,jt,"","\\ast");D(V,Q,jt,"","\\sqcup",!0);D(V,Q,jt,"","\\bigcirc",!0);D(V,Q,jt,"","\\bullet",!0);D(V,Q,jt,"","\\ddagger");D(V,Q,jt,"","\\wr",!0);D(V,Q,jt,"","\\amalg");D(V,Q,jt,"&","\\And");D(V,Q,Se,"","\\longleftarrow",!0);D(V,Q,Se,"","\\Leftarrow",!0);D(V,Q,Se,"","\\Longleftarrow",!0);D(V,Q,Se,"","\\longrightarrow",!0);D(V,Q,Se,"","\\Rightarrow",!0);D(V,Q,Se,"","\\Longrightarrow",!0);D(V,Q,Se,"","\\leftrightarrow",!0);D(V,Q,Se,"","\\longleftrightarrow",!0);D(V,Q,Se,"","\\Leftrightarrow",!0);D(V,Q,Se,"","\\Longleftrightarrow",!0);D(V,Q,Se,"","\\mapsto",!0);D(V,Q,Se,"","\\longmapsto",!0);D(V,Q,Se,"","\\nearrow",!0);D(V,Q,Se,"","\\hookleftarrow",!0);D(V,Q,Se,"","\\hookrightarrow",!0);D(V,Q,Se,"","\\searrow",!0);D(V,Q,Se,"","\\leftharpoonup",!0);D(V,Q,Se,"","\\rightharpoonup",!0);D(V,Q,Se,"","\\swarrow",!0);D(V,Q,Se,"","\\leftharpoondown",!0);D(V,Q,Se,"","\\rightharpoondown",!0);D(V,Q,Se,"","\\nwarrow",!0);D(V,Q,Se,"","\\rightleftharpoons",!0);D(V,xe,Se,"","\\nless",!0);D(V,xe,Se,"","\\@nleqslant");D(V,xe,Se,"","\\@nleqq");D(V,xe,Se,"","\\lneq",!0);D(V,xe,Se,"","\\lneqq",!0);D(V,xe,Se,"","\\@lvertneqq");D(V,xe,Se,"","\\lnsim",!0);D(V,xe,Se,"","\\lnapprox",!0);D(V,xe,Se,"","\\nprec",!0);D(V,xe,Se,"","\\npreceq",!0);D(V,xe,Se,"","\\precnsim",!0);D(V,xe,Se,"","\\precnapprox",!0);D(V,xe,Se,"","\\nsim",!0);D(V,xe,Se,"","\\@nshortmid");D(V,xe,Se,"","\\nmid",!0);D(V,xe,Se,"","\\nvdash",!0);D(V,xe,Se,"","\\nvDash",!0);D(V,xe,Se,"","\\ntriangleleft");D(V,xe,Se,"","\\ntrianglelefteq",!0);D(V,xe,Se,"","\\subsetneq",!0);D(V,xe,Se,"","\\@varsubsetneq");D(V,xe,Se,"","\\subsetneqq",!0);D(V,xe,Se,"","\\@varsubsetneqq");D(V,xe,Se,"","\\ngtr",!0);D(V,xe,Se,"","\\@ngeqslant");D(V,xe,Se,"","\\@ngeqq");D(V,xe,Se,"","\\gneq",!0);D(V,xe,Se,"","\\gneqq",!0);D(V,xe,Se,"","\\@gvertneqq");D(V,xe,Se,"","\\gnsim",!0);D(V,xe,Se,"","\\gnapprox",!0);D(V,xe,Se,"","\\nsucc",!0);D(V,xe,Se,"","\\nsucceq",!0);D(V,xe,Se,"","\\succnsim",!0);D(V,xe,Se,"","\\succnapprox",!0);D(V,xe,Se,"","\\ncong",!0);D(V,xe,Se,"","\\@nshortparallel");D(V,xe,Se,"","\\nparallel",!0);D(V,xe,Se,"","\\nVDash",!0);D(V,xe,Se,"","\\ntriangleright");D(V,xe,Se,"","\\ntrianglerighteq",!0);D(V,xe,Se,"","\\@nsupseteqq");D(V,xe,Se,"","\\supsetneq",!0);D(V,xe,Se,"","\\@varsupsetneq");D(V,xe,Se,"","\\supsetneqq",!0);D(V,xe,Se,"","\\@varsupsetneqq");D(V,xe,Se,"","\\nVdash",!0);D(V,xe,Se,"","\\precneqq",!0);D(V,xe,Se,"","\\succneqq",!0);D(V,xe,Se,"","\\@nsubseteqq");D(V,xe,jt,"","\\unlhd");D(V,xe,jt,"","\\unrhd");D(V,xe,Se,"","\\nleftarrow",!0);D(V,xe,Se,"","\\nrightarrow",!0);D(V,xe,Se,"","\\nLeftarrow",!0);D(V,xe,Se,"","\\nRightarrow",!0);D(V,xe,Se,"","\\nleftrightarrow",!0);D(V,xe,Se,"","\\nLeftrightarrow",!0);D(V,xe,Se,"","\\vartriangle");D(V,xe,Oe,"","\\hslash");D(V,xe,Oe,"","\\triangledown");D(V,xe,Oe,"","\\lozenge");D(V,xe,Oe,"","\\circledS");D(V,xe,Oe,"","\\circledR");D(ht,xe,Oe,"","\\circledR");D(V,xe,Oe,"","\\measuredangle",!0);D(V,xe,Oe,"","\\nexists");D(V,xe,Oe,"","\\mho");D(V,xe,Oe,"","\\Finv",!0);D(V,xe,Oe,"","\\Game",!0);D(V,xe,Oe,"","\\backprime");D(V,xe,Oe,"","\\blacktriangle");D(V,xe,Oe,"","\\blacktriangledown");D(V,xe,Oe,"","\\blacksquare");D(V,xe,Oe,"","\\blacklozenge");D(V,xe,Oe,"","\\bigstar");D(V,xe,Oe,"","\\sphericalangle",!0);D(V,xe,Oe,"","\\complement",!0);D(V,xe,Oe,"","\\eth",!0);D(ht,Q,Oe,"","");D(V,xe,Oe,"","\\diagup");D(V,xe,Oe,"","\\diagdown");D(V,xe,Oe,"","\\square");D(V,xe,Oe,"","\\Box");D(V,xe,Oe,"","\\Diamond");D(V,xe,Oe,"","\\yen",!0);D(ht,xe,Oe,"","\\yen",!0);D(V,xe,Oe,"","\\checkmark",!0);D(ht,xe,Oe,"","\\checkmark");D(V,xe,Oe,"","\\beth",!0);D(V,xe,Oe,"","\\daleth",!0);D(V,xe,Oe,"","\\gimel",!0);D(V,xe,Oe,"","\\digamma",!0);D(V,xe,Oe,"","\\varkappa");D(V,xe,bi,"","\\@ulcorner",!0);D(V,xe,Zn,"","\\@urcorner",!0);D(V,xe,bi,"","\\@llcorner",!0);D(V,xe,Zn,"","\\@lrcorner",!0);D(V,xe,Se,"","\\leqq",!0);D(V,xe,Se,"","\\leqslant",!0);D(V,xe,Se,"","\\eqslantless",!0);D(V,xe,Se,"","\\lesssim",!0);D(V,xe,Se,"","\\lessapprox",!0);D(V,xe,Se,"","\\approxeq",!0);D(V,xe,jt,"","\\lessdot");D(V,xe,Se,"","\\lll",!0);D(V,xe,Se,"","\\lessgtr",!0);D(V,xe,Se,"","\\lesseqgtr",!0);D(V,xe,Se,"","\\lesseqqgtr",!0);D(V,xe,Se,"","\\doteqdot");D(V,xe,Se,"","\\risingdotseq",!0);D(V,xe,Se,"","\\fallingdotseq",!0);D(V,xe,Se,"","\\backsim",!0);D(V,xe,Se,"","\\backsimeq",!0);D(V,xe,Se,"","\\subseteqq",!0);D(V,xe,Se,"","\\Subset",!0);D(V,xe,Se,"","\\sqsubset",!0);D(V,xe,Se,"","\\preccurlyeq",!0);D(V,xe,Se,"","\\curlyeqprec",!0);D(V,xe,Se,"","\\precsim",!0);D(V,xe,Se,"","\\precapprox",!0);D(V,xe,Se,"","\\vartriangleleft");D(V,xe,Se,"","\\trianglelefteq");D(V,xe,Se,"","\\vDash",!0);D(V,xe,Se,"","\\Vvdash",!0);D(V,xe,Se,"","\\smallsmile");D(V,xe,Se,"","\\smallfrown");D(V,xe,Se,"","\\bumpeq",!0);D(V,xe,Se,"","\\Bumpeq",!0);D(V,xe,Se,"","\\geqq",!0);D(V,xe,Se,"","\\geqslant",!0);D(V,xe,Se,"","\\eqslantgtr",!0);D(V,xe,Se,"","\\gtrsim",!0);D(V,xe,Se,"","\\gtrapprox",!0);D(V,xe,jt,"","\\gtrdot");D(V,xe,Se,"","\\ggg",!0);D(V,xe,Se,"","\\gtrless",!0);D(V,xe,Se,"","\\gtreqless",!0);D(V,xe,Se,"","\\gtreqqless",!0);D(V,xe,Se,"","\\eqcirc",!0);D(V,xe,Se,"","\\circeq",!0);D(V,xe,Se,"","\\triangleq",!0);D(V,xe,Se,"","\\thicksim");D(V,xe,Se,"","\\thickapprox");D(V,xe,Se,"","\\supseteqq",!0);D(V,xe,Se,"","\\Supset",!0);D(V,xe,Se,"","\\sqsupset",!0);D(V,xe,Se,"","\\succcurlyeq",!0);D(V,xe,Se,"","\\curlyeqsucc",!0);D(V,xe,Se,"","\\succsim",!0);D(V,xe,Se,"","\\succapprox",!0);D(V,xe,Se,"","\\vartriangleright");D(V,xe,Se,"","\\trianglerighteq");D(V,xe,Se,"","\\Vdash",!0);D(V,xe,Se,"","\\shortmid");D(V,xe,Se,"","\\shortparallel");D(V,xe,Se,"","\\between",!0);D(V,xe,Se,"","\\pitchfork",!0);D(V,xe,Se,"","\\varpropto");D(V,xe,Se,"","\\blacktriangleleft");D(V,xe,Se,"","\\therefore",!0);D(V,xe,Se,"","\\backepsilon");D(V,xe,Se,"","\\blacktriangleright");D(V,xe,Se,"","\\because",!0);D(V,xe,Se,"","\\llless");D(V,xe,Se,"","\\gggtr");D(V,xe,jt,"","\\lhd");D(V,xe,jt,"","\\rhd");D(V,xe,Se,"","\\eqsim",!0);D(V,Q,Se,"","\\Join");D(V,xe,Se,"","\\Doteq",!0);D(V,xe,jt,"","\\dotplus",!0);D(V,xe,jt,"","\\smallsetminus");D(V,xe,jt,"","\\Cap",!0);D(V,xe,jt,"","\\Cup",!0);D(V,xe,jt,"","\\doublebarwedge",!0);D(V,xe,jt,"","\\boxminus",!0);D(V,xe,jt,"","\\boxplus",!0);D(V,xe,jt,"","\\divideontimes",!0);D(V,xe,jt,"","\\ltimes",!0);D(V,xe,jt,"","\\rtimes",!0);D(V,xe,jt,"","\\leftthreetimes",!0);D(V,xe,jt,"","\\rightthreetimes",!0);D(V,xe,jt,"","\\curlywedge",!0);D(V,xe,jt,"","\\curlyvee",!0);D(V,xe,jt,"","\\circleddash",!0);D(V,xe,jt,"","\\circledast",!0);D(V,xe,jt,"","\\centerdot");D(V,xe,jt,"","\\intercal",!0);D(V,xe,jt,"","\\doublecap");D(V,xe,jt,"","\\doublecup");D(V,xe,jt,"","\\boxtimes",!0);D(V,xe,Se,"","\\dashrightarrow",!0);D(V,xe,Se,"","\\dashleftarrow",!0);D(V,xe,Se,"","\\leftleftarrows",!0);D(V,xe,Se,"","\\leftrightarrows",!0);D(V,xe,Se,"","\\Lleftarrow",!0);D(V,xe,Se,"","\\twoheadleftarrow",!0);D(V,xe,Se,"","\\leftarrowtail",!0);D(V,xe,Se,"","\\looparrowleft",!0);D(V,xe,Se,"","\\leftrightharpoons",!0);D(V,xe,Se,"","\\curvearrowleft",!0);D(V,xe,Se,"","\\circlearrowleft",!0);D(V,xe,Se,"","\\Lsh",!0);D(V,xe,Se,"","\\upuparrows",!0);D(V,xe,Se,"","\\upharpoonleft",!0);D(V,xe,Se,"","\\downharpoonleft",!0);D(V,Q,Se,"","\\origof",!0);D(V,Q,Se,"","\\imageof",!0);D(V,xe,Se,"","\\multimap",!0);D(V,xe,Se,"","\\leftrightsquigarrow",!0);D(V,xe,Se,"","\\rightrightarrows",!0);D(V,xe,Se,"","\\rightleftarrows",!0);D(V,xe,Se,"","\\twoheadrightarrow",!0);D(V,xe,Se,"","\\rightarrowtail",!0);D(V,xe,Se,"","\\looparrowright",!0);D(V,xe,Se,"","\\curvearrowright",!0);D(V,xe,Se,"","\\circlearrowright",!0);D(V,xe,Se,"","\\Rsh",!0);D(V,xe,Se,"","\\downdownarrows",!0);D(V,xe,Se,"","\\upharpoonright",!0);D(V,xe,Se,"","\\downharpoonright",!0);D(V,xe,Se,"","\\rightsquigarrow",!0);D(V,xe,Se,"","\\leadsto");D(V,xe,Se,"","\\Rrightarrow",!0);D(V,xe,Se,"","\\restriction");D(V,Q,Oe,"","`");D(V,Q,Oe,"$","\\$");D(ht,Q,Oe,"$","\\$");D(ht,Q,Oe,"$","\\textdollar");D(V,Q,Oe,"%","\\%");D(ht,Q,Oe,"%","\\%");D(V,Q,Oe,"_","\\_");D(ht,Q,Oe,"_","\\_");D(ht,Q,Oe,"_","\\textunderscore");D(V,Q,Oe,"","\\angle",!0);D(V,Q,Oe,"","\\infty",!0);D(V,Q,Oe,"","\\prime");D(V,Q,Oe,"","\\triangle");D(V,Q,Oe,"","\\Gamma",!0);D(V,Q,Oe,"","\\Delta",!0);D(V,Q,Oe,"","\\Theta",!0);D(V,Q,Oe,"","\\Lambda",!0);D(V,Q,Oe,"","\\Xi",!0);D(V,Q,Oe,"","\\Pi",!0);D(V,Q,Oe,"","\\Sigma",!0);D(V,Q,Oe,"","\\Upsilon",!0);D(V,Q,Oe,"","\\Phi",!0);D(V,Q,Oe,"","\\Psi",!0);D(V,Q,Oe,"","\\Omega",!0);D(V,Q,Oe,"A","");D(V,Q,Oe,"B","");D(V,Q,Oe,"E","");D(V,Q,Oe,"Z","");D(V,Q,Oe,"H","");D(V,Q,Oe,"I","");D(V,Q,Oe,"K","");D(V,Q,Oe,"M","");D(V,Q,Oe,"N","");D(V,Q,Oe,"O","");D(V,Q,Oe,"P","");D(V,Q,Oe,"T","");D(V,Q,Oe,"X","");D(V,Q,Oe,"","\\neg",!0);D(V,Q,Oe,"","\\lnot");D(V,Q,Oe,"","\\top");D(V,Q,Oe,"","\\bot");D(V,Q,Oe,"","\\emptyset");D(V,xe,Oe,"","\\varnothing");D(V,Q,Ht,"","\\alpha",!0);D(V,Q,Ht,"","\\beta",!0);D(V,Q,Ht,"","\\gamma",!0);D(V,Q,Ht,"","\\delta",!0);D(V,Q,Ht,"","\\epsilon",!0);D(V,Q,Ht,"","\\zeta",!0);D(V,Q,Ht,"","\\eta",!0);D(V,Q,Ht,"","\\theta",!0);D(V,Q,Ht,"","\\iota",!0);D(V,Q,Ht,"","\\kappa",!0);D(V,Q,Ht,"","\\lambda",!0);D(V,Q,Ht,"","\\mu",!0);D(V,Q,Ht,"","\\nu",!0);D(V,Q,Ht,"","\\xi",!0);D(V,Q,Ht,"","\\omicron",!0);D(V,Q,Ht,"","\\pi",!0);D(V,Q,Ht,"","\\rho",!0);D(V,Q,Ht,"","\\sigma",!0);D(V,Q,Ht,"","\\tau",!0);D(V,Q,Ht,"","\\upsilon",!0);D(V,Q,Ht,"","\\phi",!0);D(V,Q,Ht,"","\\chi",!0);D(V,Q,Ht,"","\\psi",!0);D(V,Q,Ht,"","\\omega",!0);D(V,Q,Ht,"","\\varepsilon",!0);D(V,Q,Ht,"","\\vartheta",!0);D(V,Q,Ht,"","\\varpi",!0);D(V,Q,Ht,"","\\varrho",!0);D(V,Q,Ht,"","\\varsigma",!0);D(V,Q,Ht,"","\\varphi",!0);D(V,Q,jt,"","*",!0);D(V,Q,jt,"+","+");D(V,Q,jt,"","-",!0);D(V,Q,jt,"","\\cdot",!0);D(V,Q,jt,"","\\circ",!0);D(V,Q,jt,"","\\div",!0);D(V,Q,jt,"","\\pm",!0);D(V,Q,jt,"","\\times",!0);D(V,Q,jt,"","\\cap",!0);D(V,Q,jt,"","\\cup",!0);D(V,Q,jt,"","\\setminus",!0);D(V,Q,jt,"","\\land");D(V,Q,jt,"","\\lor");D(V,Q,jt,"","\\wedge",!0);D(V,Q,jt,"","\\vee",!0);D(V,Q,Oe,"","\\surd");D(V,Q,bi,"","\\langle",!0);D(V,Q,bi,"","\\lvert");D(V,Q,bi,"","\\lVert");D(V,Q,Zn,"?","?");D(V,Q,Zn,"!","!");D(V,Q,Zn,"","\\rangle",!0);D(V,Q,Zn,"","\\rvert");D(V,Q,Zn,"","\\rVert");D(V,Q,Se,"=","=");D(V,Q,Se,":",":");D(V,Q,Se,"","\\approx",!0);D(V,Q,Se,"","\\cong",!0);D(V,Q,Se,"","\\ge");D(V,Q,Se,"","\\geq",!0);D(V,Q,Se,"","\\gets");D(V,Q,Se,">","\\gt",!0);D(V,Q,Se,"","\\in",!0);D(V,Q,Se,"","\\@not");D(V,Q,Se,"","\\subset",!0);D(V,Q,Se,"","\\supset",!0);D(V,Q,Se,"","\\subseteq",!0);D(V,Q,Se,"","\\supseteq",!0);D(V,xe,Se,"","\\nsubseteq",!0);D(V,xe,Se,"","\\nsupseteq",!0);D(V,Q,Se,"","\\models");D(V,Q,Se,"","\\leftarrow",!0);D(V,Q,Se,"","\\le");D(V,Q,Se,"","\\leq",!0);D(V,Q,Se,"<","\\lt",!0);D(V,Q,Se,"","\\rightarrow",!0);D(V,Q,Se,"","\\to");D(V,xe,Se,"","\\ngeq",!0);D(V,xe,Se,"","\\nleq",!0);D(V,Q,ba,"","\\ ");D(V,Q,ba,"","\\space");D(V,Q,ba,"","\\nobreakspace");D(ht,Q,ba,"","\\ ");D(ht,Q,ba,""," ");D(ht,Q,ba,"","\\space");D(ht,Q,ba,"","\\nobreakspace");D(V,Q,ba,null,"\\nobreak");D(V,Q,ba,null,"\\allowbreak");D(V,Q,wp,",",",");D(V,Q,wp,";",";");D(V,xe,jt,"","\\barwedge",!0);D(V,xe,jt,"","\\veebar",!0);D(V,Q,jt,"","\\odot",!0);D(V,Q,jt,"","\\oplus",!0);D(V,Q,jt,"","\\otimes",!0);D(V,Q,Oe,"","\\partial",!0);D(V,Q,jt,"","\\oslash",!0);D(V,xe,jt,"","\\circledcirc",!0);D(V,xe,jt,"","\\boxdot",!0);D(V,Q,jt,"","\\bigtriangleup");D(V,Q,jt,"","\\bigtriangledown");D(V,Q,jt,"","\\dagger");D(V,Q,jt,"","\\diamond");D(V,Q,jt,"","\\star");D(V,Q,jt,"","\\triangleleft");D(V,Q,jt,"","\\triangleright");D(V,Q,bi,"{","\\{");D(ht,Q,Oe,"{","\\{");D(ht,Q,Oe,"{","\\textbraceleft");D(V,Q,Zn,"}","\\}");D(ht,Q,Oe,"}","\\}");D(ht,Q,Oe,"}","\\textbraceright");D(V,Q,bi,"{","\\lbrace");D(V,Q,Zn,"}","\\rbrace");D(V,Q,bi,"[","\\lbrack",!0);D(ht,Q,Oe,"[","\\lbrack",!0);D(V,Q,Zn,"]","\\rbrack",!0);D(ht,Q,Oe,"]","\\rbrack",!0);D(V,Q,bi,"(","\\lparen",!0);D(V,Q,Zn,")","\\rparen",!0);D(ht,Q,Oe,"<","\\textless",!0);D(ht,Q,Oe,">","\\textgreater",!0);D(V,Q,bi,"","\\lfloor",!0);D(V,Q,Zn,"","\\rfloor",!0);D(V,Q,bi,"","\\lceil",!0);D(V,Q,Zn,"","\\rceil",!0);D(V,Q,Oe,"\\","\\backslash");D(V,Q,Oe,"","|");D(V,Q,Oe,"","\\vert");D(ht,Q,Oe,"|","\\textbar",!0);D(V,Q,Oe,"","\\|");D(V,Q,Oe,"","\\Vert");D(ht,Q,Oe,"","\\textbardbl");D(ht,Q,Oe,"~","\\textasciitilde");D(ht,Q,Oe,"\\","\\textbackslash");D(ht,Q,Oe,"^","\\textasciicircum");D(V,Q,Se,"","\\uparrow",!0);D(V,Q,Se,"","\\Uparrow",!0);D(V,Q,Se,"","\\downarrow",!0);D(V,Q,Se,"","\\Downarrow",!0);D(V,Q,Se,"","\\updownarrow",!0);D(V,Q,Se,"","\\Updownarrow",!0);D(V,Q,cn,"","\\coprod");D(V,Q,cn,"","\\bigvee");D(V,Q,cn,"","\\bigwedge");D(V,Q,cn,"","\\biguplus");D(V,Q,cn,"","\\bigcap");D(V,Q,cn,"","\\bigcup");D(V,Q,cn,"","\\int");D(V,Q,cn,"","\\intop");D(V,Q,cn,"","\\iint");D(V,Q,cn,"","\\iiint");D(V,Q,cn,"","\\prod");D(V,Q,cn,"","\\sum");D(V,Q,cn,"","\\bigotimes");D(V,Q,cn,"","\\bigoplus");D(V,Q,cn,"","\\bigodot");D(V,Q,cn,"","\\oint");D(V,Q,cn,"","\\oiint");D(V,Q,cn,"","\\oiiint");D(V,Q,cn,"","\\bigsqcup");D(V,Q,cn,"","\\smallint");D(ht,Q,ru,"","\\textellipsis");D(V,Q,ru,"","\\mathellipsis");D(ht,Q,ru,"","\\ldots",!0);D(V,Q,ru,"","\\ldots",!0);D(V,Q,ru,"","\\@cdots",!0);D(V,Q,ru,"","\\ddots",!0);D(V,Q,Oe,"","\\varvdots");D(ht,Q,Oe,"","\\varvdots");D(V,Q,Dr,"","\\acute");D(V,Q,Dr,"","\\grave");D(V,Q,Dr,"","\\ddot");D(V,Q,Dr,"~","\\tilde");D(V,Q,Dr,"","\\bar");D(V,Q,Dr,"","\\breve");D(V,Q,Dr,"","\\check");D(V,Q,Dr,"^","\\hat");D(V,Q,Dr,"","\\vec");D(V,Q,Dr,"","\\dot");D(V,Q,Dr,"","\\mathring");D(V,Q,Ht,"","\\@imath");D(V,Q,Ht,"","\\@jmath");D(V,Q,Oe,"","");D(V,Q,Oe,"","");D(ht,Q,Oe,"","\\i",!0);D(ht,Q,Oe,"","\\j",!0);D(ht,Q,Oe,"","\\ss",!0);D(ht,Q,Oe,"","\\ae",!0);D(ht,Q,Oe,"","\\oe",!0);D(ht,Q,Oe,"","\\o",!0);D(ht,Q,Oe,"","\\AE",!0);D(ht,Q,Oe,"","\\OE",!0);D(ht,Q,Oe,"","\\O",!0);D(ht,Q,Dr,"","\\'");D(ht,Q,Dr,"","\\`");D(ht,Q,Dr,"","\\^");D(ht,Q,Dr,"","\\~");D(ht,Q,Dr,"","\\=");D(ht,Q,Dr,"","\\u");D(ht,Q,Dr,"","\\.");D(ht,Q,Dr,"","\\c");D(ht,Q,Dr,"","\\r");D(ht,Q,Dr,"","\\v");D(ht,Q,Dr,"",'\\"');D(ht,Q,Dr,"","\\H");D(ht,Q,Dr,"","\\textcircled");var II={"--":!0,"---":!0,"``":!0,"''":!0};D(ht,Q,Oe,"","--",!0);D(ht,Q,Oe,"","\\textendash");D(ht,Q,Oe,"","---",!0);D(ht,Q,Oe,"","\\textemdash");D(ht,Q,Oe,"","`",!0);D(ht,Q,Oe,"","\\textquoteleft");D(ht,Q,Oe,"","'",!0);D(ht,Q,Oe,"","\\textquoteright");D(ht,Q,Oe,"","``",!0);D(ht,Q,Oe,"","\\textquotedblleft");D(ht,Q,Oe,"","''",!0);D(ht,Q,Oe,"","\\textquotedblright");D(V,Q,Oe,"","\\degree",!0);D(ht,Q,Oe,"","\\degree");D(ht,Q,Oe,"","\\textdegree",!0);D(V,Q,Oe,"","\\pounds");D(V,Q,Oe,"","\\mathsterling",!0);D(ht,Q,Oe,"","\\pounds");D(ht,Q,Oe,"","\\textsterling",!0);D(V,xe,Oe,"","\\maltese");D(ht,xe,Oe,"","\\maltese");var n5='0123456789/@."';for(var Dg=0;Dg<n5.length;Dg++){var i5=n5.charAt(Dg);D(V,Q,Oe,i5,i5)}var s5='0123456789!@*()-=+";:?/.,';for(var Bg=0;Bg<s5.length;Bg++){var a5=s5.charAt(Bg);D(ht,Q,Oe,a5,a5)}var Ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var zg=0;zg<Ph.length;zg++){var df=Ph.charAt(zg);D(V,Q,Ht,df,df),D(ht,Q,Oe,df,df)}D(V,xe,Oe,"C","");D(ht,xe,Oe,"C","");D(V,xe,Oe,"H","");D(ht,xe,Oe,"H","");D(V,xe,Oe,"N","");D(ht,xe,Oe,"N","");D(V,xe,Oe,"P","");D(ht,xe,Oe,"P","");D(V,xe,Oe,"Q","");D(ht,xe,Oe,"Q","");D(V,xe,Oe,"R","");D(ht,xe,Oe,"R","");D(V,xe,Oe,"Z","");D(ht,xe,Oe,"Z","");D(V,Q,Ht,"h","");D(ht,Q,Ht,"h","");var Jt="";for(var Bn=0;Bn<Ph.length;Bn++){var Zr=Ph.charAt(Bn);Jt=String.fromCharCode(55349,56320+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56372+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56424+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56580+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56684+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56736+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56788+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56840+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56944+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Bn<26&&(Jt=String.fromCharCode(55349,56632+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt),Jt=String.fromCharCode(55349,56476+Bn),D(V,Q,Ht,Zr,Jt),D(ht,Q,Oe,Zr,Jt))}Jt="";D(V,Q,Ht,"k",Jt);D(ht,Q,Oe,"k",Jt);for(var lo=0;lo<10;lo++){var ka=lo.toString();Jt=String.fromCharCode(55349,57294+lo),D(V,Q,Ht,ka,Jt),D(ht,Q,Oe,ka,Jt),Jt=String.fromCharCode(55349,57314+lo),D(V,Q,Ht,ka,Jt),D(ht,Q,Oe,ka,Jt),Jt=String.fromCharCode(55349,57324+lo),D(V,Q,Ht,ka,Jt),D(ht,Q,Oe,ka,Jt),Jt=String.fromCharCode(55349,57334+lo),D(V,Q,Ht,ka,Jt),D(ht,Q,Oe,ka,Jt)}var Pv="";for(var Ug=0;Ug<Pv.length;Ug++){var ff=Pv.charAt(Ug);D(V,Q,Ht,ff,ff),D(ht,Q,Oe,ff,ff)}var hf=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],o5=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wte=s(function(t,r){var n=t.charCodeAt(0),i=t.charCodeAt(1),o=(n-55296)*1024+(i-56320)+65536,a=r==="math"?0:1;if(119808<=o&&o<120484){var l=Math.floor((o-119808)/26);return[hf[l][2],hf[l][a]]}else if(120782<=o&&o<=120831){var u=Math.floor((o-120782)/10);return[o5[u][2],o5[u][a]]}else{if(o===120485||o===120486)return[hf[0][2],hf[0][a]];if(120486<o&&o<120782)return["",""];throw new yt("Unsupported character: "+t)}},"wideCharacterFont2"),xp=s(function(t,r,n){return Cr[n][t]&&Cr[n][t].replace&&(t=Cr[n][t].replace),{value:t,metrics:M4(t,r,n)}},"lookupSymbol2"),Ui=s(function(t,r,n,i,o){var a=xp(t,r,n),l=a.metrics;t=a.value;var u;if(l){var c=l.italic;(n==="text"||i&&i.font==="mathit")&&(c=0),u=new Ii(t,l.height,l.depth,c,l.skew,l.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),u=new Ii(t,0,0,0,0,0,o);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var h=i.getColor();h&&(u.style.color=h)}return u},"makeSymbol2"),xte=s(function(t,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&xp(t,"Main-Bold",r).metrics?Ui(t,"Main-Bold",r,n,i.concat(["mathbf"])):t==="\\"||Cr[r][t].font==="main"?Ui(t,"Main-Regular",r,n,i):Ui(t,"AMS-Regular",r,n,i.concat(["amsrm"]))},"mathsym2"),_te=s(function(t,r,n,i,o){return o!=="textord"&&xp(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol2"),Ete=s(function(t,r,n){var i=t.mode,o=t.text,a=["mord"],l=i==="math"||i==="text"&&r.font,u=l?r.font:r.fontFamily,c="",h="";if(o.charCodeAt(0)===55349&&([c,h]=wte(o,i)),c.length>0)return Ui(o,c,i,r,a.concat(h));if(u){var f,v;if(u==="boldsymbol"){var m=_te(o,i,r,a,n);f=m.fontName,v=[m.fontClass]}else l?(f=jI[u].fontName,v=[u]):(f=pf(u,r.fontWeight,r.fontShape),v=[u,r.fontWeight,r.fontShape]);if(xp(o,f,i).metrics)return Ui(o,f,i,r,a.concat(v));if(II.hasOwnProperty(o)&&f.slice(0,10)==="Typewriter"){for(var w=[],_=0;_<o.length;_++)w.push(Ui(o[_],f,i,r,a.concat(v)));return RI(w)}}if(n==="mathord")return Ui(o,"Math-Italic",i,r,a.concat(["mathnormal"]));if(n==="textord"){var A=Cr[i][o]&&Cr[i][o].font;if(A==="ams"){var M=pf("amsrm",r.fontWeight,r.fontShape);return Ui(o,M,i,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(A==="main"||!A){var I=pf("textrm",r.fontWeight,r.fontShape);return Ui(o,I,i,r,a.concat(r.fontWeight,r.fontShape))}else{var R=pf(A,r.fontWeight,r.fontShape);return Ui(o,R,i,r,a.concat(R,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},"makeOrd2"),Ste=s((e,t)=>{if(Ha(e.classes)!==Ha(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),kte=s(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Ii&&n instanceof Ii&&Ste(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),O4=s(function(t){for(var r=0,n=0,i=0,o=0;o<t.children.length;o++){var a=t.children[o];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=i},"sizeElementFromChildren2"),Kn=s(function(t,r,n,i){var o=new Sd(t,r,n,i);return O4(o),o},"makeSpan"),OI=s((e,t,r,n)=>new Sd(e,t,r,n),"makeSvgSpan"),Tte=s(function(t,r,n){var i=Kn([t],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=kt(i.height),i.maxFontSize=1,i},"makeLineSpan2"),Ate=s(function(t,r,n,i){var o=new I4(t,r,n,i);return O4(o),o},"makeAnchor2"),RI=s(function(t){var r=new Ed(t);return O4(r),r},"makeFragment2"),Nte=s(function(t,r){return t instanceof Ed?Kn([],[t],r):t},"wrapFragment2"),Cte=s(function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,o=i,a=1;a<r.length;a++){var l=-r[a].shift-o-r[a].elem.depth,u=l-(r[a-1].elem.height+r[a-1].elem.depth);o=o+l,n.push({type:"kern",size:u}),n.push(r[a])}return{children:n,depth:i}}var c;if(t.positionType==="top"){for(var h=t.positionData,f=0;f<t.children.length;f++){var v=t.children[f];h-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}c=h}else if(t.positionType==="bottom")c=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},"getVListChildrenAndDepth2"),Mte=s(function(t,r){for(var{children:n,depth:i}=Cte(t),o=0,a=0;a<n.length;a++){var l=n[a];if(l.type==="elem"){var u=l.elem;o=Math.max(o,u.maxFontSize,u.height)}}o+=2;var c=Kn(["pstrut"],[]);c.style.height=kt(o);for(var h=[],f=i,v=i,m=i,w=0;w<n.length;w++){var _=n[w];if(_.type==="kern")m+=_.size;else{var A=_.elem,M=_.wrapperClasses||[],I=_.wrapperStyle||{},R=Kn(M,[c,A],void 0,I);R.style.top=kt(-o-m-A.depth),_.marginLeft&&(R.style.marginLeft=_.marginLeft),_.marginRight&&(R.style.marginRight=_.marginRight),h.push(R),m+=A.height+A.depth}f=Math.min(f,m),v=Math.max(v,m)}var L=Kn(["vlist"],h);L.style.height=kt(v);var P;if(f<0){var F=Kn([],[]),Z=Kn(["vlist"],[F]);Z.style.height=kt(-f);var G=Kn(["vlist-s"],[new Ii("")]);P=[Kn(["vlist-r"],[L,G]),Kn(["vlist-r"],[Z])]}else P=[Kn(["vlist-r"],[L])];var se=Kn(["vlist-t"],P);return P.length===2&&se.classes.push("vlist-t2"),se.height=v,se.depth=-f,se},"makeVList2"),Ite=s((e,t)=>{var r=Kn(["mspace"],[],t),n=Gr(e,t);return r.style.marginRight=kt(n),r},"makeGlue"),pf=s(function(t,r,n){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var o;return r==="textbf"&&n==="textit"?o="BoldItalic":r==="textbf"?o="Bold":r==="textit"?o="Italic":o="Regular",i+"-"+o},"retrieveTextFontName2"),jI={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},LI={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Ote=s(function(t,r){var[n,i,o]=LI[t],a=new Va(n),l=new fa([a],{width:kt(i),height:kt(o),style:"width:"+kt(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),u=OI(["overlay"],[l],r);return u.height=o,u.style.height=kt(o),u.style.width=kt(i),u},"staticSvg2"),Je={fontMap:jI,makeSymbol:Ui,mathsym:xte,makeSpan:Kn,makeSvgSpan:OI,makeLineSpan:Tte,makeAnchor:Ate,makeFragment:RI,wrapFragment:Nte,makeVList:Mte,makeOrd:Ete,makeGlue:Ite,staticSvg:Ote,svgData:LI,tryCombineChars:kte},Hr={number:3,unit:"mu"},uo={number:4,unit:"mu"},Zs={number:5,unit:"mu"},Rte={mord:{mop:Hr,mbin:uo,mrel:Zs,minner:Hr},mop:{mord:Hr,mop:Hr,mrel:Zs,minner:Hr},mbin:{mord:uo,mop:uo,mopen:uo,minner:uo},mrel:{mord:Zs,mop:Zs,mopen:Zs,minner:Zs},mopen:{},mclose:{mop:Hr,mbin:uo,mrel:Zs,minner:Hr},mpunct:{mord:Hr,mop:Hr,mrel:Zs,mopen:Hr,mclose:Hr,mpunct:Hr,minner:Hr},minner:{mord:Hr,mop:Hr,mbin:uo,mrel:Zs,mopen:Hr,mpunct:Hr,minner:Hr}},jte={mord:{mop:Hr},mop:{mord:Hr,mop:Hr},mbin:{},mrel:{},mopen:{},mclose:{mop:Hr},mpunct:{},minner:{mop:Hr}},PI={},Dh={},Bh={};function Mt(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=e,l={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)PI[r[u]]=l;t&&(o&&(Dh[t]=o),a&&(Bh[t]=a))}s(Mt,"defineFunction");function el(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Mt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}s(el,"defineFunctionBuilders");var zh=s(function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},"normalizeArgument2"),en=s(function(t){return t.type==="ordgroup"?t.body:[t]},"ordargument2"),ha=Je.makeSpan,Lte=["leftmost","mbin","mopen","mrel","mop","mpunct"],Pte=["rightmost","mrel","mclose","mpunct"],Dte={display:Vt.DISPLAY,text:Vt.TEXT,script:Vt.SCRIPT,scriptscript:Vt.SCRIPTSCRIPT},Bte={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},mn=s(function(t,r,n,i){i===void 0&&(i=[null,null]);for(var o=[],a=0;a<t.length;a++){var l=hr(t[a],r);if(l instanceof Ed){var u=l.children;o.push(...u)}else o.push(l)}if(Je.tryCombineChars(o),!n)return o;var c=r;if(t.length===1){var h=t[0];h.type==="sizing"?c=r.havingSize(h.size):h.type==="styling"&&(c=r.havingStyle(Dte[h.style]))}var f=ha([i[0]||"leftmost"],[],r),v=ha([i[1]||"rightmost"],[],r),m=n==="root";return l5(o,(w,_)=>{var A=_.classes[0],M=w.classes[0];A==="mbin"&&Pte.includes(M)?_.classes[0]="mord":M==="mbin"&&Lte.includes(A)&&(w.classes[0]="mord")},{node:f},v,m),l5(o,(w,_)=>{var A=Dv(_),M=Dv(w),I=A&&M?w.hasClass("mtight")?jte[A][M]:Rte[A][M]:null;if(I)return Je.makeGlue(I,c)},{node:f},v,m),o},"buildExpression"),l5=s(function e(t,r,n,i,o){i&&t.push(i);for(var a=0;a<t.length;a++){var l=t[a],u=DI(l);if(u){e(u.children,r,n,null,o);continue}var c=!l.hasClass("mspace");if(c){var h=r(l,n.node);h&&(n.insertAfter?n.insertAfter(h):(t.unshift(h),a++))}c?n.node=l:o&&l.hasClass("newline")&&(n.node=ha(["leftmost"])),n.insertAfter=(f=>v=>{t.splice(f+1,0,v),a++})(a)}i&&t.pop()},"traverseNonSpaceNodes2"),DI=s(function(t){return t instanceof Ed||t instanceof I4||t instanceof Sd&&t.hasClass("enclosing")?t:null},"checkPartialGroup2"),zte=s(function e(t,r){var n=DI(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode2"),Dv=s(function(t,r){return t?(r&&(t=zte(t,r)),Bte[t.classes[0]]||null):null},"getTypeOfDomTree2"),Gc=s(function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return ha(r.concat(n))},"makeNullDelimiter2"),hr=s(function(t,r,n){if(!t)return ha();if(Dh[t.type]){var i=Dh[t.type](t,r);if(n&&r.size!==n.size){i=ha(r.sizingClasses(n),[i],r);var o=r.sizeMultiplier/n.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new yt("Got group of unknown type: '"+t.type+"'")},"buildGroup");function mf(e,t){var r=ha(["base"],e,t),n=ha(["strut"]);return n.style.height=kt(r.height+r.depth),r.depth&&(n.style.verticalAlign=kt(-r.depth)),r.children.unshift(n),r}s(mf,"buildHTMLUnbreakable");function Bv(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=mn(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var o=[],a=[],l=0;l<n.length;l++)if(a.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var u=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,a.push(n[l]),n[l].hasClass("nobreak")&&(u=!0);u||(o.push(mf(a,t)),a=[])}else n[l].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(mf(a,t)),a=[]),o.push(n[l]));a.length>0&&o.push(mf(a,t));var c;r?(c=mf(mn(r,t,!0)),c.classes=["tag"],o.push(c)):i&&o.push(i);var h=ha(["katex-html"],o);if(h.setAttribute("aria-hidden","true"),c){var f=c.children[0];f.style.height=kt(h.height+h.depth),h.depth&&(f.style.verticalAlign=kt(-h.depth))}return h}s(Bv,"buildHTML");function BI(e){return new Ed(e)}s(BI,"newDocumentFragment");class ui{static{s(this,"MathNode")}constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Ha(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof bs&&this.children[n+1]instanceof bs){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof bs;)i+=this.children[++n].toText();t.appendChild(new bs(i).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=gr.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+gr.escape(Ha(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class bs{static{s(this,"TextNode")}constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return gr.escape(this.toText())}toText(){return this.text}}class Ute{static{s(this,"SpaceNode")}constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",kt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+kt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var vt={MathNode:ui,TextNode:bs,SpaceNode:Ute,newDocumentFragment:BI},Oi=s(function(t,r,n){return Cr[r][t]&&Cr[r][t].replace&&t.charCodeAt(0)!==55349&&!(II.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=Cr[r][t].replace),new vt.TextNode(t)},"makeText2"),R4=s(function(t){return t.length===1?t[0]:new vt.MathNode("mrow",t)},"makeRow2"),j4=s(function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var o=t.text;if(["\\imath","\\jmath"].includes(o))return null;Cr[i][o]&&Cr[i][o].replace&&(o=Cr[i][o].replace);var a=Je.fontMap[n].fontName;return M4(o,a,i)?Je.fontMap[n].variant:null},"getVariant2");function Fg(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof bs&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof bs&&r.text===","}else return!1}s(Fg,"isNumberPunctuation");var ri=s(function(t,r,n){if(t.length===1){var i=Sr(t[0],r);return n&&i instanceof ui&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],a,l=0;l<t.length;l++){var u=Sr(t[l],r);if(u instanceof ui&&a instanceof ui){if(u.type==="mtext"&&a.type==="mtext"&&u.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...u.children);continue}else if(u.type==="mn"&&a.type==="mn"){a.children.push(...u.children);continue}else if(Fg(u)&&a.type==="mn"){a.children.push(...u.children);continue}else if(u.type==="mn"&&Fg(a))u.children=[...a.children,...u.children],o.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(a.type==="mn"||Fg(a))){var c=u.children[0];c instanceof ui&&c.type==="mn"&&(c.children=[...a.children,...c.children],o.pop())}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof bs&&h.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var f=u.children[0];f instanceof bs&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),o.pop())}}}o.push(u),a=u}return o},"buildExpression3"),Ga=s(function(t,r,n){return R4(ri(t,r,n))},"buildExpressionRow2"),Sr=s(function(t,r){if(!t)return new vt.MathNode("mrow");if(Bh[t.type]){var n=Bh[t.type](t,r);return n}else throw new yt("Got group of unknown type: '"+t.type+"'")},"buildGroup3");function u5(e,t,r,n,i){var o=ri(e,r),a;o.length===1&&o[0]instanceof ui&&["mrow","mtable"].includes(o[0].type)?a=o[0]:a=new vt.MathNode("mrow",o);var l=new vt.MathNode("annotation",[new vt.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var u=new vt.MathNode("semantics",[a,l]),c=new vt.MathNode("math",[u]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var h=i?"katex":"katex-mathml";return Je.makeSpan([h],[c])}s(u5,"buildMathML");var zI=s(function(t){return new Ys({style:t.displayMode?Vt.DISPLAY:Vt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},"optionsFromSettings2"),UI=s(function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=Je.makeSpan(n,[t])}return t},"displayWrap2"),Fte=s(function(t,r,n){var i=zI(n),o;if(n.output==="mathml")return u5(t,r,i,n.displayMode,!0);if(n.output==="html"){var a=Bv(t,i);o=Je.makeSpan(["katex"],[a])}else{var l=u5(t,r,i,n.displayMode,!1),u=Bv(t,i);o=Je.makeSpan(["katex"],[l,u])}return UI(o,n)},"buildTree2"),$te=s(function(t,r,n){var i=zI(n),o=Bv(t,i),a=Je.makeSpan(["katex"],[o]);return UI(a,n)},"buildHTMLTree2"),Hte={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Vte=s(function(t){var r=new vt.MathNode("mo",[new vt.TextNode(Hte[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},"mathMLnode2"),Gte={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Zte=s(function(t){return t.type==="ordgroup"?t.body.length:1},"groupLength2"),Jte=s(function(t,r){function n(){var l=4e5,u=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var c=t,h=Zte(c.base),f,v,m;if(h>5)u==="widehat"||u==="widecheck"?(f=420,l=2364,m=.42,v=u+"4"):(f=312,l=2340,m=.34,v="tilde4");else{var w=[1,1,2,2,3,3][h];u==="widehat"||u==="widecheck"?(l=[0,1062,2364,2364,2364][w],f=[0,239,300,360,420][w],m=[0,.24,.3,.3,.36,.42][w],v=u+w):(l=[0,600,1033,2339,2340][w],f=[0,260,286,306,312][w],m=[0,.26,.286,.3,.306,.34][w],v="tilde"+w)}var _=new Va(v),A=new fa([_],{width:"100%",height:kt(m),viewBox:"0 0 "+l+" "+f,preserveAspectRatio:"none"});return{span:Je.makeSvgSpan([],[A],r),minWidth:0,height:m}}else{var M=[],I=Gte[u],[R,L,P]=I,F=P/1e3,Z=R.length,G,se;if(Z===1){var U=I[3];G=["hide-tail"],se=[U]}else if(Z===2)G=["halfarrow-left","halfarrow-right"],se=["xMinYMin","xMaxYMin"];else if(Z===3)G=["brace-left","brace-center","brace-right"],se=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Z+" children.");for(var X=0;X<Z;X++){var d=new Va(R[X]),y=new fa([d],{width:"400em",height:kt(F),viewBox:"0 0 "+l+" "+P,preserveAspectRatio:se[X]+" slice"}),g=Je.makeSvgSpan([G[X]],[y],r);if(Z===1)return{span:g,minWidth:L,height:F};g.style.height=kt(F),M.push(g)}return{span:Je.makeSpan(["stretchy"],M,r),minWidth:L,height:F}}}s(n,"buildSvgSpan_");var{span:i,minWidth:o,height:a}=n();return i.height=a,i.style.height=kt(a),o>0&&(i.style.minWidth=kt(o)),i},"svgSpan2"),Wte=s(function(t,r,n,i,o){var a,l=t.height+t.depth+n+i;if(/fbox|color|angl/.test(r)){if(a=Je.makeSpan(["stretchy",r],[],o),r==="fbox"){var u=o.color&&o.getColor();u&&(a.style.borderColor=u)}}else{var c=[];/^[bx]cancel$/.test(r)&&c.push(new Lv({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&c.push(new Lv({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new fa(c,{width:"100%",height:kt(l)});a=Je.makeSvgSpan([],[h],o)}return a.height=l,a.style.height=kt(l),a},"encloseSpan2"),pa={encloseSpan:Wte,mathMLnode:Vte,svgSpan:Jte};function er(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}s(er,"assertNodeType");function L4(e){var t=_p(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}s(L4,"assertSymbolNodeType");function _p(e){return e&&(e.type==="atom"||yte.hasOwnProperty(e.type))?e:null}s(_p,"checkSymbolNodeType");var P4=s((e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=er(e.base,"accent"),r=n.base,e.base=r,i=vte(hr(e,t)),e.base=n):(n=er(e,"accent"),r=n.base);var o=hr(r,t.havingCrampedStyle()),a=n.isShifty&&gr.isCharacterBox(r),l=0;if(a){var u=gr.getBaseElem(r),c=hr(u,t.havingCrampedStyle());l=r5(c).skew}var h=n.label==="\\c",f=h?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight),v;if(n.isStretchy)v=pa.svgSpan(n,t),v=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+kt(2*l)+")",marginLeft:kt(2*l)}:void 0}]},t);else{var m,w;n.label==="\\vec"?(m=Je.staticSvg("vec",t),w=Je.svgData.vec[1]):(m=Je.makeOrd({mode:n.mode,text:n.label},t,"textord"),m=r5(m),m.italic=0,w=m.width,h&&(f+=m.depth)),v=Je.makeSpan(["accent-body"],[m]);var _=n.label==="\\textcircled";_&&(v.classes.push("accent-full"),f=o.height);var A=l;_||(A-=w/2),v.style.left=kt(A),n.label==="\\textcircled"&&(v.style.top=".2em"),v=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-f},{type:"elem",elem:v}]},t)}var M=Je.makeSpan(["mord","accent"],[v],t);return i?(i.children[0]=M,i.height=Math.max(M.height,i.height),i.classes[0]="mord",i):M},"htmlBuilder$a"),FI=s((e,t)=>{var r=e.isStretchy?pa.mathMLnode(e.label):new vt.MathNode("mo",[Oi(e.label,e.mode)]),n=new vt.MathNode("mover",[Sr(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),Qte=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Mt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:s((e,t)=>{var r=zh(t[0]),n=!Qte.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},"handler"),htmlBuilder:P4,mathmlBuilder:FI});Mt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:s((e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:P4,mathmlBuilder:FI});Mt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},"handler"),htmlBuilder:s((e,t)=>{var r=hr(e.base,t),n=pa.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,o=Je.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Je.makeSpan(["mord","accentunder"],[o],t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=pa.mathMLnode(e.label),n=new vt.MathNode("munder",[Sr(e.base,t),r]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")});var gf=s(e=>{var t=new vt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode");Mt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=Je.wrapFragment(hr(e.body,n,t),t),o=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var a;e.below&&(n=t.havingStyle(r.sub()),a=Je.wrapFragment(hr(e.below,n,t),t),a.classes.push(o+"-arrow-pad"));var l=pa.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,c=-t.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(c-=i.depth);var h;if(a){var f=-t.fontMetrics().axisHeight+a.height+.5*l.height+.111;h=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:a,shift:f}]},t)}else h=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:l,shift:u}]},t);return h.children[0].children[0].children[1].classes.push("svg-align"),Je.makeSpan(["mrel","x-arrow"],[h],t)},mathmlBuilder(e,t){var r=pa.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=gf(Sr(e.body,t));if(e.below){var o=gf(Sr(e.below,t));n=new vt.MathNode("munderover",[r,o,i])}else n=new vt.MathNode("mover",[r,i])}else if(e.below){var a=gf(Sr(e.below,t));n=new vt.MathNode("munder",[r,a])}else n=gf(),n=new vt.MathNode("mover",[r,n]);return n}});var Xte=Je.makeSpan;function $I(e,t){var r=mn(e.body,t,!0);return Xte([e.mclass],r,t)}s($I,"htmlBuilder$9");function HI(e,t){var r,n=ri(e.body,t);return e.mclass==="minner"?r=new vt.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new vt.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new vt.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}s(HI,"mathmlBuilder$8");Mt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:en(i),isCharacterBox:gr.isCharacterBox(i)}},htmlBuilder:$I,mathmlBuilder:HI});var Ep=s(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass");Mt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Ep(t[0]),body:en(t[1]),isCharacterBox:gr.isCharacterBox(t[1])}}});Mt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],o=t[0],a;n!=="\\stackrel"?a=Ep(i):a="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:en(i)},u={type:"supsub",mode:o.mode,base:l,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null};return{type:"mclass",mode:r.mode,mclass:a,body:[u],isCharacterBox:gr.isCharacterBox(u)}},htmlBuilder:$I,mathmlBuilder:HI});Mt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Ep(t[0]),body:en(t[0])}},htmlBuilder(e,t){var r=mn(e.body,t,!0),n=Je.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=ri(e.body,t),n=new vt.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var Kte={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},c5=s(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),d5=s(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),qte=s((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd");function Yte(e,t,r){var n=Kte[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),o={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[o],[]),l=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[i,a,l]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}s(Yte,"cdArrow");function ere(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new yt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],o=0;o<t.length;o++){for(var a=t[o],l=c5(),u=0;u<a.length;u++)if(!d5(a[u]))l.body.push(a[u]);else{n.push(l),u+=1;var c=L4(a[u]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var f=0;f<2;f++){for(var v=!0,m=u+1;m<a.length;m++){if(qte(a[m],c)){v=!1,u=m;break}if(d5(a[m]))throw new yt("Missing a "+c+" character to complete a CD arrow.",a[m]);h[f].body.push(a[m])}if(v)throw new yt("Missing a "+c+" character to complete a CD arrow.",a[u])}else throw new yt('Expected one of "<>AV=|." after @',a[u]);var w=Yte(c,h,e),_={type:"styling",body:[w],mode:"math",style:"display"};n.push(_),l=c5()}o%2===0?n.push(l):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var A=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:A,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}s(ere,"parseCD");Mt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=Je.wrapFragment(hr(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=kt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new vt.MathNode("mrow",[Sr(e.label,t)]);return r=new vt.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new vt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Mt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Je.wrapFragment(hr(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new vt.MathNode("mrow",[Sr(e.fragment,t)])}});Mt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=er(t[0],"ordgroup"),i=n.body,o="",a=0;a<i.length;a++){var l=er(i[a],"textord");o+=l.text}var u=parseInt(o),c;if(isNaN(u))throw new yt("\\@char has non-numeric argument "+o);if(u<0||u>=1114111)throw new yt("\\@char with invalid code point "+o);return u<=65535?c=String.fromCharCode(u):(u-=65536,c=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:c}}});var VI=s((e,t)=>{var r=mn(e.body,t.withColor(e.color),!1);return Je.makeFragment(r)},"htmlBuilder$8"),GI=s((e,t)=>{var r=ri(e.body,t.withColor(e.color)),n=new vt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7");Mt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=er(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:en(i)}},htmlBuilder:VI,mathmlBuilder:GI});Mt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=er(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:VI,mathmlBuilder:GI});Mt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&er(i,"size").value}},htmlBuilder(e,t){var r=Je.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=kt(Gr(e.size,t)))),r},mathmlBuilder(e,t){var r=new vt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",kt(Gr(e.size,t)))),r}});var zv={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ZI=s(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new yt("Expected a control sequence",e);return t},"checkControlSequence"),tre=s(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),JI=s((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand");Mt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(zv[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=zv[n.text]),er(t.parseFunction(),"internal");throw new yt("Invalid token after macro prefix",n)}});Mt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new yt("Expected a control sequence",n);for(var o=0,a,l=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){a=t.gullet.future(),l[o].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new yt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==o+1)throw new yt('Argument number "'+n.text+'" out of order');o++,l.push([])}else{if(n.text==="EOF")throw new yt("Expected a macro definition");l[o].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return a&&u.unshift(a),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(i,{tokens:u,numArgs:o,delimiters:l},r===zv[r]),{type:"internal",mode:t.mode}}});Mt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=ZI(t.gullet.popToken());t.gullet.consumeSpaces();var i=tre(t);return JI(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});Mt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=ZI(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return JI(t,n,o,r==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Ku=s(function(t,r,n){var i=Cr.math[t]&&Cr.math[t].replace,o=M4(i||t,r,n);if(!o)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return o},"getMetrics2"),D4=s(function(t,r,n,i){var o=n.havingBaseStyle(r),a=Je.makeSpan(i.concat(o.sizingClasses(n)),[t],n),l=o.sizeMultiplier/n.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=o.sizeMultiplier,a},"styleWrap2"),WI=s(function(t,r,n){var i=r.havingBaseStyle(n),o=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=kt(o),t.height-=o,t.depth+=o},"centerSpan2"),rre=s(function(t,r,n,i,o,a){var l=Je.makeSymbol(t,"Main-Regular",o,i),u=D4(l,r,i,a);return n&&WI(u,i,r),u},"makeSmallDelim2"),nre=s(function(t,r,n,i){return Je.makeSymbol(t,"Size"+r+"-Regular",n,i)},"mathrmSize2"),QI=s(function(t,r,n,i,o,a){var l=nre(t,r,o,i),u=D4(Je.makeSpan(["delimsizing","size"+r],[l],i),Vt.TEXT,i,a);return n&&WI(u,i,Vt.TEXT),u},"makeLargeDelim2"),$g=s(function(t,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=Je.makeSpan(["delimsizinginner",i],[Je.makeSpan([],[Je.makeSymbol(t,r,n)])]);return{type:"elem",elem:o}},"makeGlyphSpan2"),Hg=s(function(t,r,n){var i=vs["Size4-Regular"][t.charCodeAt(0)]?vs["Size4-Regular"][t.charCodeAt(0)][4]:vs["Size1-Regular"][t.charCodeAt(0)][4],o=new Va("inner",ute(t,Math.round(1e3*r))),a=new fa([o],{width:kt(i),height:kt(r),style:"width:"+kt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),l=Je.makeSvgSpan([],[a],n);return l.height=r,l.style.height=kt(r),l.style.width=kt(i),{type:"elem",elem:l}},"makeInner2"),Uv=.008,vf={type:"kern",size:-1*Uv},ire=["|","\\lvert","\\rvert","\\vert"],sre=["\\|","\\lVert","\\rVert","\\Vert"],XI=s(function(t,r,n,i,o,a){var l,u,c,h,f="",v=0;l=c=h=t,u=null;var m="Size1-Regular";t==="\\uparrow"?c=h="":t==="\\Uparrow"?c=h="":t==="\\downarrow"?l=c="":t==="\\Downarrow"?l=c="":t==="\\updownarrow"?(l="\\uparrow",c="",h="\\downarrow"):t==="\\Updownarrow"?(l="\\Uparrow",c="",h="\\Downarrow"):ire.includes(t)?(c="",f="vert",v=333):sre.includes(t)?(c="",f="doublevert",v=556):t==="["||t==="\\lbrack"?(l="",c="",h="",m="Size4-Regular",f="lbrack",v=667):t==="]"||t==="\\rbrack"?(l="",c="",h="",m="Size4-Regular",f="rbrack",v=667):t==="\\lfloor"||t===""?(c=l="",h="",m="Size4-Regular",f="lfloor",v=667):t==="\\lceil"||t===""?(l="",c=h="",m="Size4-Regular",f="lceil",v=667):t==="\\rfloor"||t===""?(c=l="",h="",m="Size4-Regular",f="rfloor",v=667):t==="\\rceil"||t===""?(l="",c=h="",m="Size4-Regular",f="rceil",v=667):t==="("||t==="\\lparen"?(l="",c="",h="",m="Size4-Regular",f="lparen",v=875):t===")"||t==="\\rparen"?(l="",c="",h="",m="Size4-Regular",f="rparen",v=875):t==="\\{"||t==="\\lbrace"?(l="",u="",h="",c="",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(l="",u="",h="",c="",m="Size4-Regular"):t==="\\lgroup"||t===""?(l="",h="",c="",m="Size4-Regular"):t==="\\rgroup"||t===""?(l="",h="",c="",m="Size4-Regular"):t==="\\lmoustache"||t===""?(l="",h="",c="",m="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(l="",h="",c="",m="Size4-Regular");var w=Ku(l,m,o),_=w.height+w.depth,A=Ku(c,m,o),M=A.height+A.depth,I=Ku(h,m,o),R=I.height+I.depth,L=0,P=1;if(u!==null){var F=Ku(u,m,o);L=F.height+F.depth,P=2}var Z=_+R+L,G=Math.max(0,Math.ceil((r-Z)/(P*M))),se=Z+G*P*M,U=i.fontMetrics().axisHeight;n&&(U*=i.sizeMultiplier);var X=se/2-U,d=[];if(f.length>0){var y=se-_-R,g=Math.round(se*1e3),x=cte(f,Math.round(y*1e3)),E=new Va(f,x),T=(v/1e3).toFixed(3)+"em",N=(g/1e3).toFixed(3)+"em",k=new fa([E],{width:T,height:N,viewBox:"0 0 "+v+" "+g}),p=Je.makeSvgSpan([],[k],i);p.height=g/1e3,p.style.width=T,p.style.height=N,d.push({type:"elem",elem:p})}else{if(d.push($g(h,m,o)),d.push(vf),u===null){var S=se-_-R+2*Uv;d.push(Hg(c,S,i))}else{var C=(se-_-R-L)/2+2*Uv;d.push(Hg(c,C,i)),d.push(vf),d.push($g(u,m,o)),d.push(vf),d.push(Hg(c,C,i))}d.push(vf),d.push($g(l,m,o))}var O=i.havingBaseStyle(Vt.TEXT),B=Je.makeVList({positionType:"bottom",positionData:X,children:d},O);return D4(Je.makeSpan(["delimsizing","mult"],[B],O),Vt.TEXT,i,a)},"makeStackedDelim2"),Vg=80,Gg=.08,Zg=s(function(t,r,n,i,o){var a=lte(t,i,n),l=new Va(t,a),u=new fa([l],{width:"400em",height:kt(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Je.makeSvgSpan(["hide-tail"],[u],o)},"sqrtSvg2"),are=s(function(t,r){var n=r.havingBaseSizing(),i=eO("\\surd",t*n.sizeMultiplier,YI,n),o=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),l,u=0,c=0,h=0,f;return i.type==="small"?(h=1e3+1e3*a+Vg,t<1?o=1:t<1.4&&(o=.7),u=(1+a+Gg)/o,c=(1+a)/o,l=Zg("sqrtMain",u,h,a,r),l.style.minWidth="0.853em",f=.833/o):i.type==="large"?(h=(1e3+Vg)*ic[i.size],c=(ic[i.size]+a)/o,u=(ic[i.size]+a+Gg)/o,l=Zg("sqrtSize"+i.size,u,h,a,r),l.style.minWidth="1.02em",f=1/o):(u=t+a+Gg,c=t+a,h=Math.floor(1e3*t+a)+Vg,l=Zg("sqrtTall",u,h,a,r),l.style.minWidth="0.742em",f=1.056),l.height=c,l.style.height=kt(u),{span:l,advanceWidth:f,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*o}},"makeSqrtImage2"),KI=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],ore=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],qI=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ic=[0,1.2,1.8,2.4,3],lre=s(function(t,r,n,i,o){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),KI.includes(t)||qI.includes(t))return QI(t,r,!1,n,i,o);if(ore.includes(t))return XI(t,ic[r],!1,n,i,o);throw new yt("Illegal delimiter: '"+t+"'")},"makeSizedDelim2"),ure=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cre=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"stack"}],YI=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],dre=s(function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},"delimTypeToFont2"),eO=s(function(t,r,n,i){for(var o=Math.min(2,3-i.style.size),a=o;a<n.length&&n[a].type!=="stack";a++){var l=Ku(t,dre(n[a]),"math"),u=l.height+l.depth;if(n[a].type==="small"){var c=i.havingBaseStyle(n[a].style);u*=c.sizeMultiplier}if(u>r)return n[a]}return n[n.length-1]},"traverseSequence2"),tO=s(function(t,r,n,i,o,a){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var l;qI.includes(t)?l=ure:KI.includes(t)?l=YI:l=cre;var u=eO(t,r,l,i);return u.type==="small"?rre(t,u.style,n,i,o,a):u.type==="large"?QI(t,u.size,n,i,o,a):XI(t,r,n,i,o,a)},"makeCustomSizedDelim2"),fre=s(function(t,r,n,i,o,a){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,c=5/i.fontMetrics().ptPerEm,h=Math.max(r-l,n+l),f=Math.max(h/500*u,2*h-c);return tO(t,f,!0,i,o,a)},"makeLeftRightDelim2"),la={sqrtImage:are,sizedDelim:lre,sizeToMaxHeight:ic,customSizedDelim:tO,leftRightDelim:fre},f5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},hre=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Sp(e,t){var r=_p(e);if(r&&hre.includes(r.text))return r;throw r?new yt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new yt("Invalid delimiter type '"+e.type+"'",e)}s(Sp,"checkDelimiter");Mt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:s((e,t)=>{var r=Sp(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:f5[e.funcName].size,mclass:f5[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:s((e,t)=>e.delim==="."?Je.makeSpan([e.mclass]):la.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:s(e=>{var t=[];e.delim!=="."&&t.push(Oi(e.delim,e.mode));var r=new vt.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=kt(la.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r},"mathmlBuilder")});function h5(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}s(h5,"assertParsed");Mt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:s((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new yt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Sp(t[0],e).text,color:r}},"handler")});Mt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:s((e,t)=>{var r=Sp(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=er(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},"handler"),htmlBuilder:s((e,t)=>{h5(e);for(var r=mn(e.body,t,!0,["mopen","mclose"]),n=0,i=0,o=!1,a=0;a<r.length;a++)r[a].isMiddle?o=!0:(n=Math.max(r[a].height,n),i=Math.max(r[a].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var l;if(e.left==="."?l=Gc(t,["mopen"]):l=la.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(l),o)for(var u=1;u<r.length;u++){var c=r[u],h=c.isMiddle;h&&(r[u]=la.leftRightDelim(h.delim,n,i,h.options,e.mode,[]))}var f;if(e.right===".")f=Gc(t,["mclose"]);else{var v=e.rightColor?t.withColor(e.rightColor):t;f=la.leftRightDelim(e.right,n,i,v,e.mode,["mclose"])}return r.push(f),Je.makeSpan(["minner"],r,t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{h5(e);var r=ri(e.body,t);if(e.left!=="."){var n=new vt.MathNode("mo",[Oi(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new vt.MathNode("mo",[Oi(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return R4(r)},"mathmlBuilder")});Mt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:s((e,t)=>{var r=Sp(t[0],e);if(!e.parser.leftrightDepth)throw new yt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:s((e,t)=>{var r;if(e.delim===".")r=Gc(t,[]);else{r=la.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Oi("|","text"):Oi(e.delim,e.mode),n=new vt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")});var B4=s((e,t)=>{var r=Je.wrapFragment(hr(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,o,a=0,l=gr.isCharacterBox(e.body);if(n==="sout")o=Je.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/i,a=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=Gr({number:.6,unit:"pt"},t),c=Gr({number:.35,unit:"ex"},t),h=t.havingBaseSizing();i=i/h.sizeMultiplier;var f=r.height+r.depth+u+c;r.style.paddingLeft=kt(f/2+u);var v=Math.floor(1e3*f*i),m=ate(v),w=new fa([new Va("phase",m)],{width:"400em",height:kt(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});o=Je.makeSvgSpan(["hide-tail"],[w],t),o.style.height=kt(f),a=r.depth+u+c}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var _=0,A=0,M=0;/box/.test(n)?(M=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),_=t.fontMetrics().fboxsep+(n==="colorbox"?0:M),A=_):n==="angl"?(M=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),_=4*M,A=Math.max(0,.25-r.depth)):(_=l?.2:0,A=_),o=pa.encloseSpan(r,n,_,A,t),/fbox|boxed|fcolorbox/.test(n)?(o.style.borderStyle="solid",o.style.borderWidth=kt(M)):n==="angl"&&M!==.049&&(o.style.borderTopWidth=kt(M),o.style.borderRightWidth=kt(M)),a=r.depth+A,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}var I;if(e.backgroundColor)I=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:a},{type:"elem",elem:r,shift:0}]},t);else{var R=/cancel|phase/.test(n)?["svg-align"]:[];I=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:a,wrapperClasses:R}]},t)}return/cancel/.test(n)&&(I.height=r.height,I.depth=r.depth),/cancel/.test(n)&&!l?Je.makeSpan(["mord","cancel-lap"],[I],t):Je.makeSpan(["mord"],[I],t)},"htmlBuilder$7"),z4=s((e,t)=>{var r=0,n=new vt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Sr(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6");Mt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,o=er(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:B4,mathmlBuilder:z4});Mt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,o=er(t[0],"color-token").color,a=er(t[1],"color-token").color,l=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:o,body:l}},htmlBuilder:B4,mathmlBuilder:z4});Mt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});Mt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:B4,mathmlBuilder:z4});Mt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var rO={};function Ms(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=e,l={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)rO[r[u]]=l;o&&(Dh[t]=o),a&&(Bh[t]=a)}s(Ms,"defineEnvironment");var nO={};function ee(e,t){nO[e]=t}s(ee,"defineMacro");function p5(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}s(p5,"getHLines");var kp=s(e=>{var t=e.parser.settings;if(!t.displayMode)throw new yt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext");function U4(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}s(U4,"getAutoTag");function Wa(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:o,arraystretch:a,colSeparationType:l,autoTag:u,singleRow:c,emptySingleRow:h,maxNumCols:f,leqno:v}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)a=1;else if(a=parseFloat(m),!a||a<0)throw new yt("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var w=[],_=[w],A=[],M=[],I=u!=null?[]:void 0;function R(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}s(R,"beginRow");function L(){I&&(e.gullet.macros.get("\\df@tag")?(I.push(e.subparse([new fi("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):I.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(s(L,"endRow"),R(),M.push(p5(e));;){var P=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),P={type:"ordgroup",mode:e.mode,body:P},r&&(P={type:"styling",mode:e.mode,style:r,body:[P]}),w.push(P);var F=e.fetch().text;if(F==="&"){if(f&&w.length===f){if(c||l)throw new yt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(F==="\\end"){L(),w.length===1&&P.type==="styling"&&P.body[0].body.length===0&&(_.length>1||!h)&&_.pop(),M.length<_.length+1&&M.push([]);break}else if(F==="\\\\"){e.consume();var Z=void 0;e.gullet.future().text!==" "&&(Z=e.parseSizeGroup(!0)),A.push(Z?Z.value:null),L(),M.push(p5(e)),w=[],_.push(w),R()}else throw new yt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:a,body:_,cols:o,rowGaps:A,hskipBeforeAndAfter:n,hLinesBeforeRow:M,colSeparationType:l,tags:I,leqno:v}}s(Wa,"parseArray");function F4(e){return e.slice(0,1)==="d"?"display":"text"}s(F4,"dCellStyle");var Is=s(function(t,r){var n,i,o=t.body.length,a=t.hLinesBeforeRow,l=0,u=new Array(o),c=[],h=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),f=1/r.fontMetrics().ptPerEm,v=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var m=r.havingStyle(Vt.SCRIPT).sizeMultiplier;v=.2778*(m/r.sizeMultiplier)}var w=t.colSeparationType==="CD"?Gr({number:3,unit:"ex"},r):12*f,_=3*f,A=t.arraystretch*w,M=.7*A,I=.3*A,R=0;function L(Y){for(var de=0;de<Y.length;++de)de>0&&(R+=.25),c.push({pos:R,isDashed:Y[de]})}for(s(L,"setHLinePos"),L(a[0]),n=0;n<t.body.length;++n){var P=t.body[n],F=M,Z=I;l<P.length&&(l=P.length);var G=new Array(P.length);for(i=0;i<P.length;++i){var se=hr(P[i],r);Z<se.depth&&(Z=se.depth),F<se.height&&(F=se.height),G[i]=se}var U=t.rowGaps[n],X=0;U&&(X=Gr(U,r),X>0&&(X+=I,Z<X&&(Z=X),X=0)),t.addJot&&(Z+=_),G.height=F,G.depth=Z,R+=F,G.pos=R,R+=Z+X,u[n]=G,L(a[n+1])}var d=R/2+r.fontMetrics().axisHeight,y=t.cols||[],g=[],x,E,T=[];if(t.tags&&t.tags.some(Y=>Y))for(n=0;n<o;++n){var N=u[n],k=N.pos-d,p=t.tags[n],S=void 0;p===!0?S=Je.makeSpan(["eqn-num"],[],r):p===!1?S=Je.makeSpan([],[],r):S=Je.makeSpan([],mn(p,r,!0),r),S.depth=N.depth,S.height=N.height,T.push({type:"elem",elem:S,shift:k})}for(i=0,E=0;i<l||E<y.length;++i,++E){for(var C=y[E]||{},O=!0;C.type==="separator";){if(O||(x=Je.makeSpan(["arraycolsep"],[]),x.style.width=kt(r.fontMetrics().doubleRuleSep),g.push(x)),C.separator==="|"||C.separator===":"){var B=C.separator==="|"?"solid":"dashed",z=Je.makeSpan(["vertical-separator"],[],r);z.style.height=kt(R),z.style.borderRightWidth=kt(h),z.style.borderRightStyle=B,z.style.margin="0 "+kt(-h/2);var $=R-d;$&&(z.style.verticalAlign=kt(-$)),g.push(z)}else throw new yt("Invalid separator type: "+C.separator);E++,C=y[E]||{},O=!1}if(!(i>=l)){var W=void 0;(i>0||t.hskipBeforeAndAfter)&&(W=gr.deflt(C.pregap,v),W!==0&&(x=Je.makeSpan(["arraycolsep"],[]),x.style.width=kt(W),g.push(x)));var oe=[];for(n=0;n<o;++n){var ne=u[n],ie=ne[i];if(ie){var Qe=ne.pos-d;ie.depth=ne.depth,ie.height=ne.height,oe.push({type:"elem",elem:ie,shift:Qe})}}oe=Je.makeVList({positionType:"individualShift",children:oe},r),oe=Je.makeSpan(["col-align-"+(C.align||"c")],[oe]),g.push(oe),(i<l-1||t.hskipBeforeAndAfter)&&(W=gr.deflt(C.postgap,v),W!==0&&(x=Je.makeSpan(["arraycolsep"],[]),x.style.width=kt(W),g.push(x)))}}if(u=Je.makeSpan(["mtable"],g),c.length>0){for(var Ne=Je.makeLineSpan("hline",r,h),ve=Je.makeLineSpan("hdashline",r,h),Me=[{type:"elem",elem:u,shift:0}];c.length>0;){var J=c.pop(),ae=J.pos-d;J.isDashed?Me.push({type:"elem",elem:ve,shift:ae}):Me.push({type:"elem",elem:Ne,shift:ae})}u=Je.makeVList({positionType:"individualShift",children:Me},r)}if(T.length===0)return Je.makeSpan(["mord"],[u],r);var K=Je.makeVList({positionType:"individualShift",children:T},r);return K=Je.makeSpan(["tag"],[K],r),Je.makeFragment([u,K])},"htmlBuilder"),pre={c:"center ",l:"left ",r:"right "},Os=s(function(t,r){for(var n=[],i=new vt.MathNode("mtd",[],["mtr-glue"]),o=new vt.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<t.body.length;a++){for(var l=t.body[a],u=[],c=0;c<l.length;c++)u.push(new vt.MathNode("mtd",[Sr(l[c],r)]));t.tags&&t.tags[a]&&(u.unshift(i),u.push(i),t.leqno?u.unshift(o):u.push(o)),n.push(new vt.MathNode("mtr",u))}var h=new vt.MathNode("mtable",n),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);h.setAttribute("rowspacing",kt(f));var v="",m="";if(t.cols&&t.cols.length>0){var w=t.cols,_="",A=!1,M=0,I=w.length;w[0].type==="separator"&&(v+="top ",M=1),w[w.length-1].type==="separator"&&(v+="bottom ",I-=1);for(var R=M;R<I;R++)w[R].type==="align"?(m+=pre[w[R].align],A&&(_+="none "),A=!0):w[R].type==="separator"&&A&&(_+=w[R].separator==="|"?"solid ":"dashed ",A=!1);h.setAttribute("columnalign",m.trim()),/[sd]/.test(_)&&h.setAttribute("columnlines",_.trim())}if(t.colSeparationType==="align"){for(var L=t.cols||[],P="",F=1;F<L.length;F++)P+=F%2?"0em ":"1em ";h.setAttribute("columnspacing",P.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var Z="",G=t.hLinesBeforeRow;v+=G[0].length>0?"left ":"",v+=G[G.length-1].length>0?"right ":"";for(var se=1;se<G.length-1;se++)Z+=G[se].length===0?"none ":G[se][0]?"dashed ":"solid ";return/[sd]/.test(Z)&&h.setAttribute("rowlines",Z.trim()),v!==""&&(h=new vt.MathNode("menclose",[h]),h.setAttribute("notation",v.trim())),t.arraystretch&&t.arraystretch<1&&(h=new vt.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},"mathmlBuilder"),iO=s(function(t,r){t.envName.indexOf("ed")===-1&&kp(t);var n=[],i=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",a=Wa(t.parser,{cols:n,addJot:!0,autoTag:o?void 0:U4(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),l,u=0,c={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var h="",f=0;f<r[0].body.length;f++){var v=er(r[0].body[f],"textord");h+=v.text}l=Number(h),u=l*2}var m=!u;a.body.forEach(function(M){for(var I=1;I<M.length;I+=2){var R=er(M[I],"styling"),L=er(R.body[0],"ordgroup");L.body.unshift(c)}if(m)u<M.length&&(u=M.length);else{var P=M.length/2;if(l<P)throw new yt("Too many math in a row: "+("expected "+l+", but got "+P),M[0])}});for(var w=0;w<u;++w){var _="r",A=0;w%2===1?_="l":w>0&&m&&(A=1),n[w]={type:"align",align:_,pregap:A,postgap:0}}return a.colSeparationType=m?"align":"alignat",a},"alignedHandler2");Ms({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=_p(t[0]),n=r?[t[0]]:er(t[0],"ordgroup").body,i=n.map(function(a){var l=L4(a),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new yt("Unknown column alignment: "+u,a)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Wa(e.parser,o,F4(e.envName))},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new yt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=Wa(e.parser,n,F4(e.envName)),a=Math.max(0,...o.body.map(l=>l.length));return o.cols=new Array(a).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Wa(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=_p(t[0]),n=r?[t[0]]:er(t[0],"ordgroup").body,i=n.map(function(a){var l=L4(a),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new yt("Unknown column alignment: "+u,a)});if(i.length>1)throw new yt("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Wa(e.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new yt("{subarray} can contain only one column");return o},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Wa(e.parser,t,F4(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:iO,htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&kp(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:U4(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Wa(e.parser,t,"display")},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:iO,htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){kp(e);var t={autoTag:U4(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Wa(e.parser,t,"display")},htmlBuilder:Is,mathmlBuilder:Os});Ms({type:"array",names:["CD"],props:{numArgs:0},handler(e){return kp(e),ere(e.parser)},htmlBuilder:Is,mathmlBuilder:Os});ee("\\nonumber","\\gdef\\@eqnsw{0}");ee("\\notag","\\nonumber");Mt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new yt(e.funcName+" valid only within array environment")}});var m5=rO;Mt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new yt("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=er(i.body[a],"textord").text;if(n==="\\begin"){if(!m5.hasOwnProperty(o))throw new yt("No such environment: "+o,i);var l=m5[o],{args:u,optArgs:c}=r.parseArguments("\\begin{"+o+"}",l),h={mode:r.mode,envName:o,parser:r},f=l.handler(h,u,c);r.expect("\\end",!1);var v=r.nextToken,m=er(r.parseFunction(),"environment");if(m.name!==o)throw new yt("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",v);return f}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var sO=s((e,t)=>{var r=e.font,n=t.withFont(r);return hr(e.body,n)},"htmlBuilder$5"),aO=s((e,t)=>{var r=e.font,n=t.withFont(r);return Sr(e.body,n)},"mathmlBuilder$4"),g5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Mt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=zh(t[0]),o=n;return o in g5&&(o=g5[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},"handler"),htmlBuilder:sO,mathmlBuilder:aO});Mt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:s((e,t)=>{var{parser:r}=e,n=t[0],i=gr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Ep(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}},"handler")});Mt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:s((e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:o}=r,a=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:o,font:l,body:{type:"ordgroup",mode:r.mode,body:a}}},"handler"),htmlBuilder:sO,mathmlBuilder:aO});var oO=s((e,t)=>{var r=t;return e==="display"?r=r.id>=Vt.SCRIPT.id?r.text():Vt.DISPLAY:e==="text"&&r.size===Vt.DISPLAY.size?r=Vt.TEXT:e==="script"?r=Vt.SCRIPT:e==="scriptscript"&&(r=Vt.SCRIPTSCRIPT),r},"adjustStyle"),$4=s((e,t)=>{var r=oO(e.size,t.style),n=r.fracNum(),i=r.fracDen(),o;o=t.havingStyle(n);var a=hr(e.numer,o,t);if(e.continued){var l=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<u?u:a.depth}o=t.havingStyle(i);var c=hr(e.denom,o,t),h,f,v;e.hasBarLine?(e.barSize?(f=Gr(e.barSize,t),h=Je.makeLineSpan("frac-line",t,f)):h=Je.makeLineSpan("frac-line",t),f=h.height,v=h.height):(h=null,f=0,v=t.fontMetrics().defaultRuleThickness);var m,w,_;r.size===Vt.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,f>0?w=3*v:w=7*v,_=t.fontMetrics().denom1):(f>0?(m=t.fontMetrics().num2,w=v):(m=t.fontMetrics().num3,w=3*v),_=t.fontMetrics().denom2);var A;if(h){var I=t.fontMetrics().axisHeight;m-a.depth-(I+.5*f)<w&&(m+=w-(m-a.depth-(I+.5*f))),I-.5*f-(c.height-_)<w&&(_+=w-(I-.5*f-(c.height-_)));var R=-(I-.5*f);A=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:h,shift:R},{type:"elem",elem:a,shift:-m}]},t)}else{var M=m-a.depth-(c.height-_);M<w&&(m+=.5*(w-M),_+=.5*(w-M)),A=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:a,shift:-m}]},t)}o=t.havingStyle(r),A.height*=o.sizeMultiplier/t.sizeMultiplier,A.depth*=o.sizeMultiplier/t.sizeMultiplier;var L;r.size===Vt.DISPLAY.size?L=t.fontMetrics().delim1:r.size===Vt.SCRIPTSCRIPT.size?L=t.havingStyle(Vt.SCRIPT).fontMetrics().delim2:L=t.fontMetrics().delim2;var P,F;return e.leftDelim==null?P=Gc(t,["mopen"]):P=la.customSizedDelim(e.leftDelim,L,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?F=Je.makeSpan([]):e.rightDelim==null?F=Gc(t,["mclose"]):F=la.customSizedDelim(e.rightDelim,L,!0,t.havingStyle(r),e.mode,["mclose"]),Je.makeSpan(["mord"].concat(o.sizingClasses(t)),[P,Je.makeSpan(["mfrac"],[A]),F],t)},"htmlBuilder$4"),H4=s((e,t)=>{var r=new vt.MathNode("mfrac",[Sr(e.numer,t),Sr(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=Gr(e.barSize,t);r.setAttribute("linethickness",kt(n))}var i=oO(e.size,t.style);if(i.size!==t.style.size){r=new vt.MathNode("mstyle",[r]);var o=i.size===Vt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var a=[];if(e.leftDelim!=null){var l=new vt.MathNode("mo",[new vt.TextNode(e.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(r),e.rightDelim!=null){var u=new vt.MathNode("mo",[new vt.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),a.push(u)}return R4(a)}return r},"mathmlBuilder$3");Mt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],o=t[1],a,l=null,u=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",u=")";break;case"\\\\bracefrac":a=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":a=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:o,hasBarLine:a,leftDelim:l,rightDelim:u,size:c,barSize:null}},"handler"),htmlBuilder:$4,mathmlBuilder:H4});Mt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],o=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")});Mt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}});var v5=["display","text","script","scriptscript"],b5=s(function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r},"delimFromValue2");Mt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],o=zh(t[0]),a=o.type==="atom"&&o.family==="open"?b5(o.text):null,l=zh(t[1]),u=l.type==="atom"&&l.family==="close"?b5(l.text):null,c=er(t[2],"size"),h,f=null;c.isBlank?h=!0:(f=c.value,h=f.number>0);var v="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var w=er(m.body[0],"textord");v=v5[Number(w.text)]}}else m=er(m,"textord"),v=v5[Number(m.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:h,barSize:f,leftDelim:a,rightDelim:u,size:v}},htmlBuilder:$4,mathmlBuilder:H4});Mt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:er(t[0],"size").value,token:i}}});Mt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],o=Gee(er(t[1],"infix").size),a=t[2],l=o.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:l,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:$4,mathmlBuilder:H4});var lO=s((e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?hr(e.sup,t.havingStyle(r.sup()),t):hr(e.sub,t.havingStyle(r.sub()),t),i=er(e.base,"horizBrace")):i=er(e,"horizBrace");var o=hr(i.base,t.havingBaseStyle(Vt.DISPLAY)),a=pa.svgSpan(i,t),l;if(i.isOver?(l=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},t),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Je.makeVList({positionType:"bottom",positionData:o.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},t),l.children[0].children[0].children[0].classes.push("svg-align")),n){var u=Je.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t);i.isOver?l=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):l=Je.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Je.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t)},"htmlBuilder$3"),mre=s((e,t)=>{var r=pa.mathMLnode(e.label);return new vt.MathNode(e.isOver?"mover":"munder",[Sr(e.base,t),r])},"mathmlBuilder$2");Mt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:lO,mathmlBuilder:mre});Mt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:s((e,t)=>{var{parser:r}=e,n=t[1],i=er(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:en(n)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:s((e,t)=>{var r=mn(e.body,t,!1);return Je.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=Ga(e.body,t);return r instanceof ui||(r=new ui("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")});Mt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:s((e,t)=>{var{parser:r}=e,n=er(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var a=n[o];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:en(l)}},"handler")});Mt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:en(t[0])}},htmlBuilder(e,t){var r=mn(e.body,t,!1);return Je.makeFragment(r)},mathmlBuilder(e,t){return new vt.MathNode("mrow",ri(e.body,t))}});Mt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:s((e,t)=>{var{parser:r,funcName:n,token:i}=e,o=er(t[0],"raw").string,a=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(n){case"\\htmlClass":u.class=o,l={command:"\\htmlClass",class:o};break;case"\\htmlId":u.id=o,l={command:"\\htmlId",id:o};break;case"\\htmlStyle":u.style=o,l={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var c=o.split(","),h=0;h<c.length;h++){var f=c[h].split("=");if(f.length!==2)throw new yt("Error parsing key-value for \\htmlData");u["data-"+f[0].trim()]=f[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:u,body:en(a)}:r.formatUnsupportedCmd(n)},"handler"),htmlBuilder:s((e,t)=>{var r=mn(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=Je.makeSpan(n,r,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},"htmlBuilder"),mathmlBuilder:s((e,t)=>Ga(e.body,t),"mathmlBuilder")});Mt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:s((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:en(t[0]),mathml:en(t[1])}},"handler"),htmlBuilder:s((e,t)=>{var r=mn(e.html,t,!1);return Je.makeFragment(r)},"htmlBuilder"),mathmlBuilder:s((e,t)=>Ga(e.mathml,t),"mathmlBuilder")});var Jg=s(function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new yt("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!AI(n))throw new yt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n},"sizeData2");Mt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:s((e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(r[0])for(var u=er(r[0],"raw").string,c=u.split(","),h=0;h<c.length;h++){var f=c[h].split("=");if(f.length===2){var v=f[1].trim();switch(f[0].trim()){case"alt":l=v;break;case"width":i=Jg(v);break;case"height":o=Jg(v);break;case"totalheight":a=Jg(v);break;default:throw new yt("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var m=er(t[0],"url").url;return l===""&&(l=m,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:o,totalheight:a,src:m}:n.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:s((e,t)=>{var r=Gr(e.height,t),n=0;e.totalheight.number>0&&(n=Gr(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=Gr(e.width,t));var o={height:kt(r+n)};i>0&&(o.width=kt(i)),n>0&&(o.verticalAlign=kt(-n));var a=new mte(e.src,e.alt,o);return a.height=r,a.depth=n,a},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=new vt.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Gr(e.height,t),i=0;if(e.totalheight.number>0&&(i=Gr(e.totalheight,t)-n,r.setAttribute("valign",kt(-i))),r.setAttribute("height",kt(n+i)),e.width.number>0){var o=Gr(e.width,t);r.setAttribute("width",kt(o))}return r.setAttribute("src",e.src),r},"mathmlBuilder")});Mt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=er(t[0],"size");if(r.settings.strict){var o=n[1]==="m",a=i.value.unit==="mu";o?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return Je.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=Gr(e.dimension,t);return new vt.SpaceNode(r)}});Mt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},"handler"),htmlBuilder:s((e,t)=>{var r;e.alignment==="clap"?(r=Je.makeSpan([],[hr(e.body,t)]),r=Je.makeSpan(["inner"],[r],t)):r=Je.makeSpan(["inner"],[hr(e.body,t)]);var n=Je.makeSpan(["fix"],[]),i=Je.makeSpan([e.alignment],[r,n],t),o=Je.makeSpan(["strut"]);return o.style.height=kt(i.height+i.depth),i.depth&&(o.style.verticalAlign=kt(-i.depth)),i.children.unshift(o),i=Je.makeSpan(["thinbox"],[i],t),Je.makeSpan(["mord","vbox"],[i],t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=new vt.MathNode("mpadded",[Sr(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")});Mt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",a=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}});Mt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new yt("Mismatched "+e.funcName)}});var y5=s((e,t)=>{switch(t.style.size){case Vt.DISPLAY.size:return e.display;case Vt.TEXT.size:return e.text;case Vt.SCRIPT.size:return e.script;case Vt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle");Mt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:s((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:en(t[0]),text:en(t[1]),script:en(t[2]),scriptscript:en(t[3])}},"handler"),htmlBuilder:s((e,t)=>{var r=y5(e,t),n=mn(r,t,!1);return Je.makeFragment(n)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=y5(e,t);return Ga(r,t)},"mathmlBuilder")});var uO=s((e,t,r,n,i,o,a)=>{e=Je.makeSpan([],[e]);var l=r&&gr.isCharacterBox(r),u,c;if(t){var h=hr(t,n.havingStyle(i.sup()),n);c={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var f=hr(r,n.havingStyle(i.sub()),n);u={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}var v;if(c&&u){var m=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+a;v=Je.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:kt(-o)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:kt(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var w=e.height-a;v=Je.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:kt(-o)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(c){var _=e.depth+a;v=Je.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:kt(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var A=[v];if(u&&o!==0&&!l){var M=Je.makeSpan(["mspace"],[],n);M.style.marginRight=kt(o),A.unshift(M)}return Je.makeSpan(["mop","op-limits"],A,n)},"assembleSupSub"),cO=["\\smallint"],nu=s((e,t)=>{var r,n,i=!1,o;e.type==="supsub"?(r=e.sup,n=e.sub,o=er(e.base,"op"),i=!0):o=er(e,"op");var a=t.style,l=!1;a.size===Vt.DISPLAY.size&&o.symbol&&!cO.includes(o.name)&&(l=!0);var u;if(o.symbol){var c=l?"Size2-Regular":"Size1-Regular",h="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(h=o.name.slice(1),o.name=h==="oiint"?"\\iint":"\\iiint"),u=Je.makeSymbol(o.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var f=u.italic,v=Je.staticSvg(h+"Size"+(l?"2":"1"),t);u=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:v,shift:l?.08:0}]},t),o.name="\\"+h,u.classes.unshift("mop"),u.italic=f}}else if(o.body){var m=mn(o.body,t,!0);m.length===1&&m[0]instanceof Ii?(u=m[0],u.classes[0]="mop"):u=Je.makeSpan(["mop"],m,t)}else{for(var w=[],_=1;_<o.name.length;_++)w.push(Je.mathsym(o.name[_],o.mode,t));u=Je.makeSpan(["mop"],w,t)}var A=0,M=0;return(u instanceof Ii||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(A=(u.height-u.depth)/2-t.fontMetrics().axisHeight,M=u.italic),i?uO(u,r,n,t,a,M,A):(A&&(u.style.position="relative",u.style.top=kt(A)),u)},"htmlBuilder$2"),kd=s((e,t)=>{var r;if(e.symbol)r=new ui("mo",[Oi(e.name,e.mode)]),cO.includes(e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new ui("mo",ri(e.body,t));else{r=new ui("mi",[new bs(e.name.slice(1))]);var n=new ui("mo",[Oi("","text")]);e.parentIsSupSub?r=new ui("mrow",[r,n]):r=BI([r,n])}return r},"mathmlBuilder$1"),gre={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Mt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=gre[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},"handler"),htmlBuilder:nu,mathmlBuilder:kd});Mt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:s((e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:en(n)}},"handler"),htmlBuilder:nu,mathmlBuilder:kd});var vre={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Mt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:nu,mathmlBuilder:kd});Mt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:nu,mathmlBuilder:kd});Mt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=vre[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:nu,mathmlBuilder:kd});var dO=s((e,t)=>{var r,n,i=!1,o;e.type==="supsub"?(r=e.sup,n=e.sub,o=er(e.base,"operatorname"),i=!0):o=er(e,"operatorname");var a;if(o.body.length>0){for(var l=o.body.map(f=>{var v=f.text;return typeof v=="string"?{type:"textord",mode:f.mode,text:v}:f}),u=mn(l,t.withFont("mathrm"),!0),c=0;c<u.length;c++){var h=u[c];h instanceof Ii&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Je.makeSpan(["mop"],u,t)}else a=Je.makeSpan(["mop"],[],t);return i?uO(a,r,n,t,t.style,0,0):a},"htmlBuilder$1"),bre=s((e,t)=>{for(var r=ri(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(!(o instanceof vt.SpaceNode))if(o instanceof vt.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=o.children[0];o.children.length===1&&a instanceof vt.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(h=>h.toText()).join("");r=[new vt.TextNode(l)]}var u=new vt.MathNode("mi",r);u.setAttribute("mathvariant","normal");var c=new vt.MathNode("mo",[Oi("","text")]);return e.parentIsSupSub?new vt.MathNode("mrow",[u,c]):vt.newDocumentFragment([u,c])},"mathmlBuilder2");Mt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:s((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:en(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:dO,mathmlBuilder:bre});ee("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");el({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Je.makeFragment(mn(e.body,t,!1)):Je.makeSpan(["mord"],mn(e.body,t,!0),t)},mathmlBuilder(e,t){return Ga(e.body,t,!0)}});Mt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=hr(e.body,t.havingCrampedStyle()),n=Je.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Je.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var r=new vt.MathNode("mo",[new vt.TextNode("")]);r.setAttribute("stretchy","true");var n=new vt.MathNode("mover",[Sr(e.body,t),r]);return n.setAttribute("accent","true"),n}});Mt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:s((e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:en(n)}},"handler"),htmlBuilder:s((e,t)=>{var r=mn(e.body,t.withPhantom(),!1);return Je.makeFragment(r)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=ri(e.body,t);return new vt.MathNode("mphantom",r)},"mathmlBuilder")});Mt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:s((e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:s((e,t)=>{var r=Je.makeSpan([],[hr(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Je.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=ri(en(e.body),t),n=new vt.MathNode("mphantom",r),i=new vt.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i},"mathmlBuilder")});Mt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:s((e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:s((e,t)=>{var r=Je.makeSpan(["inner"],[hr(e.body,t.withPhantom())]),n=Je.makeSpan(["fix"],[]);return Je.makeSpan(["mord","rlap"],[r,n],t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=ri(en(e.body),t),n=new vt.MathNode("mphantom",r),i=new vt.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i},"mathmlBuilder")});Mt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=er(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=hr(e.body,t),n=Gr(e.dy,t);return Je.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new vt.MathNode("mpadded",[Sr(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});Mt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Mt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],o=er(t[0],"size"),a=er(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&er(i,"size").value,width:o.value,height:a.value}},htmlBuilder(e,t){var r=Je.makeSpan(["mord","rule"],[],t),n=Gr(e.width,t),i=Gr(e.height,t),o=e.shift?Gr(e.shift,t):0;return r.style.borderRightWidth=kt(n),r.style.borderTopWidth=kt(i),r.style.bottom=kt(o),r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=Gr(e.width,t),n=Gr(e.height,t),i=e.shift?Gr(e.shift,t):0,o=t.color&&t.getColor()||"black",a=new vt.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",kt(r)),a.setAttribute("height",kt(n));var l=new vt.MathNode("mpadded",[a]);return i>=0?l.setAttribute("height",kt(i)):(l.setAttribute("height",kt(i)),l.setAttribute("depth",kt(-i))),l.setAttribute("voffset",kt(i)),l}});function fO(e,t,r){for(var n=mn(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var a=n[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[o].classes,t.sizingClasses(r)):n[o].classes[a+1]==="reset-size"+t.size&&(n[o].classes[a+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return Je.makeFragment(n)}s(fO,"sizingGroup");var w5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yre=s((e,t)=>{var r=t.havingSize(e.size);return fO(e.body,r,t)},"htmlBuilder2");Mt({type:"sizing",names:w5,props:{numArgs:0,allowedInText:!0},handler:s((e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:w5.indexOf(n)+1,body:o}},"handler"),htmlBuilder:yre,mathmlBuilder:s((e,t)=>{var r=t.havingSize(e.size),n=ri(e.body,r),i=new vt.MathNode("mstyle",n);return i.setAttribute("mathsize",kt(r.sizeMultiplier)),i},"mathmlBuilder")});Mt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:s((e,t,r)=>{var{parser:n}=e,i=!1,o=!1,a=r[0]&&er(r[0],"ordgroup");if(a)for(var l="",u=0;u<a.body.length;++u){var c=a.body[u];if(l=c.text,l==="t")i=!0;else if(l==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var h=t[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:o}},"handler"),htmlBuilder:s((e,t)=>{var r=Je.makeSpan([],[hr(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Je.makeSpan(["mord"],[o],t)},"htmlBuilder"),mathmlBuilder:s((e,t)=>{var r=new vt.MathNode("mpadded",[Sr(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")});Mt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],o=t[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder(e,t){var r=hr(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=Je.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,o=i;t.style.id<Vt.TEXT.id&&(o=t.fontMetrics().xHeight);var a=i+o/4,l=r.height+r.depth+a+i,{span:u,ruleWidth:c,advanceWidth:h}=la.sqrtImage(l,t),f=u.height-c;f>r.height+r.depth+a&&(a=(a+f-r.height-r.depth)/2);var v=u.height-r.height-a-c;r.style.paddingLeft=kt(h);var m=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+v)},{type:"elem",elem:u},{type:"kern",size:c}]},t);if(e.index){var w=t.havingStyle(Vt.SCRIPTSCRIPT),_=hr(e.index,w,t),A=.6*(m.height-m.depth),M=Je.makeVList({positionType:"shift",positionData:-A,children:[{type:"elem",elem:_}]},t),I=Je.makeSpan(["root"],[M]);return Je.makeSpan(["mord","sqrt"],[I,m],t)}else return Je.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new vt.MathNode("mroot",[Sr(r,t),Sr(n,t)]):new vt.MathNode("msqrt",[Sr(r,t)])}});var x5={display:Vt.DISPLAY,text:Vt.TEXT,script:Vt.SCRIPT,scriptscript:Vt.SCRIPTSCRIPT};Mt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,o=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(e,t){var r=x5[e.style],n=t.havingStyle(r).withFont("");return fO(e.body,n,t)},mathmlBuilder(e,t){var r=x5[e.style],n=t.havingStyle(r),i=ri(e.body,n),o=new vt.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[e.style];return o.setAttribute("scriptlevel",l[0]),o.setAttribute("displaystyle",l[1]),o}});var wre=s(function(t,r){var n=t.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Vt.DISPLAY.size||n.alwaysHandleSupSub);return i?nu:null}else if(n.type==="operatorname"){var o=n.alwaysHandleSupSub&&(r.style.size===Vt.DISPLAY.size||n.limits);return o?dO:null}else{if(n.type==="accent")return gr.isCharacterBox(n.base)?P4:null;if(n.type==="horizBrace"){var a=!t.sub;return a===n.isOver?lO:null}else return null}else return null},"htmlBuilderDelegate2");el({type:"supsub",htmlBuilder(e,t){var r=wre(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:o}=e,a=hr(n,t),l,u,c=t.fontMetrics(),h=0,f=0,v=n&&gr.isCharacterBox(n);if(i){var m=t.havingStyle(t.style.sup());l=hr(i,m,t),v||(h=a.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(o){var w=t.havingStyle(t.style.sub());u=hr(o,w,t),v||(f=a.depth+w.fontMetrics().subDrop*w.sizeMultiplier/t.sizeMultiplier)}var _;t.style===Vt.DISPLAY?_=c.sup1:t.style.cramped?_=c.sup3:_=c.sup2;var A=t.sizeMultiplier,M=kt(.5/c.ptPerEm/A),I=null;if(u){var R=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(a instanceof Ii||R)&&(I=kt(-a.italic))}var L;if(l&&u){h=Math.max(h,_,l.depth+.25*c.xHeight),f=Math.max(f,c.sub2);var P=c.defaultRuleThickness,F=4*P;if(h-l.depth-(u.height-f)<F){f=F-(h-l.depth)+u.height;var Z=.8*c.xHeight-(h-l.depth);Z>0&&(h+=Z,f-=Z)}var G=[{type:"elem",elem:u,shift:f,marginRight:M,marginLeft:I},{type:"elem",elem:l,shift:-h,marginRight:M}];L=Je.makeVList({positionType:"individualShift",children:G},t)}else if(u){f=Math.max(f,c.sub1,u.height-.8*c.xHeight);var se=[{type:"elem",elem:u,marginLeft:I,marginRight:M}];L=Je.makeVList({positionType:"shift",positionData:f,children:se},t)}else if(l)h=Math.max(h,_,l.depth+.25*c.xHeight),L=Je.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l,marginRight:M}]},t);else throw new Error("supsub must have either sup or sub.");var U=Dv(a,"right")||"mord";return Je.makeSpan([U],[a,Je.makeSpan(["msupsub"],[L])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var o=[Sr(e.base,t)];e.sub&&o.push(Sr(e.sub,t)),e.sup&&o.push(Sr(e.sup,t));var a;if(r)a=n?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===Vt.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===Vt.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Vt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Vt.DISPLAY)?a="munder":a="msub"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Vt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Vt.DISPLAY)?a="mover":a="msup"}return new vt.MathNode(a,o)}});el({type:"atom",htmlBuilder(e,t){return Je.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new vt.MathNode("mo",[Oi(e.text,e.mode)]);if(e.family==="bin"){var n=j4(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var hO={mi:"italic",mn:"normal",mtext:"normal"};el({type:"mathord",htmlBuilder(e,t){return Je.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new vt.MathNode("mi",[Oi(e.text,e.mode,t)]),n=j4(e,t)||"italic";return n!==hO[r.type]&&r.setAttribute("mathvariant",n),r}});el({type:"textord",htmlBuilder(e,t){return Je.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=Oi(e.text,e.mode,t),n=j4(e,t)||"normal",i;return e.mode==="text"?i=new vt.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new vt.MathNode("mn",[r]):e.text==="\\prime"?i=new vt.MathNode("mo",[r]):i=new vt.MathNode("mi",[r]),n!==hO[i.type]&&i.setAttribute("mathvariant",n),i}});var Wg={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Qg={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};el({type:"spacing",htmlBuilder(e,t){if(Qg.hasOwnProperty(e.text)){var r=Qg[e.text].className||"";if(e.mode==="text"){var n=Je.makeOrd(e,t,"textord");return n.classes.push(r),n}else return Je.makeSpan(["mspace",r],[Je.mathsym(e.text,e.mode,t)],t)}else{if(Wg.hasOwnProperty(e.text))return Je.makeSpan(["mspace",Wg[e.text]],[],t);throw new yt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(Qg.hasOwnProperty(e.text))r=new vt.MathNode("mtext",[new vt.TextNode("")]);else{if(Wg.hasOwnProperty(e.text))return new vt.MathNode("mspace");throw new yt('Unknown type of space "'+e.text+'"')}return r}});var _5=s(()=>{var e=new vt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad");el({type:"tag",mathmlBuilder(e,t){var r=new vt.MathNode("mtable",[new vt.MathNode("mtr",[_5(),new vt.MathNode("mtd",[Ga(e.body,t)]),_5(),new vt.MathNode("mtd",[Ga(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var E5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},S5={"\\textbf":"textbf","\\textmd":"textmd"},xre={"\\textit":"textit","\\textup":"textup"},k5=s((e,t)=>{var r=e.font;if(r){if(E5[r])return t.withTextFontFamily(E5[r]);if(S5[r])return t.withTextFontWeight(S5[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(xre[r])},"optionsWithFont");Mt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:en(i),font:n}},htmlBuilder(e,t){var r=k5(e,t),n=mn(e.body,r,!0);return Je.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=k5(e,t);return Ga(e.body,r)}});Mt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=hr(e.body,t),n=Je.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Je.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Je.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var r=new vt.MathNode("mo",[new vt.TextNode("")]);r.setAttribute("stretchy","true");var n=new vt.MathNode("munder",[Sr(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});Mt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=hr(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Je.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new vt.MathNode("mpadded",[Sr(e.body,t)],["vcenter"])}});Mt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new yt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=T5(e),n=[],i=t.havingStyle(t.style.text()),o=0;o<r.length;o++){var a=r[o];a==="~"&&(a="\\textasciitilde"),n.push(Je.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Je.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Je.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new vt.TextNode(T5(e)),n=new vt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var T5=s(e=>e.body.replace(/ /g,e.star?"":""),"makeVerb"),Ia=PI,pO=`[ \r
	]`,_re="\\\\[a-zA-Z@]+",Ere="\\\\[^\uD800-\uDFFF]",Sre="("+_re+")"+pO+"*",kre=`\\\\(
|[ \r	]+
?)[ \r	]*`,Fv="[-]",Tre=new RegExp(Fv+"+$"),Are="("+pO+"+)|"+(kre+"|")+"([!-\\[\\]---]"+(Fv+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Fv+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Sre)+("|"+Ere+")");class A5{static{s(this,"Lexer")}constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(Are,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new fi("EOF",new qn(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new yt("Unexpected character: '"+t[r]+"'",new fi(t[r],new qn(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new fi(i,new qn(this,r,this.tokenRegex.lastIndex))}}class Nre{static{s(this,"Namespace")}constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new yt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var Cre=nO;ee("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});ee("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});ee("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});ee("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});ee("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});ee("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ee("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var N5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ee("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new yt("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=N5[t.text],n==null||n>=r)throw new yt("Invalid base-"+r+" digit "+t.text);for(var i;(i=N5[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"});var V4=s((e,t,r,n)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new yt("\\newcommand's first argument must be a macro name");var o=i[0].text,a=e.isDefined(o);if(a&&!t)throw new yt("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!a&&!r)throw new yt("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var l=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var u="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)u+=c.text,c=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new yt("Invalid number of arguments: "+u);l=parseInt(u),i=e.consumeArg().tokens}return a&&n||e.macros.set(o,{tokens:i,numArgs:l}),""},"newcommand");ee("\\newcommand",e=>V4(e,!1,!0,!1));ee("\\renewcommand",e=>V4(e,!0,!1,!1));ee("\\providecommand",e=>V4(e,!0,!0,!0));ee("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});ee("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});ee("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Ia[r],Cr.math[r],Cr.text[r]),""});ee("\\bgroup","{");ee("\\egroup","}");ee("~","\\nobreakspace");ee("\\lq","`");ee("\\rq","'");ee("\\aa","\\r a");ee("\\AA","\\r A");ee("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");ee("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ee("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");ee("","\\mathscr{B}");ee("","\\mathscr{E}");ee("","\\mathscr{F}");ee("","\\mathscr{H}");ee("","\\mathscr{I}");ee("","\\mathscr{L}");ee("","\\mathscr{M}");ee("","\\mathscr{R}");ee("","\\mathfrak{C}");ee("","\\mathfrak{H}");ee("","\\mathfrak{Z}");ee("\\Bbbk","\\Bbb{k}");ee("","\\cdotp");ee("\\llap","\\mathllap{\\textrm{#1}}");ee("\\rlap","\\mathrlap{\\textrm{#1}}");ee("\\clap","\\mathclap{\\textrm{#1}}");ee("\\mathstrut","\\vphantom{(}");ee("\\underbar","\\underline{\\text{#1}}");ee("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ee("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");ee("\\ne","\\neq");ee("","\\neq");ee("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");ee("","\\notin");ee("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");ee("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");ee("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");ee("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");ee("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");ee("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");ee("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");ee("","\\perp");ee("","\\mathclose{!\\mkern-0.8mu!}");ee("","\\notni");ee("","\\ulcorner");ee("","\\urcorner");ee("","\\llcorner");ee("","\\lrcorner");ee("","\\copyright");ee("","\\textregistered");ee("","\\textregistered");ee("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ee("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ee("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ee("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ee("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ee("","\\vdots");ee("\\varGamma","\\mathit{\\Gamma}");ee("\\varDelta","\\mathit{\\Delta}");ee("\\varTheta","\\mathit{\\Theta}");ee("\\varLambda","\\mathit{\\Lambda}");ee("\\varXi","\\mathit{\\Xi}");ee("\\varPi","\\mathit{\\Pi}");ee("\\varSigma","\\mathit{\\Sigma}");ee("\\varUpsilon","\\mathit{\\Upsilon}");ee("\\varPhi","\\mathit{\\Phi}");ee("\\varPsi","\\mathit{\\Psi}");ee("\\varOmega","\\mathit{\\Omega}");ee("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ee("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ee("\\boxed","\\fbox{$\\displaystyle{#1}$}");ee("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ee("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ee("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ee("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ee("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var C5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ee("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in C5?t=C5[r]:(r.slice(0,4)==="\\not"||r in Cr.math&&["bin","rel"].includes(Cr.math[r].group))&&(t="\\dotsb"),t});var G4={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ee("\\dotso",function(e){var t=e.future().text;return t in G4?"\\ldots\\,":"\\ldots"});ee("\\dotsc",function(e){var t=e.future().text;return t in G4&&t!==","?"\\ldots\\,":"\\ldots"});ee("\\cdots",function(e){var t=e.future().text;return t in G4?"\\@cdots\\,":"\\@cdots"});ee("\\dotsb","\\cdots");ee("\\dotsm","\\cdots");ee("\\dotsi","\\!\\cdots");ee("\\dotsx","\\ldots\\,");ee("\\DOTSI","\\relax");ee("\\DOTSB","\\relax");ee("\\DOTSX","\\relax");ee("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ee("\\,","\\tmspace+{3mu}{.1667em}");ee("\\thinspace","\\,");ee("\\>","\\mskip{4mu}");ee("\\:","\\tmspace+{4mu}{.2222em}");ee("\\medspace","\\:");ee("\\;","\\tmspace+{5mu}{.2777em}");ee("\\thickspace","\\;");ee("\\!","\\tmspace-{3mu}{.1667em}");ee("\\negthinspace","\\!");ee("\\negmedspace","\\tmspace-{4mu}{.2222em}");ee("\\negthickspace","\\tmspace-{5mu}{.277em}");ee("\\enspace","\\kern.5em ");ee("\\enskip","\\hskip.5em\\relax");ee("\\quad","\\hskip1em\\relax");ee("\\qquad","\\hskip2em\\relax");ee("\\tag","\\@ifstar\\tag@literal\\tag@paren");ee("\\tag@paren","\\tag@literal{({#1})}");ee("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new yt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ee("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ee("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ee("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ee("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ee("\\newline","\\\\\\relax");ee("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var mO=kt(vs["Main-Regular"][84][1]-.7*vs["Main-Regular"][65][1]);ee("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+mO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ee("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+mO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ee("\\hspace","\\@ifstar\\@hspacer\\@hspace");ee("\\@hspace","\\hskip #1\\relax");ee("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ee("\\ordinarycolon",":");ee("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ee("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ee("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ee("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ee("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ee("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ee("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ee("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ee("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ee("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ee("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ee("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ee("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ee("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ee("","\\dblcolon");ee("","\\eqcolon");ee("","\\coloneqq");ee("","\\eqqcolon");ee("","\\Coloneqq");ee("\\ratio","\\vcentcolon");ee("\\coloncolon","\\dblcolon");ee("\\colonequals","\\coloneqq");ee("\\coloncolonequals","\\Coloneqq");ee("\\equalscolon","\\eqqcolon");ee("\\equalscoloncolon","\\Eqqcolon");ee("\\colonminus","\\coloneq");ee("\\coloncolonminus","\\Coloneq");ee("\\minuscolon","\\eqcolon");ee("\\minuscoloncolon","\\Eqcolon");ee("\\coloncolonapprox","\\Colonapprox");ee("\\coloncolonsim","\\Colonsim");ee("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ee("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ee("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ee("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ee("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");ee("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ee("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ee("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ee("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ee("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ee("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ee("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ee("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ee("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");ee("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");ee("\\ngeqq","\\html@mathml{\\@ngeqq}{}");ee("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");ee("\\nleqq","\\html@mathml{\\@nleqq}{}");ee("\\nleqslant","\\html@mathml{\\@nleqslant}{}");ee("\\nshortmid","\\html@mathml{\\@nshortmid}{}");ee("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");ee("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");ee("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");ee("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");ee("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");ee("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");ee("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");ee("\\imath","\\html@mathml{\\@imath}{}");ee("\\jmath","\\html@mathml{\\@jmath}{}");ee("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ee("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");ee("","\\llbracket");ee("","\\rrbracket");ee("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ee("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");ee("","\\lBrace");ee("","\\rBrace");ee("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");ee("","\\minuso");ee("\\darr","\\downarrow");ee("\\dArr","\\Downarrow");ee("\\Darr","\\Downarrow");ee("\\lang","\\langle");ee("\\rang","\\rangle");ee("\\uarr","\\uparrow");ee("\\uArr","\\Uparrow");ee("\\Uarr","\\Uparrow");ee("\\N","\\mathbb{N}");ee("\\R","\\mathbb{R}");ee("\\Z","\\mathbb{Z}");ee("\\alef","\\aleph");ee("\\alefsym","\\aleph");ee("\\Alpha","\\mathrm{A}");ee("\\Beta","\\mathrm{B}");ee("\\bull","\\bullet");ee("\\Chi","\\mathrm{X}");ee("\\clubs","\\clubsuit");ee("\\cnums","\\mathbb{C}");ee("\\Complex","\\mathbb{C}");ee("\\Dagger","\\ddagger");ee("\\diamonds","\\diamondsuit");ee("\\empty","\\emptyset");ee("\\Epsilon","\\mathrm{E}");ee("\\Eta","\\mathrm{H}");ee("\\exist","\\exists");ee("\\harr","\\leftrightarrow");ee("\\hArr","\\Leftrightarrow");ee("\\Harr","\\Leftrightarrow");ee("\\hearts","\\heartsuit");ee("\\image","\\Im");ee("\\infin","\\infty");ee("\\Iota","\\mathrm{I}");ee("\\isin","\\in");ee("\\Kappa","\\mathrm{K}");ee("\\larr","\\leftarrow");ee("\\lArr","\\Leftarrow");ee("\\Larr","\\Leftarrow");ee("\\lrarr","\\leftrightarrow");ee("\\lrArr","\\Leftrightarrow");ee("\\Lrarr","\\Leftrightarrow");ee("\\Mu","\\mathrm{M}");ee("\\natnums","\\mathbb{N}");ee("\\Nu","\\mathrm{N}");ee("\\Omicron","\\mathrm{O}");ee("\\plusmn","\\pm");ee("\\rarr","\\rightarrow");ee("\\rArr","\\Rightarrow");ee("\\Rarr","\\Rightarrow");ee("\\real","\\Re");ee("\\reals","\\mathbb{R}");ee("\\Reals","\\mathbb{R}");ee("\\Rho","\\mathrm{P}");ee("\\sdot","\\cdot");ee("\\sect","\\S");ee("\\spades","\\spadesuit");ee("\\sub","\\subset");ee("\\sube","\\subseteq");ee("\\supe","\\supseteq");ee("\\Tau","\\mathrm{T}");ee("\\thetasym","\\vartheta");ee("\\weierp","\\wp");ee("\\Zeta","\\mathrm{Z}");ee("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ee("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ee("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ee("\\bra","\\mathinner{\\langle{#1}|}");ee("\\ket","\\mathinner{|{#1}\\rangle}");ee("\\braket","\\mathinner{\\langle{#1}\\rangle}");ee("\\Bra","\\left\\langle#1\\right|");ee("\\Ket","\\left|#1\\right\\rangle");var gO=s(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,a=t.macros.get("|"),l=t.macros.get("\\|");t.macros.beginGroup();var u=s(f=>v=>{e&&(v.macros.set("|",a),i.length&&v.macros.set("\\|",l));var m=f;if(!f&&i.length){var w=v.future();w.text==="|"&&(v.popToken(),m=!0)}return{tokens:m?i:n,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),i.length&&t.macros.set("\\|",u(!0));var c=t.consumeArg().tokens,h=t.expandTokens([...o,...c,...r]);return t.macros.endGroup(),{tokens:h.reverse(),numArgs:0}},"braketHelper");ee("\\bra@ket",gO(!1));ee("\\bra@set",gO(!0));ee("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ee("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ee("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ee("\\angln","{\\angl n}");ee("\\blue","\\textcolor{##6495ed}{#1}");ee("\\orange","\\textcolor{##ffa500}{#1}");ee("\\pink","\\textcolor{##ff00af}{#1}");ee("\\red","\\textcolor{##df0030}{#1}");ee("\\green","\\textcolor{##28ae7b}{#1}");ee("\\gray","\\textcolor{gray}{#1}");ee("\\purple","\\textcolor{##9d38bd}{#1}");ee("\\blueA","\\textcolor{##ccfaff}{#1}");ee("\\blueB","\\textcolor{##80f6ff}{#1}");ee("\\blueC","\\textcolor{##63d9ea}{#1}");ee("\\blueD","\\textcolor{##11accd}{#1}");ee("\\blueE","\\textcolor{##0c7f99}{#1}");ee("\\tealA","\\textcolor{##94fff5}{#1}");ee("\\tealB","\\textcolor{##26edd5}{#1}");ee("\\tealC","\\textcolor{##01d1c1}{#1}");ee("\\tealD","\\textcolor{##01a995}{#1}");ee("\\tealE","\\textcolor{##208170}{#1}");ee("\\greenA","\\textcolor{##b6ffb0}{#1}");ee("\\greenB","\\textcolor{##8af281}{#1}");ee("\\greenC","\\textcolor{##74cf70}{#1}");ee("\\greenD","\\textcolor{##1fab54}{#1}");ee("\\greenE","\\textcolor{##0d923f}{#1}");ee("\\goldA","\\textcolor{##ffd0a9}{#1}");ee("\\goldB","\\textcolor{##ffbb71}{#1}");ee("\\goldC","\\textcolor{##ff9c39}{#1}");ee("\\goldD","\\textcolor{##e07d10}{#1}");ee("\\goldE","\\textcolor{##a75a05}{#1}");ee("\\redA","\\textcolor{##fca9a9}{#1}");ee("\\redB","\\textcolor{##ff8482}{#1}");ee("\\redC","\\textcolor{##f9685d}{#1}");ee("\\redD","\\textcolor{##e84d39}{#1}");ee("\\redE","\\textcolor{##bc2612}{#1}");ee("\\maroonA","\\textcolor{##ffbde0}{#1}");ee("\\maroonB","\\textcolor{##ff92c6}{#1}");ee("\\maroonC","\\textcolor{##ed5fa6}{#1}");ee("\\maroonD","\\textcolor{##ca337c}{#1}");ee("\\maroonE","\\textcolor{##9e034e}{#1}");ee("\\purpleA","\\textcolor{##ddd7ff}{#1}");ee("\\purpleB","\\textcolor{##c6b9fc}{#1}");ee("\\purpleC","\\textcolor{##aa87ff}{#1}");ee("\\purpleD","\\textcolor{##7854ab}{#1}");ee("\\purpleE","\\textcolor{##543b78}{#1}");ee("\\mintA","\\textcolor{##f5f9e8}{#1}");ee("\\mintB","\\textcolor{##edf2df}{#1}");ee("\\mintC","\\textcolor{##e0e5cc}{#1}");ee("\\grayA","\\textcolor{##f6f7f7}{#1}");ee("\\grayB","\\textcolor{##f0f1f2}{#1}");ee("\\grayC","\\textcolor{##e3e5e6}{#1}");ee("\\grayD","\\textcolor{##d6d8da}{#1}");ee("\\grayE","\\textcolor{##babec2}{#1}");ee("\\grayF","\\textcolor{##888d93}{#1}");ee("\\grayG","\\textcolor{##626569}{#1}");ee("\\grayH","\\textcolor{##3b3e40}{#1}");ee("\\grayI","\\textcolor{##21242c}{#1}");ee("\\kaBlue","\\textcolor{##314453}{#1}");ee("\\kaGreen","\\textcolor{##71B307}{#1}");var vO={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Mre{static{s(this,"MacroExpander")}constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new Nre(Cre,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new A5(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new fi("EOF",n.loc)),this.pushTokens(i),new fi("",qn.range(r,n))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var i=this.future(),o,a=0,l=0;do{if(o=this.popToken(),r.push(o),o.text==="{")++a;else if(o.text==="}"){if(--a,a===-1)throw new yt("Extra }",o)}else if(o.text==="EOF")throw new yt("Unexpected end of input in a macro argument, expected '"+(t&&n?t[l]:"}")+"'",o);if(t&&n)if((a===0||a===1&&t[l]==="{")&&o.text===t[l]){if(++l,l===t.length){r.splice(-l,l);break}}else l=0}while(a!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:o}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new yt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new yt("Use of the macro doesn't match its definition",o)}}for(var a=[],l=0;l<t;l++)a.push(this.consumeArg(r&&r[l+1]).tokens);return a}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new yt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||t&&i.unexpandable){if(t&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new yt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var l=o.length-1;l>=0;--l){var u=o[l];if(u.text==="#"){if(l===0)throw new yt("Incomplete placeholder at end of macro body",u);if(u=o[--l],u.text==="#")o.splice(l+1,1);else if(/^[1-9]$/.test(u.text))o.splice(l,2,...a[+u.text-1]);else throw new yt("Not a valid argument number",u)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new fi(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(o+1))!==-1;)++o;for(var l=new A5(i,this.settings),u=[],c=l.lex();c.text!=="EOF";)u.push(c),c=l.lex();u.reverse();var h={tokens:u,numArgs:o};return h}return i}isDefined(t){return this.macros.has(t)||Ia.hasOwnProperty(t)||Cr.math.hasOwnProperty(t)||Cr.text.hasOwnProperty(t)||vO.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Ia.hasOwnProperty(t)&&!Ia[t].primitive}}var M5=/^[]/,bf=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Xg={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},I5={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let bO=class yO{static{s(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Mre(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new yt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new fi("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(yO.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&Ia[i.text]&&Ia[i.text].infix)break;var o=this.parseAtom(r);if(o){if(o.type==="internal")continue}else break;n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new yt("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var o,a,l=t.slice(0,r),u=t.slice(r+1);l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?a=u[0]:a={type:"ordgroup",mode:this.mode,body:u};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[o,t[r],a],[]):c=this.callFunction(n,[o,a],[]),[c]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(t)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new yt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(r&&r.type==="op"){var a=o.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=o.text==="\\limits");else throw new yt("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(n)throw new yt("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new yt("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new yt("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if(bf[o.text]){var c=M5.test(o.text),h=[];for(h.push(new fi(bf[o.text])),this.consume();;){var f=this.fetch().text;if(!bf[f]||M5.test(f)!==c)break;h.unshift(new fi(bf[f])),this.consume()}var v=this.subparse(h);c?i={type:"ordgroup",mode:"math",body:v}:n={type:"ordgroup",mode:"math",body:v}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,o=Ia[i];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new yt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new yt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new yt("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:l}=this.parseArguments(i,o);return this.callFunction(i,a,l,n,t)}callFunction(t,r,n,i,o){var a={funcName:t,parser:this,token:i,breakOnTokenText:o},l=Ia[t];if(l&&l.handler)return l.handler(a,r,n);throw new yt("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<n;a++){var l=r.argTypes&&r.argTypes[a],u=a<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&a===1&&o[0]==null)&&(l="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",l,u);if(u)o.push(c);else if(c!=null)i.push(c);else throw new yt("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(n)throw new yt("A primitive argument cannot be optional");var a=this.parseGroup(t);if(a==null)throw new yt("Expected group as "+t,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new yt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,o="",a;(a=this.fetch()).text!=="EOF"&&t.test(o+a.text);)i=a,o+=i.text,this.consume();if(o==="")throw new yt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new yt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new yt("Invalid size: '"+r.text+"'",r);var o={number:+(i[1]+i[2]),unit:i[3]};if(!AI(o))throw new yt("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(i),a}parseGroup(t,r){var n=this.fetch(),i=n.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),u=this.fetch();this.expect(a),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:qn.range(n,u),body:l,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(r,t)||this.parseSymbol(),o==null&&i[0]==="\\"&&!vO.hasOwnProperty(i)){if(this.settings.throwOnError)throw new yt("Undefined control sequence: "+i,n);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],o=i.text;o==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:qn.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:qn.range(i,t[n+1]),text:"--"}),r-=1)),(o==="'"||o==="`")&&t[n+1].text===o&&(t.splice(n,2,{type:"textord",mode:"text",loc:qn.range(i,t[n+1]),text:o+o}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new yt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}I5.hasOwnProperty(r[0])&&!Cr[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=I5[r[0]]+r.slice(1));var o=Tre.exec(r);o&&(r=r.substring(0,o.index),r==="i"?r="":r==="j"&&(r=""));var a;if(Cr[this.mode][r]){this.settings.strict&&this.mode==="math"&&Pv.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=Cr[this.mode][r].group,u=qn.range(t),c;if(bte.hasOwnProperty(l)){var h=l;c={type:"atom",mode:this.mode,family:h,loc:u,text:r}}else c={type:l,mode:this.mode,loc:u,text:r};a=c}else if(r.charCodeAt(0)>=128)this.settings.strict&&(kI(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),a={type:"textord",mode:"text",loc:qn.range(t),text:r};else return null;if(this.consume(),o)for(var f=0;f<o[0].length;f++){var v=o[0][f];if(!Xg[v])throw new yt("Unknown accent ' "+v+"'",t);var m=Xg[v][this.mode]||Xg[v].text;if(!m)throw new yt("Accent "+v+" unsupported in "+this.mode+" mode",t);a={type:"accent",mode:this.mode,loc:qn.range(t),label:m,isStretchy:!1,isShifty:!0,base:a}}return a}};bO.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Z4=s(function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new bO(t,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new yt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new fi("\\df@tag")])}]}return i},"parseTree2"),J4=s(function(t,r,n){r.textContent="";var i=Tp(t,n).toNode();r.appendChild(i)},"render2");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),J4=s(function(){throw new yt("KaTeX doesn't work in quirks mode.")},"render3"));var wO=s(function(t,r){var n=Tp(t,r).toMarkup();return n},"renderToString2"),xO=s(function(t,r){var n=new N4(r);return Z4(t,n)},"generateParseTree2"),_O=s(function(t,r,n){if(n.throwOnError||!(t instanceof yt))throw t;var i=Je.makeSpan(["katex-error"],[new Ii(r)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+n.errorColor),i},"renderError2"),Tp=s(function(t,r){var n=new N4(r);try{var i=Z4(t,n);return Fte(i,t,n)}catch(o){return _O(o,t,n)}},"renderToDomTree2"),EO=s(function(t,r){var n=new N4(r);try{var i=Z4(t,n);return $te(i,t,n)}catch(o){return _O(o,t,n)}},"renderToHTMLTree2"),SO="0.16.25",kO={Span:Sd,Anchor:I4,SymbolNode:Ii,SvgNode:fa,PathNode:Va,LineNode:Lv},$v={version:SO,render:J4,renderToString:wO,ParseError:yt,SETTINGS_SCHEMA:nc,__parse:xO,__renderToDomTree:Tp,__renderToHTMLTree:EO,__setFontMetrics:TI,__defineSymbol:D,__defineFunction:Mt,__defineMacro:ee,__domTree:kO};const gme=Object.freeze(Object.defineProperty({__proto__:null,ParseError:yt,SETTINGS_SCHEMA:nc,__defineFunction:Mt,__defineMacro:ee,__defineSymbol:D,__domTree:kO,__parse:xO,__renderToDomTree:Tp,__renderToHTMLTree:EO,__setFontMetrics:TI,default:$v,get render(){return J4},renderToString:wO,version:SO},Symbol.toStringTag,{value:"Module"})),Ire={},Ore=[];function Rre(e){const t=e||Ire;return function(r,n){o7(r,"element",function(i,o){const a=Array.isArray(i.properties.className)?i.properties.className:Ore,l=a.includes("language-math"),u=a.includes("math-display"),c=a.includes("math-inline");let h=u;if(!l&&!u&&!c)return;let f=o[o.length-1],v=i;if(i.tagName==="code"&&l&&f&&f.type==="element"&&f.tagName==="pre"&&(v=f,f=o[o.length-2],h=!0),!f)return;const m=Iee(v,{whitespace:"pre"});let w;try{w=$v.renderToString(m,{...t,displayMode:h,throwOnError:!0})}catch(A){const M=A,I=M.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...o,i],cause:M,place:i.position,ruleId:I,source:"rehype-katex"});try{w=$v.renderToString(m,{...t,displayMode:h,strict:"ignore",throwOnError:!1})}catch{w=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(A)},children:[{type:"text",value:m}]}]}}typeof w=="string"&&(w=Eee(w).children);const _=f.children.indexOf(v);return f.children.splice(_,1,...w),N1})}}s(Rre,"rehypeKatex");function jre(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(o){if(typeof o=="number"&&o>-1&&o<=t.length){let a=0;for(;;){let l=r[a];if(l===void 0){const u=O5(t,r[a-1]);l=u===-1?t.length+1:u+1,r[a]=l}if(l>o)return{line:a+1,column:o-(a>0?r[a-1]:0)+1,offset:o};a++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;r.length<o.line;){const l=r[r.length-1],u=O5(t,l),c=u===-1?t.length+1:u+1;if(l===c)break;r.push(c)}const a=(o.line>1?r[o.line-2]:0)+o.column-1;if(a<r[o.line-1])return a}}}s(jre,"location$1");function O5(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}s(O5,"next");const TO={}.hasOwnProperty,Lre=Object.prototype;function Pre(e,t){const r=t||{};return W4({file:r.file||void 0,location:!1,schema:r.space==="svg"?td:m0,verbose:r.verbose||!1},e)}s(Pre,"fromParse5");function W4(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},Qf(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:AO(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),a=jre(o),l=a.toPoint(0),u=a.toPoint(o.length);r.position={start:l,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},Qf(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},Qf(e,n,r),r}default:return r=Dre(e,t),r}}s(W4,"one$2");function AO(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=W4(e,t[r]);n.push(i)}return n}s(AO,"all$3");function Dre(e,t){const r=e.schema;e.schema=t.namespaceURI===gs.svg?td:m0;let n=-1;const i={};for(;++n<t.attrs.length;){const l=t.attrs[n],u=(l.prefix?l.prefix+":":"")+l.name;TO.call(Lre,u)||(i[u]=l.value)}const a=(e.schema.space==="svg"?vI:gI)(t.tagName,i,AO(e,t.childNodes));if(Qf(e,t,a),a.tagName==="template"){const l=t,u=l.sourceCodeLocation,c=u&&u.startTag&&Sl(u.startTag),h=u&&u.endTag&&Sl(u.endTag),f=W4(e,l.content);c&&h&&e.file&&(f.position={start:c.end,end:h.start}),a.content=f}return e.schema=r,a}s(Dre,"element$3");function Qf(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=Bre(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}s(Qf,"patch$1");function Bre(e,t,r){const n=Sl(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const o={};let a;if(r.attrs)for(a in r.attrs)TO.call(r.attrs,a)&&(o[Eb(e.schema,a).property]=Sl(r.attrs[a]));Yn(r.startTag);const l=Sl(r.startTag),u=r.endTag?Sl(r.endTag):void 0,c={opening:l};u&&(c.closing=u),c.properties=o,t.data={position:c}}}return n}s(Bre,"createLocation");function Sl(e){const t=R5({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=R5({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}s(Sl,"position");function R5(e){return e.line&&e.column?e:void 0}s(R5,"point");class Td{static{s(this,"Schema")}constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}}Td.prototype.property={};Td.prototype.normal={};Td.prototype.space=null;function NO(e,t){const r={},n={};let i=-1;for(;++i<e.length;)Object.assign(r,e[i].property),Object.assign(n,e[i].normal);return new Td(r,n,t)}s(NO,"merge");function Hv(e){return e.toLowerCase()}s(Hv,"normalize");class ji{static{s(this,"Info")}constructor(t,r){this.property=t,this.attribute=r}}ji.prototype.space=null;ji.prototype.boolean=!1;ji.prototype.booleanish=!1;ji.prototype.overloadedBoolean=!1;ji.prototype.number=!1;ji.prototype.commaSeparated=!1;ji.prototype.spaceSeparated=!1;ji.prototype.commaOrSpaceSeparated=!1;ji.prototype.mustUseProperty=!1;ji.prototype.defined=!1;let zre=0;const qt=tl(),nn=tl(),CO=tl(),wt=tl(),Ar=tl(),Il=tl(),ai=tl();function tl(){return 2**++zre}s(tl,"increment");const Vv=Object.freeze(Object.defineProperty({__proto__:null,boolean:qt,booleanish:nn,commaOrSpaceSeparated:ai,commaSeparated:Il,number:wt,overloadedBoolean:CO,spaceSeparated:Ar},Symbol.toStringTag,{value:"Module"})),Kg=Object.keys(Vv);class Q4 extends ji{static{s(this,"DefinedInfo")}constructor(t,r,n,i){let o=-1;if(super(t,r),j5(this,"space",i),typeof n=="number")for(;++o<Kg.length;){const a=Kg[o];j5(this,Kg[o],(n&Vv[a])===Vv[a])}}}Q4.prototype.defined=!0;function j5(e,t,r){r&&(e[t]=r)}s(j5,"mark");const Ure={}.hasOwnProperty;function iu(e){const t={},r={};let n;for(n in e.properties)if(Ure.call(e.properties,n)){const i=e.properties[n],o=new Q4(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),t[n]=o,r[Hv(n)]=n,r[Hv(o.attribute)]=n}return new Td(t,r,e.space)}s(iu,"create");const MO=iu({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),IO=iu({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function OO(e,t){return t in e?e[t]:t}s(OO,"caseSensitiveTransform");function RO(e,t){return OO(e,t.toLowerCase())}s(RO,"caseInsensitiveTransform");const jO=iu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:RO,properties:{xmlns:null,xmlnsXLink:null}}),LO=iu({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:wt,ariaColIndex:wt,ariaColSpan:wt,ariaControls:Ar,ariaCurrent:null,ariaDescribedBy:Ar,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:Ar,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:Ar,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ar,ariaLevel:wt,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:Ar,ariaPlaceholder:null,ariaPosInSet:wt,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:Ar,ariaRowCount:wt,ariaRowIndex:wt,ariaRowSpan:wt,ariaSelected:nn,ariaSetSize:wt,ariaSort:null,ariaValueMax:wt,ariaValueMin:wt,ariaValueNow:wt,ariaValueText:null,role:null}}),Fre=iu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:RO,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Il,acceptCharset:Ar,accessKey:Ar,action:null,allow:null,allowFullScreen:qt,allowPaymentRequest:qt,allowUserMedia:qt,alt:null,as:null,async:qt,autoCapitalize:null,autoComplete:Ar,autoFocus:qt,autoPlay:qt,blocking:Ar,capture:null,charSet:null,checked:qt,cite:null,className:Ar,cols:wt,colSpan:null,content:null,contentEditable:nn,controls:qt,controlsList:Ar,coords:wt|Il,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qt,defer:qt,dir:null,dirName:null,disabled:qt,download:CO,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qt,formTarget:null,headers:Ar,height:wt,hidden:qt,high:wt,href:null,hrefLang:null,htmlFor:Ar,httpEquiv:Ar,id:null,imageSizes:null,imageSrcSet:null,inert:qt,inputMode:null,integrity:null,is:null,isMap:qt,itemId:null,itemProp:Ar,itemRef:Ar,itemScope:qt,itemType:Ar,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qt,low:wt,manifest:null,max:null,maxLength:wt,media:null,method:null,min:null,minLength:wt,multiple:qt,muted:qt,name:null,nonce:null,noModule:qt,noValidate:qt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qt,optimum:wt,pattern:null,ping:Ar,placeholder:null,playsInline:qt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qt,referrerPolicy:null,rel:Ar,required:qt,reversed:qt,rows:wt,rowSpan:wt,sandbox:Ar,scope:null,scoped:qt,seamless:qt,selected:qt,shadowRootClonable:qt,shadowRootDelegatesFocus:qt,shadowRootMode:null,shape:null,size:wt,sizes:null,slot:null,span:wt,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:wt,step:null,style:null,tabIndex:wt,target:null,title:null,translate:null,type:null,typeMustMatch:qt,useMap:null,value:nn,width:wt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ar,axis:null,background:null,bgColor:null,border:wt,borderColor:null,bottomMargin:wt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qt,declare:qt,event:null,face:null,frame:null,frameBorder:null,hSpace:wt,leftMargin:wt,link:null,longDesc:null,lowSrc:null,marginHeight:wt,marginWidth:wt,noResize:qt,noHref:qt,noShade:qt,noWrap:qt,object:null,profile:null,prompt:null,rev:null,rightMargin:wt,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:wt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:wt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qt,disableRemotePlayback:qt,prefix:null,property:null,results:wt,security:null,unselectable:null}}),$re=iu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:OO,properties:{about:ai,accentHeight:wt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:wt,amplitude:wt,arabicForm:null,ascent:wt,attributeName:null,attributeType:null,azimuth:wt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:wt,by:null,calcMode:null,capHeight:wt,className:Ar,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:wt,diffuseConstant:wt,direction:null,display:null,dur:null,divisor:wt,dominantBaseline:null,download:qt,dx:null,dy:null,edgeMode:null,editable:null,elevation:wt,enableBackground:null,end:null,event:null,exponent:wt,externalResourcesRequired:null,fill:null,fillOpacity:wt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Il,g2:Il,glyphName:Il,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:wt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:wt,horizOriginX:wt,horizOriginY:wt,id:null,ideographic:wt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:wt,k:wt,k1:wt,k2:wt,k3:wt,k4:wt,kernelMatrix:ai,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:wt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:wt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:wt,overlineThickness:wt,paintOrder:null,panose1:null,path:null,pathLength:wt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ar,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:wt,pointsAtY:wt,pointsAtZ:wt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ai,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ai,rev:ai,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ai,requiredFeatures:ai,requiredFonts:ai,requiredFormats:ai,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:wt,specularExponent:wt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:wt,strikethroughThickness:wt,string:null,stroke:null,strokeDashArray:ai,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:wt,strokeOpacity:wt,strokeWidth:null,style:null,surfaceScale:wt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ai,tabIndex:wt,tableValues:null,target:null,targetX:wt,targetY:wt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ai,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:wt,underlineThickness:wt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:wt,values:null,vAlphabetic:wt,vMathematical:wt,vectorEffect:null,vHanging:wt,vIdeographic:wt,version:null,vertAdvY:wt,vertOriginX:wt,vertOriginY:wt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:wt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Hre=/^data[-\w.:]+$/i,L5=/-[a-z]/g,Vre=/[A-Z]/g;function Gre(e,t){const r=Hv(t);let n=t,i=ji;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Hre.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(L5,Jre);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!L5.test(o)){let a=o.replace(Vre,Zre);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Q4}return new i(n,t)}s(Gre,"find");function Zre(e){return"-"+e.toLowerCase()}s(Zre,"kebab");function Jre(e){return e.charAt(1).toUpperCase()}s(Jre,"camelcase");const Wre=NO([IO,MO,jO,LO,Fre],"html"),PO=NO([IO,MO,jO,LO,$re],"svg"),P5={}.hasOwnProperty;function X4(e,t){const r=t||{};function n(i,...o){let a=n.invalid;const l=n.handlers;if(i&&P5.call(i,e)){const u=String(i[e]);a=P5.call(l,u)?l[u]:n.unknown}if(a)return a.call(this,i,...o)}return s(n,"one"),n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}s(X4,"zwitch");const Qre={},Xre={}.hasOwnProperty,DO=X4("type",{handlers:{root:qre,element:nne,text:tne,comment:rne,doctype:ene}});function Kre(e,t){const n=(t||Qre).space;return DO(e,n==="svg"?PO:Wre)}s(Kre,"toParse5");function qre(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=K4(e.children,r,t),su(e,r),r}s(qre,"root$3");function Yre(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=K4(e.children,r,t),su(e,r),r}s(Yre,"fragment");function ene(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return su(e,t),t}s(ene,"doctype$2");function tne(e){const t={nodeName:"#text",value:e.value,parentNode:null};return su(e,t),t}s(tne,"text$4");function rne(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return su(e,t),t}s(rne,"comment$2");function nne(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=PO);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&Xre.call(e.properties,o)){const u=ine(n,o,e.properties[o]);u&&i.push(u)}}const a=n.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:gs[a],childNodes:[],parentNode:null};return l.childNodes=K4(e.children,l,n),su(e,l),e.tagName==="template"&&e.content&&(l.content=Yre(e.content,n)),l}s(nne,"element$2");function ine(e,t,r){const n=Gre(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?l7(r):u7(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=n.attribute.slice(0,o)),i.namespace=gs[n.space]}return i}s(ine,"createProperty");function K4(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const o=DO(e[n],r);o.parentNode=t,i.push(o)}return i}s(K4,"all$2");function su(e,t){const r=e.position;r&&r.start&&r.end&&(Yn(typeof r.start.offset=="number"),Yn(typeof r.end.offset=="number"),t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}s(su,"patch");const BO=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],sne=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Pr="";var le;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(le||(le={}));const Qn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function zO(e){return e>=55296&&e<=57343}s(zO,"isSurrogate");function ane(e){return e>=56320&&e<=57343}s(ane,"isSurrogatePair");function one(e,t){return(e-55296)*1024+9216+t}s(one,"getSurrogatePairCodePoint");function UO(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}s(UO,"isControlCodePoint");function FO(e){return e>=64976&&e<=65007||sne.has(e)}s(FO,"isUndefinedCodePoint");var nt;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(nt||(nt={}));const lne=65536;class une{static{s(this,"Preprocessor")}constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=lne,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:o}=this,a=i+r,l=o+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(ane(r))return this.pos++,this._addGap(),one(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,le.EOF;return this._err(nt.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,le.EOF;const n=this.html.charCodeAt(r);return n===le.CARRIAGE_RETURN?le.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,le.EOF;let t=this.html.charCodeAt(this.pos);return t===le.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,le.LINE_FEED):t===le.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,zO(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===le.LINE_FEED||t===le.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){UO(t)?this._err(nt.controlCharacterInInputStream):FO(t)&&this._err(nt.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ar;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ar||(ar={}));function $O(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}s($O,"getTokenAttr");const cne=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),dne=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function fne(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=dne.get(e))!==null&&t!==void 0?t:e}s(fne,"replaceCodePoint");var xn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(xn||(xn={}));const hne=32;var Oa;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Oa||(Oa={}));function Gv(e){return e>=xn.ZERO&&e<=xn.NINE}s(Gv,"isNumber");function pne(e){return e>=xn.UPPER_A&&e<=xn.UPPER_F||e>=xn.LOWER_A&&e<=xn.LOWER_F}s(pne,"isHexadecimalCharacter");function mne(e){return e>=xn.UPPER_A&&e<=xn.UPPER_Z||e>=xn.LOWER_A&&e<=xn.LOWER_Z||Gv(e)}s(mne,"isAsciiAlphaNumeric$1");function gne(e){return e===xn.EQUALS||mne(e)}s(gne,"isEntityInAttributeInvalidEnd");var bn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(bn||(bn={}));var ea;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ea||(ea={}));class vne{static{s(this,"EntityDecoder")}constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=bn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ea.Strict}startEntity(t){this.decodeMode=t,this.state=bn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case bn.EntityStart:return t.charCodeAt(r)===xn.NUM?(this.state=bn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=bn.NamedEntity,this.stateNamedEntity(t,r));case bn.NumericStart:return this.stateNumericStart(t,r);case bn.NumericDecimal:return this.stateNumericDecimal(t,r);case bn.NumericHex:return this.stateNumericHex(t,r);case bn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|hne)===xn.LOWER_X?(this.state=bn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=bn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const o=n-r;this.result=this.result*Math.pow(i,o)+Number.parseInt(t.substr(r,o),i),this.consumed+=o}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(Gv(i)||pne(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(Gv(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===xn.SEMI)this.consumed+=1;else if(this.decodeMode===ea.Strict)return 0;return this.emitCodePoint(fne(this.result),this.consumed),this.errors&&(t!==xn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],o=(i&Oa.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=bne(n,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===ea.Attribute&&(o===0||gne(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],o=(i&Oa.VALUE_LENGTH)>>14,o!==0){if(a===xn.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==ea.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&Oa.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~Oa.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case bn.NamedEntity:return this.result!==0&&(this.decodeMode!==ea.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case bn.NumericDecimal:return this.emitNumericEntity(0,2);case bn.NumericHex:return this.emitNumericEntity(0,3);case bn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case bn.EntityStart:return 0}}}function bne(e,t,r,n){const i=(t&Oa.BRANCH_LENGTH)>>7,o=t&Oa.JUMP_TABLE;if(i===0)return o!==0&&n===o?r:-1;if(o){const u=n-o;return u<0||u>=i?-1:e[r+u]-1}let a=r,l=a+i-1;for(;a<=l;){const u=a+l>>>1,c=e[u];if(c<n)a=u+1;else if(c>n)l=u-1;else return e[u+i]}return-1}s(bne,"determineBranch");var pt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(pt||(pt={}));var Ao;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Ao||(Ao={}));var _i;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(_i||(_i={}));var Ve;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ve||(Ve={}));var j;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(j||(j={}));const yne=new Map([[Ve.A,j.A],[Ve.ADDRESS,j.ADDRESS],[Ve.ANNOTATION_XML,j.ANNOTATION_XML],[Ve.APPLET,j.APPLET],[Ve.AREA,j.AREA],[Ve.ARTICLE,j.ARTICLE],[Ve.ASIDE,j.ASIDE],[Ve.B,j.B],[Ve.BASE,j.BASE],[Ve.BASEFONT,j.BASEFONT],[Ve.BGSOUND,j.BGSOUND],[Ve.BIG,j.BIG],[Ve.BLOCKQUOTE,j.BLOCKQUOTE],[Ve.BODY,j.BODY],[Ve.BR,j.BR],[Ve.BUTTON,j.BUTTON],[Ve.CAPTION,j.CAPTION],[Ve.CENTER,j.CENTER],[Ve.CODE,j.CODE],[Ve.COL,j.COL],[Ve.COLGROUP,j.COLGROUP],[Ve.DD,j.DD],[Ve.DESC,j.DESC],[Ve.DETAILS,j.DETAILS],[Ve.DIALOG,j.DIALOG],[Ve.DIR,j.DIR],[Ve.DIV,j.DIV],[Ve.DL,j.DL],[Ve.DT,j.DT],[Ve.EM,j.EM],[Ve.EMBED,j.EMBED],[Ve.FIELDSET,j.FIELDSET],[Ve.FIGCAPTION,j.FIGCAPTION],[Ve.FIGURE,j.FIGURE],[Ve.FONT,j.FONT],[Ve.FOOTER,j.FOOTER],[Ve.FOREIGN_OBJECT,j.FOREIGN_OBJECT],[Ve.FORM,j.FORM],[Ve.FRAME,j.FRAME],[Ve.FRAMESET,j.FRAMESET],[Ve.H1,j.H1],[Ve.H2,j.H2],[Ve.H3,j.H3],[Ve.H4,j.H4],[Ve.H5,j.H5],[Ve.H6,j.H6],[Ve.HEAD,j.HEAD],[Ve.HEADER,j.HEADER],[Ve.HGROUP,j.HGROUP],[Ve.HR,j.HR],[Ve.HTML,j.HTML],[Ve.I,j.I],[Ve.IMG,j.IMG],[Ve.IMAGE,j.IMAGE],[Ve.INPUT,j.INPUT],[Ve.IFRAME,j.IFRAME],[Ve.KEYGEN,j.KEYGEN],[Ve.LABEL,j.LABEL],[Ve.LI,j.LI],[Ve.LINK,j.LINK],[Ve.LISTING,j.LISTING],[Ve.MAIN,j.MAIN],[Ve.MALIGNMARK,j.MALIGNMARK],[Ve.MARQUEE,j.MARQUEE],[Ve.MATH,j.MATH],[Ve.MENU,j.MENU],[Ve.META,j.META],[Ve.MGLYPH,j.MGLYPH],[Ve.MI,j.MI],[Ve.MO,j.MO],[Ve.MN,j.MN],[Ve.MS,j.MS],[Ve.MTEXT,j.MTEXT],[Ve.NAV,j.NAV],[Ve.NOBR,j.NOBR],[Ve.NOFRAMES,j.NOFRAMES],[Ve.NOEMBED,j.NOEMBED],[Ve.NOSCRIPT,j.NOSCRIPT],[Ve.OBJECT,j.OBJECT],[Ve.OL,j.OL],[Ve.OPTGROUP,j.OPTGROUP],[Ve.OPTION,j.OPTION],[Ve.P,j.P],[Ve.PARAM,j.PARAM],[Ve.PLAINTEXT,j.PLAINTEXT],[Ve.PRE,j.PRE],[Ve.RB,j.RB],[Ve.RP,j.RP],[Ve.RT,j.RT],[Ve.RTC,j.RTC],[Ve.RUBY,j.RUBY],[Ve.S,j.S],[Ve.SCRIPT,j.SCRIPT],[Ve.SEARCH,j.SEARCH],[Ve.SECTION,j.SECTION],[Ve.SELECT,j.SELECT],[Ve.SOURCE,j.SOURCE],[Ve.SMALL,j.SMALL],[Ve.SPAN,j.SPAN],[Ve.STRIKE,j.STRIKE],[Ve.STRONG,j.STRONG],[Ve.STYLE,j.STYLE],[Ve.SUB,j.SUB],[Ve.SUMMARY,j.SUMMARY],[Ve.SUP,j.SUP],[Ve.TABLE,j.TABLE],[Ve.TBODY,j.TBODY],[Ve.TEMPLATE,j.TEMPLATE],[Ve.TEXTAREA,j.TEXTAREA],[Ve.TFOOT,j.TFOOT],[Ve.TD,j.TD],[Ve.TH,j.TH],[Ve.THEAD,j.THEAD],[Ve.TITLE,j.TITLE],[Ve.TR,j.TR],[Ve.TRACK,j.TRACK],[Ve.TT,j.TT],[Ve.U,j.U],[Ve.UL,j.UL],[Ve.SVG,j.SVG],[Ve.VAR,j.VAR],[Ve.WBR,j.WBR],[Ve.XMP,j.XMP]]);function au(e){var t;return(t=yne.get(e))!==null&&t!==void 0?t:j.UNKNOWN}s(au,"getTagID");const gt=j,wne={[pt.HTML]:new Set([gt.ADDRESS,gt.APPLET,gt.AREA,gt.ARTICLE,gt.ASIDE,gt.BASE,gt.BASEFONT,gt.BGSOUND,gt.BLOCKQUOTE,gt.BODY,gt.BR,gt.BUTTON,gt.CAPTION,gt.CENTER,gt.COL,gt.COLGROUP,gt.DD,gt.DETAILS,gt.DIR,gt.DIV,gt.DL,gt.DT,gt.EMBED,gt.FIELDSET,gt.FIGCAPTION,gt.FIGURE,gt.FOOTER,gt.FORM,gt.FRAME,gt.FRAMESET,gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6,gt.HEAD,gt.HEADER,gt.HGROUP,gt.HR,gt.HTML,gt.IFRAME,gt.IMG,gt.INPUT,gt.LI,gt.LINK,gt.LISTING,gt.MAIN,gt.MARQUEE,gt.MENU,gt.META,gt.NAV,gt.NOEMBED,gt.NOFRAMES,gt.NOSCRIPT,gt.OBJECT,gt.OL,gt.P,gt.PARAM,gt.PLAINTEXT,gt.PRE,gt.SCRIPT,gt.SECTION,gt.SELECT,gt.SOURCE,gt.STYLE,gt.SUMMARY,gt.TABLE,gt.TBODY,gt.TD,gt.TEMPLATE,gt.TEXTAREA,gt.TFOOT,gt.TH,gt.THEAD,gt.TITLE,gt.TR,gt.TRACK,gt.UL,gt.WBR,gt.XMP]),[pt.MATHML]:new Set([gt.MI,gt.MO,gt.MN,gt.MS,gt.MTEXT,gt.ANNOTATION_XML]),[pt.SVG]:new Set([gt.TITLE,gt.FOREIGN_OBJECT,gt.DESC]),[pt.XLINK]:new Set,[pt.XML]:new Set,[pt.XMLNS]:new Set},Zv=new Set([gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6]);Ve.STYLE,Ve.SCRIPT,Ve.XMP,Ve.IFRAME,Ve.NOEMBED,Ve.NOFRAMES,Ve.PLAINTEXT;var me;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(me||(me={}));const Yr={DATA:me.DATA,RCDATA:me.RCDATA,RAWTEXT:me.RAWTEXT,SCRIPT_DATA:me.SCRIPT_DATA,PLAINTEXT:me.PLAINTEXT,CDATA_SECTION:me.CDATA_SECTION};function xne(e){return e>=le.DIGIT_0&&e<=le.DIGIT_9}s(xne,"isAsciiDigit");function qu(e){return e>=le.LATIN_CAPITAL_A&&e<=le.LATIN_CAPITAL_Z}s(qu,"isAsciiUpper");function _ne(e){return e>=le.LATIN_SMALL_A&&e<=le.LATIN_SMALL_Z}s(_ne,"isAsciiLower");function Ta(e){return _ne(e)||qu(e)}s(Ta,"isAsciiLetter");function D5(e){return Ta(e)||xne(e)}s(D5,"isAsciiAlphaNumeric");function yf(e){return e+32}s(yf,"toAsciiLower");function HO(e){return e===le.SPACE||e===le.LINE_FEED||e===le.TABULATION||e===le.FORM_FEED}s(HO,"isWhitespace");function B5(e){return HO(e)||e===le.SOLIDUS||e===le.GREATER_THAN_SIGN}s(B5,"isScriptDataDoubleEscapeSequenceEnd");function Ene(e){return e===le.NULL?nt.nullCharacterReference:e>1114111?nt.characterReferenceOutsideUnicodeRange:zO(e)?nt.surrogateCharacterReference:FO(e)?nt.noncharacterCharacterReference:UO(e)||e===le.CARRIAGE_RETURN?nt.controlCharacterReference:null}s(Ene,"getErrorForNumericCharacterReference");class Sne{static{s(this,"Tokenizer")}constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=me.DATA,this.returnState=me.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new une(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new vne(cne,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:s(()=>{this._err(nt.missingSemicolonAfterCharacterReference,1)},"missingSemicolonAfterCharacterReference"),absenceOfDigitsInNumericCharacterReference:s(n=>{this._err(nt.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},"absenceOfDigitsInNumericCharacterReference"),validateNumericCharacterReference:s(n=>{const i=Ene(n);i&&this._err(i,1)},"validateNumericCharacterReference")}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ar.START_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ar.END_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ar.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ar.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if($O(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(nt.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=au(t.tagName),t.type===ar.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(nt.endTagWithAttributes),t.selfClosing&&this._err(nt.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ar.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ar.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ar.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ar.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=HO(t)?ar.WHITESPACE_CHARACTER:t===le.NULL?ar.NULL_CHARACTER:ar.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ar.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=me.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ea.Attribute:ea.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===me.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===me.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===me.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case me.DATA:{this._stateData(t);break}case me.RCDATA:{this._stateRcdata(t);break}case me.RAWTEXT:{this._stateRawtext(t);break}case me.SCRIPT_DATA:{this._stateScriptData(t);break}case me.PLAINTEXT:{this._statePlaintext(t);break}case me.TAG_OPEN:{this._stateTagOpen(t);break}case me.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case me.TAG_NAME:{this._stateTagName(t);break}case me.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case me.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case me.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case me.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case me.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case me.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case me.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case me.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case me.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case me.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case me.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case me.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case me.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case me.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case me.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case me.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case me.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case me.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case me.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case me.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case me.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case me.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case me.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case me.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case me.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case me.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case me.BOGUS_COMMENT:{this._stateBogusComment(t);break}case me.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case me.COMMENT_START:{this._stateCommentStart(t);break}case me.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case me.COMMENT:{this._stateComment(t);break}case me.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case me.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case me.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case me.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case me.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case me.COMMENT_END:{this._stateCommentEnd(t);break}case me.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case me.DOCTYPE:{this._stateDoctype(t);break}case me.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case me.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case me.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case me.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case me.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case me.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case me.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case me.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case me.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case me.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case me.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case me.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case me.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case me.CDATA_SECTION:{this._stateCdataSection(t);break}case me.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case me.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case me.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case me.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case le.LESS_THAN_SIGN:{this.state=me.TAG_OPEN;break}case le.AMPERSAND:{this._startCharacterReference();break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitCodePoint(t);break}case le.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case le.AMPERSAND:{this._startCharacterReference();break}case le.LESS_THAN_SIGN:{this.state=me.RCDATA_LESS_THAN_SIGN;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(Pr);break}case le.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case le.LESS_THAN_SIGN:{this.state=me.RAWTEXT_LESS_THAN_SIGN;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(Pr);break}case le.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_LESS_THAN_SIGN;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(Pr);break}case le.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(Pr);break}case le.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Ta(t))this._createStartTagToken(),this.state=me.TAG_NAME,this._stateTagName(t);else switch(t){case le.EXCLAMATION_MARK:{this.state=me.MARKUP_DECLARATION_OPEN;break}case le.SOLIDUS:{this.state=me.END_TAG_OPEN;break}case le.QUESTION_MARK:{this._err(nt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=me.BOGUS_COMMENT,this._stateBogusComment(t);break}case le.EOF:{this._err(nt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(nt.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=me.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Ta(t))this._createEndTagToken(),this.state=me.TAG_NAME,this._stateTagName(t);else switch(t){case le.GREATER_THAN_SIGN:{this._err(nt.missingEndTagName),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(nt.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=me.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this.state=me.BEFORE_ATTRIBUTE_NAME;break}case le.SOLIDUS:{this.state=me.SELF_CLOSING_START_TAG;break}case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentTagToken();break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.tagName+=Pr;break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(qu(t)?yf(t):t)}}_stateRcdataLessThanSign(t){t===le.SOLIDUS?this.state=me.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=me.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Ta(t)?(this.state=me.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=me.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=me.BEFORE_ATTRIBUTE_NAME,!1;case le.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=me.SELF_CLOSING_START_TAG,!1;case le.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=me.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===le.SOLIDUS?this.state=me.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=me.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Ta(t)?(this.state=me.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=me.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case le.SOLIDUS:{this.state=me.SCRIPT_DATA_END_TAG_OPEN;break}case le.EXCLAMATION_MARK:{this.state=me.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=me.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Ta(t)?(this.state=me.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===le.HYPHEN_MINUS?(this.state=me.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===le.HYPHEN_MINUS?(this.state=me.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=me.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case le.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(Pr);break}case le.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case le.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_ESCAPED,this._emitChars(Pr);break}case le.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case le.HYPHEN_MINUS:{this._emitChars("-");break}case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case le.GREATER_THAN_SIGN:{this.state=me.SCRIPT_DATA,this._emitChars(">");break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_ESCAPED,this._emitChars(Pr);break}case le.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===le.SOLIDUS?this.state=me.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ta(t)?(this._emitChars("<"),this.state=me.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Ta(t)?(this.state=me.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Qn.SCRIPT,!1)&&B5(this.preprocessor.peek(Qn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Qn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=me.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case le.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this._emitChars(Pr);break}case le.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case le.HYPHEN_MINUS:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Pr);break}case le.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case le.HYPHEN_MINUS:{this._emitChars("-");break}case le.LESS_THAN_SIGN:{this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case le.GREATER_THAN_SIGN:{this.state=me.SCRIPT_DATA,this._emitChars(">");break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Pr);break}case le.EOF:{this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===le.SOLIDUS?(this.state=me.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Qn.SCRIPT,!1)&&B5(this.preprocessor.peek(Qn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Qn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=me.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=me.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.SOLIDUS:case le.GREATER_THAN_SIGN:case le.EOF:{this.state=me.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case le.EQUALS_SIGN:{this._err(nt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=me.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=me.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:case le.SOLIDUS:case le.GREATER_THAN_SIGN:case le.EOF:{this._leaveAttrName(),this.state=me.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case le.EQUALS_SIGN:{this._leaveAttrName(),this.state=me.BEFORE_ATTRIBUTE_VALUE;break}case le.QUOTATION_MARK:case le.APOSTROPHE:case le.LESS_THAN_SIGN:{this._err(nt.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.name+=Pr;break}default:this.currentAttr.name+=String.fromCodePoint(qu(t)?yf(t):t)}}_stateAfterAttributeName(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.SOLIDUS:{this.state=me.SELF_CLOSING_START_TAG;break}case le.EQUALS_SIGN:{this.state=me.BEFORE_ATTRIBUTE_VALUE;break}case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentTagToken();break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=me.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.QUOTATION_MARK:{this.state=me.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case le.APOSTROPHE:{this.state=me.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case le.GREATER_THAN_SIGN:{this._err(nt.missingAttributeValue),this.state=me.DATA,this.emitCurrentTagToken();break}default:this.state=me.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case le.QUOTATION_MARK:{this.state=me.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case le.AMPERSAND:{this._startCharacterReference();break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=Pr;break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case le.APOSTROPHE:{this.state=me.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case le.AMPERSAND:{this._startCharacterReference();break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=Pr;break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this._leaveAttrValue(),this.state=me.BEFORE_ATTRIBUTE_NAME;break}case le.AMPERSAND:{this._startCharacterReference();break}case le.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=me.DATA,this.emitCurrentTagToken();break}case le.NULL:{this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=Pr;break}case le.QUOTATION_MARK:case le.APOSTROPHE:case le.LESS_THAN_SIGN:case le.EQUALS_SIGN:case le.GRAVE_ACCENT:{this._err(nt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this._leaveAttrValue(),this.state=me.BEFORE_ATTRIBUTE_NAME;break}case le.SOLIDUS:{this._leaveAttrValue(),this.state=me.SELF_CLOSING_START_TAG;break}case le.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=me.DATA,this.emitCurrentTagToken();break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this._err(nt.missingWhitespaceBetweenAttributes),this.state=me.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case le.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=me.DATA,this.emitCurrentTagToken();break}case le.EOF:{this._err(nt.eofInTag),this._emitEOFToken();break}default:this._err(nt.unexpectedSolidusInTag),this.state=me.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentComment(r);break}case le.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.data+=Pr;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Qn.DASH_DASH,!0)?(this._createCommentToken(Qn.DASH_DASH.length+1),this.state=me.COMMENT_START):this._consumeSequenceIfMatch(Qn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Qn.DOCTYPE.length+1),this.state=me.DOCTYPE):this._consumeSequenceIfMatch(Qn.CDATA_START,!0)?this.inForeignNode?this.state=me.CDATA_SECTION:(this._err(nt.cdataInHtmlContent),this._createCommentToken(Qn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=me.BOGUS_COMMENT):this._ensureHibernation()||(this._err(nt.incorrectlyOpenedComment),this._createCommentToken(2),this.state=me.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case le.HYPHEN_MINUS:{this.state=me.COMMENT_START_DASH;break}case le.GREATER_THAN_SIGN:{this._err(nt.abruptClosingOfEmptyComment),this.state=me.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=me.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case le.HYPHEN_MINUS:{this.state=me.COMMENT_END;break}case le.GREATER_THAN_SIGN:{this._err(nt.abruptClosingOfEmptyComment),this.state=me.DATA,this.emitCurrentComment(r);break}case le.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=me.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case le.HYPHEN_MINUS:{this.state=me.COMMENT_END_DASH;break}case le.LESS_THAN_SIGN:{r.data+="<",this.state=me.COMMENT_LESS_THAN_SIGN;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.data+=Pr;break}case le.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case le.EXCLAMATION_MARK:{r.data+="!",this.state=me.COMMENT_LESS_THAN_SIGN_BANG;break}case le.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=me.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===le.HYPHEN_MINUS?this.state=me.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=me.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===le.HYPHEN_MINUS?this.state=me.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=me.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==le.GREATER_THAN_SIGN&&t!==le.EOF&&this._err(nt.nestedComment),this.state=me.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case le.HYPHEN_MINUS:{this.state=me.COMMENT_END;break}case le.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=me.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentComment(r);break}case le.EXCLAMATION_MARK:{this.state=me.COMMENT_END_BANG;break}case le.HYPHEN_MINUS:{r.data+="-";break}case le.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=me.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case le.HYPHEN_MINUS:{r.data+="--!",this.state=me.COMMENT_END_DASH;break}case le.GREATER_THAN_SIGN:{this._err(nt.incorrectlyClosedComment),this.state=me.DATA,this.emitCurrentComment(r);break}case le.EOF:{this._err(nt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=me.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this.state=me.BEFORE_DOCTYPE_NAME;break}case le.GREATER_THAN_SIGN:{this.state=me.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case le.EOF:{this._err(nt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingWhitespaceBeforeDoctypeName),this.state=me.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(qu(t))this._createDoctypeToken(String.fromCharCode(yf(t))),this.state=me.DOCTYPE_NAME;else switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.NULL:{this._err(nt.unexpectedNullCharacter),this._createDoctypeToken(Pr),this.state=me.DOCTYPE_NAME;break}case le.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=me.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this.state=me.AFTER_DOCTYPE_NAME;break}case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.name+=Pr;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(qu(t)?yf(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Qn.PUBLIC,!1)?this.state=me.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Qn.SYSTEM,!1)?this.state=me.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(nt.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this.state=me.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case le.QUOTATION_MARK:{this._err(nt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case le.APOSTROPHE:{this._err(nt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case le.GREATER_THAN_SIGN:{this._err(nt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.QUOTATION_MARK:{r.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case le.APOSTROPHE:{r.publicId="",this.state=me.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case le.GREATER_THAN_SIGN:{this._err(nt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case le.QUOTATION_MARK:{this.state=me.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.publicId+=Pr;break}case le.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case le.APOSTROPHE:{this.state=me.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.publicId+=Pr;break}case le.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this.state=me.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case le.GREATER_THAN_SIGN:{this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.QUOTATION_MARK:{this._err(nt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case le.APOSTROPHE:{this._err(nt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.QUOTATION_MARK:{r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case le.APOSTROPHE:{r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:{this.state=me.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case le.QUOTATION_MARK:{this._err(nt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case le.APOSTROPHE:{this._err(nt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case le.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.QUOTATION_MARK:{r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case le.APOSTROPHE:{r.systemId="",this.state=me.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case le.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=me.DATA,this.emitCurrentDoctype(r);break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case le.QUOTATION_MARK:{this.state=me.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.systemId+=Pr;break}case le.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case le.APOSTROPHE:{this.state=me.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case le.NULL:{this._err(nt.unexpectedNullCharacter),r.systemId+=Pr;break}case le.GREATER_THAN_SIGN:{this._err(nt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case le.SPACE:case le.LINE_FEED:case le.TABULATION:case le.FORM_FEED:break;case le.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.EOF:{this._err(nt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(nt.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=me.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case le.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=me.DATA;break}case le.NULL:{this._err(nt.unexpectedNullCharacter);break}case le.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case le.RIGHT_SQUARE_BRACKET:{this.state=me.CDATA_SECTION_BRACKET;break}case le.EOF:{this._err(nt.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===le.RIGHT_SQUARE_BRACKET?this.state=me.CDATA_SECTION_END:(this._emitChars("]"),this.state=me.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case le.GREATER_THAN_SIGN:{this.state=me.DATA;break}case le.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=me.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(le.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&D5(this.preprocessor.peek(1))?me.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){D5(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===le.SEMICOLON&&this._err(nt.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const VO=new Set([j.DD,j.DT,j.LI,j.OPTGROUP,j.OPTION,j.P,j.RB,j.RP,j.RT,j.RTC]),z5=new Set([...VO,j.CAPTION,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]),Uh=new Set([j.APPLET,j.CAPTION,j.HTML,j.MARQUEE,j.OBJECT,j.TABLE,j.TD,j.TEMPLATE,j.TH]),kne=new Set([...Uh,j.OL,j.UL]),Tne=new Set([...Uh,j.BUTTON]),U5=new Set([j.ANNOTATION_XML,j.MI,j.MN,j.MO,j.MS,j.MTEXT]),F5=new Set([j.DESC,j.FOREIGN_OBJECT,j.TITLE]),Ane=new Set([j.TR,j.TEMPLATE,j.HTML]),Nne=new Set([j.TBODY,j.TFOOT,j.THEAD,j.TEMPLATE,j.HTML]),Cne=new Set([j.TABLE,j.TEMPLATE,j.HTML]),Mne=new Set([j.TD,j.TH]);class Ine{static{s(this,"OpenElementStack")}get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=j.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===j.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===pt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==pt.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Zv,pt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Mne,pt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(Cne,pt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Nne,pt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ane,pt.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===j.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===j.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case pt.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case pt.SVG:{if(F5.has(i))return!1;break}case pt.MATHML:{if(U5.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Uh)}hasInListItemScope(t){return this.hasInDynamicScope(t,kne)}hasInButtonScope(t){return this.hasInDynamicScope(t,Tne)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case pt.HTML:{if(Zv.has(r))return!0;if(Uh.has(r))return!1;break}case pt.SVG:{if(F5.has(r))return!1;break}case pt.MATHML:{if(U5.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case j.TABLE:case j.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===pt.HTML)switch(this.tagIDs[t]){case j.TBODY:case j.THEAD:case j.TFOOT:return!0;case j.TABLE:case j.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case j.OPTION:case j.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&VO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&z5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&z5.has(this.currentTagId);)this.pop()}}const qg=3;var fs;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(fs||(fs={}));const $5={type:fs.Marker};class One{static{s(this,"FormattingElementList")}constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,o=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===fs.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===o&&this.treeAdapter.getNamespaceURI(c)===a){const h=this.treeAdapter.getAttrList(c);h.length===i&&n.push({idx:l,attrs:h})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<qg)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<qg)return;const i=new Map(r.map(a=>[a.name,a.value]));let o=0;for(let a=0;a<n.length;a++){const l=n[a];l.attrs.every(u=>i.get(u.name)===u.value)&&(o+=1,o>=qg&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift($5)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:fs.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:fs.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf($5);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===fs.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===fs.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===fs.Element&&r.element===t)}}const Aa={createDocument(){return{nodeName:"#document",mode:_i.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const o={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};Aa.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(Aa.isTextNode(r)){r.value+=t;return}}Aa.appendChild(e,Aa.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&Aa.isTextNode(n)?n.value+=t:Aa.insertBefore(e,Aa.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},GO="html",Rne="about:legacy-compat",jne="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ZO=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Lne=[...ZO,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Pne=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),JO=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Dne=[...JO,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function H5(e,t){return t.some(r=>e.startsWith(r))}s(H5,"hasPrefix");function Bne(e){return e.name===GO&&e.publicId===null&&(e.systemId===null||e.systemId===Rne)}s(Bne,"isConforming");function zne(e){if(e.name!==GO)return _i.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===jne)return _i.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Pne.has(r))return _i.QUIRKS;let n=t===null?Lne:ZO;if(H5(r,n))return _i.QUIRKS;if(n=t===null?JO:Dne,H5(r,n))return _i.LIMITED_QUIRKS}return _i.NO_QUIRKS}s(zne,"getDocumentMode");const V5={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Une="definitionurl",Fne="definitionURL",$ne=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Hne=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:pt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:pt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:pt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:pt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:pt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:pt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:pt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:pt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:pt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:pt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:pt.XMLNS}]]),Vne=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Gne=new Set([j.B,j.BIG,j.BLOCKQUOTE,j.BODY,j.BR,j.CENTER,j.CODE,j.DD,j.DIV,j.DL,j.DT,j.EM,j.EMBED,j.H1,j.H2,j.H3,j.H4,j.H5,j.H6,j.HEAD,j.HR,j.I,j.IMG,j.LI,j.LISTING,j.MENU,j.META,j.NOBR,j.OL,j.P,j.PRE,j.RUBY,j.S,j.SMALL,j.SPAN,j.STRONG,j.STRIKE,j.SUB,j.SUP,j.TABLE,j.TT,j.U,j.UL,j.VAR]);function Zne(e){const t=e.tagID;return t===j.FONT&&e.attrs.some(({name:n})=>n===Ao.COLOR||n===Ao.SIZE||n===Ao.FACE)||Gne.has(t)}s(Zne,"causesExit");function WO(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Une){e.attrs[t].name=Fne;break}}s(WO,"adjustTokenMathMLAttrs");function QO(e){for(let t=0;t<e.attrs.length;t++){const r=$ne.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}s(QO,"adjustTokenSVGAttrs");function q4(e){for(let t=0;t<e.attrs.length;t++){const r=Hne.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}s(q4,"adjustTokenXMLAttrs");function Jne(e){const t=Vne.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=au(e.tagName))}s(Jne,"adjustTokenSVGTagName");function Wne(e,t){return t===pt.MATHML&&(e===j.MI||e===j.MO||e===j.MN||e===j.MS||e===j.MTEXT)}s(Wne,"isMathMLTextIntegrationPoint");function Qne(e,t,r){if(t===pt.MATHML&&e===j.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Ao.ENCODING){const i=r[n].value.toLowerCase();return i===V5.TEXT_HTML||i===V5.APPLICATION_XML}}return t===pt.SVG&&(e===j.FOREIGN_OBJECT||e===j.DESC||e===j.TITLE)}s(Qne,"isHtmlIntegrationPoint");function Xne(e,t,r,n){return(!n||n===pt.HTML)&&Qne(e,t,r)||(!n||n===pt.MATHML)&&Wne(e,t)}s(Xne,"isIntegrationPoint");const Kne="hidden",qne=8,Yne=3;var ke;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ke||(ke={}));const eie={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},XO=new Set([j.TABLE,j.TBODY,j.TFOOT,j.THEAD,j.TR]),G5={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Aa,onParseError:null};class Z5{static{s(this,"Parser")}constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ke.INITIAL,this.originalInsertionMode=ke.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...G5,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Sne(this.options,this),this.activeFormattingElements=new One(this.treeAdapter),this.fragmentContextID=n?au(this.treeAdapter.getTagName(n)):j.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Ine(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...G5,...r};t??(t=n.treeAdapter.createElement(Ve.TEMPLATE,pt.HTML,[]));const i=n.treeAdapter.createElement("documentmock",pt.HTML,[]),o=new this(n,i,t);return o.fragmentContextID===j.TEMPLATE&&o.tmplInsertionModeStack.unshift(ke.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:eie,a={code:r,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:n?o.startLine:o.endLine,endCol:n?o.startCol:o.endCol,endOffset:n?o.startOffset:o.endOffset};this.onParseError(a)}onItemPush(t,r,n){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let o,a;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,a=this.fragmentContextID):{current:o,currentTagId:a}=this.openElements,this._setContextModes(o,a)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===pt.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,pt.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=ke.TEXT}switchToPlaintextParsing(){this.insertionMode=ke.TEXT,this.originalInsertionMode=ke.IN_BODY,this.tokenizer.state=Yr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ve.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==pt.HTML))switch(this.fragmentContextID){case j.TITLE:case j.TEXTAREA:{this.tokenizer.state=Yr.RCDATA;break}case j.STYLE:case j.XMP:case j.IFRAME:case j.NOEMBED:case j.NOFRAMES:case j.NOSCRIPT:{this.tokenizer.state=Yr.RAWTEXT;break}case j.SCRIPT:{this.tokenizer.state=Yr.SCRIPT_DATA;break}case j.PLAINTEXT:{this.tokenizer.state=Yr.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,pt.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,pt.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ve.HTML,pt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,j.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),o=n?i.lastIndexOf(n):i.length,a=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:c,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:c,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),o=r.type===ar.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===j.SVG&&this.treeAdapter.getTagName(r)===Ve.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===pt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===j.MGLYPH||t.tagID===j.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,pt.HTML)}_processToken(t){switch(t.type){case ar.CHARACTER:{this.onCharacter(t);break}case ar.NULL_CHARACTER:{this.onNullCharacter(t);break}case ar.COMMENT:{this.onComment(t);break}case ar.DOCTYPE:{this.onDoctype(t);break}case ar.START_TAG:{this._processStartTag(t);break}case ar.END_TAG:{this.onEndTag(t);break}case ar.EOF:{this.onEof(t);break}case ar.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),o=this.treeAdapter.getAttrList(r);return Xne(t,i,o,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===fs.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ke.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(j.P),this.openElements.popUntilTagNamePopped(j.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case j.TR:{this.insertionMode=ke.IN_ROW;return}case j.TBODY:case j.THEAD:case j.TFOOT:{this.insertionMode=ke.IN_TABLE_BODY;return}case j.CAPTION:{this.insertionMode=ke.IN_CAPTION;return}case j.COLGROUP:{this.insertionMode=ke.IN_COLUMN_GROUP;return}case j.TABLE:{this.insertionMode=ke.IN_TABLE;return}case j.BODY:{this.insertionMode=ke.IN_BODY;return}case j.FRAMESET:{this.insertionMode=ke.IN_FRAMESET;return}case j.SELECT:{this._resetInsertionModeForSelect(t);return}case j.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case j.HTML:{this.insertionMode=this.headElement?ke.AFTER_HEAD:ke.BEFORE_HEAD;return}case j.TD:case j.TH:{if(t>0){this.insertionMode=ke.IN_CELL;return}break}case j.HEAD:{if(t>0){this.insertionMode=ke.IN_HEAD;return}break}}this.insertionMode=ke.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===j.TEMPLATE)break;if(n===j.TABLE){this.insertionMode=ke.IN_SELECT_IN_TABLE;return}}this.insertionMode=ke.IN_SELECT}_isElementCausesFosterParenting(t){return XO.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case j.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===pt.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case j.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return wne[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Mse(this,t);return}switch(this.insertionMode){case ke.INITIAL:{Du(this,t);break}case ke.BEFORE_HTML:{sc(this,t);break}case ke.BEFORE_HEAD:{ac(this,t);break}case ke.IN_HEAD:{oc(this,t);break}case ke.IN_HEAD_NO_SCRIPT:{lc(this,t);break}case ke.AFTER_HEAD:{uc(this,t);break}case ke.IN_BODY:case ke.IN_CAPTION:case ke.IN_CELL:case ke.IN_TEMPLATE:{qO(this,t);break}case ke.TEXT:case ke.IN_SELECT:case ke.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ke.IN_TABLE:case ke.IN_TABLE_BODY:case ke.IN_ROW:{Yg(this,t);break}case ke.IN_TABLE_TEXT:{iR(this,t);break}case ke.IN_COLUMN_GROUP:{Fh(this,t);break}case ke.AFTER_BODY:{$h(this,t);break}case ke.AFTER_AFTER_BODY:{Xf(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Cse(this,t);return}switch(this.insertionMode){case ke.INITIAL:{Du(this,t);break}case ke.BEFORE_HTML:{sc(this,t);break}case ke.BEFORE_HEAD:{ac(this,t);break}case ke.IN_HEAD:{oc(this,t);break}case ke.IN_HEAD_NO_SCRIPT:{lc(this,t);break}case ke.AFTER_HEAD:{uc(this,t);break}case ke.TEXT:{this._insertCharacters(t);break}case ke.IN_TABLE:case ke.IN_TABLE_BODY:case ke.IN_ROW:{Yg(this,t);break}case ke.IN_COLUMN_GROUP:{Fh(this,t);break}case ke.AFTER_BODY:{$h(this,t);break}case ke.AFTER_AFTER_BODY:{Xf(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Jv(this,t);return}switch(this.insertionMode){case ke.INITIAL:case ke.BEFORE_HTML:case ke.BEFORE_HEAD:case ke.IN_HEAD:case ke.IN_HEAD_NO_SCRIPT:case ke.AFTER_HEAD:case ke.IN_BODY:case ke.IN_TABLE:case ke.IN_CAPTION:case ke.IN_COLUMN_GROUP:case ke.IN_TABLE_BODY:case ke.IN_ROW:case ke.IN_CELL:case ke.IN_SELECT:case ke.IN_SELECT_IN_TABLE:case ke.IN_TEMPLATE:case ke.IN_FRAMESET:case ke.AFTER_FRAMESET:{Jv(this,t);break}case ke.IN_TABLE_TEXT:{Bu(this,t);break}case ke.AFTER_BODY:{oie(this,t);break}case ke.AFTER_AFTER_BODY:case ke.AFTER_AFTER_FRAMESET:{lie(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ke.INITIAL:{uie(this,t);break}case ke.BEFORE_HEAD:case ke.IN_HEAD:case ke.IN_HEAD_NO_SCRIPT:case ke.AFTER_HEAD:{this._err(t,nt.misplacedDoctype);break}case ke.IN_TABLE_TEXT:{Bu(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,nt.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Ise(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ke.INITIAL:{Du(this,t);break}case ke.BEFORE_HTML:{cie(this,t);break}case ke.BEFORE_HEAD:{fie(this,t);break}case ke.IN_HEAD:{ss(this,t);break}case ke.IN_HEAD_NO_SCRIPT:{mie(this,t);break}case ke.AFTER_HEAD:{vie(this,t);break}case ke.IN_BODY:{Pn(this,t);break}case ke.IN_TABLE:{Vl(this,t);break}case ke.IN_TABLE_TEXT:{Bu(this,t);break}case ke.IN_CAPTION:{hse(this,t);break}case ke.IN_COLUMN_GROUP:{t6(this,t);break}case ke.IN_TABLE_BODY:{Cp(this,t);break}case ke.IN_ROW:{Mp(this,t);break}case ke.IN_CELL:{gse(this,t);break}case ke.IN_SELECT:{oR(this,t);break}case ke.IN_SELECT_IN_TABLE:{bse(this,t);break}case ke.IN_TEMPLATE:{wse(this,t);break}case ke.AFTER_BODY:{_se(this,t);break}case ke.IN_FRAMESET:{Ese(this,t);break}case ke.AFTER_FRAMESET:{kse(this,t);break}case ke.AFTER_AFTER_BODY:{Ase(this,t);break}case ke.AFTER_AFTER_FRAMESET:{Nse(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Ose(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ke.INITIAL:{Du(this,t);break}case ke.BEFORE_HTML:{die(this,t);break}case ke.BEFORE_HEAD:{hie(this,t);break}case ke.IN_HEAD:{pie(this,t);break}case ke.IN_HEAD_NO_SCRIPT:{gie(this,t);break}case ke.AFTER_HEAD:{bie(this,t);break}case ke.IN_BODY:{Np(this,t);break}case ke.TEXT:{nse(this,t);break}case ke.IN_TABLE:{Zc(this,t);break}case ke.IN_TABLE_TEXT:{Bu(this,t);break}case ke.IN_CAPTION:{pse(this,t);break}case ke.IN_COLUMN_GROUP:{mse(this,t);break}case ke.IN_TABLE_BODY:{Wv(this,t);break}case ke.IN_ROW:{aR(this,t);break}case ke.IN_CELL:{vse(this,t);break}case ke.IN_SELECT:{lR(this,t);break}case ke.IN_SELECT_IN_TABLE:{yse(this,t);break}case ke.IN_TEMPLATE:{xse(this,t);break}case ke.AFTER_BODY:{cR(this,t);break}case ke.IN_FRAMESET:{Sse(this,t);break}case ke.AFTER_FRAMESET:{Tse(this,t);break}case ke.AFTER_AFTER_BODY:{Xf(this,t);break}}}onEof(t){switch(this.insertionMode){case ke.INITIAL:{Du(this,t);break}case ke.BEFORE_HTML:{sc(this,t);break}case ke.BEFORE_HEAD:{ac(this,t);break}case ke.IN_HEAD:{oc(this,t);break}case ke.IN_HEAD_NO_SCRIPT:{lc(this,t);break}case ke.AFTER_HEAD:{uc(this,t);break}case ke.IN_BODY:case ke.IN_TABLE:case ke.IN_CAPTION:case ke.IN_COLUMN_GROUP:case ke.IN_TABLE_BODY:case ke.IN_ROW:case ke.IN_CELL:case ke.IN_SELECT:case ke.IN_SELECT_IN_TABLE:{rR(this,t);break}case ke.TEXT:{ise(this,t);break}case ke.IN_TABLE_TEXT:{Bu(this,t);break}case ke.IN_TEMPLATE:{uR(this,t);break}case ke.AFTER_BODY:case ke.IN_FRAMESET:case ke.AFTER_FRAMESET:case ke.AFTER_AFTER_BODY:case ke.AFTER_AFTER_FRAMESET:{e6(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===le.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ke.IN_HEAD:case ke.IN_HEAD_NO_SCRIPT:case ke.AFTER_HEAD:case ke.TEXT:case ke.IN_COLUMN_GROUP:case ke.IN_SELECT:case ke.IN_SELECT_IN_TABLE:case ke.IN_FRAMESET:case ke.AFTER_FRAMESET:{this._insertCharacters(t);break}case ke.IN_BODY:case ke.IN_CAPTION:case ke.IN_CELL:case ke.IN_TEMPLATE:case ke.AFTER_BODY:case ke.AFTER_AFTER_BODY:case ke.AFTER_AFTER_FRAMESET:{KO(this,t);break}case ke.IN_TABLE:case ke.IN_TABLE_BODY:case ke.IN_ROW:{Yg(this,t);break}case ke.IN_TABLE_TEXT:{nR(this,t);break}}}}function tie(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):tR(e,t),r}s(tie,"aaObtainFormattingElementEntry");function rie(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}s(rie,"aaObtainFurthestBlock");function nie(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==r;o++,a=i){i=e.openElements.getCommonAncestor(a);const l=e.activeFormattingElements.getElementEntry(a),u=l&&o>=Yne;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(a)):(a=iie(e,l),n===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}s(nie,"aaInnerLoop");function iie(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}s(iie,"aaRecreateElementFromEntry");function sie(e,t,r){const n=e.treeAdapter.getTagName(t),i=au(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const o=e.treeAdapter.getNamespaceURI(t);i===j.TEMPLATE&&o===pt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}s(sie,"aaInsertLastNodeInCommonAncestor");function aie(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,o=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,o,i.tagID)}s(aie,"aaReplaceFormattingElement");function Y4(e,t){for(let r=0;r<qne;r++){const n=tie(e,t);if(!n)break;const i=rie(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const o=nie(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),a&&sie(e,a,o),aie(e,i,n)}}s(Y4,"callAdoptionAgency");function Jv(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}s(Jv,"appendComment");function oie(e,t){e._appendCommentNode(t,e.openElements.items[0])}s(oie,"appendCommentToRootHtmlElement");function lie(e,t){e._appendCommentNode(t,e.document)}s(lie,"appendCommentToDocument");function e6(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(o);a&&!a.endTag&&e._setEndLocation(o,t)}}}}s(e6,"stopParsing");function uie(e,t){e._setDocumentType(t);const r=t.forceQuirks?_i.QUIRKS:zne(t);Bne(t)||e._err(t,nt.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=ke.BEFORE_HTML}s(uie,"doctypeInInitialMode");function Du(e,t){e._err(t,nt.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,_i.QUIRKS),e.insertionMode=ke.BEFORE_HTML,e._processToken(t)}s(Du,"tokenInInitialMode");function cie(e,t){t.tagID===j.HTML?(e._insertElement(t,pt.HTML),e.insertionMode=ke.BEFORE_HEAD):sc(e,t)}s(cie,"startTagBeforeHtml");function die(e,t){const r=t.tagID;(r===j.HTML||r===j.HEAD||r===j.BODY||r===j.BR)&&sc(e,t)}s(die,"endTagBeforeHtml");function sc(e,t){e._insertFakeRootElement(),e.insertionMode=ke.BEFORE_HEAD,e._processToken(t)}s(sc,"tokenBeforeHtml");function fie(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.HEAD:{e._insertElement(t,pt.HTML),e.headElement=e.openElements.current,e.insertionMode=ke.IN_HEAD;break}default:ac(e,t)}}s(fie,"startTagBeforeHead");function hie(e,t){const r=t.tagID;r===j.HEAD||r===j.BODY||r===j.HTML||r===j.BR?ac(e,t):e._err(t,nt.endTagWithoutMatchingOpenElement)}s(hie,"endTagBeforeHead");function ac(e,t){e._insertFakeElement(Ve.HEAD,j.HEAD),e.headElement=e.openElements.current,e.insertionMode=ke.IN_HEAD,e._processToken(t)}s(ac,"tokenBeforeHead");function ss(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.TITLE:{e._switchToTextParsing(t,Yr.RCDATA);break}case j.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Yr.RAWTEXT):(e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_HEAD_NO_SCRIPT);break}case j.NOFRAMES:case j.STYLE:{e._switchToTextParsing(t,Yr.RAWTEXT);break}case j.SCRIPT:{e._switchToTextParsing(t,Yr.SCRIPT_DATA);break}case j.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ke.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ke.IN_TEMPLATE);break}case j.HEAD:{e._err(t,nt.misplacedStartTagForHeadElement);break}default:oc(e,t)}}s(ss,"startTagInHead");function pie(e,t){switch(t.tagID){case j.HEAD:{e.openElements.pop(),e.insertionMode=ke.AFTER_HEAD;break}case j.BODY:case j.BR:case j.HTML:{oc(e,t);break}case j.TEMPLATE:{rl(e,t);break}default:e._err(t,nt.endTagWithoutMatchingOpenElement)}}s(pie,"endTagInHead");function rl(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==j.TEMPLATE&&e._err(t,nt.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,nt.endTagWithoutMatchingOpenElement)}s(rl,"templateEndTagInHead");function oc(e,t){e.openElements.pop(),e.insertionMode=ke.AFTER_HEAD,e._processToken(t)}s(oc,"tokenInHead");function mie(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.BASEFONT:case j.BGSOUND:case j.HEAD:case j.LINK:case j.META:case j.NOFRAMES:case j.STYLE:{ss(e,t);break}case j.NOSCRIPT:{e._err(t,nt.nestedNoscriptInHead);break}default:lc(e,t)}}s(mie,"startTagInHeadNoScript");function gie(e,t){switch(t.tagID){case j.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ke.IN_HEAD;break}case j.BR:{lc(e,t);break}default:e._err(t,nt.endTagWithoutMatchingOpenElement)}}s(gie,"endTagInHeadNoScript");function lc(e,t){const r=t.type===ar.EOF?nt.openElementsLeftAfterEof:nt.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=ke.IN_HEAD,e._processToken(t)}s(lc,"tokenInHeadNoScript");function vie(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.BODY:{e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=ke.IN_BODY;break}case j.FRAMESET:{e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_FRAMESET;break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{e._err(t,nt.abandonedHeadElementChild),e.openElements.push(e.headElement,j.HEAD),ss(e,t),e.openElements.remove(e.headElement);break}case j.HEAD:{e._err(t,nt.misplacedStartTagForHeadElement);break}default:uc(e,t)}}s(vie,"startTagAfterHead");function bie(e,t){switch(t.tagID){case j.BODY:case j.HTML:case j.BR:{uc(e,t);break}case j.TEMPLATE:{rl(e,t);break}default:e._err(t,nt.endTagWithoutMatchingOpenElement)}}s(bie,"endTagAfterHead");function uc(e,t){e._insertFakeElement(Ve.BODY,j.BODY),e.insertionMode=ke.IN_BODY,Ap(e,t)}s(uc,"tokenAfterHead");function Ap(e,t){switch(t.type){case ar.CHARACTER:{qO(e,t);break}case ar.WHITESPACE_CHARACTER:{KO(e,t);break}case ar.COMMENT:{Jv(e,t);break}case ar.START_TAG:{Pn(e,t);break}case ar.END_TAG:{Np(e,t);break}case ar.EOF:{rR(e,t);break}}}s(Ap,"modeInBody");function KO(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}s(KO,"whitespaceCharacterInBody");function qO(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}s(qO,"characterInBody");function yie(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}s(yie,"htmlStartTagInBody");function wie(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}s(wie,"bodyStartTagInBody");function xie(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_FRAMESET)}s(xie,"framesetStartTagInBody");function _ie(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}s(_ie,"addressStartTagInBody");function Eie(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Zv.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,pt.HTML)}s(Eie,"numberedHeaderStartTagInBody");function Sie(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}s(Sie,"preStartTagInBody");function kie(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),r||(e.formElement=e.openElements.current))}s(kie,"formStartTagInBody");function Tie(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===j.LI&&i===j.LI||(r===j.DD||r===j.DT)&&(i===j.DD||i===j.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==j.ADDRESS&&i!==j.DIV&&i!==j.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}s(Tie,"listItemStartTagInBody");function Aie(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.tokenizer.state=Yr.PLAINTEXT}s(Aie,"plaintextStartTagInBody");function Nie(e,t){e.openElements.hasInScope(j.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1}s(Nie,"buttonStartTagInBody");function Cie(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ve.A);r&&(Y4(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}s(Cie,"aStartTagInBody");function Mie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}s(Mie,"bStartTagInBody");function Iie(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(j.NOBR)&&(Y4(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}s(Iie,"nobrStartTagInBody");function Oie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}s(Oie,"appletStartTagInBody");function Rie(e,t){e.treeAdapter.getDocumentMode(e.document)!==_i.QUIRKS&&e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=ke.IN_TABLE}s(Rie,"tableStartTagInBody");function YO(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}s(YO,"areaStartTagInBody");function eR(e){const t=$O(e,Ao.TYPE);return t!=null&&t.toLowerCase()===Kne}s(eR,"isHiddenInput");function jie(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),eR(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}s(jie,"inputStartTagInBody");function Lie(e,t){e._appendElement(t,pt.HTML),t.ackSelfClosing=!0}s(Lie,"paramStartTagInBody");function Pie(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}s(Pie,"hrStartTagInBody");function Die(e,t){t.tagName=Ve.IMG,t.tagID=j.IMG,YO(e,t)}s(Die,"imageStartTagInBody");function Bie(e,t){e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Yr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ke.TEXT}s(Bie,"textareaStartTagInBody");function zie(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Yr.RAWTEXT)}s(zie,"xmpStartTagInBody");function Uie(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Yr.RAWTEXT)}s(Uie,"iframeStartTagInBody");function J5(e,t){e._switchToTextParsing(t,Yr.RAWTEXT)}s(J5,"rawTextStartTagInBody");function Fie(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ke.IN_TABLE||e.insertionMode===ke.IN_CAPTION||e.insertionMode===ke.IN_TABLE_BODY||e.insertionMode===ke.IN_ROW||e.insertionMode===ke.IN_CELL?ke.IN_SELECT_IN_TABLE:ke.IN_SELECT}s(Fie,"selectStartTagInBody");function $ie(e,t){e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}s($ie,"optgroupStartTagInBody");function Hie(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,pt.HTML)}s(Hie,"rbStartTagInBody");function Vie(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(j.RTC),e._insertElement(t,pt.HTML)}s(Vie,"rtStartTagInBody");function Gie(e,t){e._reconstructActiveFormattingElements(),WO(t),q4(t),t.selfClosing?e._appendElement(t,pt.MATHML):e._insertElement(t,pt.MATHML),t.ackSelfClosing=!0}s(Gie,"mathStartTagInBody");function Zie(e,t){e._reconstructActiveFormattingElements(),QO(t),q4(t),t.selfClosing?e._appendElement(t,pt.SVG):e._insertElement(t,pt.SVG),t.ackSelfClosing=!0}s(Zie,"svgStartTagInBody");function W5(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}s(W5,"genericStartTagInBody");function Pn(e,t){switch(t.tagID){case j.I:case j.S:case j.B:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.SMALL:case j.STRIKE:case j.STRONG:{Mie(e,t);break}case j.A:{Cie(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{Eie(e,t);break}case j.P:case j.DL:case j.OL:case j.UL:case j.DIV:case j.DIR:case j.NAV:case j.MAIN:case j.MENU:case j.ASIDE:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.DETAILS:case j.ADDRESS:case j.ARTICLE:case j.SEARCH:case j.SECTION:case j.SUMMARY:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{_ie(e,t);break}case j.LI:case j.DD:case j.DT:{Tie(e,t);break}case j.BR:case j.IMG:case j.WBR:case j.AREA:case j.EMBED:case j.KEYGEN:{YO(e,t);break}case j.HR:{Pie(e,t);break}case j.RB:case j.RTC:{Hie(e,t);break}case j.RT:case j.RP:{Vie(e,t);break}case j.PRE:case j.LISTING:{Sie(e,t);break}case j.XMP:{zie(e,t);break}case j.SVG:{Zie(e,t);break}case j.HTML:{yie(e,t);break}case j.BASE:case j.LINK:case j.META:case j.STYLE:case j.TITLE:case j.SCRIPT:case j.BGSOUND:case j.BASEFONT:case j.TEMPLATE:{ss(e,t);break}case j.BODY:{wie(e,t);break}case j.FORM:{kie(e,t);break}case j.NOBR:{Iie(e,t);break}case j.MATH:{Gie(e,t);break}case j.TABLE:{Rie(e,t);break}case j.INPUT:{jie(e,t);break}case j.PARAM:case j.TRACK:case j.SOURCE:{Lie(e,t);break}case j.IMAGE:{Die(e,t);break}case j.BUTTON:{Nie(e,t);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{Oie(e,t);break}case j.IFRAME:{Uie(e,t);break}case j.SELECT:{Fie(e,t);break}case j.OPTION:case j.OPTGROUP:{$ie(e,t);break}case j.NOEMBED:case j.NOFRAMES:{J5(e,t);break}case j.FRAMESET:{xie(e,t);break}case j.TEXTAREA:{Bie(e,t);break}case j.NOSCRIPT:{e.options.scriptingEnabled?J5(e,t):W5(e,t);break}case j.PLAINTEXT:{Aie(e,t);break}case j.COL:case j.TH:case j.TD:case j.TR:case j.HEAD:case j.FRAME:case j.TBODY:case j.TFOOT:case j.THEAD:case j.CAPTION:case j.COLGROUP:break;default:W5(e,t)}}s(Pn,"startTagInBody");function Jie(e,t){if(e.openElements.hasInScope(j.BODY)&&(e.insertionMode=ke.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}s(Jie,"bodyEndTagInBody");function Wie(e,t){e.openElements.hasInScope(j.BODY)&&(e.insertionMode=ke.AFTER_BODY,cR(e,t))}s(Wie,"htmlEndTagInBody");function Qie(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}s(Qie,"addressEndTagInBody");function Xie(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(j.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(j.FORM):r&&e.openElements.remove(r))}s(Xie,"formEndTagInBody");function Kie(e){e.openElements.hasInButtonScope(j.P)||e._insertFakeElement(Ve.P,j.P),e._closePElement()}s(Kie,"pEndTagInBody");function qie(e){e.openElements.hasInListItemScope(j.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(j.LI),e.openElements.popUntilTagNamePopped(j.LI))}s(qie,"liEndTagInBody");function Yie(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}s(Yie,"ddEndTagInBody");function ese(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}s(ese,"numberedHeaderEndTagInBody");function tse(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}s(tse,"appletEndTagInBody");function rse(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ve.BR,j.BR),e.openElements.pop(),e.framesetOk=!1}s(rse,"brEndTagInBody");function tR(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],a=e.openElements.tagIDs[i];if(n===a&&(n!==j.UNKNOWN||e.treeAdapter.getTagName(o)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,a))break}}s(tR,"genericEndTagInBody");function Np(e,t){switch(t.tagID){case j.A:case j.B:case j.I:case j.S:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.NOBR:case j.SMALL:case j.STRIKE:case j.STRONG:{Y4(e,t);break}case j.P:{Kie(e);break}case j.DL:case j.UL:case j.OL:case j.DIR:case j.DIV:case j.NAV:case j.PRE:case j.MAIN:case j.MENU:case j.ASIDE:case j.BUTTON:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.ADDRESS:case j.ARTICLE:case j.DETAILS:case j.SEARCH:case j.SECTION:case j.SUMMARY:case j.LISTING:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{Qie(e,t);break}case j.LI:{qie(e);break}case j.DD:case j.DT:{Yie(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{ese(e);break}case j.BR:{rse(e);break}case j.BODY:{Jie(e,t);break}case j.HTML:{Wie(e,t);break}case j.FORM:{Xie(e);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{tse(e,t);break}case j.TEMPLATE:{rl(e,t);break}default:tR(e,t)}}s(Np,"endTagInBody");function rR(e,t){e.tmplInsertionModeStack.length>0?uR(e,t):e6(e,t)}s(rR,"eofInBody");function nse(e,t){var r;t.tagID===j.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}s(nse,"endTagInText");function ise(e,t){e._err(t,nt.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}s(ise,"eofInText");function Yg(e,t){if(e.openElements.currentTagId!==void 0&&XO.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ke.IN_TABLE_TEXT,t.type){case ar.CHARACTER:{iR(e,t);break}case ar.WHITESPACE_CHARACTER:{nR(e,t);break}}else Ad(e,t)}s(Yg,"characterInTable");function sse(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_CAPTION}s(sse,"captionStartTagInTable");function ase(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_COLUMN_GROUP}s(ase,"colgroupStartTagInTable");function ose(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ve.COLGROUP,j.COLGROUP),e.insertionMode=ke.IN_COLUMN_GROUP,t6(e,t)}s(ose,"colStartTagInTable");function lse(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_TABLE_BODY}s(lse,"tbodyStartTagInTable");function use(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ve.TBODY,j.TBODY),e.insertionMode=ke.IN_TABLE_BODY,Cp(e,t)}s(use,"tdStartTagInTable");function cse(e,t){e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode(),e._processStartTag(t))}s(cse,"tableStartTagInTable");function dse(e,t){eR(t)?e._appendElement(t,pt.HTML):Ad(e,t),t.ackSelfClosing=!0}s(dse,"inputStartTagInTable");function fse(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,pt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}s(fse,"formStartTagInTable");function Vl(e,t){switch(t.tagID){case j.TD:case j.TH:case j.TR:{use(e,t);break}case j.STYLE:case j.SCRIPT:case j.TEMPLATE:{ss(e,t);break}case j.COL:{ose(e,t);break}case j.FORM:{fse(e,t);break}case j.TABLE:{cse(e,t);break}case j.TBODY:case j.TFOOT:case j.THEAD:{lse(e,t);break}case j.INPUT:{dse(e,t);break}case j.CAPTION:{sse(e,t);break}case j.COLGROUP:{ase(e,t);break}default:Ad(e,t)}}s(Vl,"startTagInTable");function Zc(e,t){switch(t.tagID){case j.TABLE:{e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode());break}case j.TEMPLATE:{rl(e,t);break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:Ad(e,t)}}s(Zc,"endTagInTable");function Ad(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ap(e,t),e.fosterParentingEnabled=r}s(Ad,"tokenInTable");function nR(e,t){e.pendingCharacterTokens.push(t)}s(nR,"whitespaceCharacterInTableText");function iR(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}s(iR,"characterInTableText");function Bu(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Ad(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}s(Bu,"tokenInTableText");const sR=new Set([j.CAPTION,j.COL,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]);function hse(e,t){const r=t.tagID;sR.has(r)?e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ke.IN_TABLE,Vl(e,t)):Pn(e,t)}s(hse,"startTagInCaption");function pse(e,t){const r=t.tagID;switch(r){case j.CAPTION:case j.TABLE:{e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ke.IN_TABLE,r===j.TABLE&&Zc(e,t));break}case j.BODY:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:Np(e,t)}}s(pse,"endTagInCaption");function t6(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.COL:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.TEMPLATE:{ss(e,t);break}default:Fh(e,t)}}s(t6,"startTagInColumnGroup");function mse(e,t){switch(t.tagID){case j.COLGROUP:{e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=ke.IN_TABLE);break}case j.TEMPLATE:{rl(e,t);break}case j.COL:break;default:Fh(e,t)}}s(mse,"endTagInColumnGroup");function Fh(e,t){e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=ke.IN_TABLE,e._processToken(t))}s(Fh,"tokenInColumnGroup");function Cp(e,t){switch(t.tagID){case j.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_ROW;break}case j.TH:case j.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ve.TR,j.TR),e.insertionMode=ke.IN_ROW,Mp(e,t);break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE,Vl(e,t));break}default:Vl(e,t)}}s(Cp,"startTagInTableBody");function Wv(e,t){const r=t.tagID;switch(t.tagID){case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE);break}case j.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE,Zc(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:case j.TR:break;default:Zc(e,t)}}s(Wv,"endTagInTableBody");function Mp(e,t){switch(t.tagID){case j.TH:case j.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,pt.HTML),e.insertionMode=ke.IN_CELL,e.activeFormattingElements.insertMarker();break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE_BODY,Cp(e,t));break}default:Vl(e,t)}}s(Mp,"startTagInRow");function aR(e,t){switch(t.tagID){case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE_BODY);break}case j.TABLE:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE_BODY,Wv(e,t));break}case j.TBODY:case j.TFOOT:case j.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(j.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ke.IN_TABLE_BODY,Wv(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:break;default:Zc(e,t)}}s(aR,"endTagInRow");function gse(e,t){const r=t.tagID;sR.has(r)?(e.openElements.hasInTableScope(j.TD)||e.openElements.hasInTableScope(j.TH))&&(e._closeTableCell(),Mp(e,t)):Pn(e,t)}s(gse,"startTagInCell");function vse(e,t){const r=t.tagID;switch(r){case j.TD:case j.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ke.IN_ROW);break}case j.TABLE:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),aR(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:break;default:Np(e,t)}}s(vse,"endTagInCell");function oR(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case j.OPTGROUP:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case j.HR:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.INPUT:case j.KEYGEN:case j.TEXTAREA:case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),t.tagID!==j.SELECT&&e._processStartTag(t));break}case j.SCRIPT:case j.TEMPLATE:{ss(e,t);break}}}s(oR,"startTagInSelect");function lR(e,t){switch(t.tagID){case j.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===j.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===j.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop();break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop();break}case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode());break}case j.TEMPLATE:{rl(e,t);break}}}s(lR,"endTagInSelect");function bse(e,t){const r=t.tagID;r===j.CAPTION||r===j.TABLE||r===j.TBODY||r===j.TFOOT||r===j.THEAD||r===j.TR||r===j.TD||r===j.TH?(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e._processStartTag(t)):oR(e,t)}s(bse,"startTagInSelectInTable");function yse(e,t){const r=t.tagID;r===j.CAPTION||r===j.TABLE||r===j.TBODY||r===j.TFOOT||r===j.THEAD||r===j.TR||r===j.TD||r===j.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e.onEndTag(t)):lR(e,t)}s(yse,"endTagInSelectInTable");function wse(e,t){switch(t.tagID){case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{ss(e,t);break}case j.CAPTION:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.tmplInsertionModeStack[0]=ke.IN_TABLE,e.insertionMode=ke.IN_TABLE,Vl(e,t);break}case j.COL:{e.tmplInsertionModeStack[0]=ke.IN_COLUMN_GROUP,e.insertionMode=ke.IN_COLUMN_GROUP,t6(e,t);break}case j.TR:{e.tmplInsertionModeStack[0]=ke.IN_TABLE_BODY,e.insertionMode=ke.IN_TABLE_BODY,Cp(e,t);break}case j.TD:case j.TH:{e.tmplInsertionModeStack[0]=ke.IN_ROW,e.insertionMode=ke.IN_ROW,Mp(e,t);break}default:e.tmplInsertionModeStack[0]=ke.IN_BODY,e.insertionMode=ke.IN_BODY,Pn(e,t)}}s(wse,"startTagInTemplate");function xse(e,t){t.tagID===j.TEMPLATE&&rl(e,t)}s(xse,"endTagInTemplate");function uR(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):e6(e,t)}s(uR,"eofInTemplate");function _se(e,t){t.tagID===j.HTML?Pn(e,t):$h(e,t)}s(_se,"startTagAfterBody");function cR(e,t){var r;if(t.tagID===j.HTML){if(e.fragmentContext||(e.insertionMode=ke.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===j.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else $h(e,t)}s(cR,"endTagAfterBody");function $h(e,t){e.insertionMode=ke.IN_BODY,Ap(e,t)}s($h,"tokenAfterBody");function Ese(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.FRAMESET:{e._insertElement(t,pt.HTML);break}case j.FRAME:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.NOFRAMES:{ss(e,t);break}}}s(Ese,"startTagInFrameset");function Sse(e,t){t.tagID===j.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==j.FRAMESET&&(e.insertionMode=ke.AFTER_FRAMESET))}s(Sse,"endTagInFrameset");function kse(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.NOFRAMES:{ss(e,t);break}}}s(kse,"startTagAfterFrameset");function Tse(e,t){t.tagID===j.HTML&&(e.insertionMode=ke.AFTER_AFTER_FRAMESET)}s(Tse,"endTagAfterFrameset");function Ase(e,t){t.tagID===j.HTML?Pn(e,t):Xf(e,t)}s(Ase,"startTagAfterAfterBody");function Xf(e,t){e.insertionMode=ke.IN_BODY,Ap(e,t)}s(Xf,"tokenAfterAfterBody");function Nse(e,t){switch(t.tagID){case j.HTML:{Pn(e,t);break}case j.NOFRAMES:{ss(e,t);break}}}s(Nse,"startTagAfterAfterFrameset");function Cse(e,t){t.chars=Pr,e._insertCharacters(t)}s(Cse,"nullCharacterInForeignContent");function Mse(e,t){e._insertCharacters(t),e.framesetOk=!1}s(Mse,"characterInForeignContent");function dR(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==pt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}s(dR,"popUntilHtmlOrIntegrationPoint");function Ise(e,t){if(Zne(t))dR(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===pt.MATHML?WO(t):n===pt.SVG&&(Jne(t),QO(t)),q4(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}s(Ise,"startTagInForeignContent");function Ose(e,t){if(t.tagID===j.P||t.tagID===j.BR){dR(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===pt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}s(Ose,"endTagInForeignContent");Ve.AREA,Ve.BASE,Ve.BASEFONT,Ve.BGSOUND,Ve.BR,Ve.COL,Ve.EMBED,Ve.FRAME,Ve.HR,Ve.IMG,Ve.INPUT,Ve.KEYGEN,Ve.LINK,Ve.META,Ve.PARAM,Ve.SOURCE,Ve.TRACK,Ve.WBR;const Rse=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,jse=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Q5={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function fR(e,t){const r=Vse(e),n=X4("type",{handlers:{root:Lse,element:Pse,text:Dse,comment:pR,doctype:Bse,raw:Use},unknown:Fse}),i={parser:r?new Z5(Q5):Z5.getFragmentParser(void 0,Q5),handle(l){n(l,i)},stitches:!1,options:t||{}};n(e,i),ou(i,Ho());const o=r?i.parser.document:i.parser.getFragment(),a=Pre(o,{file:i.options.file});return i.stitches&&pc(a,"comment",function(l,u,c){const h=l;if(h.value.stitch&&c&&u!==void 0){const f=c.children;return f[u]=h.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}s(fR,"raw$1");function hR(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}s(hR,"all$1");function Lse(e,t){hR(e.children,t)}s(Lse,"root$2");function Pse(e,t){$se(e,t),hR(e.children,t),Hse(e,t)}s(Pse,"element$1");function Dse(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:ar.CHARACTER,chars:e.value,location:Nd(e)};ou(t,Ho(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}s(Dse,"text$3");function Bse(e,t){const r={type:ar.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Nd(e)};ou(t,Ho(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}s(Bse,"doctype$1");function zse(e,t){t.stitches=!0;const r=Gse(e);if("children"in e&&"children"in r){const n=fR({type:"root",children:e.children},t.options);r.children=n.children}pR({type:"comment",value:{stitch:r}},t)}s(zse,"stitch");function pR(e,t){const r=e.value,n={type:ar.COMMENT,data:r,location:Nd(e)};ou(t,Ho(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}s(pR,"comment$1");function Use(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,mR(t,Ho(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Rse,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}s(Use,"handleRaw");function Fse(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))zse(r,t);else{let n="";throw jse.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}s(Fse,"unknown$1");function ou(e,t){mR(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Yr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}s(ou,"resetTokenizer");function mR(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}s(mR,"setPoint");function $se(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Yr.PLAINTEXT)return;ou(t,Ho(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:gs.html;i===gs.html&&r==="svg"&&(i=gs.svg);const o=Kre({...e,children:[]},{space:i===gs.svg?"svg":"html"}),a={type:ar.START_TAG,tagName:r,tagID:au(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Nd(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}s($se,"startTag");function Hse(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&BO.includes(r)||t.parser.tokenizer.state===Yr.PLAINTEXT)return;ou(t,c7(e));const n={type:ar.END_TAG,tagName:r,tagID:au(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Nd(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Yr.RCDATA||t.parser.tokenizer.state===Yr.RAWTEXT||t.parser.tokenizer.state===Yr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Yr.DATA)}s(Hse,"endTag");function Vse(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}s(Vse,"documentMode");function Nd(e){const t=Ho(e)||{line:void 0,column:void 0,offset:void 0},r=c7(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}s(Nd,"createParse5Location");function Gse(e){return"children"in e?H6({...e,children:[]}):H6(e)}s(Gse,"cloneWithoutChildren");function Zse(e){return function(t,r){return fR(t,{...e,file:r})}}s(Zse,"rehypeRaw");function Hh(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}s(Hh,"ccount");function Jse(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}s(Jse,"escapeStringRegexp");function Wse(e,t,r){const i=Sb((r||{}).ignore||[]),o=Qse(t);let a=-1;for(;++a<o.length;)o7(e,"text",l);function l(c,h){let f=-1,v;for(;++f<h.length;){const m=h[f],w=v?v.children:void 0;if(i(m,w?w.indexOf(m):void 0,v))return;v=m}if(v)return u(c,h)}s(l,"visitor");function u(c,h){const f=h[h.length-1],v=o[a][0],m=o[a][1];let w=0;const A=f.children.indexOf(c);let M=!1,I=[];v.lastIndex=0;let R=v.exec(c.value);for(;R;){const L=R.index,P={index:R.index,input:R.input,stack:[...h,c]};let F=m(...R,P);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F===!1?v.lastIndex=L+1:(w!==L&&I.push({type:"text",value:c.value.slice(w,L)}),Array.isArray(F)?I.push(...F):F&&I.push(F),w=L+R[0].length,M=!0),!v.global)break;R=v.exec(c.value)}return M?(w<c.value.length&&I.push({type:"text",value:c.value.slice(w)}),f.children.splice(A,1,...I)):I=[c],A+I.length}s(u,"handler")}s(Wse,"findAndReplace");function Qse(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([Xse(i[0]),Kse(i[1])])}return t}s(Qse,"toPairs");function Xse(e){return typeof e=="string"?new RegExp(Jse(e),"g"):e}s(Xse,"toExpression");function Kse(e){return typeof e=="function"?e:function(){return e}}s(Kse,"toFunction");const e1="phrasing",t1=["autolink","link","image","label"];function qse(){return{transforms:[sae],enter:{literalAutolink:eae,literalAutolinkEmail:r1,literalAutolinkHttp:r1,literalAutolinkWww:r1},exit:{literalAutolink:iae,literalAutolinkEmail:nae,literalAutolinkHttp:tae,literalAutolinkWww:rae}}}s(qse,"gfmAutolinkLiteralFromMarkdown");function Yse(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:e1,notInConstruct:t1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:e1,notInConstruct:t1},{character:":",before:"[ps]",after:"\\/",inConstruct:e1,notInConstruct:t1}]}}s(Yse,"gfmAutolinkLiteralToMarkdown");function eae(e){this.enter({type:"link",title:null,url:"",children:[]},e)}s(eae,"enterLiteralAutolink");function r1(e){this.config.enter.autolinkProtocol.call(this,e)}s(r1,"enterLiteralAutolinkValue");function tae(e){this.config.exit.autolinkProtocol.call(this,e)}s(tae,"exitLiteralAutolinkHttp");function rae(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];Yn(t.type==="link"),t.url="http://"+this.sliceSerialize(e)}s(rae,"exitLiteralAutolinkWww");function nae(e){this.config.exit.autolinkEmail.call(this,e)}s(nae,"exitLiteralAutolinkEmail");function iae(e){this.exit(e)}s(iae,"exitLiteralAutolink");function sae(e){Wse(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,aae],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,oae]],{ignore:["link","linkReference"]})}s(sae,"transformGfmAutolinkLiterals");function aae(e,t,r,n,i){let o="";if(!gR(i)||(/^w/i.test(t)&&(r=t+r,t="",o="http://"),!lae(r)))return!1;const a=uae(r+n);if(!a[0])return!1;const l={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}s(aae,"findUrl");function oae(e,t,r,n){return!gR(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}s(oae,"findEmail");function lae(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}s(lae,"isCorrectDomain");function uae(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=Hh(e,"(");let o=Hh(e,")");for(;n!==-1&&i>o;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),o++;return[e,r]}s(uae,"splitUrl");function gR(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||jl(r)||kb(r))&&(!t||r!==47)}s(gR,"previous$1");vR.peek=bae;function cae(){this.buffer()}s(cae,"enterFootnoteCallString");function dae(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}s(dae,"enterFootnoteCall");function fae(){this.buffer()}s(fae,"enterFootnoteDefinitionLabelString");function hae(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}s(hae,"enterFootnoteDefinition");function pae(e){const t=this.resume(),r=this.stack[this.stack.length-1];Yn(r.type==="footnoteReference"),r.identifier=rd(this.sliceSerialize(e)).toLowerCase(),r.label=t}s(pae,"exitFootnoteCallString");function mae(e){this.exit(e)}s(mae,"exitFootnoteCall");function gae(e){const t=this.resume(),r=this.stack[this.stack.length-1];Yn(r.type==="footnoteDefinition"),r.identifier=rd(this.sliceSerialize(e)).toLowerCase(),r.label=t}s(gae,"exitFootnoteDefinitionLabelString");function vae(e){this.exit(e)}s(vae,"exitFootnoteDefinition");function bae(){return"["}s(bae,"footnoteReferencePeek");function vR(e,t,r,n){const i=r.createTracker(n);let o=i.move("[^");const a=r.enter("footnoteReference"),l=r.enter("reference");return o+=i.move(r.safe(r.associationId(e),{after:"]",before:o})),l(),a(),o+=i.move("]"),o}s(vR,"footnoteReference");function yae(){return{enter:{gfmFootnoteCallString:cae,gfmFootnoteCall:dae,gfmFootnoteDefinitionLabelString:fae,gfmFootnoteDefinition:hae},exit:{gfmFootnoteCallString:pae,gfmFootnoteCall:mae,gfmFootnoteDefinitionLabelString:gae,gfmFootnoteDefinition:vae}}}s(yae,"gfmFootnoteFromMarkdown");function wae(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:vR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,o,a){const l=o.createTracker(a);let u=l.move("[^");const c=o.enter("footnoteDefinition"),h=o.enter("label");return u+=l.move(o.safe(o.associationId(n),{before:u,after:"]"})),h(),u+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),u+=l.move((t?`
`:" ")+o.indentLines(o.containerFlow(n,l.current()),t?bR:xae))),c(),u}s(r,"footnoteDefinition")}s(wae,"gfmFootnoteToMarkdown");function xae(e,t,r){return t===0?e:bR(e,t,r)}s(xae,"mapExceptFirst");function bR(e,t,r){return(r?"":"    ")+e}s(bR,"mapAll");const _ae=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];yR.peek=Aae;function Eae(){return{canContainEols:["delete"],enter:{strikethrough:kae},exit:{strikethrough:Tae}}}s(Eae,"gfmStrikethroughFromMarkdown");function Sae(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:_ae}],handlers:{delete:yR}}}s(Sae,"gfmStrikethroughToMarkdown");function kae(e){this.enter({type:"delete",children:[]},e)}s(kae,"enterStrikethrough");function Tae(e){this.exit(e)}s(Tae,"exitStrikethrough");function yR(e,t,r,n){const i=r.createTracker(n),o=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}s(yR,"handleDelete");function Aae(){return"~"}s(Aae,"peekDelete");function Nae(e){return e.length}s(Nae,"defaultStringLength");function Cae(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||Nae,o=[],a=[],l=[],u=[];let c=0,h=-1;for(;++h<e.length;){const _=[],A=[];let M=-1;for(e[h].length>c&&(c=e[h].length);++M<e[h].length;){const I=Mae(e[h][M]);if(r.alignDelimiters!==!1){const R=i(I);A[M]=R,(u[M]===void 0||R>u[M])&&(u[M]=R)}_.push(I)}a[h]=_,l[h]=A}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<c;)o[f]=X5(n[f]);else{const _=X5(n);for(;++f<c;)o[f]=_}f=-1;const v=[],m=[];for(;++f<c;){const _=o[f];let A="",M="";_===99?(A=":",M=":"):_===108?A=":":_===114&&(M=":");let I=r.alignDelimiters===!1?1:Math.max(1,u[f]-A.length-M.length);const R=A+"-".repeat(I)+M;r.alignDelimiters!==!1&&(I=A.length+I+M.length,I>u[f]&&(u[f]=I),m[f]=I),v[f]=R}a.splice(1,0,v),l.splice(1,0,m),h=-1;const w=[];for(;++h<a.length;){const _=a[h],A=l[h];f=-1;const M=[];for(;++f<c;){const I=_[f]||"";let R="",L="";if(r.alignDelimiters!==!1){const P=u[f]-(A[f]||0),F=o[f];F===114?R=" ".repeat(P):F===99?P%2?(R=" ".repeat(P/2+.5),L=" ".repeat(P/2-.5)):(R=" ".repeat(P/2),L=R):L=" ".repeat(P)}r.delimiterStart!==!1&&!f&&M.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&I==="")&&(r.delimiterStart!==!1||f)&&M.push(" "),r.alignDelimiters!==!1&&M.push(R),M.push(I),r.alignDelimiters!==!1&&M.push(L),r.padding!==!1&&M.push(" "),(r.delimiterEnd!==!1||f!==c-1)&&M.push("|")}w.push(r.delimiterEnd===!1?M.join("").replace(/ +$/,""):M.join(""))}return w.join(`
`)}s(Cae,"markdownTable");function Mae(e){return e==null?"":String(e)}s(Mae,"serialize");function X5(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}s(X5,"toAlignment");function Iae(e,t,r,n){const i=r.enter("blockquote"),o=r.createTracker(n);o.move("> "),o.shift(2);const a=r.indentLines(r.containerFlow(e,o.current()),Oae);return i(),a}s(Iae,"blockquote");function Oae(e,t,r){return">"+(r?"":" ")+e}s(Oae,"map$1");function Rae(e,t){return K5(e,t.inConstruct,!0)&&!K5(e,t.notInConstruct,!1)}s(Rae,"patternInScope");function K5(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}s(K5,"listInScope");function q5(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Rae(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}s(q5,"hardBreak");function wR(e,t){const r=String(e);let n=r.indexOf(t),i=n,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++o>a&&(a=o):o=1,i=n+t.length,n=r.indexOf(t,i);return a}s(wR,"longestStreak");function jae(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}s(jae,"formatCodeAsIndented");function Lae(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}s(Lae,"checkFence");function Pae(e,t,r,n){const i=Lae(r),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(jae(e,r)){const f=r.enter("codeIndented"),v=r.indentLines(o,Dae);return f(),v}const l=r.createTracker(n),u=i.repeat(Math.max(wR(o,i)+1,3)),c=r.enter("codeFenced");let h=l.move(u);if(e.lang){const f=r.enter(`codeFencedLang${a}`);h+=l.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${a}`);h+=l.move(" "),h+=l.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...l.current()})),f()}return h+=l.move(`
`),o&&(h+=l.move(o+`
`)),h+=l.move(u),c(),h}s(Pae,"code$1");function Dae(e,t,r){return(r?"":"    ")+e}s(Dae,"map");function r6(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}s(r6,"checkQuote");function Bae(e,t,r,n){const i=r6(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let l=r.enter("label");const u=r.createTracker(n);let c=u.move("[");return c+=u.move(r.safe(r.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(r.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=r.enter("destinationRaw"),c+=u.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=r.enter(`title${o}`),c+=u.move(" "+i),c+=u.move(r.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),a(),c}s(Bae,"definition");function zae(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}s(zae,"checkEmphasis");function Jc(e){return"&#x"+e.toString(16).toUpperCase()+";"}s(Jc,"encodeCharacterReference");function Vh(e,t,r){const n=nh(e),i=nh(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}s(Vh,"encodeInfo");xR.peek=Uae;function xR(e,t,r,n){const i=zae(r),o=r.enter("emphasis"),a=r.createTracker(n),l=a.move(i);let u=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const c=u.charCodeAt(0),h=Vh(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(u=Jc(c)+u.slice(1));const f=u.charCodeAt(u.length-1),v=Vh(n.after.charCodeAt(0),f,i);v.inside&&(u=u.slice(0,-1)+Jc(f));const m=a.move(i);return o(),r.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},l+u+m}s(xR,"emphasis");function Uae(e,t,r){return r.options.emphasis||"*"}s(Uae,"emphasisPeek");function Fae(e,t){let r=!1;return pc(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,YP}),!!((!e.depth||e.depth<3)&&d7(e)&&(t.options.setext||r))}s(Fae,"formatHeadingAsSetext");function $ae(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),o=r.createTracker(n);if(Fae(e,r)){const h=r.enter("headingSetext"),f=r.enter("phrasing"),v=r.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return f(),h(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=r.enter("headingAtx"),u=r.enter("phrasing");o.move(a+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c=Jc(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,r.options.closeAtx&&(c+=" "+a),u(),l(),c}s($ae,"heading");_R.peek=Hae;function _R(e){return e.value||""}s(_R,"html$2");function Hae(){return"<"}s(Hae,"htmlPeek");ER.peek=Vae;function ER(e,t,r,n){const i=r6(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let l=r.enter("label");const u=r.createTracker(n);let c=u.move("![");return c+=u.move(r.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(r.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=r.enter("destinationRaw"),c+=u.move(r.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=r.enter(`title${o}`),c+=u.move(" "+i),c+=u.move(r.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),c+=u.move(")"),a(),c}s(ER,"image");function Vae(){return"!"}s(Vae,"imagePeek");SR.peek=Gae;function SR(e,t,r,n){const i=e.referenceType,o=r.enter("imageReference");let a=r.enter("label");const l=r.createTracker(n);let u=l.move("![");const c=r.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const f=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return a(),r.stack=h,o(),i==="full"||!c||c!==f?u+=l.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}s(SR,"imageReference");function Gae(){return"!"}s(Gae,"imageReferencePeek");kR.peek=Zae;function kR(e,t,r){let n=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++o<r.unsafe.length;){const a=r.unsafe[o],l=r.compilePattern(a);let u;if(a.atBreak)for(;u=l.exec(n);){let c=u.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(u.index+1)}}return i+n+i}s(kR,"inlineCode");function Zae(){return"`"}s(Zae,"inlineCodePeek");function TR(e,t){const r=d7(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}s(TR,"formatLinkAsAutolink");AR.peek=Jae;function AR(e,t,r,n){const i=r6(r),o=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let l,u;if(TR(e,r)){const h=r.stack;r.stack=[],l=r.enter("autolink");let f=a.move("<");return f+=a.move(r.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),l(),r.stack=h,f}l=r.enter("link"),u=r.enter("label");let c=a.move("[");return c+=a.move(r.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(r.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=r.enter("destinationRaw"),c+=a.move(r.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=r.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(r.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),u()),c+=a.move(")"),l(),c}s(AR,"link");function Jae(e,t,r){return TR(e,r)?"<":"["}s(Jae,"linkPeek");NR.peek=Wae;function NR(e,t,r,n){const i=e.referenceType,o=r.enter("linkReference");let a=r.enter("label");const l=r.createTracker(n);let u=l.move("[");const c=r.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const f=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return a(),r.stack=h,o(),i==="full"||!c||c!==f?u+=l.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}s(NR,"linkReference");function Wae(){return"["}s(Wae,"linkReferencePeek");function n6(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}s(n6,"checkBullet");function Qae(e){const t=n6(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}s(Qae,"checkBulletOther");function Xae(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}s(Xae,"checkBulletOrdered");function CR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}s(CR,"checkRule");function Kae(e,t,r,n){const i=r.enter("list"),o=r.bulletCurrent;let a=e.ordered?Xae(r):n6(r);const l=e.ordered?a==="."?")":".":Qae(r);let u=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),CR(r)===a&&h){let f=-1;for(;++f<e.children.length;){const v=e.children[f];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),r.bulletCurrent=a;const c=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=o,i(),c}s(Kae,"list");function qae(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}s(qae,"checkListItemIndent");function Yae(e,t,r,n){const i=qae(r);let o=r.bulletCurrent||n6(r);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=r.createTracker(n);l.move(o+" ".repeat(a-o.length)),l.shift(a);const u=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,l.current()),h);return u(),c;function h(f,v,m){return v?(m?"":" ".repeat(a))+f:(m?o:o+" ".repeat(a-o.length))+f}s(h,"map")}s(Yae,"listItem");function eoe(e,t,r,n){const i=r.enter("paragraph"),o=r.enter("phrasing"),a=r.containerPhrasing(e,n);return o(),i(),a}s(eoe,"paragraph");const toe=Sb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function roe(e,t,r,n){return(e.children.some(function(a){return toe(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}s(roe,"root$1");function noe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}s(noe,"checkStrong");MR.peek=ioe;function MR(e,t,r,n){const i=noe(r),o=r.enter("strong"),a=r.createTracker(n),l=a.move(i+i);let u=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const c=u.charCodeAt(0),h=Vh(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(u=Jc(c)+u.slice(1));const f=u.charCodeAt(u.length-1),v=Vh(n.after.charCodeAt(0),f,i);v.inside&&(u=u.slice(0,-1)+Jc(f));const m=a.move(i+i);return o(),r.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},l+u+m}s(MR,"strong");function ioe(e,t,r){return r.options.strong||"*"}s(ioe,"strongPeek");function soe(e,t,r,n){return r.safe(e.value,n)}s(soe,"text$2");function aoe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}s(aoe,"checkRuleRepetition");function ooe(e,t,r){const n=(CR(r)+(r.options.ruleSpaces?" ":"")).repeat(aoe(r));return r.options.ruleSpaces?n.slice(0,-1):n}s(ooe,"thematicBreak");const IR={blockquote:Iae,break:q5,code:Pae,definition:Bae,emphasis:xR,hardBreak:q5,heading:$ae,html:_R,image:ER,imageReference:SR,inlineCode:kR,link:AR,linkReference:NR,list:Kae,listItem:Yae,paragraph:eoe,root:roe,strong:MR,text:soe,thematicBreak:ooe};function loe(){return{enter:{table:uoe,tableData:Y5,tableHeader:Y5,tableRow:doe},exit:{codeText:foe,table:coe,tableData:n1,tableHeader:n1,tableRow:n1}}}s(loe,"gfmTableFromMarkdown");function uoe(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}s(uoe,"enterTable");function coe(e){this.exit(e),this.data.inTable=void 0}s(coe,"exitTable");function doe(e){this.enter({type:"tableRow",children:[]},e)}s(doe,"enterRow");function n1(e){this.exit(e)}s(n1,"exit");function Y5(e){this.enter({type:"tableCell",children:[]},e)}s(Y5,"enterCell");function foe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,hoe));const r=this.stack[this.stack.length-1];Yn(r.type==="inlineCode"),r.value=t,this.exit(e)}s(foe,"exitCodeText");function hoe(e,t){return t==="|"?t:e}s(hoe,"replace");function poe(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:u,tableRow:l}};function a(m,w,_,A){return c(h(m,_,A),m.align)}function l(m,w,_,A){const M=f(m,_,A),I=c([M]);return I.slice(0,I.indexOf(`
`))}function u(m,w,_,A){const M=_.enter("tableCell"),I=_.enter("phrasing"),R=_.containerPhrasing(m,{...A,before:o,after:o});return I(),M(),R}function c(m,w){return Cae(m,{align:w,alignDelimiters:n,padding:r,stringLength:i})}function h(m,w,_){const A=m.children;let M=-1;const I=[],R=w.enter("table");for(;++M<A.length;)I[M]=f(A[M],w,_);return R(),I}function f(m,w,_){const A=m.children;let M=-1;const I=[],R=w.enter("tableRow");for(;++M<A.length;)I[M]=u(A[M],m,w,_);return R(),I}function v(m,w,_){let A=IR.inlineCode(m,w,_);return _.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}s(poe,"gfmTableToMarkdown");function moe(){return{exit:{taskListCheckValueChecked:e_,taskListCheckValueUnchecked:e_,paragraph:voe}}}s(moe,"gfmTaskListItemFromMarkdown");function goe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:boe}}}s(goe,"gfmTaskListItemToMarkdown");function e_(e){const t=this.stack[this.stack.length-2];Yn(t.type==="listItem"),t.checked=e.type==="taskListCheckValueChecked"}s(e_,"exitCheck");function voe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];Yn(r.type==="paragraph");const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const l=i[o];if(l.type==="paragraph"){a=l;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}s(voe,"exitParagraphWithTaskListItem");function boe(e,t,r,n){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);o&&l.move(a);let u=IR.listItem(e,t,r,{...n,...l.current()});return o&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(h){return h+a}s(c,"check")}s(boe,"listItemWithTaskListItem");function yoe(){return[qse(),yae(),Eae(),loe(),moe()]}s(yoe,"gfmFromMarkdown");function woe(e){return{extensions:[Yse(),wae(e),Sae(),poe(e),goe()]}}s(woe,"gfmToMarkdown");const xoe={tokenize:Aoe,partial:!0},OR={tokenize:Noe,partial:!0},RR={tokenize:Coe,partial:!0},jR={tokenize:Moe,partial:!0},_oe={tokenize:Ioe,partial:!0},LR={name:"wwwAutolink",tokenize:koe,previous:DR},PR={name:"protocolAutolink",tokenize:Toe,previous:BR},ya={name:"emailAutolink",tokenize:Soe,previous:zR},Rs={};function Eoe(){return{text:Rs}}s(Eoe,"gfmAutolinkLiteral");let co=48;for(;co<123;)Rs[co]=ya,co++,co===58?co=65:co===91&&(co=97);Rs[43]=ya;Rs[45]=ya;Rs[46]=ya;Rs[95]=ya;Rs[72]=[ya,PR];Rs[104]=[ya,PR];Rs[87]=[ya,LR];Rs[119]=[ya,LR];function Soe(e,t,r){const n=this;let i,o;return a;function a(f){return!Qv(f)||!zR.call(n,n.previous)||i6(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return Qv(f)?(e.consume(f),l):f===64?(e.consume(f),u):r(f)}function u(f){return f===46?e.check(_oe,h,c)(f):f===45||f===95||Tb(f)?(o=!0,e.consume(f),u):h(f)}function c(f){return e.consume(f),i=!0,u}function h(f){return o&&i&&mc(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}s(Soe,"tokenizeEmailAutolink");function koe(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!DR.call(n,n.previous)||i6(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(xoe,e.attempt(OR,e.attempt(RR,o),r),r)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}s(koe,"tokenizeWwwAutolink");function Toe(e,t,r){const n=this;let i="",o=!1;return a;function a(f){return(f===72||f===104)&&BR.call(n,n.previous)&&!i6(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):r(f)}function l(f){if(mc(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(f),u}return r(f)}function u(f){return f===47?(e.consume(f),o?c:(o=!0,u)):r(f)}function c(f){return f===null||eD(f)||hi(f)||jl(f)||kb(f)?r(f):e.attempt(OR,e.attempt(RR,h),r)(f)}function h(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}s(Toe,"tokenizeProtocolAutolink");function Aoe(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),o):r(a)}function o(a){return a===null?r(a):t(a)}}s(Aoe,"tokenizeWwwPrefix");function Noe(e,t,r){let n,i,o;return a;function a(c){return c===46||c===95?e.check(jR,u,l)(c):c===null||hi(c)||jl(c)||c!==45&&kb(c)?u(c):(o=!0,e.consume(c),a)}function l(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),a}function u(c){return i||n||!o?r(c):t(c)}}s(Noe,"tokenizeDomain");function Coe(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(jR,t,o)(a):a===null||hi(a)||jl(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&n++,e.consume(a),i}}s(Coe,"tokenizePath");function Moe(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),o):l===93?(e.consume(l),i):l===60||l===null||hi(l)||jl(l)?t(l):r(l)}function i(l){return l===null||l===40||l===91||hi(l)||jl(l)?t(l):n(l)}function o(l){return mc(l)?a(l):r(l)}function a(l){return l===59?(e.consume(l),n):mc(l)?(e.consume(l),a):r(l)}}s(Moe,"tokenizeTrail");function Ioe(e,t,r){return n;function n(o){return e.consume(o),i}function i(o){return Tb(o)?r(o):t(o)}}s(Ioe,"tokenizeEmailDomainDotTrail");function DR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||hi(e)}s(DR,"previousWww");function BR(e){return!mc(e)}s(BR,"previousProtocol");function zR(e){return!(e===47||Qv(e))}s(zR,"previousEmail");function Qv(e){return e===43||e===45||e===46||e===95||Tb(e)}s(Qv,"gfmAtext");function i6(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}s(i6,"previousUnbalanced");const Ooe={tokenize:Uoe,partial:!0};function Roe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Doe,continuation:{tokenize:Boe},exit:zoe}},text:{91:{name:"gfmFootnoteCall",tokenize:Poe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:joe,resolveTo:Loe}}}}s(Roe,"gfmFootnote");function joe(e,t,r){const n=this;let i=n.events.length;const o=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const u=n.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!a||!a._balanced)return r(u);const c=rd(n.sliceSerialize({start:a.end,end:n.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}s(joe,"tokenizePotentialGfmFootnoteCall");function Loe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}s(Loe,"resolveToPotentialGfmFootnoteCall");function Poe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o=0,a;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(o>999||f===93&&!a||f===null||f===91||hi(f))return r(f);if(f===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(rd(n.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return hi(f)||(a=!0),o++,e.consume(f),f===92?h:c}function h(f){return f===91||f===92||f===93?(e.consume(f),o++,c):c(f)}}s(Poe,"tokenizeGfmFootnoteCall");function Doe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o,a=0,l;return u;function u(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(w)}function h(w){if(a>999||w===93&&!l||w===null||w===91||hi(w))return r(w);if(w===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return o=rd(n.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return hi(w)||(l=!0),a++,e.consume(w),w===92?f:h}function f(w){return w===91||w===92||w===93?(e.consume(w),a++,h):h(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(o)||i.push(o),Si(e,m,"gfmFootnoteDefinitionWhitespace")):r(w)}function m(w){return t(w)}}s(Doe,"tokenizeDefinitionStart");function Boe(e,t,r){return e.check(tD,t,e.attempt(Ooe,t,r))}s(Boe,"tokenizeDefinitionContinuation");function zoe(e){e.exit("gfmFootnoteDefinition")}s(zoe,"gfmFootnoteDefinitionEnd");function Uoe(e,t,r){const n=this;return Si(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):r(o)}}s(Uoe,"tokenizeIndent");function Foe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:o,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,l){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let c=u;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[u][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[u][1].end)},f={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[u][1].start)},v=[["enter",h,l],["enter",a[c][1],l],["exit",a[c][1],l],["enter",f,l]],m=l.parser.constructs.insideSpan.null;m&&Qp(v,v.length,0,rD(m,a.slice(c+1,u),l)),Qp(v,v.length,0,[["exit",f,l],["enter",a[u][1],l],["exit",a[u][1],l],["exit",h,l]]),Qp(a,c-1,u-c+3,v),u=c+v.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}s(i,"resolveAllStrikethrough");function o(a,l,u){const c=this.previous,h=this.events;let f=0;return v;function v(w){return c===126&&h[h.length-1][1].type!=="characterEscape"?u(w):(a.enter("strikethroughSequenceTemporary"),m(w))}function m(w){const _=nh(c);if(w===126)return f>1?u(w):(a.consume(w),f++,m);if(f<2&&!r)return u(w);const A=a.exit("strikethroughSequenceTemporary"),M=nh(w);return A._open=!M||M===2&&!!_,A._close=!_||_===2&&!!M,l(w)}}s(o,"tokenizeStrikethrough")}s(Foe,"gfmStrikethrough");class $oe{static{s(this,"EditMap")}constructor(){this.map=[]}add(t,r,n){Hoe(this,t,r,n)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const o of i)t.push(o);i=n.pop()}this.map.length=0}}function Hoe(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}s(Hoe,"addImplementation");function Voe(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=n.length-1;n[o]=n[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}s(Voe,"gfmTableAlign");function Goe(){return{flow:{null:{name:"table",tokenize:Zoe,resolveAll:Joe}}}}s(Goe,"gfmTable");function Zoe(e,t,r){const n=this;let i=0,o=0,a;return l;function l(U){let X=n.events.length-1;for(;X>-1;){const g=n.events[X][1].type;if(g==="lineEnding"||g==="linePrefix")X--;else break}const d=X>-1?n.events[X][1].type:null,y=d==="tableHead"||d==="tableRow"?F:u;return y===F&&n.parser.lazy[n.now().line]?r(U):y(U)}function u(U){return e.enter("tableHead"),e.enter("tableRow"),c(U)}function c(U){return U===124||(a=!0,o+=1),h(U)}function h(U){return U===null?r(U):ki(U)?o>1?(o=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),m):r(U):ml(U)?Si(e,h,"whitespace")(U):(o+=1,a&&(a=!1,i+=1),U===124?(e.enter("tableCellDivider"),e.consume(U),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),f(U)))}function f(U){return U===null||U===124||hi(U)?(e.exit("data"),h(U)):(e.consume(U),U===92?v:f)}function v(U){return U===92||U===124?(e.consume(U),f):f(U)}function m(U){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(U):(e.enter("tableDelimiterRow"),a=!1,ml(U)?Si(e,w,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):w(U))}function w(U){return U===45||U===58?A(U):U===124?(a=!0,e.enter("tableCellDivider"),e.consume(U),e.exit("tableCellDivider"),_):P(U)}function _(U){return ml(U)?Si(e,A,"whitespace")(U):A(U)}function A(U){return U===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(U),e.exit("tableDelimiterMarker"),M):U===45?(o+=1,M(U)):U===null||ki(U)?L(U):P(U)}function M(U){return U===45?(e.enter("tableDelimiterFiller"),I(U)):P(U)}function I(U){return U===45?(e.consume(U),I):U===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(U),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(U))}function R(U){return ml(U)?Si(e,L,"whitespace")(U):L(U)}function L(U){return U===124?w(U):U===null||ki(U)?!a||i!==o?P(U):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(U)):P(U)}function P(U){return r(U)}function F(U){return e.enter("tableRow"),Z(U)}function Z(U){return U===124?(e.enter("tableCellDivider"),e.consume(U),e.exit("tableCellDivider"),Z):U===null||ki(U)?(e.exit("tableRow"),t(U)):ml(U)?Si(e,Z,"whitespace")(U):(e.enter("data"),G(U))}function G(U){return U===null||U===124||hi(U)?(e.exit("data"),Z(U)):(e.consume(U),U===92?se:G)}function se(U){return U===92||U===124?(e.consume(U),G):G(U)}}s(Zoe,"tokenizeTable");function Joe(e,t){let r=-1,n=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],l=!1,u=0,c,h,f;const v=new $oe;for(;++r<e.length;){const m=e[r],w=m[1];m[0]==="enter"?w.type==="tableHead"?(l=!1,u!==0&&(t_(v,t,u,c,h),h=void 0,u=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(r,0,[["enter",c,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(n=!0,f=void 0,o=[0,0,0,0],a=[0,r+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(r,0,[["enter",h,t]])),i=w.type==="tableDelimiterRow"?2:h?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],f=wf(v,t,o,i,void 0,f),o=[0,0,0,0]),a[2]=r)):w.type==="tableCellDivider"&&(n?n=!1:(o[1]!==0&&(a[0]=a[1],f=wf(v,t,o,i,void 0,f)),o=a,a=[o[1],r,0,0])):w.type==="tableHead"?(l=!0,u=r):w.type==="tableRow"||w.type==="tableDelimiterRow"?(u=r,o[1]!==0?(a[0]=a[1],f=wf(v,t,o,i,r,f)):a[1]!==0&&(f=wf(v,t,a,i,r,f)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(a[3]=r)}for(u!==0&&t_(v,t,u,c,h),v.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Voe(t.events,r))}return e}s(Joe,"resolveTable");function wf(e,t,r,n,i,o){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(o.end=Object.assign({},vl(t.events,r[0])),e.add(r[0],0,[["exit",o,t]]));const u=vl(t.events,r[1]);if(o={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",o,t]]),r[2]!==0){const c=vl(t.events,r[2]),h=vl(t.events,r[3]),f={type:l,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const v=t.events[r[2]],m=t.events[r[3]];if(v[1].end=Object.assign({},m[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const w=r[2]+1,_=r[3]-r[2]-1;e.add(w,_,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return i!==void 0&&(o.end=Object.assign({},vl(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}s(wf,"flushCell");function t_(e,t,r,n,i){const o=[],a=vl(t.events,r);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),n.end=Object.assign({},a),o.push(["exit",n,t]),e.add(r+1,0,o)}s(t_,"flushTableEnd");function vl(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}s(vl,"getPoint");const Woe={name:"tasklistCheck",tokenize:Xoe};function Qoe(){return{text:{91:Woe}}}s(Qoe,"gfmTaskListItem");function Xoe(e,t,r){const n=this;return i;function i(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),o)}function o(u){return hi(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):r(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(u)}function l(u){return ki(u)?t(u):ml(u)?e.check({tokenize:Koe},t,r)(u):r(u)}}s(Xoe,"tokenizeTasklistCheck");function Koe(e,t,r){return Si(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}s(Koe,"spaceThenNonSpace");function qoe(e){return nD([Eoe(),Roe(),Foe(e),Goe(),Qoe()])}s(qoe,"gfm");const Yoe={};function ele(e){const t=this,r=e||Yoe,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(qoe(r)),o.push(yoe()),a.push(woe(r))}s(ele,"remarkGfm");function tle(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:o},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:l,mathText:a,mathTextData:l}};function e(u){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},u)}function t(){this.buffer()}function r(){const u=this.resume(),c=this.stack[this.stack.length-1];Yn(c.type==="math"),c.meta=u}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(u){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];Yn(h.type==="math"),this.exit(u),h.value=c;const f=h.data.hChildren[0];Yn(f.type==="element"),Yn(f.tagName==="code"),f.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function o(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function a(u){const c=this.resume(),h=this.stack[this.stack.length-1];Yn(h.type==="inlineMath"),this.exit(u),h.value=c,h.data.hChildren.push({type:"text",value:c})}function l(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}s(tle,"mathFromMarkdown");function rle(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(o,a,l,u){const c=o.value||"",h=l.createTracker(u),f="$".repeat(Math.max(wR(c,"$")+1,2)),v=l.enter("mathFlow");let m=h.move(f);if(o.meta){const w=l.enter("mathFlowMeta");m+=h.move(l.safe(o.meta,{after:`
`,before:m,encode:["$"],...h.current()})),w()}return m+=h.move(`
`),c&&(m+=h.move(c+`
`)),m+=h.move(f),v(),m}s(r,"math");function n(o,a,l){let u=o.value||"",c=1;for(t||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(u);)c++;const h="$".repeat(c);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let f=-1;for(;++f<l.unsafe.length;){const v=l.unsafe[f];if(!v.atBreak)continue;const m=l.compilePattern(v);let w;for(;w=m.exec(u);){let _=w.index;u.codePointAt(_)===10&&u.codePointAt(_-1)===13&&_--,u=u.slice(0,_)+" "+u.slice(w.index+1)}}return h+u+h}s(n,"inlineMath");function i(){return"$"}s(i,"inlineMathPeek")}s(rle,"mathToMarkdown");const nle={tokenize:ile,concrete:!0,name:"mathFlow"},r_={tokenize:sle,partial:!0};function ile(e,t,r){const n=this,i=n.events[n.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return l;function l(I){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),u(I)}function u(I){return I===36?(e.consume(I),a++,u):a<2?r(I):(e.exit("mathFlowFenceSequence"),Si(e,c,"whitespace")(I))}function c(I){return I===null||ki(I)?f(I):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(I))}function h(I){return I===null||ki(I)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),f(I)):I===36?r(I):(e.consume(I),h)}function f(I){return e.exit("mathFlowFence"),n.interrupt?t(I):e.attempt(r_,v,A)(I)}function v(I){return e.attempt({tokenize:M,partial:!0},A,m)(I)}function m(I){return(o?Si(e,w,"linePrefix",o+1):w)(I)}function w(I){return I===null?A(I):ki(I)?e.attempt(r_,v,A)(I):(e.enter("mathFlowValue"),_(I))}function _(I){return I===null||ki(I)?(e.exit("mathFlowValue"),w(I)):(e.consume(I),_)}function A(I){return e.exit("mathFlow"),t(I)}function M(I,R,L){let P=0;return Si(I,F,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function F(se){return I.enter("mathFlowFence"),I.enter("mathFlowFenceSequence"),Z(se)}function Z(se){return se===36?(P++,I.consume(se),Z):P<a?L(se):(I.exit("mathFlowFenceSequence"),Si(I,G,"whitespace")(se))}function G(se){return se===null||ki(se)?(I.exit("mathFlowFence"),R(se)):L(se)}}}s(ile,"tokenizeMathFenced");function sle(e,t,r){const n=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}s(sle,"tokenizeNonLazyContinuation");function ale(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:ole,previous:lle,name:"mathText"};function n(i,o,a){let l=0,u,c;return h;function h(_){return i.enter("mathText"),i.enter("mathTextSequence"),f(_)}function f(_){return _===36?(i.consume(_),l++,f):l<2&&!r?a(_):(i.exit("mathTextSequence"),v(_))}function v(_){return _===null?a(_):_===36?(c=i.enter("mathTextSequence"),u=0,w(_)):_===32?(i.enter("space"),i.consume(_),i.exit("space"),v):ki(_)?(i.enter("lineEnding"),i.consume(_),i.exit("lineEnding"),v):(i.enter("mathTextData"),m(_))}function m(_){return _===null||_===32||_===36||ki(_)?(i.exit("mathTextData"),v(_)):(i.consume(_),m)}function w(_){return _===36?(i.consume(_),u++,w):u===l?(i.exit("mathTextSequence"),i.exit("mathText"),o(_)):(c.type="mathTextData",m(_))}}s(n,"tokenizeMathText")}s(ale,"mathText");function ole(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="mathTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}s(ole,"resolveMathText");function lle(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}s(lle,"previous");function ule(e){return{flow:{36:nle},text:{36:ale(e)}}}s(ule,"math");const cle={};function dle(e){const t=this,r=e||cle,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(ule(r)),o.push(tle()),a.push(rle(r))}s(dle,"remarkMath");function fle({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:r=[],allowDataImages:n=!1,blockedImageClass:i="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:o="text-gray-500"}){const a=t.length&&!t.every(u=>u==="*"),l=r.length&&!r.every(u=>u==="*");if(!e&&(a||l))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return u=>{const c=mle(e,t,r,n,i,o);pc(u,c)}}s(fle,"harden");function n_(e,t){if(typeof e!="string")return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{return null}return null}}s(n_,"parseUrl");function hle(e){return typeof e!="string"?!1:e.startsWith("/")}s(hle,"isPathRelativeUrl");const ple=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:"]);function i_(e,t,r,n=!1,i=!1){if(!e)return null;if(typeof e=="string"&&e.startsWith("#")&&!i)try{if(new URL(e,"http://example.com").hash===e)return e}catch{}if(typeof e=="string"&&e.startsWith("data:"))return i&&n&&e.startsWith("data:image/")?e:null;const o=n_(e,r);if(!o||!ple.has(o.protocol))return null;if(o.protocol==="mailto:")return o.href;const a=hle(e);return o&&t.some(l=>{const u=n_(l,r);return!u||u.origin!==o.origin?!1:o.href.startsWith(u.href)})?a?o.pathname+o.search+o.hash:o.href:t.includes("*")?o.protocol!=="https:"&&o.protocol!=="http:"?null:a?o.pathname+o.search+o.hash:o.href:null}s(i_,"transformUrl");const i1=Symbol("node-seen"),mle=s((e,t,r,n,i,o)=>{const a=s((l,u,c)=>{if(l.type!=="element"||l[i1])return Rd;if(l.tagName==="a"){const h=i_(l.properties.href,t,e,!1,!1);return h===null?(l[i1]=!0,pc(l,a),c&&typeof u=="number"&&(c.children[u]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(l.properties.href),class:o},children:[...l.children,{type:"text",value:" [blocked]"}]}),N1):(l.properties.href=h,l.properties.target="_blank",l.properties.rel="noopener noreferrer",Rd)}if(l.tagName==="img"){const h=i_(l.properties.src,r,e,n,!0);return h===null?(l[i1]=!0,pc(l,a),c&&typeof u=="number"&&(c.children[u]={type:"element",tagName:"span",properties:{class:i},children:[{type:"text",value:"[Image blocked: "+String(l.properties.alt||"No description")+"]"}]}),N1):(l.properties.src=h,Rd)}return Rd},"visitor");return a},"createVisitor");let an=class extends Error{static{s(this,"ShikiError")}constructor(t){super(t),this.name="ShikiError"}};function gle(e){return s6(e)}s(gle,"clone");function s6(e){return Array.isArray(e)?vle(e):e instanceof RegExp?e:typeof e=="object"?ble(e):e}s(s6,"doClone");function vle(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=s6(e[r]);return t}s(vle,"cloneArray");function ble(e){let t={};for(let r in e)t[r]=s6(e[r]);return t}s(ble,"cloneObj");function UR(e,...t){return t.forEach(r=>{for(let n in r)e[n]=r[n]}),e}s(UR,"mergeObjects");function FR(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?FR(e.substring(0,e.length-1)):e.substr(~t+1)}s(FR,"basename");var s1=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,xf=class{static{s(this,"RegexSource")}static hasCaptures(e){return e===null?!1:(s1.lastIndex=0,s1.test(e))}static replaceCaptures(e,t,r){return e.replace(s1,(n,i,o,a)=>{let l=r[parseInt(i||o,10)];if(l){let u=t.substring(l.start,l.end);for(;u[0]===".";)u=u.substring(1);switch(a){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}}else return n})}};function $R(e,t){return e<t?-1:e>t?1:0}s($R,"strcmp");function HR(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let i=0;i<r;i++){let o=$R(e[i],t[i]);if(o!==0)return o}return 0}return r-n}s(HR,"strArrCmp");function s_(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}s(s_,"isValidHexColor");function VR(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}s(VR,"escapeRegExpCharacters");var GR=class{static{s(this,"CachedFn")}constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},Gh=class{static{s(this,"Theme")}constructor(e,t,r){this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(xle(e),t)}static createFromParsedTheme(e,t){return Ele(e,t)}_cachedMatchRoot=new GR(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,n=this._cachedMatchRoot.get(t).find(i=>yle(e.parent,i.parentScopes));return n?new ZR(n.fontStyle,n.foreground,n.background):null}},a1=class Kf{static{s(this,"_ScopeStack")}constructor(t,r){this.parent=t,this.scopeName=r}static push(t,r){for(const n of r)t=new Kf(t,n);return t}static from(...t){let r=null;for(let n=0;n<t.length;n++)r=new Kf(r,t[n]);return r}push(t){return new Kf(this,t)}getSegments(){let t=this;const r=[];for(;t;)r.push(t.scopeName),t=t.parent;return r.reverse(),r}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const r=[];let n=this;for(;n&&n!==t;)r.push(n.scopeName),n=n.parent;return n===t?r.reverse():void 0}};function yle(e,t){if(t.length===0)return!0;for(let r=0;r<t.length;r++){let n=t[r],i=!1;if(n===">"){if(r===t.length-1)return!1;n=t[++r],i=!0}for(;e&&!wle(e.scopeName,n);){if(i)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}s(yle,"_scopePathMatchesParentScopes");function wle(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}s(wle,"_matchesScope");var ZR=class{static{s(this,"StyleAttributes")}constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};function xle(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],n=0;for(let i=0,o=t.length;i<o;i++){let a=t[i];if(!a.settings)continue;let l;if(typeof a.scope=="string"){let f=a.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),l=f.split(",")}else Array.isArray(a.scope)?l=a.scope:l=[""];let u=-1;if(typeof a.settings.fontStyle=="string"){u=0;let f=a.settings.fontStyle.split(" ");for(let v=0,m=f.length;v<m;v++)switch(f[v]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let c=null;typeof a.settings.foreground=="string"&&s_(a.settings.foreground)&&(c=a.settings.foreground);let h=null;typeof a.settings.background=="string"&&s_(a.settings.background)&&(h=a.settings.background);for(let f=0,v=l.length;f<v;f++){let w=l[f].trim().split(" "),_=w[w.length-1],A=null;w.length>1&&(A=w.slice(0,w.length-1),A.reverse()),r[n++]=new _le(_,A,i,u,c,h)}}return r}s(xle,"parseTheme");var _le=class{static{s(this,"ParsedThemeRule")}constructor(e,t,r,n,i,o){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=i,this.background=o}},On=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(On||{});function Ele(e,t){e.sort((u,c)=>{let h=$R(u.scope,c.scope);return h!==0||(h=HR(u.parentScopes,c.parentScopes),h!==0)?h:u.index-c.index});let r=0,n="#000000",i="#ffffff";for(;e.length>=1&&e[0].scope==="";){let u=e.shift();u.fontStyle!==-1&&(r=u.fontStyle),u.foreground!==null&&(n=u.foreground),u.background!==null&&(i=u.background)}let o=new Sle(t),a=new ZR(r,o.getId(n),o.getId(i)),l=new Tle(new Xv(0,null,-1,0,0),[]);for(let u=0,c=e.length;u<c;u++){let h=e[u];l.insert(0,h.scope,h.parentScopes,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new Gh(o,a,l)}s(Ele,"resolveParsedThemeRules");var Sle=class{static{s(this,"ColorMap")}_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},kle=Object.freeze([]),Xv=class JR{static{s(this,"_ThemeTrieElementRule")}scopeDepth;parentScopes;fontStyle;foreground;background;constructor(t,r,n,i,o){this.scopeDepth=t,this.parentScopes=r||kle,this.fontStyle=n,this.foreground=i,this.background=o}clone(){return new JR(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let r=[];for(let n=0,i=t.length;n<i;n++)r[n]=t[n].clone();return r}acceptOverwrite(t,r,n,i){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,r!==-1&&(this.fontStyle=r),n!==0&&(this.foreground=n),i!==0&&(this.background=i)}},Tle=class Kv{static{s(this,"_ThemeTrieElement")}constructor(t,r=[],n={}){this._mainRule=t,this._children=n,this._rulesWithParentScopes=r}_rulesWithParentScopes;static _cmpBySpecificity(t,r){if(t.scopeDepth!==r.scopeDepth)return r.scopeDepth-t.scopeDepth;let n=0,i=0;for(;t.parentScopes[n]===">"&&n++,r.parentScopes[i]===">"&&i++,!(n>=t.parentScopes.length||i>=r.parentScopes.length);){const o=r.parentScopes[i].length-t.parentScopes[n].length;if(o!==0)return o;n++,i++}return r.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let n=t.indexOf("."),i,o;if(n===-1?(i=t,o=""):(i=t.substring(0,n),o=t.substring(n+1)),this._children.hasOwnProperty(i))return this._children[i].match(o)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(Kv._cmpBySpecificity),r}insert(t,r,n,i,o,a){if(r===""){this._doInsertHere(t,n,i,o,a);return}let l=r.indexOf("."),u,c;l===-1?(u=r,c=""):(u=r.substring(0,l),c=r.substring(l+1));let h;this._children.hasOwnProperty(u)?h=this._children[u]:(h=new Kv(this._mainRule.clone(),Xv.cloneArr(this._rulesWithParentScopes)),this._children[u]=h),h.insert(t+1,c,n,i,o,a)}_doInsertHere(t,r,n,i,o){if(r===null){this._mainRule.acceptOverwrite(t,n,i,o);return}for(let a=0,l=this._rulesWithParentScopes.length;a<l;a++){let u=this._rulesWithParentScopes[a];if(HR(u.parentScopes,r)===0){u.acceptOverwrite(t,n,i,o);return}}n===-1&&(n=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new Xv(t,r,n,i,o))}},Gl=class wi{static{s(this,"_EncodedTokenMetadata")}static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const r=wi.getLanguageId(t),n=wi.getTokenType(t),i=wi.getFontStyle(t),o=wi.getForeground(t),a=wi.getBackground(t);console.log({languageId:r,tokenType:n,fontStyle:i,foreground:o,background:a})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,r,n,i,o,a,l){let u=wi.getLanguageId(t),c=wi.getTokenType(t),h=wi.containsBalancedBrackets(t)?1:0,f=wi.getFontStyle(t),v=wi.getForeground(t),m=wi.getBackground(t);return r!==0&&(u=r),n!==8&&(c=n),i!==null&&(h=i?1:0),o!==-1&&(f=o),a!==0&&(v=a),l!==0&&(m=l),(u<<0|c<<8|h<<10|f<<11|v<<15|m<<24)>>>0}};function Zh(e,t){const r=[],n=Ale(e);let i=n.next();for(;i!==null;){let u=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":u=1;break;case"L":u=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=n.next()}let c=a();if(r.push({matcher:c,priority:u}),i!==",")break;i=n.next()}return r;function o(){if(i==="-"){i=n.next();const u=o();return c=>!!u&&!u(c)}if(i==="("){i=n.next();const u=l();return i===")"&&(i=n.next()),u}if(a_(i)){const u=[];do u.push(i),i=n.next();while(a_(i));return c=>t(u,c)}return null}function a(){const u=[];let c=o();for(;c;)u.push(c),c=o();return h=>u.every(f=>f(h))}function l(){const u=[];let c=a();for(;c&&(u.push(c),i==="|"||i===",");){do i=n.next();while(i==="|"||i===",");c=a()}return h=>u.some(f=>f(h))}}s(Zh,"createMatchers");function a_(e){return!!e&&!!e.match(/[\w\.:]+/)}s(a_,"isIdentifier");function Ale(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:s(()=>{if(!r)return null;const n=r[0];return r=t.exec(e),n},"next")}}s(Ale,"newTokenizer");function WR(e){typeof e.dispose=="function"&&e.dispose()}s(WR,"disposeOnigString");var Wc=class{static{s(this,"TopLevelRuleReference")}constructor(e){this.scopeName=e}toKey(){return this.scopeName}},Nle=class{static{s(this,"TopLevelRepositoryRuleReference")}constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},Cle=class{static{s(this,"ExternalReferenceCollector")}_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},Mle=class{static{s(this,"ScopeDependencyProcessor")}constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Wc(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const e=this.Q;this.Q=[];const t=new Cle;for(const r of e)Ile(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof Wc){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function Ile(e,t,r,n){const i=r.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const o=r.lookup(t);e instanceof Wc?qf({baseGrammar:o,selfGrammar:i},n):qv(e.ruleName,{baseGrammar:o,selfGrammar:i,repository:i.repository},n);const a=r.injections(e.scopeName);if(a)for(const l of a)n.add(new Wc(l))}s(Ile,"collectReferencesOfReference");function qv(e,t,r){if(t.repository&&t.repository[e]){const n=t.repository[e];Jh([n],t,r)}}s(qv,"collectExternalReferencesInTopLevelRepositoryRule");function qf(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&Jh(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&Jh(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}s(qf,"collectExternalReferencesInTopLevelRule");function Jh(e,t,r){for(const n of e){if(r.visitedRule.has(n))continue;r.visitedRule.add(n);const i=n.repository?UR({},t.repository,n.repository):t.repository;Array.isArray(n.patterns)&&Jh(n.patterns,{...t,repository:i},r);const o=n.include;if(!o)continue;const a=QR(o);switch(a.kind){case 0:qf({...t,selfGrammar:t.baseGrammar},r);break;case 1:qf(t,r);break;case 2:qv(a.ruleName,{...t,repository:i},r);break;case 3:case 4:const l=a.scopeName===t.selfGrammar.scopeName?t.selfGrammar:a.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(l){const u={baseGrammar:t.baseGrammar,selfGrammar:l,repository:i};a.kind===4?qv(a.ruleName,u,r):qf(u,r)}else a.kind===4?r.add(new Nle(a.scopeName,a.ruleName)):r.add(new Wc(a.scopeName));break}}}s(Jh,"collectExternalReferencesInRules");var Ole=class{static{s(this,"BaseReference")}kind=0},Rle=class{static{s(this,"SelfReference")}kind=1},jle=class{static{s(this,"RelativeReference")}constructor(e){this.ruleName=e}kind=2},Lle=class{static{s(this,"TopLevelReference")}constructor(e){this.scopeName=e}kind=3},Ple=class{static{s(this,"TopLevelRepositoryReference")}constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function QR(e){if(e==="$base")return new Ole;if(e==="$self")return new Rle;const t=e.indexOf("#");if(t===-1)return new Lle(e);if(t===0)return new jle(e.substring(1));{const r=e.substring(0,t),n=e.substring(t+1);return new Ple(r,n)}}s(QR,"parseInclude");var Dle=/\\(\d+)/,o_=/\\(\d+)/g,Ble=-1,XR=-2;var Cd=class{static{s(this,"Rule")}$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,n){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=xf.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=xf.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${FR(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:xf.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:xf.replaceCaptures(this._contentName,e,t)}},zle=class extends Cd{static{s(this,"CaptureRule")}retokenizeCapturedWithRuleId;constructor(e,t,r,n,i){super(e,t,r,n),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,t){throw new Error("Not supported!")}compile(e,t){throw new Error("Not supported!")}compileAG(e,t,r,n){throw new Error("Not supported!")}},Ule=class extends Cd{static{s(this,"MatchRule")}_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,null),this._match=new Qc(n,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Xc,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},l_=class extends Cd{static{s(this,"IncludeOnlyRule")}hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,n),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(const r of this.patterns)e.getRule(r).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Xc,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Yv=class extends Cd{static{s(this,"BeginEndRule")}_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i,o,a,l,u,c){super(e,t,r,n),this._begin=new Qc(i,this.id),this.beginCaptures=o,this._end=new Qc(a||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=u||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Xc;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},Wh=class extends Cd{static{s(this,"BeginWhileRule")}_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,r,n,i,o,a,l,u){super(e,t,r,n),this._begin=new Qc(i,this.id),this.beginCaptures=o,this.whileCaptures=l,this._while=new Qc(a,XR),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Xc;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Xc,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||""),this._cachedCompiledWhilePatterns}},KR=class In{static{s(this,"_RuleFactory")}static createCaptureRule(t,r,n,i,o){return t.registerRule(a=>new zle(r,a,n,i,o))}static getCompiledRuleId(t,r,n){return t.id||r.registerRule(i=>{if(t.id=i,t.match)return new Ule(t.$vscodeTextmateLocation,t.id,t.name,t.match,In._compileCaptures(t.captures,r,n));if(typeof t.begin>"u"){t.repository&&(n=UR({},n,t.repository));let o=t.patterns;return typeof o>"u"&&t.include&&(o=[{include:t.include}]),new l_(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,In._compilePatterns(o,r,n))}return t.while?new Wh(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,In._compileCaptures(t.beginCaptures||t.captures,r,n),t.while,In._compileCaptures(t.whileCaptures||t.captures,r,n),In._compilePatterns(t.patterns,r,n)):new Yv(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,In._compileCaptures(t.beginCaptures||t.captures,r,n),t.end,In._compileCaptures(t.endCaptures||t.captures,r,n),t.applyEndPatternLast,In._compilePatterns(t.patterns,r,n))}),t.id}static _compileCaptures(t,r,n){let i=[];if(t){let o=0;for(const a in t){if(a==="$vscodeTextmateLocation")continue;const l=parseInt(a,10);l>o&&(o=l)}for(let a=0;a<=o;a++)i[a]=null;for(const a in t){if(a==="$vscodeTextmateLocation")continue;const l=parseInt(a,10);let u=0;t[a].patterns&&(u=In.getCompiledRuleId(t[a],r,n)),i[l]=In.createCaptureRule(r,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,u)}}return i}static _compilePatterns(t,r,n){let i=[];if(t)for(let o=0,a=t.length;o<a;o++){const l=t[o];let u=-1;if(l.include){const c=QR(l.include);switch(c.kind){case 0:case 1:u=In.getCompiledRuleId(n[l.include],r,n);break;case 2:let h=n[c.ruleName];h&&(u=In.getCompiledRuleId(h,r,n));break;case 3:case 4:const f=c.scopeName,v=c.kind===4?c.ruleName:null,m=r.getExternalGrammar(f,n);if(m)if(v){let w=m.repository[v];w&&(u=In.getCompiledRuleId(w,r,m.repository))}else u=In.getCompiledRuleId(m.repository.$self,r,m.repository);break}}else u=In.getCompiledRuleId(l,r,n);if(u!==-1){const c=r.getRule(u);let h=!1;if((c instanceof l_||c instanceof Yv||c instanceof Wh)&&c.hasMissingPatterns&&c.patterns.length===0&&(h=!0),h)continue;i.push(u)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},Qc=class qR{static{s(this,"_RegExpSource")}source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(t,r){if(t&&typeof t=="string"){const n=t.length;let i=0,o=[],a=!1;for(let l=0;l<n;l++)if(t.charAt(l)==="\\"&&l+1<n){const c=t.charAt(l+1);c==="z"?(o.push(t.substring(i,l)),o.push("$(?!\\n)(?<!\\n)"),i=l+2):(c==="A"||c==="G")&&(a=!0),l++}this.hasAnchor=a,i===0?this.source=t:(o.push(t.substring(i,n)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=r,typeof this.source=="string"?this.hasBackReferences=Dle.test(this.source):this.hasBackReferences=!1}clone(){return new qR(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,r){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let n=r.map(i=>t.substring(i.start,i.end));return o_.lastIndex=0,this.source.replace(o_,(i,o)=>VR(n[parseInt(o,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],r=[],n=[],i=[],o,a,l,u;for(o=0,a=this.source.length;o<a;o++)l=this.source.charAt(o),t[o]=l,r[o]=l,n[o]=l,i[o]=l,l==="\\"&&o+1<a&&(u=this.source.charAt(o+1),u==="A"?(t[o+1]="",r[o+1]="",n[o+1]="A",i[o+1]="A"):u==="G"?(t[o+1]="",r[o+1]="G",n[o+1]="",i[o+1]="G"):(t[o+1]=u,r[o+1]=u,n[o+1]=u,i[o+1]=u),o++);return{A0_G0:t.join(""),A0_G1:r.join(""),A1_G0:n.join(""),A1_G1:i.join("")}}resolveAnchors(t,r){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Xc=class{static{s(this,"RegExpSourceList")}_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(r=>r.source);this._cached=new u_(e,t,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let n=this._items.map(i=>i.resolveAnchors(t,r));return new u_(e,n,this._items.map(i=>i.ruleId))}},u_=class{static{s(this,"CompiledRule")}constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,r){const n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},o1=class{static{s(this,"BasicScopeAttributes")}constructor(e,t){this.languageId=e,this.tokenType=t}},Fle=class eb{static{s(this,"_BasicScopeAttributesProvider")}_defaultAttributes;_embeddedLanguagesMatcher;constructor(t,r){this._defaultAttributes=new o1(t,8),this._embeddedLanguagesMatcher=new $le(Object.entries(r||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?eb._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new o1(0,0);_getBasicScopeAttributes=new GR(t=>{const r=this._scopeToLanguage(t),n=this._toStandardTokenType(t);return new o1(r,n)});_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const r=t.match(eb.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},$le=class{static{s(this,"ScopeMatcher")}values;scopesRegExp;constructor(e){if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([r,n])=>VR(r));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}},c_=class{static{s(this,"TokenizeStringResult")}constructor(e,t){this.stack=e,this.stoppedEarly=t}};function YR(e,t,r,n,i,o,a,l){const u=t.content.length;let c=!1,h=-1;if(a){const m=Hle(e,t,r,n,i,o);i=m.stack,n=m.linePos,r=m.isFirstLine,h=m.anchorPosition}const f=Date.now();for(;!c;){if(l!==0&&Date.now()-f>l)return new c_(i,!0);v()}return new c_(i,!1);function v(){const m=Vle(e,t,r,n,i,h);if(!m){o.produce(i,u),c=!0;return}const w=m.captureIndices,_=m.matchedRuleId,A=w&&w.length>0?w[0].end>n:!1;if(_===Ble){const M=i.getRule(e);o.produce(i,w[0].start),i=i.withContentNameScopesList(i.nameScopesList),Yu(e,t,r,i,o,M.endCaptures,w),o.produce(i,w[0].end);const I=i;if(i=i.parent,h=I.getAnchorPos(),!A&&I.getEnterPos()===n){i=I,o.produce(i,u),c=!0;return}}else{const M=e.getRule(_);o.produce(i,w[0].start);const I=i,R=M.getName(t.content,w),L=i.contentNameScopesList.pushAttributed(R,e);if(i=i.push(_,n,h,w[0].end===u,null,L,L),M instanceof Yv){const P=M;Yu(e,t,r,i,o,P.beginCaptures,w),o.produce(i,w[0].end),h=w[0].end;const F=P.getContentName(t.content,w),Z=L.pushAttributed(F,e);if(i=i.withContentNameScopesList(Z),P.endHasBackReferences&&(i=i.withEndRule(P.getEndWithResolvedBackReferences(t.content,w))),!A&&I.hasSameRuleAs(i)){i=i.pop(),o.produce(i,u),c=!0;return}}else if(M instanceof Wh){const P=M;Yu(e,t,r,i,o,P.beginCaptures,w),o.produce(i,w[0].end),h=w[0].end;const F=P.getContentName(t.content,w),Z=L.pushAttributed(F,e);if(i=i.withContentNameScopesList(Z),P.whileHasBackReferences&&(i=i.withEndRule(P.getWhileWithResolvedBackReferences(t.content,w))),!A&&I.hasSameRuleAs(i)){i=i.pop(),o.produce(i,u),c=!0;return}}else if(Yu(e,t,r,i,o,M.captures,w),o.produce(i,w[0].end),i=i.pop(),!A){i=i.safePop(),o.produce(i,u),c=!0;return}}w[0].end>n&&(n=w[0].end,r=!1)}}s(YR,"_tokenizeString");function Hle(e,t,r,n,i,o){let a=i.beginRuleCapturedEOL?0:-1;const l=[];for(let u=i;u;u=u.pop()){const c=u.getRule(e);c instanceof Wh&&l.push({rule:c,stack:u})}for(let u=l.pop();u;u=l.pop()){const{ruleScanner:c,findOptions:h}=Jle(u.rule,e,u.stack.endRule,r,n===a),f=c.findNextMatchSync(t,n,h);if(f){if(f.ruleId!==XR){i=u.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(o.produce(u.stack,f.captureIndices[0].start),Yu(e,t,r,u.stack,o,u.rule.whileCaptures,f.captureIndices),o.produce(u.stack,f.captureIndices[0].end),a=f.captureIndices[0].end,f.captureIndices[0].end>n&&(n=f.captureIndices[0].end,r=!1))}else{i=u.stack.pop();break}}return{stack:i,linePos:n,anchorPosition:a,isFirstLine:r}}s(Hle,"_checkWhileConditions");function Vle(e,t,r,n,i,o){const a=Gle(e,t,r,n,i,o),l=e.getInjections();if(l.length===0)return a;const u=Zle(l,e,t,r,n,i,o);if(!u)return a;if(!a)return u;const c=a.captureIndices[0].start,h=u.captureIndices[0].start;return h<c||u.priorityMatch&&h===c?u:a}s(Vle,"matchRuleOrInjections");function Gle(e,t,r,n,i,o){const a=i.getRule(e),{ruleScanner:l,findOptions:u}=ej(a,e,i.endRule,r,n===o),c=l.findNextMatchSync(t,n,u);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}s(Gle,"matchRule");function Zle(e,t,r,n,i,o,a){let l=Number.MAX_VALUE,u=null,c,h=0;const f=o.contentNameScopesList.getScopeNames();for(let v=0,m=e.length;v<m;v++){const w=e[v];if(!w.matcher(f))continue;const _=t.getRule(w.ruleId),{ruleScanner:A,findOptions:M}=ej(_,t,null,n,i===a),I=A.findNextMatchSync(r,i,M);if(!I)continue;const R=I.captureIndices[0].start;if(!(R>=l)&&(l=R,u=I.captureIndices,c=I.ruleId,h=w.priority,l===i))break}return u?{priorityMatch:h===-1,captureIndices:u,matchedRuleId:c}:null}s(Zle,"matchInjections");function ej(e,t,r,n,i){return{ruleScanner:e.compileAG(t,r,n,i),findOptions:0}}s(ej,"prepareRuleSearch");function Jle(e,t,r,n,i){return{ruleScanner:e.compileWhileAG(t,r,n,i),findOptions:0}}s(Jle,"prepareRuleWhileSearch");function Yu(e,t,r,n,i,o,a){if(o.length===0)return;const l=t.content,u=Math.min(o.length,a.length),c=[],h=a[0].end;for(let f=0;f<u;f++){const v=o[f];if(v===null)continue;const m=a[f];if(m.length===0)continue;if(m.start>h)break;for(;c.length>0&&c[c.length-1].endPos<=m.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,m.start):i.produce(n,m.start),v.retokenizeCapturedWithRuleId){const _=v.getName(l,a),A=n.contentNameScopesList.pushAttributed(_,e),M=v.getContentName(l,a),I=A.pushAttributed(M,e),R=n.push(v.retokenizeCapturedWithRuleId,m.start,-1,!1,null,A,I),L=e.createOnigString(l.substring(0,m.end));YR(e,L,r&&m.start===0,m.start,R,i,!1,0),WR(L);continue}const w=v.getName(l,a);if(w!==null){const A=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(w,e);c.push(new Wle(A,m.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}s(Yu,"handleCaptures");var Wle=class{static{s(this,"LocalStackElement")}scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function Qle(e,t,r,n,i,o,a,l){return new Kle(e,t,r,n,i,o,a,l)}s(Qle,"createGrammar");function d_(e,t,r,n,i){const o=Zh(t,Qh),a=KR.getCompiledRuleId(r,n,i.repository);for(const l of o)e.push({debugSelector:t,matcher:l.matcher,ruleId:a,grammar:i,priority:l.priority})}s(d_,"collectInjections");function Qh(e,t){if(t.length<e.length)return!1;let r=0;return e.every(n=>{for(let i=r;i<t.length;i++)if(Xle(t[i],n))return r=i+1,!0;return!1})}s(Qh,"nameMatcher");function Xle(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&e[r]==="."}s(Xle,"scopesAreMatching");var Kle=class{static{s(this,"Grammar")}constructor(e,t,r,n,i,o,a,l){if(this._rootScopeName=e,this.balancedBracketSelectors=o,this._onigLib=l,this._basicScopeAttributesProvider=new Fle(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=f_(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const u of Object.keys(i)){const c=Zh(u,Qh);for(const h of c)this._tokenTypeMatchers.push({matcher:h.matcher,type:i[u]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:s(i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),"lookup"),injections:s(i=>this._grammarRepository.injections(i),"injections")},t=[],r=this._rootScopeName,n=e.lookup(r);if(n){const i=n.injections;if(i)for(let a in i)d_(t,a,i[a],this,n);const o=this._grammarRepository.injections(r);o&&o.forEach(a=>{const l=this.getExternalGrammar(a);if(l){const u=l.injectionSelector;u&&d_(t,u,l,this,l)}})}return t.sort((i,o)=>i.priority-o.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=f_(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){const n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){this._rootId===-1&&(this._rootId=KR.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!t||t===tb.NULL){i=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),h=this.themeProvider.getDefaults(),f=Gl.set(0,c.languageId,c.tokenType,null,h.fontStyle,h.foregroundId,h.backgroundId),v=this.getRule(this._rootId).getName(null,null);let m;v?m=cc.createRootAndLookUpScopeName(v,f,this):m=cc.createRoot("unknown",f),t=new tb(null,this._rootId,-1,-1,!1,null,m,m)}else i=!1,t.reset();e=e+`
`;const o=this.createOnigString(e),a=o.content.length,l=new Yle(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),u=YR(this,o,i,0,t,l,!0,n);return WR(o),{lineLength:a,lineTokens:l,ruleStack:u.stack,stoppedEarly:u.stoppedEarly}}};function f_(e,t){return e=gle(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}s(f_,"initGrammar");var cc=class os{static{s(this,"_AttributedScopeStack")}constructor(t,r,n){this.parent=t,this.scopePath=r,this.tokenAttributes=n}static fromExtension(t,r){let n=t,i=t?.scopePath??null;for(const o of r)i=a1.push(i,o.scopeNames),n=new os(n,i,o.encodedTokenAttributes);return n}static createRoot(t,r){return new os(null,new a1(null,t),r)}static createRootAndLookUpScopeName(t,r,n){const i=n.getMetadataForScope(t),o=new a1(null,t),a=n.themeProvider.themeMatch(o),l=os.mergeAttributes(r,i,a);return new os(null,o,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return os.equals(this,t)}static equals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.scopeName!==r.scopeName||t.tokenAttributes!==r.tokenAttributes)return!1;t=t.parent,r=r.parent}while(!0)}static mergeAttributes(t,r,n){let i=-1,o=0,a=0;return n!==null&&(i=n.fontStyle,o=n.foregroundId,a=n.backgroundId),Gl.set(t,r.languageId,r.tokenType,null,i,o,a)}pushAttributed(t,r){if(t===null)return this;if(t.indexOf(" ")===-1)return os._pushAttributed(this,t,r);const n=t.split(/ /g);let i=this;for(const o of n)i=os._pushAttributed(i,o,r);return i}static _pushAttributed(t,r,n){const i=n.getMetadataForScope(r),o=t.scopePath.push(r),a=n.themeProvider.themeMatch(o),l=os.mergeAttributes(t.tokenAttributes,i,a);return new os(t,o,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){const r=[];let n=this;for(;n&&n!==t;)r.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===t?r.reverse():void 0}},tb=class ho{static{s(this,"_StateStackImpl")}constructor(t,r,n,i,o,a,l,u){this.parent=t,this.ruleId=r,this.beginRuleCapturedEOL=o,this.endRule=a,this.nameScopesList=l,this.contentNameScopesList=u,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new ho(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return t===null?!1:ho._equals(this,t)}static _equals(t,r){return t===r?!0:this._structuralEquals(t,r)?cc.equals(t.contentNameScopesList,r.contentNameScopesList):!1}static _structuralEquals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.depth!==r.depth||t.ruleId!==r.ruleId||t.endRule!==r.endRule)return!1;t=t.parent,r=r.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){ho._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,n,i,o,a,l){return new ho(this,t,r,n,i,o,a,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,r){return this.parent&&(r=this.parent._writeString(t,r)),t[r++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,r}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new ho(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let r=this;for(;r&&r._enterPos===t._enterPos;){if(r.ruleId===t.ruleId)return!0;r=r.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,r){const n=cc.fromExtension(t?.nameScopesList??null,r.nameScopesList);return new ho(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,n,cc.fromExtension(n,r.contentNameScopesList))}},qle=class{static{s(this,"BalancedBracketSelectors")}balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):Zh(r,Qh).map(n=>n.matcher)),this.unbalancedBracketScopes=t.flatMap(r=>Zh(r,Qh).map(n=>n.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},Yle=class{static{s(this,"LineTokens")}constructor(e,t,r,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=e?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=e?.getScopeNames()??[];for(const a of this._tokenTypeOverrides)a.matcher(o)&&(n=Gl.set(n,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(o))}if(i&&(n=Gl.set(n,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=t;return}const r=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let n=0,i=this._binaryTokens.length;n<i;n++)r[n]=this._binaryTokens[n];return r}},eue=class{static{s(this,"SyncRegistry")}constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,n,i){if(!this._grammars.has(e)){let o=this._rawGrammars.get(e);if(!o)return null;this._grammars.set(e,Qle(e,o,t,r,n,i,this,this._onigLib))}return this._grammars.get(e)}},tue=class{static{s(this,"Registry")}_options;_syncRegistry;_ensureGrammarCache;constructor(t){this._options=t,this._syncRegistry=new eue(Gh.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,r){this._syncRegistry.setTheme(Gh.createFromRawTheme(t,r))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,r,n){return this.loadGrammarWithConfiguration(t,r,{embeddedLanguages:n})}loadGrammarWithConfiguration(t,r,n){return this._loadGrammar(t,r,n.embeddedLanguages,n.tokenTypes,new qle(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,r,n,i,o){const a=new Mle(this._syncRegistry,t);for(;a.Q.length>0;)a.Q.map(l=>this._loadSingleGrammar(l.scopeName)),a.processQueue();return this._grammarForScopeName(t,r,n,i,o)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const r=this._options.loadGrammar(t);if(r){const n=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(r,n)}}addGrammar(t,r=[],n=0,i=null){return this._syncRegistry.addGrammar(t,r),this._grammarForScopeName(t.scopeName,n,i)}_grammarForScopeName(t,r=0,n=null,i=null,o=null){return this._syncRegistry.grammarForScopeName(t,r,n,i,o)}},rb=tb.NULL;const rue=/["&'<>`]/g,nue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iue=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,sue=/[|\\{}()[\]^$+*?.]/g,h_=new WeakMap;function aue(e,t){if(e=e.replace(t.subset?oue(t.subset):rue,n),t.subset||t.escapeOnly)return e;return e.replace(nue,r).replace(iue,n);function r(i,o,a){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(o+2),t)}function n(i,o,a){return t.format(i.charCodeAt(0),a.charCodeAt(o+1),t)}}s(aue,"core");function oue(e){let t=h_.get(e);return t||(t=lue(e),h_.set(e,t)),t}s(oue,"charactersToExpressionCached");function lue(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(sue,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}s(lue,"charactersToExpression");const uue=/[\dA-Fa-f]/;function cue(e,t,r){const n="&#x"+e.toString(16).toUpperCase();return r&&t&&!uue.test(String.fromCharCode(t))?n:n+";"}s(cue,"toHexadecimal");const due=/\d/;function fue(e,t,r){const n="&#"+String(e);return r&&t&&!due.test(String.fromCharCode(t))?n:n+";"}s(fue,"toDecimal");const hue=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],l1={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},pue=["cent","copy","divide","gt","lt","not","para","times"],tj={}.hasOwnProperty,nb={};let _f;for(_f in l1)tj.call(l1,_f)&&(nb[l1[_f]]=_f);const mue=/[^\dA-Za-z]/;function gue(e,t,r,n){const i=String.fromCharCode(e);if(tj.call(nb,i)){const o=nb[i],a="&"+o;return r&&hue.includes(o)&&!pue.includes(o)&&(!n||t&&t!==61&&mue.test(String.fromCharCode(t)))?a:a+";"}return""}s(gue,"toNamed");function vue(e,t,r){let n=cue(e,t,r.omitOptionalSemicolons),i;if((r.useNamedReferences||r.useShortestReferences)&&(i=gue(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!i)&&r.useShortestReferences){const o=fue(e,t,r.omitOptionalSemicolons);o.length<n.length&&(n=o)}return i&&(!r.useShortestReferences||i.length<n.length)?i:n}s(vue,"formatSmart");function Ol(e,t){return aue(e,Object.assign({format:vue},t))}s(Ol,"stringifyEntities");const bue=/^>|^->|<!--|-->|--!>|<!-$/g,yue=[">"],wue=["<",">"];function xue(e,t,r,n){return n.settings.bogusComments?"<?"+Ol(e.value,Object.assign({},n.settings.characterReferences,{subset:yue}))+">":"<!--"+e.value.replace(bue,i)+"-->";function i(o){return Ol(o,Object.assign({},n.settings.characterReferences,{subset:wue}))}}s(xue,"comment");function _ue(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}s(_ue,"doctype");const gn=nj(1),rj=nj(-1),Eue=[];function nj(e){return t;function t(r,n,i){const o=r?r.children:Eue;let a=(n||0)+e,l=o[a];if(!i)for(;l&&Ab(l);)a+=e,l=o[a];return l}}s(nj,"siblings");const Sue={}.hasOwnProperty;function ij(e){return t;function t(r,n,i){return Sue.call(e,r.tagName)&&e[r.tagName](r,n,i)}}s(ij,"omission");const a6=ij({body:Tue,caption:u1,colgroup:u1,dd:Mue,dt:Cue,head:u1,html:kue,li:Nue,optgroup:Iue,option:Oue,p:Aue,rp:p_,rt:p_,tbody:jue,td:m_,tfoot:Lue,th:m_,thead:Rue,tr:Pue});function u1(e,t,r){const n=gn(r,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Ab(n.value.charAt(0)))}s(u1,"headOrColgroupOrCaption");function kue(e,t,r){const n=gn(r,t);return!n||n.type!=="comment"}s(kue,"html$1");function Tue(e,t,r){const n=gn(r,t);return!n||n.type!=="comment"}s(Tue,"body$1");function Aue(e,t,r){const n=gn(r,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}s(Aue,"p");function Nue(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&n.tagName==="li"}s(Nue,"li");function Cue(e,t,r){const n=gn(r,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}s(Cue,"dt$1");function Mue(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}s(Mue,"dd");function p_(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}s(p_,"rubyElement");function Iue(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&n.tagName==="optgroup"}s(Iue,"optgroup");function Oue(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}s(Oue,"option");function Rue(e,t,r){const n=gn(r,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}s(Rue,"thead");function jue(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}s(jue,"tbody$1");function Lue(e,t,r){return!gn(r,t)}s(Lue,"tfoot");function Pue(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&n.tagName==="tr"}s(Pue,"tr");function m_(e,t,r){const n=gn(r,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}s(m_,"cells");const Due=ij({body:Uue,colgroup:Fue,head:zue,html:Bue,tbody:$ue});function Bue(e){const t=gn(e,-1);return!t||t.type!=="comment"}s(Bue,"html");function zue(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const r=e.children[0];return!r||r.type==="element"}s(zue,"head");function Uue(e){const t=gn(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Ab(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}s(Uue,"body");function Fue(e,t,r){const n=rj(r,t),i=gn(e,-1,!0);return r&&n&&n.type==="element"&&n.tagName==="colgroup"&&a6(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}s(Fue,"colgroup");function $ue(e,t,r){const n=rj(r,t),i=gn(e,-1);return r&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&a6(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}s($ue,"tbody");const Ef={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Hue(e,t,r,n){const i=n.schema,o=i.space==="svg"?!1:n.settings.omitOptionalTags;let a=i.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const l=[];let u;i.space==="html"&&e.tagName==="svg"&&(n.schema=td);const c=Vue(n,e.properties),h=n.all(i.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=i,h&&(a=!1),(c||!o||!Due(e,t,r))&&(l.push("<",e.tagName,c?" "+c:""),a&&(i.space==="svg"||n.settings.closeSelfClosing)&&(u=c.charAt(c.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(h),!a&&(!o||!a6(e,t,r))&&l.push("</"+e.tagName+">"),l.join("")}s(Hue,"element");function Vue(e,t){const r=[];let n=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const o=Gue(e,i,t[i]);o&&r.push(o)}}for(;++n<r.length;){const o=e.settings.tightAttributes?r[n].charAt(r[n].length-1):void 0;n!==r.length-1&&o!=='"'&&o!=="'"&&(r[n]+=" ")}return r.join("")}s(Vue,"serializeAttributes");function Gue(e,t,r){const n=Eb(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let a=e.quote,l;if(n.overloadedBoolean&&(r===n.attribute||r==="")?r=!0:(n.boolean||n.overloadedBoolean)&&(typeof r!="string"||r===n.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const u=Ol(n.attribute,Object.assign({},e.settings.characterReferences,{subset:Ef.name[i][o]}));return r===!0||(r=Array.isArray(r)?(n.commaSeparated?l7:u7)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?u:(e.settings.preferUnquoted&&(l=Ol(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Ef.unquoted[i][o]}))),l!==r&&(e.settings.quoteSmart&&Hh(r,a)>Hh(r,e.alternative)&&(a=e.alternative),l=a+Ol(r,Object.assign({},e.settings.characterReferences,{subset:(a==="'"?Ef.single:Ef.double)[i][o],attribute:!0}))+a),u+(l&&"="+l))}s(Gue,"serializeAttribute");const Zue=["<","&"];function sj(e,t,r,n){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:Ol(e.value,Object.assign({},n.settings.characterReferences,{subset:Zue}))}s(sj,"text");function Jue(e,t,r,n){return n.settings.allowDangerousHtml?e.value:sj(e,t,r,n)}s(Jue,"raw");function Wue(e,t,r,n){return n.all(e)}s(Wue,"root");const Que=X4("type",{invalid:Xue,unknown:Kue,handlers:{comment:xue,doctype:_ue,element:Hue,raw:Jue,root:Wue,text:sj}});function Xue(e){throw new Error("Expected node, not `"+e+"`")}s(Xue,"invalid");function Kue(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}s(Kue,"unknown");const que={},Yue={},ece=[];function tce(e,t){const r=t||que,n=r.quote||'"',i=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:rce,all:nce,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||BO,characterReferences:r.characterReferences||Yue,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?td:m0,quote:n,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}s(tce,"toHtml");function rce(e,t,r){return Que(e,t,r,this)}s(rce,"one");function nce(e){const t=[],r=e&&e.children||ece;let n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}s(nce,"all");function Xh(e,t){const r=typeof e=="string"?{}:{...e.colorReplacements},n=typeof e=="string"?e:e.name;for(const[i,o]of Object.entries(t?.colorReplacements||{}))typeof o=="string"?r[i]=o:i===n&&Object.assign(r,o);return r}s(Xh,"resolveColorReplacements");function La(e,t){return e&&(t?.[e?.toLowerCase()]||e)}s(La,"applyColorReplacements");function ice(e){return Array.isArray(e)?e:[e]}s(ice,"toArray");async function aj(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}s(aj,"normalizeGetter");function o6(e){return!e||["plaintext","txt","text","plain"].includes(e)}s(o6,"isPlainLang");function oj(e){return e==="ansi"||o6(e)}s(oj,"isSpecialLang");function l6(e){return e==="none"}s(l6,"isNoneTheme");function lj(e){return l6(e)}s(lj,"isSpecialTheme");function uj(e,t){if(!t)return e;e.properties||={},e.properties.class||=[],typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const n of r)n&&!e.properties.class.includes(n)&&e.properties.class.push(n);return e}s(uj,"addClassToHast");function Ip(e,t=!1){const r=e.split(/(\r?\n)/g);let n=0;const i=[];for(let o=0;o<r.length;o+=2){const a=t?r[o]+(r[o+1]||""):r[o];i.push([a,n]),n+=r[o].length,n+=r[o+1]?.length||0}return i}s(Ip,"splitLines");function sce(e){const t=Ip(e,!0).map(([i])=>i);function r(i){if(i===e.length)return{line:t.length-1,character:t[t.length-1].length};let o=i,a=0;for(const l of t){if(o<l.length)break;o-=l.length,a++}return{line:a,character:o}}s(r,"indexToPos");function n(i,o){let a=0;for(let l=0;l<i;l++)a+=t[l].length;return a+=o,a}return s(n,"posToIndex"),{lines:t,indexToPos:r,posToIndex:n}}s(sce,"createPositionConverter");const u6="light-dark()",ace=["color","background-color"];function oce(e,t){let r=0;const n=[];for(const i of t)i>r&&n.push({...e,content:e.content.slice(r,i),offset:e.offset+r}),r=i;return r<e.content.length&&n.push({...e,content:e.content.slice(r),offset:e.offset+r}),n}s(oce,"splitToken");function lce(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((n,i)=>n-i);return r.length?e.map(n=>n.flatMap(i=>{const o=r.filter(a=>i.offset<a&&a<i.offset+i.content.length).map(a=>a-i.offset).sort((a,l)=>a-l);return o.length?oce(i,o):i})):e}s(lce,"splitTokens");function uce(e,t,r,n,i="css-vars"){const o={content:e.content,explanation:e.explanation,offset:e.offset},a=t.map(h=>Kh(e.variants[h])),l=new Set(a.flatMap(h=>Object.keys(h))),u={},c=s((h,f)=>{const v=f==="color"?"":f==="background-color"?"-bg":`-${f}`;return r+t[h]+(f==="color"?"":v)},"varKey");return a.forEach((h,f)=>{for(const v of l){const m=h[v]||"inherit";if(f===0&&n&&ace.includes(v))if(n===u6&&a.length>1){const w=t.findIndex(I=>I==="light"),_=t.findIndex(I=>I==="dark");if(w===-1||_===-1)throw new an('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const A=a[w][v]||"inherit",M=a[_][v]||"inherit";u[v]=`light-dark(${A}, ${M})`,i==="css-vars"&&(u[c(f,v)]=m)}else u[v]=m;else i==="css-vars"&&(u[c(f,v)]=m)}}),o.htmlStyle=u,o}s(uce,"flatTokenVariants");function Kh(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&On.Italic&&(t["font-style"]="italic"),e.fontStyle&On.Bold&&(t["font-weight"]="bold");const r=[];e.fontStyle&On.Underline&&r.push("underline"),e.fontStyle&On.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}s(Kh,"getTokenStyleObject");function ib(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r}`).join(";")}s(ib,"stringifyTokenStyle");const cj=new WeakMap;function Op(e,t){cj.set(e,t)}s(Op,"setLastGrammarStateToMap");function Kc(e){return cj.get(e)}s(Kc,"getLastGrammarStateFromMap");class lu{static{s(this,"GrammarState")}_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,r){return new lu(Object.fromEntries(ice(r).map(n=>[n,rb])),t)}constructor(...t){if(t.length===2){const[r,n]=t;this.lang=n,this._stacks=r}else{const[r,n,i]=t;this.lang=n,this._stacks={[i]:r}}}getInternalStack(t=this.theme){return this._stacks[t]}getScopes(t=this.theme){return cce(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function cce(e){const t=[],r=new Set;function n(i){if(r.has(i))return;r.add(i);const o=i?.nameScopesList?.scopeName;o&&t.push(o),i.parent&&n(i.parent)}return s(n,"pushScope"),n(e),t}s(cce,"getScopes");function dce(e,t){if(!(e instanceof lu))throw new an("Invalid grammar state");return e.getInternalStack(t)}s(dce,"getGrammarStack");function fce(){const e=new WeakMap;function t(r){if(!e.has(r.meta)){let n=s(function(a){if(typeof a=="number"){if(a<0||a>r.source.length)throw new an(`Invalid decoration offset: ${a}. Code length: ${r.source.length}`);return{...i.indexToPos(a),offset:a}}else{const l=i.lines[a.line];if(l===void 0)throw new an(`Invalid decoration position ${JSON.stringify(a)}. Lines length: ${i.lines.length}`);let u=a.character;if(u<0&&(u=l.length+u),u<0||u>l.length)throw new an(`Invalid decoration position ${JSON.stringify(a)}. Line ${a.line} length: ${l.length}`);return{...a,character:u,offset:i.posToIndex(a.line,u)}}},"normalizePosition");const i=sce(r.source),o=(r.options.decorations||[]).map(a=>({...a,start:n(a.start),end:n(a.end)}));hce(o),e.set(r.meta,{decorations:o,converter:i,source:r.source})}return e.get(r.meta)}return s(t,"getContext"),{name:"shiki:decorations",tokens(r){if(!this.options.decorations?.length)return;const i=t(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return lce(r,i)},code(r){if(!this.options.decorations?.length)return;const n=t(this),i=Array.from(r.children).filter(h=>h.type==="element"&&h.tagName==="span");if(i.length!==n.converter.lines.length)throw new an(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${n.converter.lines.length}). Failed to apply decorations.`);function o(h,f,v,m){const w=i[h];let _="",A=-1,M=-1;if(f===0&&(A=0),v===0&&(M=0),v===Number.POSITIVE_INFINITY&&(M=w.children.length),A===-1||M===-1)for(let R=0;R<w.children.length;R++)_+=dj(w.children[R]),A===-1&&_.length===f&&(A=R+1),M===-1&&_.length===v&&(M=R+1);if(A===-1)throw new an(`Failed to find start index for decoration ${JSON.stringify(m.start)}`);if(M===-1)throw new an(`Failed to find end index for decoration ${JSON.stringify(m.end)}`);const I=w.children.slice(A,M);if(!m.alwaysWrap&&I.length===w.children.length)l(w,m,"line");else if(!m.alwaysWrap&&I.length===1&&I[0].type==="element")l(I[0],m,"token");else{const R={type:"element",tagName:"span",properties:{},children:I};l(R,m,"wrapper"),w.children.splice(A,I.length,R)}}s(o,"applyLineSection");function a(h,f){i[h]=l(i[h],f,"line")}s(a,"applyLine");function l(h,f,v){const m=f.properties||{},w=f.transform||(_=>_);return h.tagName=f.tagName||"span",h.properties={...h.properties,...m,class:h.properties.class},f.properties?.class&&uj(h,f.properties.class),h=w(h,v)||h,h}s(l,"applyDecoration");const u=[],c=n.decorations.sort((h,f)=>f.start.offset-h.start.offset||h.end.offset-f.end.offset);for(const h of c){const{start:f,end:v}=h;if(f.line===v.line)o(f.line,f.character,v.character,h);else if(f.line<v.line){o(f.line,f.character,Number.POSITIVE_INFINITY,h);for(let m=f.line+1;m<v.line;m++)u.unshift(()=>a(m,h));o(v.line,0,v.character,h)}}u.forEach(h=>h())}}}s(fce,"transformerDecorations");function hce(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new an(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let n=t+1;n<e.length;n++){const i=e[n],o=r.start.offset<=i.start.offset&&i.start.offset<r.end.offset,a=r.start.offset<i.end.offset&&i.end.offset<=r.end.offset,l=i.start.offset<=r.start.offset&&r.start.offset<i.end.offset,u=i.start.offset<r.end.offset&&r.end.offset<=i.end.offset;if(o||a||l||u){if(o&&a||l&&u||l&&r.start.offset===r.end.offset||a&&i.start.offset===i.end.offset)continue;throw new an(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}s(hce,"verifyIntersections");function dj(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(dj).join(""):""}s(dj,"stringify");const pce=[fce()];function qh(e){const t=mce(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...pce]}s(qh,"getTransformers");function mce(e){const t=[],r=[],n=[];for(const i of e)switch(i.enforce){case"pre":t.push(i);break;case"post":r.push(i);break;default:n.push(i)}return{pre:t,post:r,normal:n}}s(mce,"sortTransformersByEnforcement");var bo=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],c1={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function gce(e,t){const r=e.indexOf("\x1B",t);if(r!==-1&&e[r+1]==="["){const n=e.indexOf("m",r);if(n!==-1)return{sequence:e.substring(r+2,n).split(";"),startPosition:r,position:n+1}}return{position:e.length}}s(gce,"findSequence");function g_(e){const t=e.shift();if(t==="2"){const r=e.splice(0,3).map(n=>Number.parseInt(n));return r.length!==3||r.some(n=>Number.isNaN(n))?void 0:{type:"rgb",rgb:r}}else if(t==="5"){const r=e.shift();if(r)return{type:"table",index:Number(r)}}}s(g_,"parseColor");function vce(e){const t=[];for(;e.length>0;){const r=e.shift();if(!r)continue;const n=Number.parseInt(r);if(!Number.isNaN(n))if(n===0)t.push({type:"resetAll"});else if(n<=9)c1[n]&&t.push({type:"setDecoration",value:c1[n]});else if(n<=29){const i=c1[n-20];i&&(t.push({type:"resetDecoration",value:i}),i==="dim"&&t.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)t.push({type:"setForegroundColor",value:{type:"named",name:bo[n-30]}});else if(n===38){const i=g_(e);i&&t.push({type:"setForegroundColor",value:i})}else if(n===39)t.push({type:"resetForegroundColor"});else if(n<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:bo[n-40]}});else if(n===48){const i=g_(e);i&&t.push({type:"setBackgroundColor",value:i})}else n===49?t.push({type:"resetBackgroundColor"}):n===53?t.push({type:"setDecoration",value:"overline"}):n===55?t.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?t.push({type:"setForegroundColor",value:{type:"named",name:bo[n-90+8]}}):n>=100&&n<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:bo[n-100+8]}})}return t}s(vce,"parseSequence");function bce(){let e=null,t=null,r=new Set;return{parse(n){const i=[];let o=0;do{const a=gce(n,o),l=a.sequence?n.substring(o,a.startPosition):n.substring(o);if(l.length>0&&i.push({value:l,foreground:e,background:t,decorations:new Set(r)}),a.sequence){const u=vce(a.sequence);for(const c of u)c.type==="resetAll"?(e=null,t=null,r.clear()):c.type==="resetForegroundColor"?e=null:c.type==="resetBackgroundColor"?t=null:c.type==="resetDecoration"&&r.delete(c.value);for(const c of u)c.type==="setForegroundColor"?e=c.value:c.type==="setBackgroundColor"?t=c.value:c.type==="setDecoration"&&r.add(c.value)}o=a.position}while(o<n.length);return i}}}s(bce,"createAnsiSequenceParser");var yce={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function wce(e=yce){function t(l){return e[l]}s(t,"namedColor");function r(l){return`#${l.map(u=>Math.max(0,Math.min(u,255)).toString(16).padStart(2,"0")).join("")}`}s(r,"rgbColor");let n;function i(){if(n)return n;n=[];for(let c=0;c<bo.length;c++)n.push(t(bo[c]));let l=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let h=0;h<6;h++)for(let f=0;f<6;f++)n.push(r([l[c],l[h],l[f]]));let u=8;for(let c=0;c<24;c++,u+=10)n.push(r([u,u,u]));return n}s(i,"getColorTable");function o(l){return i()[l]}s(o,"tableColor");function a(l){switch(l.type){case"named":return t(l.name);case"rgb":return r(l.rgb);case"table":return o(l.index)}}return s(a,"value"),{value:a}}s(wce,"createColorPalette");function xce(e,t,r){const n=Xh(e,r),i=Ip(t),o=wce(Object.fromEntries(bo.map(l=>[l,e.colors?.[`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`]]))),a=bce();return i.map(l=>a.parse(l[0]).map(u=>{let c,h;u.decorations.has("reverse")?(c=u.background?o.value(u.background):e.bg,h=u.foreground?o.value(u.foreground):e.fg):(c=u.foreground?o.value(u.foreground):e.fg,h=u.background?o.value(u.background):void 0),c=La(c,n),h=La(h,n),u.decorations.has("dim")&&(c=_ce(c));let f=On.None;return u.decorations.has("bold")&&(f|=On.Bold),u.decorations.has("italic")&&(f|=On.Italic),u.decorations.has("underline")&&(f|=On.Underline),u.decorations.has("strikethrough")&&(f|=On.Strikethrough),{content:u.value,offset:l[1],color:c,bgColor:h,fontStyle:f}}))}s(xce,"tokenizeAnsiWithTheme");function _ce(e){const t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(t)if(t[3]){const n=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${n}`}else return t[2]?`#${t[1]}${t[2]}80`:`#${Array.from(t[1]).map(n=>`${n}${n}`).join("")}80`;const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}s(_ce,"dimColor");function c6(e,t,r={}){const{lang:n="text",theme:i=e.getLoadedThemes()[0]}=r;if(o6(n)||l6(i))return Ip(t).map(u=>[{content:u[0],offset:u[1]}]);const{theme:o,colorMap:a}=e.setTheme(i);if(n==="ansi")return xce(o,t,r);const l=e.getLanguage(n);if(r.grammarState){if(r.grammarState.lang!==l.name)throw new an(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${l.name}"`);if(!r.grammarState.themes.includes(o.name))throw new an(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${o.name}"`)}return Sce(t,l,o,a,r)}s(c6,"codeToTokensBase");function Ece(...e){if(e.length===2)return Kc(e[1]);const[t,r,n={}]=e,{lang:i="text",theme:o=t.getLoadedThemes()[0]}=n;if(o6(i)||l6(o))throw new an("Plain language does not have grammar state");if(i==="ansi")throw new an("ANSI language does not have grammar state");const{theme:a,colorMap:l}=t.setTheme(o),u=t.getLanguage(i);return new lu(Yh(r,u,a,l,n).stateStack,u.name,a.name)}s(Ece,"getLastGrammarState");function Sce(e,t,r,n,i){const o=Yh(e,t,r,n,i),a=new lu(Yh(e,t,r,n,i).stateStack,t.name,r.name);return Op(o.tokens,a),o.tokens}s(Sce,"tokenizeWithTheme");function Yh(e,t,r,n,i){const o=Xh(r,i),{tokenizeMaxLineLength:a=0,tokenizeTimeLimit:l=500}=i,u=Ip(e);let c=i.grammarState?dce(i.grammarState,r.name)??rb:i.grammarContextCode!=null?Yh(i.grammarContextCode,t,r,n,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:rb,h=[];const f=[];for(let v=0,m=u.length;v<m;v++){const[w,_]=u[v];if(w===""){h=[],f.push([]);continue}if(a>0&&w.length>=a){h=[],f.push([{content:w,offset:_,color:"",fontStyle:0}]);continue}let A,M,I;i.includeExplanation&&(A=t.tokenizeLine(w,c,l),M=A.tokens,I=0);const R=t.tokenizeLine2(w,c,l),L=R.tokens.length/2;for(let P=0;P<L;P++){const F=R.tokens[2*P],Z=P+1<L?R.tokens[2*P+2]:w.length;if(F===Z)continue;const G=R.tokens[2*P+1],se=La(n[Gl.getForeground(G)],o),U=Gl.getFontStyle(G),X={content:w.substring(F,Z),offset:_+F,color:se,fontStyle:U};if(i.includeExplanation){const d=[];if(i.includeExplanation!=="scopeName")for(const g of r.settings){let x;switch(typeof g.scope){case"string":x=g.scope.split(/,/).map(E=>E.trim());break;case"object":x=g.scope;break;default:continue}d.push({settings:g,selectors:x.map(E=>E.split(/ /))})}X.explanation=[];let y=0;for(;F+y<Z;){const g=M[I],x=w.substring(g.startIndex,g.endIndex);y+=x.length,X.explanation.push({content:x,scopes:i.includeExplanation==="scopeName"?kce(g.scopes):Tce(d,g.scopes)}),I+=1}}h.push(X)}f.push(h),h=[],c=R.ruleStack}return{tokens:f,stateStack:c}}s(Yh,"_tokenizeWithTheme");function kce(e){return e.map(t=>({scopeName:t}))}s(kce,"explainThemeScopesNameOnly");function Tce(e,t){const r=[];for(let n=0,i=t.length;n<i;n++){const o=t[n];r[n]={scopeName:o,themeMatches:Nce(e,o,t.slice(0,n))}}return r}s(Tce,"explainThemeScopesFull");function v_(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}s(v_,"matchesOne");function Ace(e,t,r){if(!v_(e[e.length-1],t))return!1;let n=e.length-2,i=r.length-1;for(;n>=0&&i>=0;)v_(e[n],r[i])&&(n-=1),i-=1;return n===-1}s(Ace,"matches");function Nce(e,t,r){const n=[];for(const{selectors:i,settings:o}of e)for(const a of i)if(Ace(a,t,r)){n.push(o);break}return n}s(Nce,"explainThemeScope");function fj(e,t,r){const n=Object.entries(r.themes).filter(u=>u[1]).map(u=>({color:u[0],theme:u[1]})),i=n.map(u=>{const c=c6(e,t,{...r,theme:u.theme}),h=Kc(c),f=typeof u.theme=="string"?u.theme:u.theme.name;return{tokens:c,state:h,theme:f}}),o=Cce(...i.map(u=>u.tokens)),a=o[0].map((u,c)=>u.map((h,f)=>{const v={content:h.content,variants:{},offset:h.offset};return"includeExplanation"in r&&r.includeExplanation&&(v.explanation=h.explanation),o.forEach((m,w)=>{const{content:_,explanation:A,offset:M,...I}=m[c][f];v.variants[n[w].color]=I}),v})),l=i[0].state?new lu(Object.fromEntries(i.map(u=>[u.theme,u.state?.getInternalStack(u.theme)])),i[0].state.lang):void 0;return l&&Op(a,l),a}s(fj,"codeToTokensWithThemes");function Cce(...e){const t=e.map(()=>[]),r=e.length;for(let n=0;n<e[0].length;n++){const i=e.map(u=>u[n]),o=t.map(()=>[]);t.forEach((u,c)=>u.push(o[c]));const a=i.map(()=>0),l=i.map(u=>u[0]);for(;l.every(u=>u);){const u=Math.min(...l.map(c=>c.content.length));for(let c=0;c<r;c++){const h=l[c];h.content.length===u?(o[c].push(h),a[c]+=1,l[c]=i[c][a[c]]):(o[c].push({...h,content:h.content.slice(0,u)}),l[c]={...h,content:h.content.slice(u),offset:h.offset+u})}}}return t}s(Cce,"syncThemesTokenization");function e0(e,t,r){let n,i,o,a,l,u;if("themes"in r){const{defaultColor:c="light",cssVariablePrefix:h="--shiki-",colorsRendering:f="css-vars"}=r,v=Object.entries(r.themes).filter(M=>M[1]).map(M=>({color:M[0],theme:M[1]})).sort((M,I)=>M.color===c?-1:I.color===c?1:0);if(v.length===0)throw new an("`themes` option must not be empty");const m=fj(e,t,r);if(u=Kc(m),c&&u6!==c&&!v.find(M=>M.color===c))throw new an(`\`themes\` option must contain the defaultColor key \`${c}\``);const w=v.map(M=>e.getTheme(M.theme)),_=v.map(M=>M.color);o=m.map(M=>M.map(I=>uce(I,_,h,c,f))),u&&Op(o,u);const A=v.map(M=>Xh(M.theme,r));i=b_(v,w,A,h,c,"fg",f),n=b_(v,w,A,h,c,"bg",f),a=`shiki-themes ${w.map(M=>M.name).join(" ")}`,l=c?void 0:[i,n].join(";")}else if("theme"in r){const c=Xh(r.theme,r);o=c6(e,t,r);const h=e.getTheme(r.theme);n=La(h.bg,c),i=La(h.fg,c),a=h.name,u=Kc(o)}else throw new an("Invalid options, either `theme` or `themes` must be provided");return{tokens:o,fg:i,bg:n,themeName:a,rootStyle:l,grammarState:u}}s(e0,"codeToTokens");function b_(e,t,r,n,i,o,a){return e.map((l,u)=>{const c=La(t[u][o],r[u])||"inherit",h=`${n+l.color}${o==="bg"?"-bg":""}:${c}`;if(u===0&&i){if(i===u6&&e.length>1){const f=e.findIndex(_=>_.color==="light"),v=e.findIndex(_=>_.color==="dark");if(f===-1||v===-1)throw new an('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const m=La(t[f][o],r[f])||"inherit",w=La(t[v][o],r[v])||"inherit";return`light-dark(${m}, ${w});${h}`}return c}return a==="css-vars"?h:null}).filter(l=>!!l).join(";")}s(b_,"mapThemeColors");function t0(e,t,r,n={meta:{},options:r,codeToHast:s((i,o)=>t0(e,i,o),"codeToHast"),codeToTokens:s((i,o)=>e0(e,i,o),"codeToTokens")}){let i=t;for(const w of qh(r))i=w.preprocess?.call(n,i,r)||i;let{tokens:o,fg:a,bg:l,themeName:u,rootStyle:c,grammarState:h}=e0(e,i,r);const{mergeWhitespaces:f=!0,mergeSameStyleTokens:v=!1}=r;f===!0?o=Ice(o):f==="never"&&(o=Oce(o)),v&&(o=Rce(o));const m={...n,get source(){return i}};for(const w of qh(r))o=w.tokens?.call(m,o)||o;return Mce(o,{...r,fg:a,bg:l,themeName:u,rootStyle:c},m,h)}s(t0,"codeToHast");function Mce(e,t,r,n=Kc(e)){const i=qh(t),o=[],a={type:"root",children:[]},{structure:l="classic",tabindex:u="0"}=t;let c={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...u!==!1&&u!=null?{tabindex:u.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([w])=>!w.startsWith("_")))},children:[]},h={type:"element",tagName:"code",properties:{},children:o};const f=[],v={...r,structure:l,addClassToHast:uj,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return a},get pre(){return c},get code(){return h},get lines(){return f}};if(e.forEach((w,_)=>{_&&(l==="inline"?a.children.push({type:"element",tagName:"br",properties:{},children:[]}):l==="classic"&&o.push({type:"text",value:`
`}));let A={type:"element",tagName:"span",properties:{class:"line"},children:[]},M=0;for(const I of w){let R={type:"element",tagName:"span",properties:{...I.htmlAttrs},children:[{type:"text",value:I.content}]};const L=ib(I.htmlStyle||Kh(I));L&&(R.properties.style=L);for(const P of i)R=P?.span?.call(v,R,_+1,M,A,I)||R;l==="inline"?a.children.push(R):l==="classic"&&A.children.push(R),M+=I.content.length}if(l==="classic"){for(const I of i)A=I?.line?.call(v,A,_+1)||A;f.push(A),o.push(A)}}),l==="classic"){for(const w of i)h=w?.code?.call(v,h)||h;c.children.push(h);for(const w of i)c=w?.pre?.call(v,c)||c;a.children.push(c)}let m=a;for(const w of i)m=w?.root?.call(v,m)||m;return n&&Op(m,n),m}s(Mce,"tokensToHast");function Ice(e){return e.map(t=>{const r=[];let n="",i=0;return t.forEach((o,a)=>{const u=!(o.fontStyle&&(o.fontStyle&On.Underline||o.fontStyle&On.Strikethrough));u&&o.content.match(/^\s+$/)&&t[a+1]?(i||(i=o.offset),n+=o.content):n?(u?r.push({...o,offset:i,content:n+o.content}):r.push({content:n,offset:i},o),i=0,n=""):r.push(o)}),r})}s(Ice,"mergeWhitespaceTokens");function Oce(e){return e.map(t=>t.flatMap(r=>{if(r.content.match(/^\s+$/))return r;const n=r.content.match(/^(\s*)(.*?)(\s*)$/);if(!n)return r;const[,i,o,a]=n;if(!i&&!a)return r;const l=[{...r,offset:r.offset+i.length,content:o}];return i&&l.unshift({content:i,offset:r.offset}),a&&l.push({content:a,offset:r.offset+i.length+o.length}),l}))}s(Oce,"splitWhitespaceTokens");function Rce(e){return e.map(t=>{const r=[];for(const n of t){if(r.length===0){r.push({...n});continue}const i=r[r.length-1],o=ib(i.htmlStyle||Kh(i)),a=ib(n.htmlStyle||Kh(n)),l=i.fontStyle&&(i.fontStyle&On.Underline||i.fontStyle&On.Strikethrough),u=n.fontStyle&&(n.fontStyle&On.Underline||n.fontStyle&On.Strikethrough);!l&&!u&&o===a?i.content+=n.content:r.push({...n})}return r})}s(Rce,"mergeAdjacentStyledTokens");const jce=tce;function Lce(e,t,r){const n={meta:{},options:r,codeToHast:s((o,a)=>t0(e,o,a),"codeToHast"),codeToTokens:s((o,a)=>e0(e,o,a),"codeToTokens")};let i=jce(t0(e,t,r,n));for(const o of qh(r))i=o.postprocess?.call(n,i,r)||i;return i}s(Lce,"codeToHtml");const y_={light:"#333333",dark:"#bbbbbb"},w_={light:"#fffffe",dark:"#1e1e1e"},x_="__shiki_resolved";function d6(e){if(e?.[x_])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||="dark",t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:r,fg:n}=t;if(!r||!n){const l=t.settings?t.settings.find(u=>!u.name&&!u.scope):void 0;l?.settings?.foreground&&(n=l.settings.foreground),l?.settings?.background&&(r=l.settings.background),!n&&t?.colors?.["editor.foreground"]&&(n=t.colors["editor.foreground"]),!r&&t?.colors?.["editor.background"]&&(r=t.colors["editor.background"]),n||(n=t.type==="light"?y_.light:y_.dark),r||(r=t.type==="light"?w_.light:w_.dark),t.fg=n,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let i=0;const o=new Map;function a(l){if(o.has(l))return o.get(l);i+=1;const u=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return t.colorReplacements?.[`#${u}`]?a(l):(o.set(l,u),u)}s(a,"getReplacementColor"),t.settings=t.settings.map(l=>{const u=l.settings?.foreground&&!l.settings.foreground.startsWith("#"),c=l.settings?.background&&!l.settings.background.startsWith("#");if(!u&&!c)return l;const h={...l,settings:{...l.settings}};if(u){const f=a(l.settings.foreground);t.colorReplacements[f]=l.settings.foreground,h.settings.foreground=f}if(c){const f=a(l.settings.background);t.colorReplacements[f]=l.settings.background,h.settings.background=f}return h});for(const l of Object.keys(t.colors||{}))if((l==="editor.foreground"||l==="editor.background"||l.startsWith("terminal.ansi"))&&!t.colors[l]?.startsWith("#")){const u=a(t.colors[l]);t.colorReplacements[u]=t.colors[l],t.colors[l]=u}return Object.defineProperty(t,x_,{enumerable:!1,writable:!1,value:!0}),t}s(d6,"normalizeTheme");async function hj(e){return Array.from(new Set((await Promise.all(e.filter(t=>!oj(t)).map(async t=>await aj(t).then(r=>Array.isArray(r)?r:[r])))).flat()))}s(hj,"resolveLangs");async function pj(e){return(await Promise.all(e.map(async r=>lj(r)?null:d6(await aj(r))))).filter(r=>!!r)}s(pj,"resolveThemes");let Pce=3;function Dce(e,t=3){t>Pce||console.trace(`[SHIKI DEPRECATE]: ${e}`)}s(Dce,"warnDeprecated");let kl=class extends Error{static{s(this,"ShikiError")}constructor(t){super(t),this.name="ShikiError"}};class Bce extends tue{static{s(this,"Registry")}constructor(t,r,n,i={}){super(t),this._resolver=t,this._themes=r,this._langs=n,this._alias=i,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(t){return typeof t=="string"?this._resolvedThemes.get(t):this.loadTheme(t)}loadTheme(t){const r=d6(t);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(t){let r=this._textmateThemeCache.get(t);r||(r=Gh.createFromRawTheme(t),this._textmateThemeCache.set(t,r)),this._syncRegistry.setTheme(r)}getGrammar(t){if(this._alias[t]){const r=new Set([t]);for(;this._alias[t];){if(t=this._alias[t],r.has(t))throw new kl(`Circular alias \`${Array.from(r).join(" -> ")} -> ${t}\``);r.add(t)}}return this._resolvedGrammars.get(t)}loadLanguage(t){if(this.getGrammar(t.name))return;const r=new Set([...this._langMap.values()].filter(o=>o.embeddedLangsLazy?.includes(t.name)));this._resolver.addLanguage(t);const n={balancedBracketSelectors:t.balancedBracketSelectors||["*"],unbalancedBracketSelectors:t.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(t.scopeName,t);const i=this.loadGrammarWithConfiguration(t.scopeName,1,n);if(i.name=t.name,this._resolvedGrammars.set(t.name,i),t.aliases&&t.aliases.forEach(o=>{this._alias[o]=t.name}),this._loadedLanguagesCache=null,r.size)for(const o of r)this._resolvedGrammars.delete(o.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(o.scopeName),this._syncRegistry?._grammars?.delete(o.scopeName),this.loadLanguage(this._langMap.get(o.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(t){for(const i of t)this.resolveEmbeddedLanguages(i);const r=Array.from(this._langGraph.entries()),n=r.filter(([i,o])=>!o);if(n.length){const i=r.filter(([o,a])=>a&&a.embeddedLangs?.some(l=>n.map(([u])=>u).includes(l))).filter(o=>!n.includes(o));throw new kl(`Missing languages ${n.map(([o])=>`\`${o}\``).join(", ")}, required by ${i.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[i,o]of r)this._resolver.addLanguage(o);for(const[i,o]of r)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(t){if(this._langMap.set(t.name,t),this._langGraph.set(t.name,t),t.embeddedLangs)for(const r of t.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class zce{static{s(this,"Resolver")}_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(t,r){this._onigLib={createOnigScanner:s(n=>t.createScanner(n),"createOnigScanner"),createOnigString:s(n=>t.createString(n),"createOnigString")},r.forEach(n=>this.addLanguage(n))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(r=>{this._langs.set(r,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(r=>{this._injections.get(r)||this._injections.set(r,[]),this._injections.get(r).push(t.scopeName)})}getInjections(t){const r=t.split(".");let n=[];for(let i=1;i<=r.length;i++){const o=r.slice(0,i).join(".");n=[...n,...this._injections.get(o)||[]]}return n}}let zu=0;function Uce(e){zu+=1,e.warnings!==!1&&zu>=10&&zu%10===0&&console.warn(`[Shiki] ${zu} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new kl("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),n=(e.themes||[]).flat(1).map(d6),i=new zce(e.engine,r),o=new Bce(i,n,r,e.langAlias);let a;function l(I){A();const R=o.getGrammar(typeof I=="string"?I:I.name);if(!R)throw new kl(`Language \`${I}\` not found, you may need to load it first`);return R}s(l,"getLanguage");function u(I){if(I==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};A();const R=o.getTheme(I);if(!R)throw new kl(`Theme \`${I}\` not found, you may need to load it first`);return R}s(u,"getTheme");function c(I){A();const R=u(I);a!==I&&(o.setTheme(R),a=I);const L=o.getColorMap();return{theme:R,colorMap:L}}s(c,"setTheme");function h(){return A(),o.getLoadedThemes()}s(h,"getLoadedThemes");function f(){return A(),o.getLoadedLanguages()}s(f,"getLoadedLanguages");function v(...I){A(),o.loadLanguages(I.flat(1))}s(v,"loadLanguageSync");async function m(...I){return v(await hj(I))}s(m,"loadLanguage");function w(...I){A();for(const R of I.flat(1))o.loadTheme(R)}s(w,"loadThemeSync");async function _(...I){return A(),w(await pj(I))}s(_,"loadTheme");function A(){if(t)throw new kl("Shiki instance has been disposed")}s(A,"ensureNotDisposed");function M(){t||(t=!0,o.dispose(),zu-=1)}return s(M,"dispose"),{setTheme:c,getTheme:u,getLanguage:l,getLoadedThemes:h,getLoadedLanguages:f,loadLanguage:m,loadLanguageSync:v,loadTheme:_,loadThemeSync:w,dispose:M,[Symbol.dispose]:M}}s(Uce,"createShikiInternalSync");async function Fce(e){e.engine||Dce("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,r,n]=await Promise.all([pj(e.themes||[]),hj(e.langs||[]),e.engine]);return Uce({...e,themes:t,langs:r,engine:n})}s(Fce,"createShikiInternal");async function $ce(e){const t=await Fce(e);return{getLastGrammarState:s((...r)=>Ece(t,...r),"getLastGrammarState"),codeToTokensBase:s((r,n)=>c6(t,r,n),"codeToTokensBase"),codeToTokensWithThemes:s((r,n)=>fj(t,r,n),"codeToTokensWithThemes"),codeToTokens:s((r,n)=>e0(t,r,n),"codeToTokens"),codeToHast:s((r,n)=>t0(t,r,n),"codeToHast"),codeToHtml:s((r,n)=>Lce(t,r,n),"codeToHtml"),getBundledLanguages:s(()=>({}),"getBundledLanguages"),getBundledThemes:s(()=>({}),"getBundledThemes"),...t,getInternalContext:s(()=>t,"getInternalContext")}}s($ce,"createHighlighterCore");function Hce(e){const t=e.langs,r=e.themes,n=e.engine;async function i(o){function a(f){if(typeof f=="string"){if(oj(f))return[];f=o.langAlias?.[f]||f;const v=t[f];if(!v)throw new an(`Language \`${f}\` is not included in this bundle. You may want to load it from external source.`);return v}return f}s(a,"resolveLang");function l(f){if(lj(f))return"none";if(typeof f=="string"){const v=r[f];if(!v)throw new an(`Theme \`${f}\` is not included in this bundle. You may want to load it from external source.`);return v}return f}s(l,"resolveTheme");const u=(o.themes??[]).map(f=>l(f)),c=(o.langs??[]).map(f=>a(f)),h=await $ce({engine:o.engine??n(),...o,themes:u,langs:c});return{...h,loadLanguage(...f){return h.loadLanguage(...f.map(a))},loadTheme(...f){return h.loadTheme(...f.map(l))},getBundledLanguages(){return t},getBundledThemes(){return r}}}return s(i,"createHighlighter"),i}s(Hce,"createdBundledHighlighter");const mj=[{id:"abap",name:"ABAP",import:s((()=>fe(()=>import("./abap-BdImnpbu.js"),[])),"import")},{id:"actionscript-3",name:"ActionScript",import:s((()=>fe(()=>import("./actionscript-3-CfeIJUat.js"),[])),"import")},{id:"ada",name:"Ada",import:s((()=>fe(()=>import("./ada-bCR0ucgS.js"),[])),"import")},{id:"angular-html",name:"Angular HTML",import:s((()=>fe(()=>import("./angular-html-CU67Zn6k.js").then(e=>e.f),__vite__mapDeps([0,1,2,3]))),"import")},{id:"angular-ts",name:"Angular TypeScript",import:s((()=>fe(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5]))),"import")},{id:"apache",name:"Apache Conf",import:s((()=>fe(()=>import("./apache-Pmp26Uib.js"),[])),"import")},{id:"apex",name:"Apex",import:s((()=>fe(()=>import("./apex-C7Pw0Ztw.js"),[])),"import")},{id:"apl",name:"APL",import:s((()=>fe(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9]))),"import")},{id:"applescript",name:"AppleScript",import:s((()=>fe(()=>import("./applescript-Co6uUVPk.js"),[])),"import")},{id:"ara",name:"Ara",import:s((()=>fe(()=>import("./ara-BRHolxvo.js"),[])),"import")},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:s((()=>fe(()=>import("./asciidoc-Dv7Oe6Be.js"),[])),"import")},{id:"asm",name:"Assembly",import:s((()=>fe(()=>import("./asm-D_Q5rh1f.js"),[])),"import")},{id:"astro",name:"Astro",import:s((()=>fe(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13]))),"import")},{id:"awk",name:"AWK",import:s((()=>fe(()=>import("./awk-DMzUqQB5.js"),[])),"import")},{id:"ballerina",name:"Ballerina",import:s((()=>fe(()=>import("./ballerina-BFfxhgS-.js"),[])),"import")},{id:"bat",name:"Batch File",aliases:["batch"],import:s((()=>fe(()=>import("./bat-BkioyH1T.js"),[])),"import")},{id:"beancount",name:"Beancount",import:s((()=>fe(()=>import("./beancount-k_qm7-4y.js"),[])),"import")},{id:"berry",name:"Berry",aliases:["be"],import:s((()=>fe(()=>import("./berry-D08WgyRC.js"),[])),"import")},{id:"bibtex",name:"BibTeX",import:s((()=>fe(()=>import("./bibtex-CHM0blh-.js"),[])),"import")},{id:"bicep",name:"Bicep",import:s((()=>fe(()=>import("./bicep-6nHXG8SA.js"),[])),"import")},{id:"blade",name:"Blade",import:s((()=>fe(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9]))),"import")},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:s((()=>fe(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18]))),"import")},{id:"c",name:"C",import:s((()=>fe(()=>import("./c-BIGW1oBm.js"),[])),"import")},{id:"cadence",name:"Cadence",aliases:["cdc"],import:s((()=>fe(()=>import("./cadence-Bv_4Rxtq.js"),[])),"import")},{id:"cairo",name:"Cairo",import:s((()=>fe(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20]))),"import")},{id:"clarity",name:"Clarity",import:s((()=>fe(()=>import("./clarity-D53aC0YG.js"),[])),"import")},{id:"clojure",name:"Clojure",aliases:["clj"],import:s((()=>fe(()=>import("./clojure-P80f7IUj.js"),[])),"import")},{id:"cmake",name:"CMake",import:s((()=>fe(()=>import("./cmake-D1j8_8rp.js"),[])),"import")},{id:"cobol",name:"COBOL",import:s((()=>fe(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8]))),"import")},{id:"codeowners",name:"CODEOWNERS",import:s((()=>fe(()=>import("./codeowners-Bp6g37R7.js"),[])),"import")},{id:"codeql",name:"CodeQL",aliases:["ql"],import:s((()=>fe(()=>import("./codeql-DsOJ9woJ.js"),[])),"import")},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:s((()=>fe(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2]))),"import")},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:s((()=>fe(()=>import("./common-lisp-Cg-RD9OK.js"),[])),"import")},{id:"coq",name:"Coq",import:s((()=>fe(()=>import("./coq-DkFqJrB1.js"),[])),"import")},{id:"cpp",name:"C++",aliases:["c++"],import:s((()=>fe(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16]))),"import")},{id:"crystal",name:"Crystal",import:s((()=>fe(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28]))),"import")},{id:"csharp",name:"C#",aliases:["c#","cs"],import:s((()=>fe(()=>import("./csharp-CX12Zw3r.js"),[])),"import")},{id:"css",name:"CSS",import:s((()=>fe(()=>import("./css-DPfMkruS.js"),[])),"import")},{id:"csv",name:"CSV",import:s((()=>fe(()=>import("./csv-fuZLfV_i.js"),[])),"import")},{id:"cue",name:"CUE",import:s((()=>fe(()=>import("./cue-D82EKSYY.js"),[])),"import")},{id:"cypher",name:"Cypher",aliases:["cql"],import:s((()=>fe(()=>import("./cypher-COkxafJQ.js"),[])),"import")},{id:"d",name:"D",import:s((()=>fe(()=>import("./d-85-TOEBH.js"),[])),"import")},{id:"dart",name:"Dart",import:s((()=>fe(()=>import("./dart-CF10PKvl.js"),[])),"import")},{id:"dax",name:"DAX",import:s((()=>fe(()=>import("./dax-CEL-wOlO.js"),[])),"import")},{id:"desktop",name:"Desktop",import:s((()=>fe(()=>import("./desktop-BmXAJ9_W.js"),[])),"import")},{id:"diff",name:"Diff",import:s((()=>fe(()=>import("./diff-D97Zzqfu.js"),[])),"import")},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:s((()=>fe(()=>import("./docker-BcOcwvcX.js"),[])),"import")},{id:"dotenv",name:"dotEnv",import:s((()=>fe(()=>import("./dotenv-Da5cRb03.js"),[])),"import")},{id:"dream-maker",name:"Dream Maker",import:s((()=>fe(()=>import("./dream-maker-BtqSS_iP.js"),[])),"import")},{id:"edge",name:"Edge",import:s((()=>fe(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15]))),"import")},{id:"elixir",name:"Elixir",import:s((()=>fe(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3]))),"import")},{id:"elm",name:"Elm",import:s((()=>fe(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26]))),"import")},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:s((()=>fe(()=>import("./emacs-lisp-C9XAeP06.js"),[])),"import")},{id:"erb",name:"ERB",import:s((()=>fe(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))),"import")},{id:"erlang",name:"Erlang",aliases:["erl"],import:s((()=>fe(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40]))),"import")},{id:"fennel",name:"Fennel",import:s((()=>fe(()=>import("./fennel-BYunw83y.js"),[])),"import")},{id:"fish",name:"Fish",import:s((()=>fe(()=>import("./fish-BvzEVeQv.js"),[])),"import")},{id:"fluent",name:"Fluent",aliases:["ftl"],import:s((()=>fe(()=>import("./fluent-C4IJs8-o.js"),[])),"import")},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:s((()=>fe(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42]))),"import")},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:s((()=>fe(()=>import("./fortran-free-form-D22FLkUw.js"),[])),"import")},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:s((()=>fe(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40]))),"import")},{id:"gdresource",name:"GDResource",import:s((()=>fe(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46]))),"import")},{id:"gdscript",name:"GDScript",import:s((()=>fe(()=>import("./gdscript-DTMYz4Jt.js"),[])),"import")},{id:"gdshader",name:"GDShader",import:s((()=>fe(()=>import("./gdshader-DkwncUOv.js"),[])),"import")},{id:"genie",name:"Genie",import:s((()=>fe(()=>import("./genie-D0YGMca9.js"),[])),"import")},{id:"gherkin",name:"Gherkin",import:s((()=>fe(()=>import("./gherkin-DyxjwDmM.js"),[])),"import")},{id:"git-commit",name:"Git Commit Message",import:s((()=>fe(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48]))),"import")},{id:"git-rebase",name:"Git Rebase Message",import:s((()=>fe(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28]))),"import")},{id:"gleam",name:"Gleam",import:s((()=>fe(()=>import("./gleam-BspZqrRM.js"),[])),"import")},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:s((()=>fe(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1]))),"import")},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:s((()=>fe(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1]))),"import")},{id:"glsl",name:"GLSL",import:s((()=>fe(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26]))),"import")},{id:"gnuplot",name:"Gnuplot",import:s((()=>fe(()=>import("./gnuplot-DdkO51Og.js"),[])),"import")},{id:"go",name:"Go",import:s((()=>fe(()=>import("./go-Dn2_MT6a.js"),[])),"import")},{id:"graphql",name:"GraphQL",aliases:["gql"],import:s((()=>fe(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13]))),"import")},{id:"groovy",name:"Groovy",import:s((()=>fe(()=>import("./groovy-gcz8RCvz.js"),[])),"import")},{id:"hack",name:"Hack",import:s((()=>fe(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16]))),"import")},{id:"haml",name:"Ruby Haml",import:s((()=>fe(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3]))),"import")},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:s((()=>fe(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38]))),"import")},{id:"haskell",name:"Haskell",aliases:["hs"],import:s((()=>fe(()=>import("./haskell-Df6bDoY_.js"),[])),"import")},{id:"haxe",name:"Haxe",import:s((()=>fe(()=>import("./haxe-CzTSHFRz.js"),[])),"import")},{id:"hcl",name:"HashiCorp HCL",import:s((()=>fe(()=>import("./hcl-BWvSN4gD.js"),[])),"import")},{id:"hjson",name:"Hjson",import:s((()=>fe(()=>import("./hjson-D5-asLiD.js"),[])),"import")},{id:"hlsl",name:"HLSL",import:s((()=>fe(()=>import("./hlsl-D3lLCCz7.js"),[])),"import")},{id:"html",name:"HTML",import:s((()=>fe(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3]))),"import")},{id:"html-derivative",name:"HTML (Derivative)",import:s((()=>fe(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3]))),"import")},{id:"http",name:"HTTP",import:s((()=>fe(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13]))),"import")},{id:"hurl",name:"Hurl",import:s((()=>fe(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56]))),"import")},{id:"hxml",name:"HXML",import:s((()=>fe(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58]))),"import")},{id:"hy",name:"Hy",import:s((()=>fe(()=>import("./hy-DFXneXwc.js"),[])),"import")},{id:"imba",name:"Imba",import:s((()=>fe(()=>import("./imba-DGztddWO.js"),[])),"import")},{id:"ini",name:"INI",aliases:["properties"],import:s((()=>fe(()=>import("./ini-BEwlwnbL.js"),[])),"import")},{id:"java",name:"Java",import:s((()=>fe(()=>import("./java-CylS5w8V.js"),[])),"import")},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:s((()=>fe(()=>import("./javascript-wDzz0qaB.js"),[])),"import")},{id:"jinja",name:"Jinja",import:s((()=>fe(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3]))),"import")},{id:"jison",name:"Jison",import:s((()=>fe(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2]))),"import")},{id:"json",name:"JSON",import:s((()=>fe(()=>import("./json-Cp-IABpG.js"),[])),"import")},{id:"json5",name:"JSON5",import:s((()=>fe(()=>import("./json5-C9tS-k6U.js"),[])),"import")},{id:"jsonc",name:"JSON with Comments",import:s((()=>fe(()=>import("./jsonc-Des-eS-w.js"),[])),"import")},{id:"jsonl",name:"JSON Lines",import:s((()=>fe(()=>import("./jsonl-DcaNXYhu.js"),[])),"import")},{id:"jsonnet",name:"Jsonnet",import:s((()=>fe(()=>import("./jsonnet-DFQXde-d.js"),[])),"import")},{id:"jssm",name:"JSSM",aliases:["fsl"],import:s((()=>fe(()=>import("./jssm-C2t-YnRu.js"),[])),"import")},{id:"jsx",name:"JSX",import:s((()=>fe(()=>import("./jsx-g9-lgVsj.js"),[])),"import")},{id:"julia",name:"Julia",aliases:["jl"],import:s((()=>fe(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62]))),"import")},{id:"kdl",name:"KDL",import:s((()=>fe(()=>import("./kdl-DV7GczEv.js"),[])),"import")},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:s((()=>fe(()=>import("./kotlin-BdnUsdx6.js"),[])),"import")},{id:"kusto",name:"Kusto",aliases:["kql"],import:s((()=>fe(()=>import("./kusto-BvAqAH-y.js"),[])),"import")},{id:"latex",name:"LaTeX",import:s((()=>fe(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62]))),"import")},{id:"lean",name:"Lean 4",aliases:["lean4"],import:s((()=>fe(()=>import("./lean-DP1Csr6i.js"),[])),"import")},{id:"less",name:"Less",import:s((()=>fe(()=>import("./less-B1dDrJ26.js"),[])),"import")},{id:"liquid",name:"Liquid",import:s((()=>fe(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9]))),"import")},{id:"llvm",name:"LLVM IR",import:s((()=>fe(()=>import("./llvm-BtvRca6l.js"),[])),"import")},{id:"log",name:"Log file",import:s((()=>fe(()=>import("./log-2UxHyX5q.js"),[])),"import")},{id:"logo",name:"Logo",import:s((()=>fe(()=>import("./logo-BtOb2qkB.js"),[])),"import")},{id:"lua",name:"Lua",import:s((()=>fe(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26]))),"import")},{id:"luau",name:"Luau",import:s((()=>fe(()=>import("./luau-CXu1NL6O.js"),[])),"import")},{id:"make",name:"Makefile",aliases:["makefile"],import:s((()=>fe(()=>import("./make-CHLpvVh8.js"),[])),"import")},{id:"markdown",name:"Markdown",aliases:["md"],import:s((()=>fe(()=>import("./markdown-Cvjx9yec.js"),[])),"import")},{id:"marko",name:"Marko",import:s((()=>fe(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11]))),"import")},{id:"matlab",name:"MATLAB",import:s((()=>fe(()=>import("./matlab-D7o27uSR.js"),[])),"import")},{id:"mdc",name:"MDC",import:s((()=>fe(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3]))),"import")},{id:"mdx",name:"MDX",import:s((()=>fe(()=>import("./mdx-Cmh6b_Ma.js"),[])),"import")},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:s((()=>fe(()=>import("./mermaid-DKYwYmdq.js"),[])),"import")},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:s((()=>fe(()=>import("./mipsasm-CKIfxQSi.js"),[])),"import")},{id:"mojo",name:"Mojo",import:s((()=>fe(()=>import("./mojo-1DNp92w6.js"),[])),"import")},{id:"move",name:"Move",import:s((()=>fe(()=>import("./move-Bu9oaDYs.js"),[])),"import")},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:s((()=>fe(()=>import("./narrat-DRg8JJMk.js"),[])),"import")},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:s((()=>fe(()=>import("./nextflow-CUEJCptM.js"),[])),"import")},{id:"nginx",name:"Nginx",import:s((()=>fe(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26]))),"import")},{id:"nim",name:"Nim",import:s((()=>fe(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40]))),"import")},{id:"nix",name:"Nix",import:s((()=>fe(()=>import("./nix-BbRYJGeE.js"),[])),"import")},{id:"nushell",name:"nushell",aliases:["nu"],import:s((()=>fe(()=>import("./nushell-C-sUppwS.js"),[])),"import")},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:s((()=>fe(()=>import("./objective-c-DXmwc3jG.js"),[])),"import")},{id:"objective-cpp",name:"Objective-C++",import:s((()=>fe(()=>import("./objective-cpp-CLxacb5B.js"),[])),"import")},{id:"ocaml",name:"OCaml",import:s((()=>fe(()=>import("./ocaml-C0hk2d4L.js"),[])),"import")},{id:"pascal",name:"Pascal",import:s((()=>fe(()=>import("./pascal-D93ZcfNL.js"),[])),"import")},{id:"perl",name:"Perl",import:s((()=>fe(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16]))),"import")},{id:"php",name:"PHP",import:s((()=>fe(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9]))),"import")},{id:"pkl",name:"Pkl",import:s((()=>fe(()=>import("./pkl-u5AG7uiY.js"),[])),"import")},{id:"plsql",name:"PL/SQL",import:s((()=>fe(()=>import("./plsql-ChMvpjG-.js"),[])),"import")},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:s((()=>fe(()=>import("./po-BTJTHyun.js"),[])),"import")},{id:"polar",name:"Polar",import:s((()=>fe(()=>import("./polar-C0HS_06l.js"),[])),"import")},{id:"postcss",name:"PostCSS",import:s((()=>fe(()=>import("./postcss-CXtECtnM.js"),[])),"import")},{id:"powerquery",name:"PowerQuery",import:s((()=>fe(()=>import("./powerquery-CEu0bR-o.js"),[])),"import")},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:s((()=>fe(()=>import("./powershell-Dpen1YoG.js"),[])),"import")},{id:"prisma",name:"Prisma",import:s((()=>fe(()=>import("./prisma-Dd19v3D-.js"),[])),"import")},{id:"prolog",name:"Prolog",import:s((()=>fe(()=>import("./prolog-CbFg5uaA.js"),[])),"import")},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:s((()=>fe(()=>import("./proto-DyJlTyXw.js"),[])),"import")},{id:"pug",name:"Pug",aliases:["jade"],import:s((()=>fe(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1]))),"import")},{id:"puppet",name:"Puppet",import:s((()=>fe(()=>import("./puppet-BMWR74SV.js"),[])),"import")},{id:"purescript",name:"PureScript",import:s((()=>fe(()=>import("./purescript-CklMAg4u.js"),[])),"import")},{id:"python",name:"Python",aliases:["py"],import:s((()=>fe(()=>import("./python-B6aJPvgy.js"),[])),"import")},{id:"qml",name:"QML",import:s((()=>fe(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2]))),"import")},{id:"qmldir",name:"QML Directory",import:s((()=>fe(()=>import("./qmldir-C8lEn-DE.js"),[])),"import")},{id:"qss",name:"Qt Style Sheets",import:s((()=>fe(()=>import("./qss-IeuSbFQv.js"),[])),"import")},{id:"r",name:"R",import:s((()=>fe(()=>import("./r-DiinP2Uv.js"),[])),"import")},{id:"racket",name:"Racket",import:s((()=>fe(()=>import("./racket-BqYA7rlc.js"),[])),"import")},{id:"raku",name:"Raku",aliases:["perl6"],import:s((()=>fe(()=>import("./raku-DXvB9xmW.js"),[])),"import")},{id:"razor",name:"ASP.NET Razor",import:s((()=>fe(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76]))),"import")},{id:"reg",name:"Windows Registry Script",import:s((()=>fe(()=>import("./reg-C-SQnVFl.js"),[])),"import")},{id:"regexp",name:"RegExp",aliases:["regex"],import:s((()=>fe(()=>import("./regexp-CDVJQ6XC.js"),[])),"import")},{id:"rel",name:"Rel",import:s((()=>fe(()=>import("./rel-C3B-1QV4.js"),[])),"import")},{id:"riscv",name:"RISC-V",import:s((()=>fe(()=>import("./riscv-BM1_JUlF.js"),[])),"import")},{id:"rosmsg",name:"ROS Interface",import:s((()=>fe(()=>import("./rosmsg-BJDFO7_C.js"),[])),"import")},{id:"rst",name:"reStructuredText",import:s((()=>fe(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37]))),"import")},{id:"ruby",name:"Ruby",aliases:["rb"],import:s((()=>fe(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))),"import")},{id:"rust",name:"Rust",aliases:["rs"],import:s((()=>fe(()=>import("./rust-B1yitclQ.js"),[])),"import")},{id:"sas",name:"SAS",import:s((()=>fe(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16]))),"import")},{id:"sass",name:"Sass",import:s((()=>fe(()=>import("./sass-Cj5Yp3dK.js"),[])),"import")},{id:"scala",name:"Scala",import:s((()=>fe(()=>import("./scala-C151Ov-r.js"),[])),"import")},{id:"scheme",name:"Scheme",import:s((()=>fe(()=>import("./scheme-C98Dy4si.js"),[])),"import")},{id:"scss",name:"SCSS",import:s((()=>fe(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3]))),"import")},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:s((()=>fe(()=>import("./sdbl-DVxCFoDh.js"),[])),"import")},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:s((()=>fe(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81]))),"import")},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:s((()=>fe(()=>import("./shellscript-Yzrsuije.js"),[])),"import")},{id:"shellsession",name:"Shell Session",aliases:["console"],import:s((()=>fe(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28]))),"import")},{id:"smalltalk",name:"Smalltalk",import:s((()=>fe(()=>import("./smalltalk-BERRCDM3.js"),[])),"import")},{id:"solidity",name:"Solidity",import:s((()=>fe(()=>import("./solidity-BbcW6ACK.js"),[])),"import")},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:s((()=>fe(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3]))),"import")},{id:"sparql",name:"SPARQL",import:s((()=>fe(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85]))),"import")},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:s((()=>fe(()=>import("./splunk-BtCnVYZw.js"),[])),"import")},{id:"sql",name:"SQL",import:s((()=>fe(()=>import("./sql-BLtJtn59.js"),[])),"import")},{id:"ssh-config",name:"SSH Config",import:s((()=>fe(()=>import("./ssh-config-_ykCGR6B.js"),[])),"import")},{id:"stata",name:"Stata",import:s((()=>fe(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16]))),"import")},{id:"stylus",name:"Stylus",aliases:["styl"],import:s((()=>fe(()=>import("./stylus-BEDo0Tqx.js"),[])),"import")},{id:"svelte",name:"Svelte",import:s((()=>fe(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12]))),"import")},{id:"swift",name:"Swift",import:s((()=>fe(()=>import("./swift-Dg5xB15N.js"),[])),"import")},{id:"system-verilog",name:"SystemVerilog",import:s((()=>fe(()=>import("./system-verilog-CnnmHF94.js"),[])),"import")},{id:"systemd",name:"Systemd Units",import:s((()=>fe(()=>import("./systemd-4A_iFExJ.js"),[])),"import")},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:s((()=>fe(()=>import("./talonscript-CkByrt1z.js"),[])),"import")},{id:"tasl",name:"Tasl",import:s((()=>fe(()=>import("./tasl-QIJgUcNo.js"),[])),"import")},{id:"tcl",name:"Tcl",import:s((()=>fe(()=>import("./tcl-dwOrl1Do.js"),[])),"import")},{id:"templ",name:"Templ",import:s((()=>fe(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3]))),"import")},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:s((()=>fe(()=>import("./terraform-BETggiCN.js"),[])),"import")},{id:"tex",name:"TeX",import:s((()=>fe(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62]))),"import")},{id:"toml",name:"TOML",import:s((()=>fe(()=>import("./toml-vGWfd6FD.js"),[])),"import")},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:s((()=>fe(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8]))),"import")},{id:"tsv",name:"TSV",import:s((()=>fe(()=>import("./tsv-B_m7g4N7.js"),[])),"import")},{id:"tsx",name:"TSX",import:s((()=>fe(()=>import("./tsx-COt5Ahok.js"),[])),"import")},{id:"turtle",name:"Turtle",import:s((()=>fe(()=>import("./turtle-BsS91CYL.js"),[])),"import")},{id:"twig",name:"Twig",import:s((()=>fe(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38]))),"import")},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:s((()=>fe(()=>import("./typescript-BPQ3VLAy.js"),[])),"import")},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:s((()=>fe(()=>import("./typespec-Df68jz8_.js"),[])),"import")},{id:"typst",name:"Typst",aliases:["typ"],import:s((()=>fe(()=>import("./typst-DHCkPAjA.js"),[])),"import")},{id:"v",name:"V",import:s((()=>fe(()=>import("./v-BcVCzyr7.js"),[])),"import")},{id:"vala",name:"Vala",import:s((()=>fe(()=>import("./vala-CsfeWuGM.js"),[])),"import")},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:s((()=>fe(()=>import("./vb-D17OF-Vu.js"),[])),"import")},{id:"verilog",name:"Verilog",import:s((()=>fe(()=>import("./verilog-BQ8w6xss.js"),[])),"import")},{id:"vhdl",name:"VHDL",import:s((()=>fe(()=>import("./vhdl-CeAyd5Ju.js"),[])),"import")},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:s((()=>fe(()=>import("./viml-CJc9bBzg.js"),[])),"import")},{id:"vue",name:"Vue",import:s((()=>fe(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1]))),"import")},{id:"vue-html",name:"Vue HTML",import:s((()=>fe(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1]))),"import")},{id:"vue-vine",name:"Vue Vine",import:s((()=>fe(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1]))),"import")},{id:"vyper",name:"Vyper",aliases:["vy"],import:s((()=>fe(()=>import("./vyper-CDx5xZoG.js"),[])),"import")},{id:"wasm",name:"WebAssembly",import:s((()=>fe(()=>import("./wasm-MzD3tlZU.js"),[])),"import")},{id:"wenyan",name:"Wenyan",aliases:[""],import:s((()=>fe(()=>import("./wenyan-BV7otONQ.js"),[])),"import")},{id:"wgsl",name:"WGSL",import:s((()=>fe(()=>import("./wgsl-Dx-B1_4e.js"),[])),"import")},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:s((()=>fe(()=>import("./wikitext-BhOHFoWU.js"),[])),"import")},{id:"wit",name:"WebAssembly Interface Types",import:s((()=>fe(()=>import("./wit-5i3qLPDT.js"),[])),"import")},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:s((()=>fe(()=>import("./wolfram-lXgVvXCa.js"),[])),"import")},{id:"xml",name:"XML",import:s((()=>fe(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8]))),"import")},{id:"xsl",name:"XSL",import:s((()=>fe(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8]))),"import")},{id:"yaml",name:"YAML",aliases:["yml"],import:s((()=>fe(()=>import("./yaml-Buea-lGh.js"),[])),"import")},{id:"zenscript",name:"ZenScript",import:s((()=>fe(()=>import("./zenscript-DVFEvuxE.js"),[])),"import")},{id:"zig",name:"Zig",import:s((()=>fe(()=>import("./zig-VOosw3JB.js"),[])),"import")}],Vce=Object.fromEntries(mj.map(e=>[e.id,e.import])),Gce=Object.fromEntries(mj.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[])),gj={...Vce,...Gce},Zce=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:s((()=>fe(()=>import("./andromeeda-C-Jbm3Hp.js"),[])),"import")},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:s((()=>fe(()=>import("./aurora-x-D-2ljcwZ.js"),[])),"import")},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:s((()=>fe(()=>import("./ayu-dark-Cv9koXgw.js"),[])),"import")},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:s((()=>fe(()=>import("./catppuccin-frappe-DFWUc33u.js"),[])),"import")},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:s((()=>fe(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[])),"import")},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:s((()=>fe(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[])),"import")},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:s((()=>fe(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[])),"import")},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:s((()=>fe(()=>import("./dark-plus-eOWES_5F.js"),[])),"import")},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:s((()=>fe(()=>import("./dracula-BzJJZx-M.js"),[])),"import")},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:s((()=>fe(()=>import("./dracula-soft-BXkSAIEj.js"),[])),"import")},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:s((()=>fe(()=>import("./everforest-dark-BgDCqdQA.js"),[])),"import")},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:s((()=>fe(()=>import("./everforest-light-C8M2exoo.js"),[])),"import")},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:s((()=>fe(()=>import("./github-dark-DHJKELXO.js"),[])),"import")},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:s((()=>fe(()=>import("./github-dark-default-Cuk6v7N8.js"),[])),"import")},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:s((()=>fe(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])),"import")},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:s((()=>fe(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])),"import")},{id:"github-light",displayName:"GitHub Light",type:"light",import:s((()=>fe(()=>import("./github-light-DAi9KRSo.js"),[])),"import")},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:s((()=>fe(()=>import("./github-light-default-D7oLnXFd.js"),[])),"import")},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:s((()=>fe(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])),"import")},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:s((()=>fe(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[])),"import")},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:s((()=>fe(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[])),"import")},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:s((()=>fe(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[])),"import")},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:s((()=>fe(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[])),"import")},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:s((()=>fe(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[])),"import")},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:s((()=>fe(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[])),"import")},{id:"houston",displayName:"Houston",type:"dark",import:s((()=>fe(()=>import("./houston-DnULxvSX.js"),[])),"import")},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:s((()=>fe(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])),"import")},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:s((()=>fe(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])),"import")},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:s((()=>fe(()=>import("./kanagawa-wave-DWedfzmr.js"),[])),"import")},{id:"laserwave",displayName:"LaserWave",type:"dark",import:s((()=>fe(()=>import("./laserwave-DUszq2jm.js"),[])),"import")},{id:"light-plus",displayName:"Light Plus",type:"light",import:s((()=>fe(()=>import("./light-plus-B7mTdjB0.js"),[])),"import")},{id:"material-theme",displayName:"Material Theme",type:"dark",import:s((()=>fe(()=>import("./material-theme-D5KoaKCx.js"),[])),"import")},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:s((()=>fe(()=>import("./material-theme-darker-BfHTSMKl.js"),[])),"import")},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:s((()=>fe(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])),"import")},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:s((()=>fe(()=>import("./material-theme-ocean-CyktbL80.js"),[])),"import")},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:s((()=>fe(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])),"import")},{id:"min-dark",displayName:"Min Dark",type:"dark",import:s((()=>fe(()=>import("./min-dark-CafNBF8u.js"),[])),"import")},{id:"min-light",displayName:"Min Light",type:"light",import:s((()=>fe(()=>import("./min-light-CTRr51gU.js"),[])),"import")},{id:"monokai",displayName:"Monokai",type:"dark",import:s((()=>fe(()=>import("./monokai-D4h5O-jR.js"),[])),"import")},{id:"night-owl",displayName:"Night Owl",type:"dark",import:s((()=>fe(()=>import("./night-owl-C39BiMTA.js"),[])),"import")},{id:"nord",displayName:"Nord",type:"dark",import:s((()=>fe(()=>import("./nord-Ddv68eIx.js"),[])),"import")},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:s((()=>fe(()=>import("./one-dark-pro-DVMEJ2y_.js"),[])),"import")},{id:"one-light",displayName:"One Light",type:"light",import:s((()=>fe(()=>import("./one-light-PoHY5YXO.js"),[])),"import")},{id:"plastic",displayName:"Plastic",type:"dark",import:s((()=>fe(()=>import("./plastic-3e1v2bzS.js"),[])),"import")},{id:"poimandres",displayName:"Poimandres",type:"dark",import:s((()=>fe(()=>import("./poimandres-CS3Unz2-.js"),[])),"import")},{id:"red",displayName:"Red",type:"dark",import:s((()=>fe(()=>import("./red-bN70gL4F.js"),[])),"import")},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:s((()=>fe(()=>import("./rose-pine-BHrmToEH.js"),[])),"import")},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:s((()=>fe(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[])),"import")},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:s((()=>fe(()=>import("./rose-pine-moon-NleAzG8P.js"),[])),"import")},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:s((()=>fe(()=>import("./slack-dark-BthQWCQV.js"),[])),"import")},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:s((()=>fe(()=>import("./slack-ochin-DqwNpetd.js"),[])),"import")},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:s((()=>fe(()=>import("./snazzy-light-Bw305WKR.js"),[])),"import")},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:s((()=>fe(()=>import("./solarized-dark-DXbdFlpD.js"),[])),"import")},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:s((()=>fe(()=>import("./solarized-light-L9t79GZl.js"),[])),"import")},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:s((()=>fe(()=>import("./synthwave-84-CbfX1IO0.js"),[])),"import")},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:s((()=>fe(()=>import("./tokyo-night-hegEt444.js"),[])),"import")},{id:"vesper",displayName:"Vesper",type:"dark",import:s((()=>fe(()=>import("./vesper-DU1UobuO.js"),[])),"import")},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:s((()=>fe(()=>import("./vitesse-black-Bkuqu6BP.js"),[])),"import")},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:s((()=>fe(()=>import("./vitesse-dark-D0r3Knsf.js"),[])),"import")},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:s((()=>fe(()=>import("./vitesse-light-CVO1_9PV.js"),[])),"import")}],Jce=Object.fromEntries(Zce.map(e=>[e.id,e.import]));class f6 extends Error{static{s(this,"ShikiError")}constructor(t){super(t),this.name="ShikiError"}}function Wce(){return 2147483648}s(Wce,"getHeapMax");function Qce(){return typeof performance<"u"?performance.now():Date.now()}s(Qce,"_emscripten_get_now");const Xce=s((e,t)=>e+(t-e%t)%t,"alignUp");async function Kce(e){let t,r;const n={};function i(m){r=m,n.HEAPU8=new Uint8Array(m),n.HEAPU32=new Uint32Array(m)}s(i,"updateGlobalBufferAndViews");function o(m,w,_){n.HEAPU8.copyWithin(m,w,w+_)}s(o,"_emscripten_memcpy_big");function a(m){try{return t.grow(m-r.byteLength+65535>>>16),i(t.buffer),1}catch{}}s(a,"emscripten_realloc_buffer");function l(m){const w=n.HEAPU8.length;m=m>>>0;const _=Wce();if(m>_)return!1;for(let A=1;A<=4;A*=2){let M=w*(1+.2/A);M=Math.min(M,m+100663296);const I=Math.min(_,Xce(Math.max(m,M),65536));if(a(I))return!0}return!1}s(l,"_emscripten_resize_heap");const u=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(m,w,_=1024){const A=w+_;let M=w;for(;m[M]&&!(M>=A);)++M;if(M-w>16&&m.buffer&&u)return u.decode(m.subarray(w,M));let I="";for(;w<M;){let R=m[w++];if(!(R&128)){I+=String.fromCharCode(R);continue}const L=m[w++]&63;if((R&224)===192){I+=String.fromCharCode((R&31)<<6|L);continue}const P=m[w++]&63;if((R&240)===224?R=(R&15)<<12|L<<6|P:R=(R&7)<<18|L<<12|P<<6|m[w++]&63,R<65536)I+=String.fromCharCode(R);else{const F=R-65536;I+=String.fromCharCode(55296|F>>10,56320|F&1023)}}return I}s(c,"UTF8ArrayToString");function h(m,w){return m?c(n.HEAPU8,m,w):""}s(h,"UTF8ToString");const f={emscripten_get_now:Qce,emscripten_memcpy_big:o,emscripten_resize_heap:l,fd_write:s(()=>0,"fd_write")};async function v(){const w=await e({env:f,wasi_snapshot_preview1:f});t=w.memory,i(t.buffer),Object.assign(n,w),n.UTF8ToString=h}return s(v,"createWasm"),await v(),n}s(Kce,"main$1");var qce=Object.defineProperty,Yce=s((e,t,r)=>t in e?qce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),hn=s((e,t,r)=>Yce(e,typeof t!="symbol"?t+"":t,r),"__publicField");let yn=null;function ede(e){throw new f6(e.UTF8ToString(e.getLastOnigError()))}s(ede,"throwLastOnigError");class Rp{static{s(this,"UtfString")}constructor(t){hn(this,"utf16Length"),hn(this,"utf8Length"),hn(this,"utf16Value"),hn(this,"utf8Value"),hn(this,"utf16OffsetToUtf8"),hn(this,"utf8OffsetToUtf16");const r=t.length,n=Rp._utf8ByteLength(t),i=n!==r,o=i?new Uint32Array(r+1):null;i&&(o[r]=n);const a=i?new Uint32Array(n+1):null;i&&(a[n]=r);const l=new Uint8Array(n);let u=0;for(let c=0;c<r;c++){const h=t.charCodeAt(c);let f=h,v=!1;if(h>=55296&&h<=56319&&c+1<r){const m=t.charCodeAt(c+1);m>=56320&&m<=57343&&(f=(h-55296<<10)+65536|m-56320,v=!0)}i&&(o[c]=u,v&&(o[c+1]=u),f<=127?a[u+0]=c:f<=2047?(a[u+0]=c,a[u+1]=c):f<=65535?(a[u+0]=c,a[u+1]=c,a[u+2]=c):(a[u+0]=c,a[u+1]=c,a[u+2]=c,a[u+3]=c)),f<=127?l[u++]=f:f<=2047?(l[u++]=192|(f&1984)>>>6,l[u++]=128|(f&63)>>>0):f<=65535?(l[u++]=224|(f&61440)>>>12,l[u++]=128|(f&4032)>>>6,l[u++]=128|(f&63)>>>0):(l[u++]=240|(f&1835008)>>>18,l[u++]=128|(f&258048)>>>12,l[u++]=128|(f&4032)>>>6,l[u++]=128|(f&63)>>>0),v&&c++}this.utf16Length=r,this.utf8Length=n,this.utf16Value=t,this.utf8Value=l,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=a}static _utf8ByteLength(t){let r=0;for(let n=0,i=t.length;n<i;n++){const o=t.charCodeAt(n);let a=o,l=!1;if(o>=55296&&o<=56319&&n+1<i){const u=t.charCodeAt(n+1);u>=56320&&u<=57343&&(a=(o-55296<<10)+65536|u-56320,l=!0)}a<=127?r+=1:a<=2047?r+=2:a<=65535?r+=3:r+=4,l&&n++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const jp=class ls{static{s(this,"_OnigString")}constructor(t){if(hn(this,"id",++ls.LAST_ID),hn(this,"_onigBinding"),hn(this,"content"),hn(this,"utf16Length"),hn(this,"utf8Length"),hn(this,"utf16OffsetToUtf8"),hn(this,"utf8OffsetToUtf16"),hn(this,"ptr"),!yn)throw new f6("Must invoke loadWasm first.");this._onigBinding=yn,this.content=t;const r=new Rp(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!ls._sharedPtrInUse?(ls._sharedPtr||(ls._sharedPtr=yn.omalloc(1e4)),ls._sharedPtrInUse=!0,yn.HEAPU8.set(r.utf8Value,ls._sharedPtr),this.ptr=ls._sharedPtr):this.ptr=r.createString(yn)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===ls._sharedPtr?ls._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};hn(jp,"LAST_ID",0);hn(jp,"_sharedPtr",0);hn(jp,"_sharedPtrInUse",!1);let vj=jp;class tde{static{s(this,"OnigScanner")}constructor(t){if(hn(this,"_onigBinding"),hn(this,"_ptr"),!yn)throw new f6("Must invoke loadWasm first.");const r=[],n=[];for(let l=0,u=t.length;l<u;l++){const c=new Rp(t[l]);r[l]=c.createString(yn),n[l]=c.utf8Length}const i=yn.omalloc(4*t.length);yn.HEAPU32.set(r,i/4);const o=yn.omalloc(4*t.length);yn.HEAPU32.set(n,o/4);const a=yn.createOnigScanner(i,o,t.length);for(let l=0,u=t.length;l<u;l++)yn.ofree(r[l]);yn.ofree(o),yn.ofree(i),a===0&&ede(yn),this._onigBinding=yn,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,n){let i=0;if(typeof n=="number"&&(i=n),typeof t=="string"){t=new vj(t);const o=this._findNextMatchSync(t,r,!1,i);return t.dispose(),o}return this._findNextMatchSync(t,r,!1,i)}_findNextMatchSync(t,r,n,i){const o=this._onigBinding,a=o.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),i);if(a===0)return null;const l=o.HEAPU32;let u=a/4;const c=l[u++],h=l[u++],f=[];for(let v=0;v<h;v++){const m=t.convertUtf8OffsetToUtf16(l[u++]),w=t.convertUtf8OffsetToUtf16(l[u++]);f[v]={start:m,end:w,length:w-m}}return{index:c,captureIndices:f}}}function rde(e){return typeof e.instantiator=="function"}s(rde,"isInstantiatorOptionsObject");function nde(e){return typeof e.default=="function"}s(nde,"isInstantiatorModule");function ide(e){return typeof e.data<"u"}s(ide,"isDataOptionsObject");function sde(e){return typeof Response<"u"&&e instanceof Response}s(sde,"isResponse");function ade(e){return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&Buffer.isBuffer?.(e)||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}s(ade,"isArrayBuffer");let Sf;function ode(e){if(Sf)return Sf;async function t(){yn=await Kce(async r=>{let n=e;return n=await n,typeof n=="function"&&(n=await n(r)),typeof n=="function"&&(n=await n(r)),rde(n)?n=await n.instantiator(r):nde(n)?n=await n.default(r):(ide(n)&&(n=n.data),sde(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await lde(n)(r):n=await ude(n)(r):ade(n)?n=await d1(n)(r):n instanceof WebAssembly.Module?n=await d1(n)(r):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await d1(n.default)(r))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return s(t,"_load"),Sf=t(),Sf}s(ode,"loadWasm");function d1(e){return t=>WebAssembly.instantiate(e,t)}s(d1,"_makeArrayBufferLoader");function lde(e){return t=>WebAssembly.instantiateStreaming(e,t)}s(lde,"_makeResponseStreamingLoader");function ude(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}s(ude,"_makeResponseNonStreamingLoader");async function cde(e){return e&&await ode(e),{createScanner(t){return new tde(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new vj(t)}}}s(cde,"createOnigurumaEngine");const __=Hce({langs:gj,themes:Jce,engine:s(()=>cde(fe(()=>import("./wasm-Bkfe0Ngf.js"),[])),"engine")});function uu(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}s(uu,"r$2");function dde(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}s(dde,"l$1");const h6=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),_n=String.raw;function cu(e,t){if(e==null)throw new Error(t??"Value expected");return e}s(cu,"u");const bj=_n`\[\^?`,yj=`c.? | C(?:-.?)?|${_n`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${_n`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${_n`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${_n`o\{[^\}]*\}?`}|${_n`\d{1,3}`}`,p6=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,kf=new RegExp(_n`
  \\ (?:
    ${yj}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${p6.source})+
  | ${bj}
  | .
`.replace(/\s+/g,""),"gsu"),f1=new RegExp(_n`
  \\ (?:
    ${yj}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${bj}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function fde(e,t={}){const r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if(typeof e!="string")throw new Error("String expected as pattern");const n=Ide(r.flags),i=[n.extended],o={captureGroup:r.rules.captureGroup,getCurrentModX(){return i.at(-1)},numOpenGroups:0,popModX(){i.pop()},pushModX(f){i.push(f)},replaceCurrentModX(f){i[i.length-1]=f},singleline:r.rules.singleline};let a=[],l;for(kf.lastIndex=0;l=kf.exec(e);){const f=hde(o,e,l[0],kf.lastIndex);f.tokens?a.push(...f.tokens):f.token&&a.push(f.token),f.lastIndex!==void 0&&(kf.lastIndex=f.lastIndex)}const u=[];let c=0;a.filter(f=>f.type==="GroupOpen").forEach(f=>{f.kind==="capturing"?f.number=++c:f.raw==="("&&u.push(f)}),c||u.forEach((f,v)=>{f.kind="capturing",f.number=v+1});const h=c||u.length;return{tokens:a.map(f=>f.type==="EscapedNumber"?Rde(f,h):f).flat(),flags:n}}s(fde,"M$3");function hde(e,t,r,n){const[i,o]=r;if(r==="["||r==="[^"){const a=pde(t,r,n);return{tokens:a.tokens,lastIndex:a.lastIndex}}if(i==="\\"){if("AbBGyYzZ".includes(o))return{token:E_(r,r)};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:Sde(r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:xj(r)}}if(o==="K")return{token:_j("keep",r)};if(o==="N"||o==="R")return{token:yo("newline",r,{negate:o==="N"})};if(o==="O")return{token:yo("any",r)};if(o==="X")return{token:yo("text_segment",r)};const a=wj(r,{inCharClass:!1});return Array.isArray(a)?{tokens:a}:{token:a}}if(i==="("){if(o==="*")return{token:Nde(r)};if(r==="(?{")throw new Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(t[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:Ade(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,r==="("&&!e.captureGroup||r==="(?:")return{token:bl("group",r)};if(r==="(?>")return{token:bl("atomic",r)};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:bl(r[2]==="<"?"lookbehind":"lookahead",r,{negate:r.endsWith("!")})};if(r==="("&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'"))return{token:bl("capturing",r,{...r!=="("&&{name:r.slice(3,-1)}})};if(r.startsWith("(?~")){if(r==="(?~|")throw new Error(`Unsupported absence function kind "${r}"`);return{token:bl("absence_repeater",r)}}throw r==="(?("?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(r===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:xde(r)}}if(e.getCurrentModX()){if(r==="#"){const a=t.indexOf(`
`,n);return{lastIndex:a===-1?t.length:a}}if(/^\s$/.test(r)){const a=/\s+/y;return a.lastIndex=n,{lastIndex:a.exec(t)?a.lastIndex:n}}}if(r===".")return{token:yo("dot",r)};if(r==="^"||r==="$"){const a=e.singleline?{"^":_n`\A`,$:_n`\Z`}[r]:r;return{token:E_(a,r)}}return r==="|"?{token:gde(r)}:p6.test(r)?{tokens:jde(r)}:{token:ia(uu(r),r)}}s(hde,"F$3");function pde(e,t,r){const n=[S_(t[1]==="^",t)];let i=1,o;for(f1.lastIndex=r;o=f1.exec(e);){const a=o[0];if(a[0]==="["&&a[1]!==":")i++,n.push(S_(a[1]==="^",a));else if(a==="]"){if(n.at(-1).type==="CharacterClassOpen")n.push(ia(93,a));else if(i--,n.push(vde(a)),!i)break}else{const l=mde(a);Array.isArray(l)?n.push(...l):n.push(l)}}return{tokens:n,lastIndex:f1.lastIndex||e.length}}s(pde,"K$2");function mde(e){if(e[0]==="\\")return wj(e,{inCharClass:!0});if(e[0]==="["){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!h6.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return yo("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return e==="-"?bde(e):e==="&&"?yde(e):ia(uu(e),e)}s(mde,"X$3");function wj(e,{inCharClass:t}){const r=e[1];if(r==="c"||r==="C")return Tde(e);if("dDhHsSwW".includes(r))return Cde(e);if(e.startsWith(_n`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return Mde(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{const n=e.split(/\\x/).slice(1).map(a=>parseInt(a,16)),i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),o=new TextEncoder;return[...i].map(a=>{const l=[...o.encode(a)].map(u=>`\\x${u.toString(16)}`).join("");return ia(uu(a),l)})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(r==="u"||r==="x")return ia(Ode(e),e);if(k_.has(r))return ia(k_.get(r),e);if(/\d/.test(r))return wde(t,e);if(e==="\\")throw new Error(_n`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return ia(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}s(wj,"x$1");function gde(e){return{type:"Alternator",raw:e}}s(gde,"P$3");function E_(e,t){return{type:"Assertion",kind:e,raw:t}}s(E_,"w$2");function xj(e){return{type:"Backreference",raw:e}}s(xj,"A$2");function ia(e,t){return{type:"Character",value:e,raw:t}}s(ia,"d");function vde(e){return{type:"CharacterClassClose",raw:e}}s(vde,"z$3");function bde(e){return{type:"CharacterClassHyphen",raw:e}}s(bde,"U$3");function yde(e){return{type:"CharacterClassIntersector",raw:e}}s(yde,"H");function S_(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}s(S_,"E$2");function yo(e,t,r={}){return{type:"CharacterSet",kind:e,...r,raw:t}}s(yo,"k$3");function _j(e,t,r={}){return e==="keep"?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:cu(r.flags),raw:t}}s(_j,"I$2");function wde(e,t){return{type:"EscapedNumber",inCharClass:e,raw:t}}s(wde,"W$3");function xde(e){return{type:"GroupClose",raw:e}}s(xde,"Q$3");function bl(e,t,r={}){return{type:"GroupOpen",kind:e,...r,raw:t}}s(bl,"f$1");function _de(e,t,r,n){return{type:"NamedCallout",kind:e,tag:t,arguments:r,raw:n}}s(_de,"D$2");function Ede(e,t,r,n){return{type:"Quantifier",kind:e,min:t,max:r,raw:n}}s(Ede,"_$2");function Sde(e){return{type:"Subroutine",raw:e}}s(Sde,"R$2");const kde=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),k_=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function Tde(e){const t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return ia(uu(t.toUpperCase())-64,e)}s(Tde,"Z");function Ade(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";const i=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),o=A_(r),a=A_(n),l={};if(o&&(l.enable=o),a&&(l.disable=a),e.endsWith(")"))return t.replaceCurrentModX(i),_j("flags",e,{flags:l});if(e.endsWith(":"))return t.pushModX(i),t.numOpenGroups++,bl("group",e,{...(o||a)&&{flags:l}});throw new Error(`Unexpected flag modifier "${e}"`)}s(Ade,"L$2");function Nde(e){const t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw new Error(`Incomplete or invalid named callout "${e}"`);const{name:r,tag:n,args:i}=t.groups;if(!r)throw new Error(`Invalid named callout "${e}"`);if(n==="")throw new Error(`Named callout tag with empty value not allowed "${e}"`);const o=i?i.split(",").filter(h=>h!=="").map(h=>/^[+-]?\d+$/.test(h)?+h:h):[],[a,l,u]=o,c=kde.has(r)?r.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(o.length>0)throw new Error(`Named callout arguments not allowed "${o}"`);break;case"error":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(typeof a=="string")throw new Error(`Named callout argument must be a number "${a}"`);break;case"max":if(!o.length||o.length>2)throw new Error(`Named callout must have one or two arguments "${o}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(o.length===2&&(typeof l=="number"||!/^[<>X]$/.test(l)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${l}"`);break;case"count":case"total_count":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(o.length===1&&(typeof a=="number"||!/^[<>X]$/.test(a)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${a}"`);break;case"cmp":if(o.length!==3)throw new Error(`Named callout must have three arguments "${o}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(typeof l=="number"||!/^(?:[<>!=]=|[<>])$/.test(l))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${l}"`);if(typeof u=="string"&&!/^[A-Za-z_]\w*$/.test(u))throw new Error(`Named callout argument three must be a tag or number "${u}"`);break;case"custom":throw new Error(`Undefined callout name "${r}"`);default:throw new Error(`Unexpected named callout kind "${c}"`)}return _de(c,n??null,i?.split(",")??null,e)}s(Nde,"j$2");function T_(e){let t=null,r,n;if(e[0]==="{"){const{minStr:i,maxStr:o}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,a=1e5;if(+i>a||o&&+o>a)throw new Error("Quantifier value unsupported in Oniguruma");if(r=+i,n=o===void 0?+i:o===""?1/0:+o,r>n&&(t="possessive",[r,n]=[n,r]),e.endsWith("?")){if(t==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');t="lazy"}else t||(t="greedy")}else r=e[0]==="+"?1:0,n=e[0]==="?"?1:1/0,t=e[1]==="+"?"possessive":e[1]==="?"?"lazy":"greedy";return Ede(t,r,n,e)}s(T_,"O$2");function Cde(e){const t=e[1].toLowerCase();return yo({d:"digit",h:"hex",s:"space",w:"word"}[t],e,{negate:e[1]!==t})}s(Cde,"q$1");function Mde(e){const{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return yo("property",e,{value:n,negate:t==="P"&&!r||t==="p"&&!!r})}s(Mde,"V$3");function A_(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}s(A_,"v$1");function Ide(e){const t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let r=0;r<e.length;r++){const n=e[r];if(!"imxDPSWy".includes(n))throw new Error(`Invalid flag "${n}"`);if(n==="y"){if(!/^y{[gw]}/.test(e.slice(r)))throw new Error('Invalid or unspecified flag "y" mode');t.textSegmentMode=e[r+2]==="g"?"grapheme":"word",r+=3;continue}t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[n]]=!0}return t}s(Ide,"Y");function Ode(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t=e[2]==="{"?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2);return parseInt(t,16)}s(Ode,"J$2");function Rde(e,t){const{raw:r,inCharClass:n}=e,i=r.slice(1);if(!n&&(i!=="0"&&i.length===1||i[0]!=="0"&&+i<=t))return[xj(r)];const o=[],a=i.match(/^[0-7]+|\d/g);for(let l=0;l<a.length;l++){const u=a[l];let c;if(l===0&&u!=="8"&&u!=="9"){if(c=parseInt(u,8),c>127)throw new Error(_n`Octal encoded byte above 177 unsupported "${r}"`)}else c=uu(u);o.push(ia(c,(l===0?"\\":"")+u))}return o}s(Rde,"ee$2");function jde(e){const t=[],r=new RegExp(p6,"gy");let n;for(;n=r.exec(e);){const i=n[0];if(i[0]==="{"){const o=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(i);if(o){const{min:a,max:l}=o.groups;if(+a>+l&&i.endsWith("?")){r.lastIndex--,t.push(T_(i.slice(0,-1)));continue}}}t.push(T_(i))}return t}s(jde,"te$2");function Ej(e,t){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(e.body.length!==1)return!1;const r=e.body[0];return!t||Object.keys(t).every(n=>t[n]===r[n])}s(Ej,"o");function Lde(e){return Pde.has(e.type)}s(Lde,"s");const Pde=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function Sj(e,t={}){const r={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},n=fde(e,{flags:r.flags,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}}),i=s((v,m)=>{const w=n.tokens[o.nextIndex];switch(o.parent=v,o.nextIndex++,w.type){case"Alternator":return Fo();case"Assertion":return Dde(w);case"Backreference":return Bde(w,o);case"Character":return Lp(w.value,{useLastValid:!!m.isCheckingRangeEnd});case"CharacterClassHyphen":return zde(w,o,m);case"CharacterClassOpen":return Ude(w,o,m);case"CharacterSet":return Fde(w,o);case"Directive":return Jde(w.kind,{flags:w.flags});case"GroupOpen":return $de(w,o,m);case"NamedCallout":return Qde(w.kind,w.tag,w.arguments);case"Quantifier":return Hde(w,o);case"Subroutine":return Vde(w,o);default:throw new Error(`Unexpected token type "${w.type}"`)}},"s"),o={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:r.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:r.skipBackrefValidation,skipLookbehindValidation:r.skipLookbehindValidation,skipPropertyNameValidation:r.skipPropertyNameValidation,subroutines:[],tokens:n.tokens,unicodePropertyMap:r.unicodePropertyMap,walk:i},a=Kde(Wde(n.flags));let l=a.body[0];for(;o.nextIndex<n.tokens.length;){const v=i(l,{});v.type==="Alternative"?(a.body.push(v),l=v):l.body.push(v)}const{capturingGroups:u,hasNumberedRef:c,namedGroupsByName:h,subroutines:f}=o;if(c&&h.size&&!r.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:v}of f)if(typeof v=="number"){if(v>u.length)throw new Error("Subroutine uses a group number that's not defined");v&&(u[v-1].isSubroutined=!0)}else if(h.has(v)){if(h.get(v).length>1)throw new Error(_n`Subroutine uses a duplicate group name "\g<${v}>"`);h.get(v)[0].isSubroutined=!0}else throw new Error(_n`Subroutine uses a group name that's not defined "\g<${v}>"`);return a}s(Sj,"J$1");function Dde({kind:e}){return sb(cu({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===_n`\B`||e===_n`\Y`})}s(Dde,"W$2");function Bde({raw:e},t){const r=/^\\k[<']/.test(e),n=r?e.slice(3,-1):e.slice(1),i=s((o,a=!1)=>{const l=t.capturingGroups.length;let u=!1;if(o>l)if(t.skipBackrefValidation)u=!0;else throw new Error(`Not enough capturing groups defined to the left "${e}"`);return t.hasNumberedRef=!0,ab(a?l+1-o:o,{orphan:u})},"s");if(r){const o=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(o)return i(+o.groups.num,!!o.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${e}"`);return ab(n)}return i(+n)}s(Bde,"X$2");function zde(e,t,r){const{tokens:n,walk:i}=t,o=t.parent,a=o.body.at(-1),l=n[t.nextIndex];if(!r.isCheckingRangeEnd&&a&&a.type!=="CharacterClass"&&a.type!=="CharacterClassRange"&&l&&l.type!=="CharacterClassOpen"&&l.type!=="CharacterClassClose"&&l.type!=="CharacterClassIntersector"){const u=i(o,{...r,isCheckingRangeEnd:!0});if(a.type==="Character"&&u.type==="Character")return o.body.pop(),Zde(a,u);throw new Error("Invalid character class range")}return Lp(uu("-"))}s(zde,"ee$1");function Ude({negate:e},t,r){const{tokens:n,walk:i}=t,o=n[t.nextIndex],a=[Yf()];let l=M_(o);for(;l.type!=="CharacterClassClose";){if(l.type==="CharacterClassIntersector")a.push(Yf()),t.nextIndex++;else{const c=a.at(-1);c.body.push(i(c,r))}l=M_(n[t.nextIndex],o)}const u=Yf({negate:e});return a.length===1?u.body=a[0].body:(u.kind="intersection",u.body=a.map(c=>c.body.length===1?c.body[0]:c)),t.nextIndex++,u}s(Ude,"re$1");function Fde({kind:e,negate:t,value:r},n){const{normalizeUnknownPropertyNames:i,skipPropertyNameValidation:o,unicodePropertyMap:a}=n;if(e==="property"){const l=Pp(r);if(h6.has(l)&&!a?.has(l))e="posix",r=l;else return yl(r,{negate:t,normalizeUnknownPropertyNames:i,skipPropertyNameValidation:o,unicodePropertyMap:a})}return e==="posix"?Xde(r,{negate:t}):ob(e,{negate:t})}s(Fde,"ne");function $de(e,t,r){const{tokens:n,capturingGroups:i,namedGroupsByName:o,skipLookbehindValidation:a,walk:l}=t,u=qde(e),c=u.type==="AbsenceFunction",h=C_(u),f=h&&u.negate;if(u.type==="CapturingGroup"&&(i.push(u),u.name&&dde(o,u.name,[]).push(u)),c&&r.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let v=I_(n[t.nextIndex]);for(;v.type!=="GroupClose";){if(v.type==="Alternator")u.body.push(Fo()),t.nextIndex++;else{const m=u.body.at(-1),w=l(m,{...r,isInAbsenceFunction:r.isInAbsenceFunction||c,isInLookbehind:r.isInLookbehind||h,isInNegLookbehind:r.isInNegLookbehind||f});if(m.body.push(w),(h||r.isInLookbehind)&&!a){const _="Lookbehind includes a pattern not allowed by Oniguruma";if(f||r.isInNegLookbehind){if(N_(w)||w.type==="CapturingGroup")throw new Error(_)}else if(N_(w)||C_(w)&&w.negate)throw new Error(_)}}v=I_(n[t.nextIndex])}return t.nextIndex++,u}s($de,"te$1");function Hde({kind:e,min:t,max:r},n){const i=n.parent,o=i.body.at(-1);if(!o||!Lde(o))throw new Error("Quantifier requires a repeatable token");const a=Tj(e,t,r,o);return i.body.pop(),a}s(Hde,"oe$2");function Vde({raw:e},t){const{capturingGroups:r,subroutines:n}=t;let i=e.slice(3,-1);const o=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(o){const l=+o.groups.num,u=r.length;if(t.hasNumberedRef=!0,i={"":l,"+":u+l,"-":u+1-l}[o.groups.sign],i<1)throw new Error("Invalid subroutine number")}else i==="0"&&(i=0);const a=Aj(i);return n.push(a),a}s(Vde,"ae$1");function Gde(e,t){return{type:"AbsenceFunction",kind:e,body:Md(t?.body)}}s(Gde,"G$2");function Fo(e){return{type:"Alternative",body:Nj(e?.body)}}s(Fo,"b$1");function sb(e,t){const r={type:"Assertion",kind:e};return(e==="word_boundary"||e==="text_segment_boundary")&&(r.negate=!!t?.negate),r}s(sb,"F$2");function ab(e,t){const r=!!t?.orphan;return{type:"Backreference",ref:e,...r&&{orphan:r}}}s(ab,"k$2");function kj(e,t){const r={name:void 0,isSubroutined:!1,...t};if(r.name!==void 0&&!Yde(r.name))throw new Error(`Group name "${r.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...r.name&&{name:r.name},...r.isSubroutined&&{isSubroutined:r.isSubroutined},body:Md(t?.body)}}s(kj,"P$2");function Lp(e,t){const r={useLastValid:!1,...t};if(e>1114111){const n=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:"Character",value:e}}s(Lp,"m$2");function Yf(e){const t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:Nj(e?.body)}}s(Yf,"C$1");function Zde(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}s(Zde,"L$1");function ob(e,t){const r=!!t?.negate,n={type:"CharacterSet",kind:e};return(e==="digit"||e==="hex"||e==="newline"||e==="space"||e==="word")&&(n.negate=r),(e==="text_segment"||e==="newline"&&!r)&&(n.variableLength=!0),n}s(ob,"E$1");function Jde(e,t={}){if(e==="keep")return{type:"Directive",kind:e};if(e==="flags")return{type:"Directive",kind:e,flags:cu(t.flags)};throw new Error(`Unexpected directive kind "${e}"`)}s(Jde,"I$1");function Wde(e){return{type:"Flags",...e}}s(Wde,"T$1");function Gi(e){const t=e?.atomic,r=e?.flags;if(t&&r)throw new Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...r&&{flags:r},body:Md(e?.body)}}s(Gi,"A$1");function mo(e){const t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:Md(e?.body)}}s(mo,"K$1");function Qde(e,t,r){return{type:"NamedCallout",kind:e,tag:t,arguments:r}}s(Qde,"U$2");function Xde(e,t){const r=!!t?.negate;if(!h6.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:r}}s(Xde,"R$1");function Tj(e,t,r,n){if(t>r)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:r,body:n}}s(Tj,"_$1");function Kde(e,t){return{type:"Regex",body:Md(t?.body),flags:e}}s(Kde,"B$1");function Aj(e){return{type:"Subroutine",ref:e}}s(Aj,"O$1");function yl(e,t){const r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t};let n=r.unicodePropertyMap?.get(Pp(e));if(!n){if(r.normalizeUnknownPropertyNames)n=efe(e);else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw new Error(_n`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:n??e,negate:r.negate}}s(yl,"Q$2");function qde({flags:e,kind:t,name:r,negate:n,number:i}){switch(t){case"absence_repeater":return Gde("repeater");case"atomic":return Gi({atomic:!0});case"capturing":return kj(i,{name:r});case"group":return Gi({flags:e});case"lookahead":case"lookbehind":return mo({behind:t==="lookbehind",negate:n});default:throw new Error(`Unexpected group kind "${t}"`)}}s(qde,"ie$1");function Md(e){if(e===void 0)e=[Fo()];else if(!Array.isArray(e)||!e.length||!e.every(t=>t.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}s(Md,"h$1");function Nj(e){if(e===void 0)e=[];else if(!Array.isArray(e)||!e.every(t=>!!t.type))throw new Error("Invalid body; expected array of nodes");return e}s(Nj,"V$2");function N_(e){return e.type==="LookaroundAssertion"&&e.kind==="lookahead"}s(N_,"M$2");function C_(e){return e.type==="LookaroundAssertion"&&e.kind==="lookbehind"}s(C_,"$$1");function Yde(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}s(Yde,"se$1");function efe(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,t=>t[0].toUpperCase()+t.slice(1).toLowerCase())}s(efe,"de$2");function Pp(e){return e.replace(/[- _]+/g,"").toLowerCase()}s(Pp,"w$1");function M_(e,t){return cu(e,`${t?.type==="Character"&&t.value===93?"Empty":"Unclosed"} character class`)}s(M_,"z$2");function I_(e){return cu(e,"Unclosed group")}s(I_,"D$1");function dc(e,t,r=null){function n(o,a){for(let l=0;l<o.length;l++){const u=i(o[l],a,l,o);l=Math.max(-1,l+u)}}s(n,"u$1");function i(o,a=null,l=null,u=null){let c=0,h=!1;const f={node:o,parent:a,key:l,container:u,root:e,remove(){Tf(u).splice(Math.max(0,hl(l)+c),1),c--,h=!0},removeAllNextSiblings(){return Tf(u).splice(hl(l)+1)},removeAllPrevSiblings(){const M=hl(l)+c;return c-=M,Tf(u).splice(0,Math.max(0,M))},replaceWith(M,I={}){const R=!!I.traverse;u?u[Math.max(0,hl(l)+c)]=M:cu(a,"Can't replace root node")[l]=M,R&&i(M,a,l,u),h=!0},replaceWithMultiple(M,I={}){const R=!!I.traverse;if(Tf(u).splice(Math.max(0,hl(l)+c),1,...M),c+=M.length-1,R){let L=0;for(let P=0;P<M.length;P++)L+=i(M[P],a,hl(l)+P+L,u)}h=!0},skip(){h=!0}},{type:v}=o,m=t["*"],w=t[v],_=typeof m=="function"?m:m?.enter,A=typeof w=="function"?w:w?.enter;if(_?.(f,r),A?.(f,r),!h)switch(v){case"AbsenceFunction":case"CapturingGroup":case"Group":n(o.body,o);break;case"Alternative":case"CharacterClass":n(o.body,o);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":i(o.min,o,"min"),i(o.max,o,"max");break;case"LookaroundAssertion":n(o.body,o);break;case"Quantifier":i(o.body,o,"body");break;case"Regex":n(o.body,o),i(o.flags,o,"flags");break;default:throw new Error(`Unexpected node type "${v}"`)}return w?.exit?.(f,r),m?.exit?.(f,r),c}return s(i,"n"),i(e),e}s(dc,"S$1");function Tf(e){if(!Array.isArray(e))throw new Error("Container expected");return e}s(Tf,"f");function hl(e){if(typeof e!="number")throw new Error("Numeric key expected");return e}s(hl,"l");const tfe=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function rfe(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}s(rfe,"incrementIfAtLeast$1");function nfe(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}s(nfe,"spliceStr");const Mi=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function m6(e,t,r,n){const i=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),o=[!1];let a=0,l="";for(const u of e.matchAll(i)){const{0:c,groups:{$skip:h}}=u;if(!h&&(!n||n===Mi.DEFAULT==!a)){r instanceof Function?l+=r(u,{context:a?Mi.CHAR_CLASS:Mi.DEFAULT,negated:o[o.length-1]}):l+=r;continue}c[0]==="["?(a++,o.push(c[1]==="^")):c==="]"&&a&&(a--,o.pop()),l+=c}return l}s(m6,"replaceUnescaped");function Cj(e,t,r,n){m6(e,t,r,n)}s(Cj,"forEachUnescaped");function ife(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;const i=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");i.lastIndex=r;let o=0,a;for(;a=i.exec(e);){const{0:l,groups:{$skip:u}}=a;if(!u&&(!n||n===Mi.DEFAULT==!o))return a;l==="["?o++:l==="]"&&o&&o--,i.lastIndex==a.index&&i.lastIndex++}return null}s(ife,"execUnescaped");function Af(e,t,r){return!!ife(e,t,0,r)}s(Af,"hasUnescaped");function sfe(e,t){const r=/\\?./gsu;r.lastIndex=t;let n=e.length,i=0,o=1,a;for(;a=r.exec(e);){const[l]=a;if(l==="[")i++;else if(i)l==="]"&&i--;else if(l==="(")o++;else if(l===")"&&(o--,!o)){n=a.index;break}}return e.slice(t,n)}s(sfe,"getGroupContents");const O_=new RegExp(String.raw`(?<noncapturingStart>${tfe})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function afe(e,t){const r=t?.hiddenCaptures??[];let n=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:r};const i="(?>",o="(?:(?=(",a=[0],l=[];let u=0,c=0,h=NaN,f;do{f=!1;let v=0,m=0,w=!1,_;for(O_.lastIndex=Number.isNaN(h)?0:h+o.length;_=O_.exec(e);){const{0:A,index:M,groups:{capturingStart:I,noncapturingStart:R}}=_;if(A==="[")v++;else if(v)A==="]"&&v--;else if(A===i&&!w)h=M,w=!0;else if(w&&R)m++;else if(I)w?m++:(u++,a.push(u+c));else if(A===")"&&w){if(!m){c++;const L=u+c;if(e=`${e.slice(0,h)}${o}${e.slice(h+i.length,M)}))<$$${L}>)${e.slice(M+1)}`,f=!0,l.push(L),rfe(r,L),n.size){const P=new Map;n.forEach((F,Z)=>{P.set(Z>=L?Z+1:Z,F.map(G=>G>=L?G+1:G))}),n=P}break}m--}}}while(f);return r.push(...l),e=m6(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:v,groups:{backrefNum:m,wrappedBackrefNum:w}})=>{if(m){const _=+m;if(_>a.length-1)throw new Error(`Backref "${v}" greater than number of captures`);return`\\${a[_]}`}return`\\${w}`},Mi.DEFAULT),{pattern:e,captureTransfers:n,hiddenCaptures:r}}s(afe,"atomic");const Mj=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,h1=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${Mj})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function ofe(e){if(!new RegExp(`${Mj}\\+`).test(e))return{pattern:e};const t=[];let r=null,n=null,i="",o=0,a;for(h1.lastIndex=0;a=h1.exec(e);){const{0:l,index:u,groups:{qBase:c,qMod:h,invalidQ:f}}=a;if(l==="[")o||(n=u),o++;else if(l==="]")o?o--:n=null;else if(!o)if(h==="+"&&i&&!i.startsWith("(")){if(f)throw new Error(`Invalid quantifier "${l}"`);let v=-1;if(/^\{\d+\}$/.test(c))e=nfe(e,u+c.length,h,"");else{if(i===")"||i==="]"){const m=i===")"?r:n;if(m===null)throw new Error(`Invalid unmatched "${i}"`);e=`${e.slice(0,m)}(?>${e.slice(m,u)}${c})${e.slice(u+l.length)}`}else e=`${e.slice(0,u-i.length)}(?>${i}${c})${e.slice(u+l.length)}`;v+=4}h1.lastIndex+=v}else l[0]==="("?t.push(u):l===")"&&(r=t.length?t.pop():null);i=l}return{pattern:e}}s(ofe,"possessive");const Ai=String.raw,lfe=Ai`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,lb=Ai`\(\?R=(?<rDepth>[^\)]+)\)|${lfe}`,Dp=Ai`\(\?<(?![=!])(?<captureName>[^>]+)>`,Ij=Ai`${Dp}|(?<unnamed>\()(?!\?)`,fo=new RegExp(Ai`${Dp}|${lb}|\(\?|\\?.`,"gsu"),p1="Cannot use multiple overlapping recursions";function ufe(e,t){const{hiddenCaptures:r,mode:n}={hiddenCaptures:[],mode:"plugin",...t};let i=t?.captureTransfers??new Map;if(!new RegExp(lb,"su").test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:r};if(n==="plugin"&&Af(e,Ai`\(\?\(DEFINE\)`,Mi.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const o=[],a=Af(e,Ai`\\[1-9]`,Mi.DEFAULT),l=new Map,u=[];let c=!1,h=0,f=0,v;for(fo.lastIndex=0;v=fo.exec(e);){const{0:m,groups:{captureName:w,rDepth:_,gRNameOrNum:A,gRDepth:M}}=v;if(m==="[")h++;else if(h)m==="]"&&h--;else if(_){if(R_(_),c)throw new Error(p1);if(a)throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const I=e.slice(0,v.index),R=e.slice(fo.lastIndex);if(Af(R,lb,Mi.DEFAULT))throw new Error(p1);const L=+_-1;e=j_(I,R,L,!1,r,o,f),i=P_(i,I,L,o.length,0,f);break}else if(A){R_(M);let I=!1;for(const d of u)if(d.name===A||d.num===+A){if(I=!0,d.hasRecursedWithin)throw new Error(p1);break}if(!I)throw new Error(Ai`Recursive \g cannot be used outside the referenced group "${n==="external"?A:Ai`\g<${A}&R=${M}>`}"`);const R=l.get(A),L=sfe(e,R);if(a&&Af(L,Ai`${Dp}|\((?!\?)`,Mi.DEFAULT))throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const P=e.slice(R,v.index),F=L.slice(P.length+m.length),Z=o.length,G=+M-1,se=j_(P,F,G,!0,r,o,f);i=P_(i,P,G,o.length-Z,Z,f);const U=e.slice(0,R),X=e.slice(R+L.length);e=`${U}${se}${X}`,fo.lastIndex+=se.length-m.length-P.length-F.length,u.forEach(d=>d.hasRecursedWithin=!0),c=!0}else if(w)f++,l.set(String(f),fo.lastIndex),l.set(w,fo.lastIndex),u.push({num:f,name:w});else if(m[0]==="("){const I=m==="(";I&&(f++,l.set(String(f),fo.lastIndex)),u.push(I?{num:f}:{})}else m===")"&&u.pop()}return r.push(...o),{pattern:e,captureTransfers:i,hiddenCaptures:r}}s(ufe,"recursion");function R_(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}s(R_,"assertMaxInBounds");function j_(e,t,r,n,i,o,a){const l=new Set;n&&Cj(e+t,Dp,({groups:{captureName:c}})=>{l.add(c)},Mi.DEFAULT);const u=[r,n?l:null,i,o,a];return`${e}${L_(`(?:${e}`,"forward",...u)}(?:)${L_(`${t})`,"backward",...u)}${t}`}s(j_,"makeRecursive");function L_(e,t,r,n,i,o,a){const u=s(h=>t==="forward"?h+2:r-h+2-1,"getDepthNum");let c="";for(let h=0;h<r;h++){const f=u(h);c+=m6(e,Ai`${Ij}|\\k<(?<backref>[^>]+)>`,({0:v,groups:{captureName:m,unnamed:w,backref:_}})=>{if(_&&n&&!n.has(_))return v;const A=`_$${f}`;if(w||m){const M=a+o.length+1;return o.push(M),cfe(i,M),w?v:`(?<${m}${A}>`}return Ai`\k<${_}${A}>`},Mi.DEFAULT)}return c}s(L_,"repeatWithDepth");function cfe(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}s(cfe,"incrementIfAtLeast");function P_(e,t,r,n,i,o){if(e.size&&n){let a=0;Cj(t,Ij,()=>a++,Mi.DEFAULT);const l=o-a+i,u=new Map;return e.forEach((c,h)=>{const f=(n-a*r)/r,v=a*r,m=h>l+a?h+n:h,w=[];for(const _ of c)if(_<=l)w.push(_);else if(_>l+a+f)w.push(_+n);else if(_<=l+a)for(let A=0;A<=r;A++)w.push(_+a*A);else for(let A=0;A<=r;A++)w.push(_+v+f*A);u.set(m,w)}),u}return e}s(P_,"mapCaptureTransfers");var pn=String.fromCodePoint,Xt=String.raw,ua={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};ua.bugFlagVLiteralHyphenIsRange=ua.unicodeSets?(()=>{try{new RegExp(Xt`[\d\-a]`,"v")}catch{return!0}return!1})():!1;ua.bugNestedClassIgnoresNegation=ua.unicodeSets&&new RegExp("[[^a]]","v").test("a");function r0(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}s(r0,"getNewCurrentFlags");function qc(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}s(qc,"getOrInsert");function ub(e,t){return D_[e]>=D_[t]}s(ub,"isMinTarget");function dfe(e,t){if(e==null)throw new Error(t??"Value expected");return e}s(dfe,"throwIfNullish");var D_={ES2025:2025,ES2024:2024,ES2018:2018},ffe={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Oj(e={}){if({}.toString.call(e)!=="[object Object]")throw new Error("Unexpected options");if(e.target!==void 0&&!ffe[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return t.target==="auto"&&(t.target=ua.flagGroups?"ES2025":ua.unicodeSets?"ES2024":"ES2018"),t}s(Oj,"getOptions");var hfe="[	-\r ]",pfe=new Set([pn(304),pn(305)]),Js=Xt`[\p{L}\p{M}\p{N}\p{Pc}]`;function Rj(e){if(pfe.has(e))return[e];const t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),i=vfe.get(r),o=mfe.get(r),a=gfe.get(r);return[...n].length===1&&t.add(n),a&&t.add(a),i&&t.add(i),t.add(r),o&&t.add(o),[...t]}s(Rj,"getIgnoreCaseMatchChars");var g6=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[Pp(e),e])),mfe=new Map([["s",pn(383)],[pn(383),"s"]]),gfe=new Map([[pn(223),pn(7838)],[pn(107),pn(8490)],[pn(229),pn(8491)],[pn(969),pn(8486)]]),vfe=new Map([Na(453),Na(456),Na(459),Na(498),...m1(8072,8079),...m1(8088,8095),...m1(8104,8111),Na(8124),Na(8140),Na(8188)]),bfe=new Map([["alnum",Xt`[\p{Alpha}\p{Nd}]`],["alpha",Xt`\p{Alpha}`],["ascii",Xt`\p{ASCII}`],["blank",Xt`[\p{Zs}\t]`],["cntrl",Xt`\p{Cc}`],["digit",Xt`\p{Nd}`],["graph",Xt`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",Xt`\p{Lower}`],["print",Xt`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",Xt`[\p{P}\p{S}]`],["space",Xt`\p{space}`],["upper",Xt`\p{Upper}`],["word",Xt`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",Xt`\p{AHex}`]]);function yfe(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}s(yfe,"range");function Na(e){const t=pn(e);return[t.toLowerCase(),t]}s(Na,"titleEntry");function m1(e,t){return yfe(e,t).map(r=>Na(r))}s(m1,"titleRange");var jj=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function wfe(e,t){const r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};Lj(e);const n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:ub(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};dc(e,xfe,n);const i={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},o={currentFlags:i,prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};dc(e,_fe,o);const a={groupsByName:o.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:o.reffedNodesByReferencer};return dc(e,Efe,a),e._originMap=o.groupOriginByCopy,e._strategy=n.strategy,e}s(wfe,"transform");var xfe={AbsenceFunction({node:e,parent:t,replaceWith:r}){const{body:n,kind:i}=e;if(i==="repeater"){const o=Gi();o.body[0].body.push(mo({negate:!0,body:n}),yl("Any"));const a=Gi();a.body[0].body.push(Tj("greedy",0,1/0,o)),r(qr(a,t),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){const i=e.body.filter(o=>o.kind==="flags");for(let o=r+1;o<t.body.length;o++){const a=t.body[o];qc(n,a,[]).push(...i)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){const r=Dj(t.get(e));if(r){const n=Gi({flags:r});n.body[0].body=e.body,e.body=[qr(n,e)]}}}},Assertion({node:e,parent:t,key:r,container:n,root:i,remove:o,replaceWith:a},l){const{kind:u,negate:c}=e,{asciiWordBoundaries:h,avoidSubclass:f,supportedGNodes:v,wordIsAscii:m}=l;if(u==="text_segment_boundary")throw new Error(`Unsupported text segment boundary "\\${c?"Y":"y"}"`);if(u==="line_end")a(qr(mo({body:[Fo({body:[sb("string_end")]}),Fo({body:[Lp(10)]})]}),t));else if(u==="line_start")a(qr(Ws(Xt`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(u==="search_start")if(v.has(e))i.flags.sticky=!0,o();else{const w=n[r-1];if(w&&Cfe(w))a(qr(mo({negate:!0}),t));else{if(f)throw new Error(Xt`Uses "\G" in a way that requires a subclass`);a(Ca(sb("string_start"),t)),l.strategy="clip_search"}}else if(!(u==="string_end"||u==="string_start"))if(u==="string_end_newline")a(qr(Ws(Xt`(?=\n?\z)`),t));else if(u==="word_boundary"){if(!m&&!h){const w=`(?:(?<=${Js})(?!${Js})|(?<!${Js})(?=${Js}))`,_=`(?:(?<=${Js})(?=${Js})|(?<!${Js})(?!${Js}))`;a(qr(Ws(c?_:w),t))}}else throw new Error(`Unexpected assertion kind "${u}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!v1(r)&&(r=g1(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!v1(n)&&(n=g1(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){if(t.kind==="intersection"){const n=Yf({body:[e]});r(qr(n,t),{traverse:!0})}},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:i,digitIsAscii:o,spaceIsAscii:a,wordIsAscii:l}){const{kind:u,negate:c,value:h}=e;if(o&&(u==="digit"||h==="digit")){r(Ca(ob("digit",{negate:c}),t));return}if(a&&(u==="space"||h==="space")){r(qr(b1(Ws(hfe),c),t));return}if(l&&(u==="word"||h==="word")){r(Ca(ob("word",{negate:c}),t));return}if(u==="any")r(Ca(yl("Any"),t));else if(u==="digit")r(Ca(yl("Nd",{negate:c}),t));else if(u!=="dot")if(u==="text_segment"){if(n==="strict")throw new Error(Xt`Use of "\X" requires non-strict accuracy`);const f="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",v=Xt`\p{RI}{2}|${f}(?:\u200D${f})*`;r(qr(Ws(Xt`(?>\r\n|${i?Xt`\p{RGI_Emoji}`:v}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(u==="hex")r(Ca(yl("AHex",{negate:c}),t));else if(u==="newline")r(qr(Ws(c?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),t));else if(u==="posix")if(!i&&(h==="graph"||h==="print")){if(n==="strict")throw new Error(`POSIX class "${h}" requires min target ES2024 or non-strict accuracy`);let f={graph:"!-~",print:" -~"}[h];c&&(f=`\0-${pn(f.codePointAt(0)-1)}${pn(f.codePointAt(2)+1)}-`),r(qr(Ws(`[${f}]`),t))}else r(qr(b1(Ws(bfe.get(h)),c),t));else if(u==="property")g6.has(Pp(h))||(e.key="sc");else if(u==="space")r(Ca(yl("space",{negate:c}),t));else if(u==="word")r(qr(b1(Ws(Js),c),t));else throw new Error(`Unexpected character set kind "${u}"`)},Directive({node:e,parent:t,root:r,remove:n,replaceWith:i,removeAllPrevSiblings:o,removeAllNextSiblings:a}){const{kind:l,flags:u}=e;if(l==="flags")if(!u.enable&&!u.disable)n();else{const c=Gi({flags:u});c.body[0].body=a(),i(qr(c,t),{traverse:!0})}else if(l==="keep"){const c=r.body[0],f=r.body.length===1&&Ej(c,{type:"Group"})&&c.body[0].body.length===1?c.body[0]:r;if(t.parent!==f||f.body.length>1)throw new Error(Xt`Uses "\K" in a way that's unsupported`);const v=mo({behind:!0});v.body[0].body=o(),i(qr(v,t))}else throw new Error(`Unexpected directive kind "${l}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');if(e.textSegmentMode==="word")throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(r=>delete e[r]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){const{kind:r}=e;r==="lookbehind"&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:r}){const{kind:n}=e;if(n==="fail")r(qr(mo({negate:!0}),t));else throw new Error(`Unsupported named callout "(*${n.toUpperCase()}"`)},Quantifier({node:e}){if(e.body.type==="Quantifier"){const t=Gi();t.body[0].body.push(e.body),e.body=qr(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){const r=[];let n=!1,i=!1;for(const o of e.body)if(o.body.length===1&&o.body[0].kind==="search_start")o.body.pop();else{const a=zj(o.body);a?(n=!0,Array.isArray(a)?r.push(...a):r.push(a)):i=!0}n&&!i&&r.forEach(o=>t.add(o))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if(t==="strict"&&r&&n)throw new Error(Xt`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!v1(r)&&(r=g1(r,t),e.ref=r)}},_fe={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){const{orphan:n,ref:i}=e;n||r.set(e,[...t.get(i).map(({node:o})=>o)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:i,groupsByName:o,multiplexCapturesToLeftByRef:a,openRefs:l,reffedNodesByReferencer:u}){const c=i.get(e);if(c&&l.has(e.number)){const f=Ca(B_(e.number),t);u.set(f,l.get(e.number)),r(f);return}l.set(e.number,e),a.set(e.number,[]),e.name&&qc(a,e.name,[]);const h=a.get(e.name??e.number);for(let f=0;f<h.length;f++){const v=h[f];if(c===v.node||c&&c===v.origin||e===v.origin){h.splice(f,1);break}}if(a.get(e.number).push({node:e,origin:c}),e.name&&a.get(e.name).push({node:e,origin:c}),e.name){const f=qc(o,e.name,new Map);let v=!1;if(c)v=!0;else for(const m of f.values())if(!m.hasDuplicateNameToRemove){v=!0;break}o.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:v})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=r0(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:r},n){const{isRecursive:i,ref:o}=e;if(i){let h=t;for(;(h=h.parent)&&!(h.type==="CapturingGroup"&&(h.name===o||h.number===o)););n.reffedNodesByReferencer.set(e,h);return}const a=n.subroutineRefMap.get(o),l=o===0,u=l?B_(0):Pj(a,n.groupOriginByCopy,null);let c=u;if(!l){const h=Dj(Tfe(a,v=>v.type==="Group"&&!!v.flags)),f=h?r0(n.globalFlags,h):n.globalFlags;Sfe(f,n.currentFlags)||(c=Gi({flags:Afe(f)}),c.body[0].body.push(u))}r(qr(c,t),{traverse:!l})}},Efe={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}const o=n.reffedNodesByReferencer.get(e).filter(a=>kfe(a,e));if(!o.length)r(qr(mo({negate:!0}),t));else if(o.length>1){const a=Gi({atomic:!0,body:o.reverse().map(l=>Fo({body:[ab(l.number)]}))});r(qr(a,t))}else e.ref=o[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){const r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let n=0;n<r;n++){const i=kj();e.body.at(-1).body.push(i)}}},Subroutine({node:e},t){!e.isRecursive||e.ref===0||(e.ref=t.reffedNodesByReferencer.get(e).number)}};function Lj(e){dc(e,{"*"({node:t,parent:r}){t.parent=r}})}s(Lj,"addParentProperties");function Sfe(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}s(Sfe,"areFlagsEqual");function kfe(e,t){let r=t;do{if(r.type==="Regex")return!1;if(r.type==="Alternative")continue;if(r===e)return!1;const n=Bj(r.parent);for(const i of n){if(i===r)break;if(i===e||Uj(i,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}s(kfe,"canParticipateWithNode");function Pj(e,t,r,n){const i=Array.isArray(e)?[]:{};for(const[o,a]of Object.entries(e))o==="parent"?i.parent=Array.isArray(r)?n:r:a&&typeof a=="object"?i[o]=Pj(a,t,i,r):(o==="type"&&a==="CapturingGroup"&&t.set(i,t.get(e)??e),i[o]=a);return i}s(Pj,"cloneCapturingGroup");function B_(e){const t=Aj(e);return t.isRecursive=!0,t}s(B_,"createRecursion");function Tfe(e,t){const r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}s(Tfe,"getAllParents");function g1(e,t){if(t.has(e))return t.get(e);const r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}s(g1,"getAndStoreJsGroupName");function Dj(e){const t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:n})=>{t.forEach(i=>{n.enable?.[i]&&(delete r.disable[i],r.enable[i]=!0),n.disable?.[i]&&(r.disable[i]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}s(Dj,"getCombinedFlagModsFromFlagNodes");function Afe({dotAll:e,ignoreCase:t}){const r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),(!e||!t)&&(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}s(Afe,"getFlagModsFromFlags");function Bj(e){if(!e)throw new Error("Node expected");const{body:t}=e;return Array.isArray(t)?t:t?[t]:null}s(Bj,"getKids");function zj(e){const t=e.find(r=>r.kind==="search_start"||Mfe(r,{negate:!1})||!Nfe(r));if(!t)return null;if(t.kind==="search_start")return t;if(t.type==="LookaroundAssertion")return t.body[0].body[0];if(t.type==="CapturingGroup"||t.type==="Group"){const r=[];for(const n of t.body){const i=zj(n.body);if(!i)return null;Array.isArray(i)?r.push(...i):r.push(i)}return r}return null}s(zj,"getLeadingG");function Uj(e,t){const r=Bj(e)??[];for(const n of r)if(n===t||Uj(n,t))return!0;return!1}s(Uj,"isAncestorOf");function Nfe({type:e}){return e==="Assertion"||e==="Directive"||e==="LookaroundAssertion"}s(Nfe,"isAlwaysZeroLength");function Cfe(e){const t=["Character","CharacterClass","CharacterSet"];return t.includes(e.type)||e.type==="Quantifier"&&e.min&&t.includes(e.body.type)}s(Cfe,"isAlwaysNonZeroLength");function Mfe(e,t){const r={negate:null,...t};return e.type==="LookaroundAssertion"&&(r.negate===null||e.negate===r.negate)&&e.body.length===1&&Ej(e.body[0],{type:"Assertion",kind:"search_start"})}s(Mfe,"isLoneGLookaround");function v1(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}s(v1,"isValidJsGroupName");function Ws(e,t){const n=Sj(e,{...t,unicodePropertyMap:g6}).body;return n.length>1||n[0].body.length>1?Gi({body:n}):n[0].body[0]}s(Ws,"parseFragment");function b1(e,t){return e.negate=t,e}s(b1,"setNegate");function Ca(e,t){return e.parent=t,e}s(Ca,"setParent");function qr(e,t){return Lj(e),e.parent=t,e}s(qr,"setParentDeep");function Ife(e,t){const r=Oj(t),n=ub(r.target,"ES2024"),i=ub(r.target,"ES2025"),o=r.rules.recursionLimit;if(!Number.isInteger(o)||o<2||o>20)throw new Error("Invalid recursionLimit; use 2-20");let a=null,l=null;if(!i){const m=[e.flags.ignoreCase];dc(e,Ofe,{getCurrentModI:s(()=>m.at(-1),"getCurrentModI"),popModI(){m.pop()},pushModI(w){m.push(w)},setHasCasedChar(){m.at(-1)?a=!0:l=!0}})}const u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||a)&&!l)};let c=e;const h={accuracy:r.accuracy,appliedGlobalFlags:u,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:e._originMap,recursionLimit:o,useAppliedIgnoreCase:!!(!i&&a&&l),useFlagMods:i,useFlagV:n,verbose:r.verbose};function f(m){return h.lastNode=c,c=m,dfe(Rfe[m.type],`Unexpected node type "${m.type}"`)(m,h,f)}s(f,"gen");const v={pattern:e.body.map(f).join("|"),flags:f(e.flags),options:{...e.options}};return n||(delete v.options.force.v,v.options.disable.v=!0,v.options.unicodeSetsPlugin=null),v._captureTransfers=new Map,v._hiddenCaptures=[],h.captureMap.forEach((m,w)=>{m.hidden&&v._hiddenCaptures.push(w),m.transferTo&&qc(v._captureTransfers,m.transferTo,[]).push(w)}),v}s(Ife,"generate");var Ofe={"*":{enter({node:e},t){if(U_(e)){const r=t.getCurrentModI();t.pushModI(e.flags?r0({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){U_(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){v6(pn(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),Fj(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind==="property"&&jj.has(e.value)&&t.setHasCasedChar()}},Rfe={Alternative({body:e},t,r){return e.map(r).join("")},Assertion({kind:e,negate:t}){if(e==="string_end")return"$";if(e==="string_start")return"^";if(e==="word_boundary")return t?Xt`\B`:Xt`\b`;throw new Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,r){const{body:n,name:i,number:o}=e,a={ignoreCase:t.currentFlags.ignoreCase},l=t.originMap.get(e);return l&&(a.hidden=!0,o>l.number&&(a.transferTo=l.number)),t.captureMap.set(o,a),`(${i?`?<${i}>`:""}${n.map(r).join("|")})`},Character({value:e},t){const r=pn(e),n=pl(e,{escDigit:t.lastNode.type==="Backreference",inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&v6(r)){const i=Rj(r);return t.inCharClass?i.join(""):i.length>1?`[${i.join("")}]`:i[0]}return r},CharacterClass(e,t,r){const{kind:n,negate:i,parent:o}=e;let{body:a}=e;if(n==="intersection"&&!t.useFlagV)throw new Error("Use of class intersection requires min target ES2024");ua.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&a.some(F_)&&(a=[Lp(45),...a.filter(c=>!F_(c))]);const l=s(()=>`[${i?"^":""}${a.map(r).join(n==="intersection"?"&&":"")}]`,"genClass");if(!t.inCharClass){if((!t.useFlagV||ua.bugNestedClassIgnoresNegation)&&!i){const h=a.filter(f=>f.type==="CharacterClass"&&f.kind==="union"&&f.negate);if(h.length){const f=Gi(),v=f.body[0];return f.parent=o,v.parent=f,a=a.filter(m=>!h.includes(m)),e.body=a,a.length?(e.parent=v,v.body.push(e)):f.body.pop(),h.forEach(m=>{const w=Fo({body:[m]});m.parent=w,w.parent=f,f.body.push(w)}),r(f)}}t.inCharClass=!0;const c=l();return t.inCharClass=!1,c}const u=a[0];if(n==="union"&&!i&&u&&((!t.useFlagV||!t.verbose)&&o.kind==="union"&&!(ua.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&o.kind==="intersection"&&a.length===1&&u.type!=="CharacterClassRange"))return a.map(r).join("");if(!t.useFlagV&&o.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return l()},CharacterClassRange(e,t){const r=e.min.value,n=e.max.value,i={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},o=pl(r,i),a=pl(n,i),l=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){const u=Fj(e);Bfe(u).forEach(h=>{l.add(Array.isArray(h)?`${pl(h[0],i)}-${pl(h[1],i)}`:pl(h,i))})}return`${o}-${a}${[...l].join("")}`},CharacterSet({kind:e,negate:t,value:r,key:n},i){if(e==="dot")return i.currentFlags.dotAll?i.appliedGlobalFlags.dotAll||i.useFlagMods?".":"[^]":Xt`[^\n]`;if(e==="digit")return t?Xt`\D`:Xt`\d`;if(e==="property"){if(i.useAppliedIgnoreCase&&i.currentFlags.ignoreCase&&jj.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?Xt`\P`:Xt`\p`}{${n?`${n}=`:""}${r}}`}if(e==="word")return t?Xt`\W`:Xt`\w`;throw new Error(`Unexpected character set kind "${e}"`)},Flags(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")},Group({atomic:e,body:t,flags:r,parent:n},i,o){const a=i.currentFlags;r&&(i.currentFlags=r0(a,r));const l=t.map(o).join("|"),u=!i.verbose&&t.length===1&&n.type!=="Quantifier"&&!e&&(!i.useFlagMods||!r)?l:`(?${zfe(e,r,i.useFlagMods)}${l})`;return i.currentFlags=a,u},LookaroundAssertion({body:e,kind:t,negate:r},n,i){return`(?${`${t==="lookahead"?"":"<"}${r?"!":"="}`}${e.map(i).join("|")})`},Quantifier(e,t,r){return r(e.body)+Ufe(e)},Subroutine({isRecursive:e,ref:t},r){if(!e)throw new Error("Unexpected non-recursive subroutine in transformed AST");const n=r.recursionLimit;return t===0?`(?R=${n})`:Xt`\g<${t}&R=${n}>`}},jfe=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Lfe=new Set(["-","\\","]","^","["]),Pfe=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),z_=new Map([[9,Xt`\t`],[10,Xt`\n`],[11,Xt`\v`],[12,Xt`\f`],[13,Xt`\r`],[8232,Xt`\u2028`],[8233,Xt`\u2029`],[65279,Xt`\uFEFF`]]),Dfe=/^\p{Cased}$/u;function v6(e){return Dfe.test(e)}s(v6,"charHasCase");function Fj(e,t){const r=!!t?.firstOnly,n=e.min.value,i=e.max.value,o=[];if(n<65&&(i===65535||i>=131071)||n===65536&&i>=131071)return o;for(let a=n;a<=i;a++){const l=pn(a);if(!v6(l))continue;const u=Rj(l).filter(c=>{const h=c.codePointAt(0);return h<n||h>i});if(u.length&&(o.push(...u),r))break}return o}s(Fj,"getCasesOutsideCharClassRange");function pl(e,{escDigit:t,inCharClass:r,useFlagV:n}){if(z_.has(e))return z_.get(e);if(e<32||e>126&&e<160||e>262143||t&&Ffe(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const i=r?n?Pfe:Lfe:jfe,o=pn(e);return(i.has(o)?"\\":"")+o}s(pl,"getCharEscape");function Bfe(e){const t=e.map(i=>i.codePointAt(0)).sort((i,o)=>i-o),r=[];let n=null;for(let i=0;i<t.length;i++)t[i+1]===t[i]+1?n??=t[i]:n===null?r.push(t[i]):(r.push([n,t[i]]),n=null);return r}s(Bfe,"getCodePointRangesFromChars");function zfe(e,t,r){if(e)return">";let n="";if(t&&r){const{enable:i,disable:o}=t;n=(i?.ignoreCase?"i":"")+(i?.dotAll?"s":"")+(o?"-":"")+(o?.ignoreCase?"i":"")+(o?.dotAll?"s":"")}return`${n}:`}s(zfe,"getGroupPrefix");function Ufe({kind:e,max:t,min:r}){let n;return!r&&t===1?n="?":!r&&t===1/0?n="*":r===1&&t===1/0?n="+":r===t?n=`{${r}}`:n=`{${r},${t===1/0?"":t}}`,n+{greedy:"",lazy:"?",possessive:"+"}[e]}s(Ufe,"getQuantifierStr");function U_({type:e}){return e==="CapturingGroup"||e==="Group"||e==="LookaroundAssertion"}s(U_,"isAnyGroup");function Ffe(e){return e>47&&e<58}s(Ffe,"isDigitCharCode");function F_({type:e,value:t}){return e==="Character"&&t===45}s(F_,"isLiteralHyphen");var $fe=class cb extends RegExp{static{s(this,"_EmulatedRegExp")}#t=new Map;#e=null;#n;#r=null;#i=null;rawOptions={};get source(){return this.#n||"(?:)"}constructor(t,r,n){const i=!!n?.lazyCompile;if(t instanceof RegExp){if(n)throw new Error("Cannot provide options when copying a regexp");const o=t;super(o,r),this.#n=o.source,o instanceof cb&&(this.#t=o.#t,this.#r=o.#r,this.#i=o.#i,this.rawOptions=o.rawOptions)}else{const o={hiddenCaptures:[],strategy:null,transfers:[],...n};super(i?"":t,r),this.#n=t,this.#t=Vfe(o.hiddenCaptures,o.transfers),this.#i=o.strategy,this.rawOptions=n??{}}i||(this.#e=this)}exec(t){if(!this.#e){const{lazyCompile:i,...o}=this.rawOptions;this.#e=new cb(this.#n,this.flags,o)}const r=this.global||this.sticky,n=this.lastIndex;if(this.#i==="clip_search"&&r&&n){this.lastIndex=0;const i=this.#s(t.slice(n));return i&&(Hfe(i,n,t,this.hasIndices),this.lastIndex+=n),i}return this.#s(t)}#s(t){this.#e.lastIndex=this.lastIndex;const r=super.exec.call(this.#e,t);if(this.lastIndex=this.#e.lastIndex,!r||!this.#t.size)return r;const n=[...r];r.length=1;let i;this.hasIndices&&(i=[...r.indices],r.indices.length=1);const o=[0];for(let a=1;a<n.length;a++){const{hidden:l,transferTo:u}=this.#t.get(a)??{};if(l?o.push(null):(o.push(r.length),r.push(n[a]),this.hasIndices&&r.indices.push(i[a])),u&&n[a]!==void 0){const c=o[u];if(!c)throw new Error(`Invalid capture transfer to "${c}"`);if(r[c]=n[a],this.hasIndices&&(r.indices[c]=i[a]),r.groups){this.#r||(this.#r=Gfe(this.source));const h=this.#r.get(u);h&&(r.groups[h]=n[a],this.hasIndices&&(r.indices.groups[h]=i[a]))}}}return r}};function Hfe(e,t,r,n){if(e.index+=t,e.input=r,n){const i=e.indices;for(let a=0;a<i.length;a++){const l=i[a];l&&(i[a]=[l[0]+t,l[1]+t])}const o=i.groups;o&&Object.keys(o).forEach(a=>{const l=o[a];l&&(o[a]=[l[0]+t,l[1]+t])})}}s(Hfe,"adjustMatchDetailsForOffset");function Vfe(e,t){const r=new Map;for(const n of e)r.set(n,{hidden:!0});for(const[n,i]of t)for(const o of i)qc(r,o,{}).transferTo=n;return r}s(Vfe,"createCaptureMap");function Gfe(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,r=new Map;let n=0,i=0,o;for(;o=t.exec(e);){const{0:a,groups:{capture:l,name:u}}=o;a==="["?n++:n?a==="]"&&n--:l&&(i++,u&&r.set(i,u))}return r}s(Gfe,"createNameMap");function Zfe(e,t){const r=Jfe(e,t);return r.options?new $fe(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}s(Zfe,"toRegExp");function Jfe(e,t){const r=Oj(t),n=Sj(e,{flags:r.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline},skipBackrefValidation:r.rules.allowOrphanBackrefs,unicodePropertyMap:g6}),i=wfe(n,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),o=Ife(i,r),a=ufe(o.pattern,{captureTransfers:o._captureTransfers,hiddenCaptures:o._hiddenCaptures,mode:"external"}),l=ofe(a.pattern),u=afe(l.pattern,{captureTransfers:a.captureTransfers,hiddenCaptures:a.hiddenCaptures}),c={pattern:u.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${o.flags}${o.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const h=u.hiddenCaptures.sort((w,_)=>w-_),f=Array.from(u.captureTransfers),v=i._strategy,m=c.pattern.length>=r.lazyCompileLength;(h.length||f.length||v||m)&&(c.options={...h.length&&{hiddenCaptures:h},...f.length&&{transfers:f},...v&&{strategy:v},...m&&{lazyCompile:m}})}return c}s(Jfe,"toRegExpDetails");const $_=4294967295;class Wfe{static{s(this,"JavaScriptScanner")}constructor(t,r={}){this.patterns=t,this.options=r;const{forgiving:n=!1,cache:i,regexConstructor:o}=r;if(!o)throw new Error("Option `regexConstructor` is not provided");this.regexps=t.map(a=>{if(typeof a!="string")return a;const l=i?.get(a);if(l){if(l instanceof RegExp)return l;if(n)return null;throw l}try{const u=o(a);return i?.set(a,u),u}catch(u){if(i?.set(a,u),n)return null;throw u}})}regexps;findNextMatchSync(t,r,n){const i=typeof t=="string"?t:t.content,o=[];function a(l,u,c=0){return{index:l,captureIndices:u.indices.map(h=>h==null?{start:$_,end:$_,length:0}:{start:h[0]+c,end:h[1]+c,length:h[1]-h[0]})}}s(a,"toResult");for(let l=0;l<this.regexps.length;l++){const u=this.regexps[l];if(u)try{u.lastIndex=r;const c=u.exec(i);if(!c)continue;if(c.index===r)return a(l,c,0);o.push([l,c,0])}catch(c){if(this.options.forgiving)continue;throw c}}if(o.length){const l=Math.min(...o.map(u=>u[1].index));for(const[u,c,h]of o)if(c.index===l)return a(u,c,h)}return null}}function Qfe(e,t){return Zfe(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}s(Qfe,"defaultJavaScriptRegexConstructor");function Xfe(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=r=>Qfe(r,{target:t.target}),{createScanner(r){return new Wfe(r,t)},createString(r){return{content:r}}}}s(Xfe,"createJavaScriptRegexEngine");function b6(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}s(b6,"L");var nl=b6();function $j(e){nl=e}s($j,"G$1");var fc={exec:s(()=>null,"exec")};function vr(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:s((i,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(Fn.caret,"$1"),r=r.replace(i,a),n},"replace"),getRegex:s(()=>new RegExp(r,t),"getRegex")};return n}s(vr,"h");var Fn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s(e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:s(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:s(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:s(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:s(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),"headingBeginRegex"),htmlBeginRegex:s(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},Kfe=/^(?:[ \t]*(?:\n|$))+/,qfe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Yfe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Id=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ehe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,y6=/(?:[*+-]|\d{1,9}[.)])/,Hj=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Vj=vr(Hj).replace(/bull/g,y6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),the=vr(Hj).replace(/bull/g,y6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),w6=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,rhe=/^[^\n]+/,x6=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,nhe=vr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",x6).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ihe=vr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,y6).getRegex(),Bp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_6=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,she=vr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",_6).replace("tag",Bp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Gj=vr(w6).replace("hr",Id).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bp).getRegex(),ahe=vr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Gj).getRegex(),E6={blockquote:ahe,code:qfe,def:nhe,fences:Yfe,heading:ehe,hr:Id,html:she,lheading:Vj,list:ihe,newline:Kfe,paragraph:Gj,table:fc,text:rhe},H_=vr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Id).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bp).getRegex(),ohe={...E6,lheading:the,table:H_,paragraph:vr(w6).replace("hr",Id).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",H_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bp).getRegex()},lhe={...E6,html:vr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_6).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:fc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:vr(w6).replace("hr",Id).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Vj).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},uhe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,che=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Zj=/^( {2,}|\\)\n(?!\s*$)/,dhe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,zp=/[\p{P}\p{S}]/u,S6=/[\s\p{P}\p{S}]/u,Jj=/[^\s\p{P}\p{S}]/u,fhe=vr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,S6).getRegex(),Wj=/(?!~)[\p{P}\p{S}]/u,hhe=/(?!~)[\s\p{P}\p{S}]/u,phe=/(?:[^\s\p{P}\p{S}]|~)/u,mhe=vr(/link|code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<!`)(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("code",/(?<!`)(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Qj=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ghe=vr(Qj,"u").replace(/punct/g,zp).getRegex(),vhe=vr(Qj,"u").replace(/punct/g,Wj).getRegex(),Xj="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",bhe=vr(Xj,"gu").replace(/notPunctSpace/g,Jj).replace(/punctSpace/g,S6).replace(/punct/g,zp).getRegex(),yhe=vr(Xj,"gu").replace(/notPunctSpace/g,phe).replace(/punctSpace/g,hhe).replace(/punct/g,Wj).getRegex(),whe=vr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Jj).replace(/punctSpace/g,S6).replace(/punct/g,zp).getRegex(),xhe=vr(/\\(punct)/,"gu").replace(/punct/g,zp).getRegex(),_he=vr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ehe=vr(_6).replace("(?:-->|$)","-->").getRegex(),She=vr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ehe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),n0=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,khe=vr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",n0).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Kj=vr(/^!?\[(label)\]\[(ref)\]/).replace("label",n0).replace("ref",x6).getRegex(),qj=vr(/^!?\[(ref)\](?:\[\])?/).replace("ref",x6).getRegex(),The=vr("reflink|nolink(?!\\()","g").replace("reflink",Kj).replace("nolink",qj).getRegex(),V_=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,k6={_backpedal:fc,anyPunctuation:xhe,autolink:_he,blockSkip:mhe,br:Zj,code:che,del:fc,emStrongLDelim:ghe,emStrongRDelimAst:bhe,emStrongRDelimUnd:whe,escape:uhe,link:khe,nolink:qj,punctuation:fhe,reflink:Kj,reflinkSearch:The,tag:She,text:dhe,url:fc},Ahe={...k6,link:vr(/^!?\[(label)\]\((.*?)\)/).replace("label",n0).getRegex(),reflink:vr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n0).getRegex()},db={...k6,emStrongRDelimAst:yhe,emStrongLDelim:vhe,url:vr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",V_).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:vr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",V_).getRegex()},Nhe={...db,br:vr(Zj).replace("{2,}","*").getRegex(),text:vr(db.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nf={normal:E6,gfm:ohe,pedantic:lhe},Uu={normal:k6,gfm:db,breaks:Nhe,pedantic:Ahe},Che={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G_=s(e=>Che[e],"ge$1");function us(e,t){if(t){if(Fn.escapeTest.test(e))return e.replace(Fn.escapeReplace,G_)}else if(Fn.escapeTestNoEncode.test(e))return e.replace(Fn.escapeReplaceNoEncode,G_);return e}s(us,"w");function Z_(e){try{e=encodeURI(e).replace(Fn.percentDecode,"%")}catch{return null}return e}s(Z_,"J");function J_(e,t){let r=e.replace(Fn.findPipe,(o,a,l)=>{let u=!1,c=a;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),n=r.split(Fn.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Fn.slashPipe,"|");return n}s(J_,"V$1");function Fu(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}s(Fu,"z$1");function Mhe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}s(Mhe,"fe$1");function W_(e,t,r,n,i){let o=t.href,a=t.title||null,l=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:o,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}s(W_,"me$1");function Ihe(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(o=>{let a=o.match(r.other.beginningSpace);if(a===null)return o;let[l]=a;return l.length>=i.length?o.slice(i.length):o}).join(`
`)}s(Ihe,"Ve");var i0=class{static{s(this,"y")}options;rules;lexer;constructor(e){this.options=e||nl}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Fu(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=Ihe(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let n=Fu(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Fu(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=Fu(t[0],`
`).split(`
`),n="",i="",o=[];for(;r.length>0;){let a=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),a=!0;else if(!a)l.push(r[u]);else break;r=r.slice(u);let c=l.join(`
`),h=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,i=i?`${i}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=f,r.length===0)break;let v=o.at(-1);if(v?.type==="code")break;if(v?.type==="blockquote"){let m=v,w=m.raw+`
`+r.join(`
`),_=this.blockquote(w);o[o.length-1]=_,n=n.substring(0,n.length-m.raw.length)+_.raw,i=i.substring(0,i.length-m.text.length)+_.text;break}else if(v?.type==="list"){let m=v,w=m.raw+`
`+r.join(`
`),_=this.list(w);o[o.length-1]=_,n=n.substring(0,n.length-v.raw.length)+_.raw,i=i.substring(0,i.length-m.raw.length)+_.raw,r=w.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let o=this.rules.other.listItemRegex(r),a=!1;for(;e;){let u=!1,c="",h="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,M=>" ".repeat(3*M.length)),v=e.split(`
`,1)[0],m=!f.trim(),w=0;if(this.options.pedantic?(w=2,h=f.trimStart()):m?w=t[1].length+1:(w=t[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,h=f.slice(w),w+=t[1].length),m&&this.rules.other.blankLine.test(v)&&(c+=v+`
`,e=e.substring(v.length+1),u=!0),!u){let M=this.rules.other.nextBulletRegex(w),I=this.rules.other.hrRegex(w),R=this.rules.other.fencesBeginRegex(w),L=this.rules.other.headingBeginRegex(w),P=this.rules.other.htmlBeginRegex(w);for(;e;){let F=e.split(`
`,1)[0],Z;if(v=F,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),Z=v):Z=v.replace(this.rules.other.tabCharGlobal,"    "),R.test(v)||L.test(v)||P.test(v)||M.test(v)||I.test(v))break;if(Z.search(this.rules.other.nonSpaceChar)>=w||!v.trim())h+=`
`+Z.slice(w);else{if(m||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||R.test(f)||L.test(f)||I.test(f))break;h+=`
`+v}!m&&!v.trim()&&(m=!0),c+=F+`
`,e=e.substring(F.length+1),f=Z.slice(w)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let _=null,A;this.options.gfm&&(_=this.rules.other.listIsTask.exec(h),_&&(A=_[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!_,checked:A,loose:!1,text:h,tokens:[]}),i.raw+=c}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){let c=i.items[u].tokens.filter(f=>f.type==="space"),h=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));i.loose=h}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=J_(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let a of n)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(let a of i)o.rows.push(J_(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let o=Fu(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=Mhe(t[2],"()");if(o===-2)return;if(o>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),W_(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[n.toLowerCase()];if(!i){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return W_(r,i,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let i=[...n[0]].length-1,o,a,l=i,u=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+i);(n=c.exec(t))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(a=[...o].length,n[3]||n[4]){l+=a;continue}else if((n[5]||n[6])&&i%3&&!((i+a)%3)){u+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+u);let h=[...n[0]][0].length,f=e.slice(0,i+n.index+h+a);if(Math.min(i,a)%2){let m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}let v=f.slice(2,-2);return{type:"strong",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=t[0],n="mailto:"+r;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);r=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},Ei=class fb{static{s(this,"u")}tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||nl,this.options.tokenizer=this.options.tokenizer||new i0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Fn,block:Nf.normal,inline:Uu.normal};this.options.pedantic?(r.block=Nf.pedantic,r.inline=Uu.pedantic):this.options.gfm&&(r.block=Nf.gfm,this.options.breaks?r.inline=Uu.breaks:r.inline=Uu.gfm),this.tokenizer.rules=r}static get rules(){return{block:Nf,inline:Uu}}static lex(t,r){return new fb(r).lex(t)}static lexInline(t,r){return new fb(r).inlineTokens(t)}lex(t){t=t.replace(Fn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(Fn.tabCharGlobal,"    ").replace(Fn.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let a=r.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let o=t;if(this.options.extensions?.startBlock){let a=1/0,l=t.slice(1),u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){let a=r.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i),n=o.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let o=!1,a="";for(;t;){o||(a=""),o=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);let c=r.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(t,n,a)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),r.push(l);continue}let u=t;if(this.options.extensions?.startInline){let c=1/0,h=t.slice(1),f;this.options.extensions.startInline.forEach(v=>{f=v.call({lexer:this},h),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(u=t.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),o=!0;let c=r.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):r.push(l);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},s0=class{static{s(this,"P")}options;parser;constructor(t){this.options=t||nl}space(t){return""}code({text:t,lang:r,escaped:n}){let i=(r||"").match(Fn.notSpaceStart)?.[0],o=t.replace(Fn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+us(i)+'">'+(n?o:us(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:us(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let l=0;l<t.items.length;l++){let u=t.items[l];i+=this.listitem(u)}let o=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+o+a+`>
`+i+"</"+o+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+us(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let o=0;o<t.header.length;o++)n+=this.tablecell(t.header[o]);r+=this.tablerow({text:n});let i="";for(let o=0;o<t.rows.length;o++){let a=t.rows[o];n="";for(let l=0;l<a.length;l++)n+=this.tablecell(a[l]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${us(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),o=Z_(t);if(o===null)return i;t=o;let a='<a href="'+t+'"';return r&&(a+=' title="'+us(r)+'"'),a+=">"+i+"</a>",a}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let o=Z_(t);if(o===null)return us(n);t=o;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${us(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:us(t.text)}},T6=class{static{s(this,"$")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},$i=class hb{static{s(this,"u")}options;renderer;textRenderer;constructor(t){this.options=t||nl,this.options.renderer=this.options.renderer||new s0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new T6}static parse(t,r){return new hb(r).parse(t)}static parseInline(t,r){return new hb(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let l=o,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=u||"";continue}}let a=o;switch(a.type){case"space":{n+=this.renderer.space(a);continue}case"hr":{n+=this.renderer.hr(a);continue}case"heading":{n+=this.renderer.heading(a);continue}case"code":{n+=this.renderer.code(a);continue}case"table":{n+=this.renderer.table(a);continue}case"blockquote":{n+=this.renderer.blockquote(a);continue}case"list":{n+=this.renderer.list(a);continue}case"html":{n+=this.renderer.html(a);continue}case"def":{n+=this.renderer.def(a);continue}case"paragraph":{n+=this.renderer.paragraph(a);continue}case"text":{let l=a,u=this.renderer.text(l);for(;i+1<t.length&&t[i+1].type==="text";)l=t[++i],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=l||"";continue}}let a=o;switch(a.type){case"escape":{n+=r.text(a);break}case"html":{n+=r.html(a);break}case"link":{n+=r.link(a);break}case"image":{n+=r.image(a);break}case"strong":{n+=r.strong(a);break}case"em":{n+=r.em(a);break}case"codespan":{n+=r.codespan(a);break}case"br":{n+=r.br(a);break}case"del":{n+=r.del(a);break}case"text":{n+=r.text(a);break}default:{let l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},ec=class{static{s(this,"S")}options;block;constructor(e){this.options=e||nl}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Ei.lex:Ei.lexInline}provideParser(){return this.block?$i.parse:$i.parseInline}},Ohe=class{static{s(this,"B")}defaults=b6();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=$i;Renderer=s0;TextRenderer=T6;Lexer=Ei;Tokenizer=i0;Hooks=ec;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let o of i.header)r=r.concat(this.walkTokens(o.tokens,t));for(let o of i.rows)for(let a of o)r=r.concat(this.walkTokens(a.tokens,t));break}case"list":{let i=n;r=r.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{let a=i[o].flat(1/0);r=r.concat(this.walkTokens(a,t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=t.renderers[i.name];o?t.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[i.level];o?o.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){let i=this.defaults.renderer||new s0(this.defaults);for(let o in r.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=r.renderer[a],u=i[a];i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h||""}}n.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new i0(this.defaults);for(let o in r.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=r.tokenizer[a],u=i[a];i[a]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}n.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new ec;for(let o in r.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=r.hooks[a],u=i[a];ec.passThroughHooks.has(o)?i[a]=c=>{if(this.defaults.async&&ec.passThroughHooksRespectAsync.has(o))return(async()=>{let f=await l.call(i,c);return u.call(i,f)})();let h=l.call(i,c);return u.call(i,h)}:i[a]=(...c)=>{if(this.defaults.async)return(async()=>{let f=await l.apply(i,c);return f===!1&&(f=await u.apply(i,c)),f})();let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}n.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,o=r.walkTokens;n.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ei.lex(e,t??this.defaults)}parser(e,t){return $i.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},i={...this.defaults,...n},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let a=i.hooks?await i.hooks.preprocess(t):t,l=await(i.hooks?await i.hooks.provideLexer():e?Ei.lex:Ei.lexInline)(a,i),u=i.hooks?await i.hooks.processAllTokens(l):l;i.walkTokens&&await Promise.all(this.walkTokens(u,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():e?$i.parse:$i.parseInline)(u,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let a=(i.hooks?i.hooks.provideLexer():e?Ei.lex:Ei.lexInline)(t,i);i.hooks&&(a=i.hooks.processAllTokens(a)),i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=(i.hooks?i.hooks.provideParser():e?$i.parse:$i.parseInline)(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+us(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},$o=new Ohe;function wr(e,t){return $o.parse(e,t)}s(wr,"k$1");wr.options=wr.setOptions=function(e){return $o.setOptions(e),wr.defaults=$o.defaults,$j(wr.defaults),wr};wr.getDefaults=b6;wr.defaults=nl;wr.use=function(...e){return $o.use(...e),wr.defaults=$o.defaults,$j(wr.defaults),wr};wr.walkTokens=function(e,t){return $o.walkTokens(e,t)};wr.parseInline=$o.parseInline;wr.Parser=$i;wr.parser=$i.parse;wr.Renderer=s0;wr.TextRenderer=T6;wr.Lexer=Ei;wr.lexer=Ei.lex;wr.Tokenizer=i0;wr.Hooks=ec;wr.parse=wr;wr.options;wr.setOptions;wr.use;wr.walkTokens;wr.parseInline;$i.parse;Ei.lex;var lr=s((...e)=>R7(v0(e)),"m"),A6=s((e,t,r)=>{let n=typeof t=="string"?new Blob([t],{type:r}):t,i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},"P"),Rhe=/<pre(\s|>)/,N6=H.createContext({code:""}),jhe=class{static{s(this,"O")}constructor(){this.lightHighlighter=null,this.darkHighlighter=null,this.lightTheme=null,this.darkTheme=null,this.loadedLanguages=new Set,this.initializationPromise=null}isLanguageSupported(e){return Object.hasOwn(gj,e)}getFallbackLanguage(){return"text"}async ensureHighlightersInitialized(e,t){var r,n;let[i,o]=e,a=Xfe({forgiving:!0}),l=!this.lightHighlighter||this.lightTheme!==i,u=!this.darkHighlighter||this.darkTheme!==o;(l||u)&&this.loadedLanguages.clear();let c=this.isLanguageSupported(t),h=!this.loadedLanguages.has(t)&&c;if(l?(this.lightHighlighter=await __({themes:[i],langs:c?[t]:[],engine:a}),this.lightTheme=i,c&&this.loadedLanguages.add(t)):h&&await((r=this.lightHighlighter)==null?void 0:r.loadLanguage(t)),u){let f=h?[...this.loadedLanguages].concat(c?[t]:[]):Array.from(this.loadedLanguages);this.darkHighlighter=await __({themes:[o],langs:f.length>0?f:c?[t]:[],engine:a}),this.darkTheme=o}else h&&await((n=this.darkHighlighter)==null?void 0:n.loadLanguage(t));h&&this.loadedLanguages.add(t)}async highlightCode(e,t,r,n){var i,o;this.initializationPromise&&await this.initializationPromise,this.initializationPromise=this.ensureHighlightersInitialized(r,t),await this.initializationPromise,this.initializationPromise=null;let[a,l]=r,u=this.isLanguageSupported(t)?t:this.getFallbackLanguage(),c=(i=this.lightHighlighter)==null?void 0:i.codeToHtml(e,{lang:u,theme:a}),h=(o=this.darkHighlighter)==null?void 0:o.codeToHtml(e,{lang:u,theme:l}),f=s(v=>n?v.replace(Rhe,`<pre class="${n}"$1`):v,"c");return[f(c),f(h)]}},Lhe=new jhe,Phe=s(({code:e,language:t,className:r,children:n,preClassName:i,...o})=>{let[a,l]=H.useState(""),[u,c]=H.useState(""),h=H.useRef(!1),[f,v]=H.useContext(AL);return H.useEffect(()=>(h.current=!0,Lhe.highlightCode(e,t,[f,v],i).then(([m,w])=>{h.current&&(l(m),c(w))}),()=>{h.current=!1}),[e,t,f,v,i]),b.jsx(N6.Provider,{value:{code:e},children:b.jsxs("div",{className:"my-4 w-full overflow-hidden rounded-xl border","data-code-block-container":!0,"data-language":t,children:[b.jsxs("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-code-block-header":!0,"data-language":t,children:[b.jsx("span",{className:"ml-1 font-mono lowercase",children:t}),b.jsx("div",{className:"flex items-center gap-2",children:n})]}),b.jsx("div",{className:"w-full",children:b.jsxs("div",{className:"min-w-full",children:[b.jsx("div",{className:lr("overflow-x-auto dark:hidden",r),dangerouslySetInnerHTML:{__html:a},"data-code-block":!0,"data-language":t,...o}),b.jsx("div",{className:lr("hidden overflow-x-auto dark:block",r),dangerouslySetInnerHTML:{__html:u},"data-code-block":!0,"data-language":t,...o})]})})]})})},"ee"),Q_={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},X_=s(({onDownload:e,onError:t,language:r,children:n,className:i,code:o,...a})=>{let{code:l}=H.useContext(N6),{isAnimating:u}=H.useContext(Od),c=o??l,h=`file.${r&&r in Q_?Q_[r]:"txt"}`,f="text/plain",v=s(()=>{try{A6(h,c,f),e?.()}catch(m){t?.(m)}},"g");return b.jsx("button",{className:lr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),disabled:u,onClick:v,title:"Download file",type:"button",...a,children:n??b.jsx(Nb,{size:14})})},"U"),K_=s(({onCopy:e,onError:t,timeout:r=2e3,children:n,className:i,code:o,...a})=>{let[l,u]=H.useState(!1),c=H.useRef(0),{code:h}=H.useContext(N6),{isAnimating:f}=H.useContext(Od),v=o??h,m=s(async()=>{var _;if(typeof window>"u"||!((_=navigator?.clipboard)!=null&&_.writeText)){t?.(new Error("Clipboard API not available"));return}try{l||(await navigator.clipboard.writeText(v),u(!0),e?.(),c.current=window.setTimeout(()=>u(!1),r))}catch(A){t?.(A)}},"g");H.useEffect(()=>()=>{window.clearTimeout(c.current)},[]);let w=l?f7:h7;return b.jsx("button",{className:lr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),disabled:f,onClick:m,type:"button",...a,children:n??b.jsx(w,{size:14})})},"z"),Dhe=s(({node:e,className:t,src:r,alt:n,...i})=>{let o=s(async()=>{var a;if(r)try{let l=await(await fetch(r)).blob(),u=new URL(r,window.location.origin).pathname.split("/").pop()||"",c=u.includes(".")&&((a=u.split(".").pop())==null?void 0:a.length)<=4,h="";if(c)h=u;else{let f=l.type,v="png";f.includes("jpeg")||f.includes("jpg")?v="jpg":f.includes("png")?v="png":f.includes("svg")?v="svg":f.includes("gif")?v="gif":f.includes("webp")&&(v="webp"),h=`${(n||u||"image").replace(/\.[^/.]+$/,"")}.${v}`}A6(h,l,l.type)}catch(l){console.error("Failed to download image:",l)}},"s");return r?b.jsxs("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[b.jsx("img",{alt:n,className:lr("max-w-full rounded-lg",t),"data-streamdown":"image",src:r,...i}),b.jsx("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),b.jsx("button",{className:lr("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:o,title:"Download image",type:"button",children:b.jsx(Nb,{size:14})})]}):null},"te"),Bhe=s(async e=>{let t={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...e},r=(await fe(async()=>{const{default:n}=await import("./mermaid.core-CyFstu-e.js").then(i=>i.bB);return{default:n}},__vite__mapDeps([97,98]))).default;return r.initialize(t),r},"st"),zhe=s(({chart:e,className:t,config:r})=>{let[n,i]=H.useState(null),[o,a]=H.useState(!0),[l,u]=H.useState(""),[c,h]=H.useState("");if(H.useEffect(()=>{(async()=>{try{i(null),a(!0);let v=await Bhe(r),m=e.split("").reduce((A,M)=>(A<<5)-A+M.charCodeAt(0)|0,0),w=`mermaid-${Math.abs(m)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:_}=await v.render(w,e);u(_),h(_)}catch(v){if(!(c||l)){let m=v instanceof Error?v.message:"Failed to render Mermaid chart";i(m)}}finally{a(!1)}})()},[e,r]),o&&!l&&!c)return b.jsx("div",{className:lr("my-4 flex justify-center p-4",t),children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),b.jsx("span",{className:"text-sm",children:"Loading diagram..."})]})});if(n&&!l&&!c)return b.jsxs("div",{className:lr("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[b.jsxs("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",n]}),b.jsxs("details",{className:"mt-2",children:[b.jsx("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),b.jsx("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]});let f=l||c;return b.jsx("div",{"aria-label":"Mermaid chart",className:lr("my-4 flex justify-center",t),dangerouslySetInnerHTML:{__html:f},role:"img"})},"oe");function Yj(e){var t,r;let n=[],i=[],o=e.querySelectorAll("thead th");for(let l of o)n.push(((t=l.textContent)==null?void 0:t.trim())||"");let a=e.querySelectorAll("tbody tr");for(let l of a){let u=[],c=l.querySelectorAll("td");for(let h of c)u.push(((r=h.textContent)==null?void 0:r.trim())||"");i.push(u)}return{headers:n,rows:i}}s(Yj,"le");function eL(e){let{headers:t,rows:r}=e,n=s(o=>o.includes(",")||o.includes('"')||o.includes(`
`)?`"${o.replace(/"/g,'""')}"`:o,"n"),i=[];t.length>0&&i.push(t.map(n).join(","));for(let o of r)i.push(o.map(n).join(","));return i.join(`
`)}s(eL,"de");function tL(e){let{headers:t,rows:r}=e;if(t.length===0)return"";let n=[],i=t.map(o=>o.replace(/\|/g,"\\|"));n.push(`| ${i.join(" | ")} |`),n.push(`| ${t.map(()=>"---").join(" | ")} |`);for(let o of r){let a=[...o];for(;a.length<t.length;)a.push("");let l=a.map(u=>u.replace(/\|/g,"\\|"));n.push(`| ${l.join(" | ")} |`)}return n.join(`
`)}s(tL,"ce");var Uhe=s(({children:e,className:t,onCopy:r,onError:n,timeout:i=2e3,format:o="markdown"})=>{let[a,l]=H.useState(!1),u=H.useRef(0),{isAnimating:c}=H.useContext(Od),h=s(async v=>{var m;if(typeof window>"u"||!((m=navigator?.clipboard)!=null&&m.write)){n?.(new Error("Clipboard API not available"));return}try{if(!a){let w=v.currentTarget.closest('[data-streamdown="table-wrapper"]'),_=w?.querySelector("table");if(!_){n?.(new Error("Table not found"));return}let A=Yj(_),M=new ClipboardItem({"text/plain":o==="markdown"?tL(A):eL(A),"text/html":new Blob([_.outerHTML],{type:"text/html"})});await navigator.clipboard.write([M]),l(!0),r?.(),u.current=window.setTimeout(()=>l(!1),i)}}catch(w){n?.(w)}},"c");H.useEffect(()=>()=>{window.clearTimeout(u.current)},[]);let f=a?f7:h7;return b.jsx("button",{className:lr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:c,onClick:h,title:`Copy table as ${o}`,type:"button",children:e??b.jsx(f,{size:14})})},"me"),Fhe=s(({children:e,className:t,onDownload:r,onError:n})=>{let[i,o]=H.useState(!1),a=H.useRef(null),{isAnimating:l}=H.useContext(Od),u=s(c=>{var h;try{let f=(h=a.current)==null?void 0:h.closest('[data-streamdown="table-wrapper"]'),v=f?.querySelector("table");if(!v){n?.(new Error("Table not found"));return}let m=Yj(v),w=c==="csv"?eL(m):tL(m);A6(`table.${c==="csv"?"csv":"md"}`,w,c==="csv"?"text/csv":"text/markdown"),o(!1),r?.(c)}catch(f){n?.(f)}},"a");return H.useEffect(()=>{let c=s(h=>{a.current&&!a.current.contains(h.target)&&o(!1)},"l");return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),b.jsxs("div",{className:"relative",ref:a,children:[b.jsx("button",{className:lr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:l,onClick:s(()=>o(!i),"onClick"),title:"Download table",type:"button",children:e??b.jsx(Nb,{size:14})}),i&&b.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] rounded-md border border-border bg-background shadow-lg",children:[b.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:s(()=>u("csv"),"onClick"),type:"button",children:"CSV"}),b.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:s(()=>u("markdown"),"onClick"),type:"button",children:"Markdown"})]})]})},"pe"),$he=/language-([^\s]+)/;function Up(e,t){if(!(e!=null&&e.position||t!=null&&t.position))return!0;if(!(e!=null&&e.position&&t!=null&&t.position))return!1;let r=e.position.start,n=t.position.start,i=e.position.end,o=t.position.end;return r?.line===n?.line&&r?.column===n?.column&&i?.line===o?.line&&i?.column===o?.column}s(Up,"A");function Xr(e,t){return e.className===t.className&&Up(e.node,t.node)}s(Xr,"k");var pb=s((e,t)=>typeof e=="boolean"?e:e[t]!==!1,"F"),C6=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("ol",{className:lr("ml-4 list-outside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...n,children:e}),(e,t)=>Xr(e,t));C6.displayName="MarkdownOl";var rL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("li",{className:lr("py-1",t),"data-streamdown":"list-item",...n,children:e}),(e,t)=>e.className===t.className&&Up(e.node,t.node));rL.displayName="MarkdownLi";var nL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("ul",{className:lr("ml-4 list-outside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...n,children:e}),(e,t)=>Xr(e,t));nL.displayName="MarkdownUl";var iL=H.memo(({className:e,node:t,...r})=>b.jsx("hr",{className:lr("my-6 border-border",e),"data-streamdown":"horizontal-rule",...r}),(e,t)=>Xr(e,t));iL.displayName="MarkdownHr";var sL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("span",{className:lr("font-semibold",t),"data-streamdown":"strong",...n,children:e}),(e,t)=>Xr(e,t));sL.displayName="MarkdownStrong";var aL=H.memo(({children:e,className:t,href:r,node:n,...i})=>{let o=r==="streamdown:incomplete-link";return b.jsx("a",{className:lr("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":o,"data-streamdown":"link",href:r,rel:"noreferrer",target:"_blank",...i,children:e})},(e,t)=>Xr(e,t)&&e.href===t.href);aL.displayName="MarkdownA";var oL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("h1",{className:lr("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...n,children:e}),(e,t)=>Xr(e,t));oL.displayName="MarkdownH1";var lL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("h2",{className:lr("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...n,children:e}),(e,t)=>Xr(e,t));lL.displayName="MarkdownH2";var uL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("h3",{className:lr("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...n,children:e}),(e,t)=>Xr(e,t));uL.displayName="MarkdownH3";var cL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("h4",{className:lr("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...n,children:e}),(e,t)=>Xr(e,t));cL.displayName="MarkdownH4";var dL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("h5",{className:lr("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...n,children:e}),(e,t)=>Xr(e,t));dL.displayName="MarkdownH5";var fL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("h6",{className:lr("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...n,children:e}),(e,t)=>Xr(e,t));fL.displayName="MarkdownH6";var hL=H.memo(({children:e,className:t,node:r,...n})=>{let i=H.useContext(M6),o=pb(i,"table");return b.jsxs("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[o&&b.jsxs("div",{className:"flex items-center justify-end gap-1",children:[b.jsx(Uhe,{}),b.jsx(Fhe,{})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsx("table",{className:lr("w-full border-collapse border border-border",t),"data-streamdown":"table",...n,children:e})})]})},(e,t)=>Xr(e,t));hL.displayName="MarkdownTable";var pL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("thead",{className:lr("bg-muted/80",t),"data-streamdown":"table-header",...n,children:e}),(e,t)=>Xr(e,t));pL.displayName="MarkdownThead";var mL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("tbody",{className:lr("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...n,children:e}),(e,t)=>Xr(e,t));mL.displayName="MarkdownTbody";var gL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("tr",{className:lr("border-border border-b",t),"data-streamdown":"table-row",...n,children:e}),(e,t)=>Xr(e,t));gL.displayName="MarkdownTr";var vL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("th",{className:lr("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...n,children:e}),(e,t)=>Xr(e,t));vL.displayName="MarkdownTh";var bL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("td",{className:lr("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...n,children:e}),(e,t)=>Xr(e,t));bL.displayName="MarkdownTd";var yL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("blockquote",{className:lr("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...n,children:e}),(e,t)=>Xr(e,t));yL.displayName="MarkdownBlockquote";var wL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("sup",{className:lr("text-sm",t),"data-streamdown":"superscript",...n,children:e}),(e,t)=>Xr(e,t));wL.displayName="MarkdownSup";var xL=H.memo(({children:e,className:t,node:r,...n})=>b.jsx("sub",{className:lr("text-sm",t),"data-streamdown":"subscript",...n,children:e}),(e,t)=>Xr(e,t));xL.displayName="MarkdownSub";var _L=H.memo(({children:e,className:t,node:r,...n})=>{if("data-footnotes"in n){let i=s(a=>{var l,u;if(!H.isValidElement(a))return!1;let c=Array.isArray(a.props.children)?a.props.children:[a.props.children],h=!1,f=!1;for(let v of c)if(v){if(typeof v=="string")v.trim()!==""&&(h=!0);else if(H.isValidElement(v))if(((l=v.props)==null?void 0:l["data-footnote-backref"])!==void 0)f=!0;else{let m=Array.isArray(v.props.children)?v.props.children:[v.props.children];for(let w of m){if(typeof w=="string"&&w.trim()!==""){h=!0;break}if(H.isValidElement(w)&&((u=w.props)==null?void 0:u["data-footnote-backref"])===void 0){h=!0;break}}}}return f&&!h},"s"),o=Array.isArray(e)?e.map(a=>{if(!H.isValidElement(a))return a;if(a.type===C6){let l=(Array.isArray(a.props.children)?a.props.children:[a.props.children]).filter(u=>!i(u));return l.length===0?null:{...a,props:{...a.props,children:l}}}return a}):e;return(Array.isArray(o)?o.some(a=>a!==null):o!==null)?b.jsx("section",{className:t,...n,children:o}):null}return b.jsx("section",{className:t,...n,children:e})},(e,t)=>Xr(e,t));_L.displayName="MarkdownSection";var Hhe=s(({node:e,className:t,children:r,...n})=>{var i,o,a;let l=((i=e?.position)==null?void 0:i.start.line)===((o=e?.position)==null?void 0:o.end.line),u=H.useContext(NL),c=H.useContext(M6);if(l)return b.jsx("code",{className:lr("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...n,children:r});let h=t?.match($he),f=(a=h?.at(1))!=null?a:"",v="";if(H.isValidElement(r)&&r.props&&typeof r.props=="object"&&"children"in r.props&&typeof r.props.children=="string"?v=r.props.children:typeof r=="string"&&(v=r),f==="mermaid"){let w=pb(c,"mermaid");return b.jsxs("div",{className:lr("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[w&&b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[b.jsx(X_,{code:v,language:f}),b.jsx(K_,{code:v})]}),b.jsx(zhe,{chart:v,config:u})]})}let m=pb(c,"code");return b.jsx(Phe,{className:lr("overflow-x-auto border-t",t),code:v,"data-language":f,"data-streamdown":"code-block",language:f,preClassName:"overflow-x-auto font-mono text-xs p-4 bg-muted/40",children:m&&b.jsxs(b.Fragment,{children:[b.jsx(X_,{code:v,language:f}),b.jsx(K_,{})]})})},"dt"),EL=H.memo(Hhe,(e,t)=>e.className===t.className&&Up(e.node,t.node));EL.displayName="MarkdownCode";var SL=H.memo(Dhe,(e,t)=>e.className===t.className&&Up(e.node,t.node));SL.displayName="MarkdownImg";var kL=H.memo(({children:e,className:t,node:r,...n})=>{var i;let o=(Array.isArray(e)?e:[e]).filter(a=>a!=null&&a!=="");return o.length===1&&H.isValidElement(o[0])&&((i=o[0].props.node)==null?void 0:i.tagName)==="img"?b.jsx(b.Fragment,{children:e}):b.jsx("p",{className:t,...n,children:e})},(e,t)=>Xr(e,t));kL.displayName="MarkdownParagraph";var Vhe={ol:C6,li:rL,ul:nL,hr:iL,strong:sL,a:aL,h1:oL,h2:lL,h3:uL,h4:cL,h5:dL,h6:fL,table:hL,thead:pL,tbody:mL,tr:gL,th:vL,td:bL,blockquote:yL,code:EL,img:SL,pre:s(({children:e})=>e,"pre"),sup:wL,sub:xL,p:kL,section:_L},Ghe=s(e=>{let t=/\[\^[^\]\s]{1,200}\](?!:)/.test(e),r=/\[\^[^\]\s]{1,200}\]:/.test(e);if(t||r)return[e];let n=Ei.lex(e,{gfm:!0}),i=[],o=[];for(let a=0;a<n.length;a++){let l=n[a],u=l.raw;if(o.length>0){if(i[i.length-1]+=u,l.type==="html"){let c=u.match(/<\/(\w+)>/);if(c){let h=c[1];o[o.length-1]===h&&o.pop()}}continue}if(l.type==="html"&&l.block){let c=u.match(/<(\w+)[\s>]/);if(c){let h=c[1];u.includes(`</${h}>`)||o.push(h)}}if(u.trim()==="$$"&&i.length>0){let c=i.at(-1);if(!c){i.push(u);continue}let h=c.trimStart().startsWith("$$"),f=(c.match(/\$\$/g)||[]).length;if(h&&f%2===1){i[i.length-1]=c+u;continue}}if(i.length>0&&u.trimEnd().endsWith("$$")){let c=i.at(-1);if(!c){i.push(u);continue}let h=c.trimStart().startsWith("$$"),f=(c.match(/\$\$/g)||[]).length,v=(u.match(/\$\$/g)||[]).length;if(h&&f%2===1&&!u.trimStart().startsWith("$$")&&v===1){i[i.length-1]=c+u;continue}}i.push(u)}return i},"Ee"),Zhe=/(!?\[)([^\]]*?)$/,Jhe=/(\*\*)([^*]*?)$/,Whe=/(__)([^_]*?)$/,Qhe=/(\*\*\*)([^*]*?)$/,Xhe=/(\*)([^*]*?)$/,Khe=/(_)([^_]*?)$/,qhe=/(`)([^`]*?)$/,Yhe=/(~~)([^~]*?)$/,Fp=s(e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},"R"),e0e=s(e=>{let t=/(!?)\[([^\]]+)\]\(([^)]+)$/,r=e.match(t);if(r){let i=r[1]==="!",o=r[2],a=r[3],l=e.lastIndexOf(`${i?"!":""}[${o}](${a}`),u=e.substring(0,l);return i?u:`${u}[${o}](streamdown:incomplete-link)`}let n=e.match(Zhe);if(n){if(n[1].startsWith("!")){let i=e.lastIndexOf(n[1]);return e.substring(0,i)}return`${e}](streamdown:incomplete-link)`}return e},"yt"),t0e=s(e=>{if(Fp(e))return e;let t=e.match(Jhe);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;let n=e.lastIndexOf(t[1]),i=e.substring(0,n).lastIndexOf(`
`),o=i===-1?0:i+1,a=e.substring(o,n);if(/^[\s]*[-*+][\s]+$/.test(a)&&r.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},"wt"),r0e=s(e=>{let t=e.match(Whe);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;let n=e.lastIndexOf(t[1]),i=e.substring(0,n).lastIndexOf(`
`),o=i===-1?0:i+1,a=e.substring(o,n);if(/^[\s]*[-*+][\s]+$/.test(a)&&r.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},"vt"),n0e=s(e=>e.split("").reduce((t,r,n)=>{if(r==="*"){let i=e[n-1],o=e[n+1];if(i==="\\")return t;let a=n;for(let l=n-1;l>=0;l--){if(e[l]===`
`){a=l+1;break}if(l===0){a=0;break}}if(e.substring(a,n).trim()===""&&(o===" "||o==="	"))return t;if(i!=="*"&&o!=="*")return t+1}return t},0),"Mt"),i0e=s(e=>{if(Fp(e))return e;if(e.match(Xhe)){let t=-1;for(let n=0;n<e.length;n++)if(e[n]==="*"&&e[n-1]!=="*"&&e[n+1]!=="*"){t=n;break}if(t===-1)return e;let r=e.substring(t+1);if(!r||/^[\s_~*`]*$/.test(r))return e;if(n0e(e)%2===1)return`${e}*`}return e},"Tt"),TL=s((e,t)=>{let r=!1,n=!1;for(let i=0;i<e.length&&i<t;i++){if(e[i]==="\\"&&e[i+1]==="$"){i++;continue}e[i]==="$"&&(e[i+1]==="$"?(n=!n,i++,r=!1):n||(r=!r))}return r||n},"_e"),s0e=s(e=>e.split("").reduce((t,r,n)=>{if(r==="_"){let i=e[n-1],o=e[n+1];if(i==="\\"||TL(e,n)||i&&o&&/[\p{L}\p{N}_]/u.test(i)&&/[\p{L}\p{N}_]/u.test(o))return t;if(i!=="_"&&o!=="_")return t+1}return t},0),"Ct"),a0e=s(e=>{if(Fp(e))return e;if(e.match(Khe)){let t=-1;for(let n=0;n<e.length;n++)if(e[n]==="_"&&e[n-1]!=="_"&&e[n+1]!=="_"&&e[n-1]!=="\\"&&!TL(e,n)){let i=n>0?e[n-1]:"",o=n<e.length-1?e[n+1]:"";if(i&&o&&/[\p{L}\p{N}_]/u.test(i)&&/[\p{L}\p{N}_]/u.test(o))continue;t=n;break}if(t===-1)return e;let r=e.substring(t+1);if(!r||/^[\s_~*`]*$/.test(r))return e;if(s0e(e)%2===1){let n=e.match(/\n+$/);return n?`${e.slice(0,-n[0].length)}_${n[0]}`:`${e}_`}}return e},"Pt"),o0e=s((e,t)=>{let r=e.substring(t,t+3)==="```",n=t>0&&e.substring(t-1,t+2)==="```",i=t>1&&e.substring(t-2,t+1)==="```";return r||n||i},"Nt"),l0e=s(e=>{let t=0;for(let r=0;r<e.length;r++)e[r]==="`"&&!o0e(e,r)&&t++;return t},"It"),u0e=s(e=>{if(e.match(/^```[^`\n]*```?$/)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;let t=(e.match(/```/g)||[]).length,r=t%2===1;if(t>0&&t%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2===0)return e;let n=e.match(qhe);if(n&&!r){let i=n[2];if(!i||/^[\s_~*`]*$/.test(i))return e;if(l0e(e)%2===1)return`${e}\``}return e},"St"),c0e=s(e=>{let t=e.match(Yhe);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e},"Lt"),d0e=s(e=>{if((e.match(/\$\$/g)||[]).length%2===0)return e;let t=e.indexOf("$$");return t!==-1&&e.indexOf(`
`,t)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},"Bt"),f0e=s(e=>{let t=0,r=e.match(/\*+/g)||[];for(let n of r){let i=n.length;i>=3&&(t+=Math.floor(i/3))}return t},"$t"),h0e=s(e=>{if(Fp(e)||/^\*{4,}$/.test(e))return e;let t=e.match(Qhe);if(t){let r=t[2];if(!r||/^[\s_~*`]*$/.test(r))return e;if(f0e(e)%2===1)return`${e}***`}return e},"xt"),p0e=s(e=>{if(!e||typeof e!="string")return e;let t=e,r=e0e(t);return r.endsWith("](streamdown:incomplete-link)")?r:(t=r,t=h0e(t),t=t0e(t),t=r0e(t),t=i0e(t),t=a0e(t),t=u0e(t),t=c0e(t),t=d0e(t),t)},"Oe"),m0e={harden:[fle,{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],defaultOrigin:void 0,allowDataImages:!0}],raw:Zse,katex:[Rre,{errorColor:"var(--color-muted-foreground)"}]},g0e={gfm:[ele,{}],math:[dle,{singleDollarTextMath:!1}]},AL=H.createContext(["github-light","github-dark"]),NL=H.createContext(void 0),M6=H.createContext(!0),Od=H.createContext({isAnimating:!1}),CL=H.memo(({content:e,shouldParseIncompleteMarkdown:t,...r})=>{let n=H.useMemo(()=>typeof e=="string"&&t?p0e(e.trim()):e,[e,t]);return b.jsx(iD,{...r,children:n})},(e,t)=>e.content===t.content);CL.displayName="Block";var ML=H.memo(({children:e,parseIncompleteMarkdown:t=!0,components:r,rehypePlugins:n=Object.values(m0e),remarkPlugins:i=Object.values(g0e),className:o,shikiTheme:a=["github-light","github-dark"],mermaidConfig:l,controls:u=!0,isAnimating:c=!1,...h})=>{let f=H.useId(),v=H.useMemo(()=>Ghe(typeof e=="string"?e:""),[e]);return b.jsx(AL.Provider,{value:a,children:b.jsx(NL.Provider,{value:l,children:b.jsx(M6.Provider,{value:u,children:b.jsx(Od.Provider,{value:{isAnimating:c},children:b.jsx("div",{className:lr("space-y-4",o),children:v.map((m,w)=>b.jsx(CL,{components:{...Vhe,...r},content:m,rehypePlugins:n,remarkPlugins:i,shouldParseIncompleteMarkdown:t,...h},`${f}-block-${w}`))})})})})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme&&e.isAnimating===t.isAnimating);ML.displayName="Streamdown";const IL=H.memo(({className:e,shikiTheme:t=["github-dark","github-dark"],...r})=>b.jsx(ML,{className:Fe("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",e),shikiTheme:t,...r}),(e,t)=>e.children===t.children&&e.className===t.className&&e.isAnimating===t.isAnimating&&JSON.stringify(e.shikiTheme)===JSON.stringify(t.shikiTheme));IL.displayName="Response";const v0e={damping:.7,stiffness:.05,mass:1.25},b0e=70,y0e=1e3/60,w0e=350;let $p=!1;globalThis.document?.addEventListener("mousedown",()=>{$p=!0});globalThis.document?.addEventListener("mouseup",()=>{$p=!1});globalThis.document?.addEventListener("click",()=>{$p=!1});const x0e=s((e={})=>{const[t,r]=H.useState(!1),[n,i]=H.useState(e.initial!==!1),[o,a]=H.useState(!1),l=H.useRef(null);l.current=e;const u=H.useCallback(()=>{if(!$p)return!1;const I=window.getSelection();if(!I||!I.rangeCount)return!1;const R=I.getRangeAt(0);return R.commonAncestorContainer.contains(A.current)||A.current?.contains(R.commonAncestorContainer)},[]),c=H.useCallback(I=>{f.isAtBottom=I,i(I)},[]),h=H.useCallback(I=>{f.escapedFromLock=I,r(I)},[]),f=H.useMemo(()=>{let I;return{escapedFromLock:t,isAtBottom:n,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return A.current?.scrollTop??0},set scrollTop(R){A.current&&(A.current.scrollTop=R,f.ignoreScrollToTop=A.current.scrollTop)},get targetScrollTop(){return!A.current||!M.current?0:A.current.scrollHeight-1-A.current.clientHeight},get calculatedTargetScrollTop(){if(!A.current||!M.current)return 0;const{targetScrollTop:R}=this;if(!e.targetScrollTop)return R;if(I?.targetScrollTop===R)return I.calculatedScrollTop;const L=Math.max(Math.min(e.targetScrollTop(R,{scrollElement:A.current,contentElement:M.current}),R),0);return I={targetScrollTop:R,calculatedScrollTop:L},requestAnimationFrame(()=>{I=void 0}),L},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=b0e}}},[]),v=H.useCallback((I={})=>{typeof I=="string"&&(I={animation:I}),I.preserveScrollPosition||c(!0);const R=Date.now()+(Number(I.wait)||0),L=w1(l.current,I.animation),{ignoreEscapes:P=!1}=I;let F,Z=f.calculatedTargetScrollTop;I.duration instanceof Promise?I.duration.finally(()=>{F=Date.now()}):F=R+(I.duration??0);const G=s(async()=>{const se=new Promise(requestAnimationFrame).then(()=>{if(!f.isAtBottom)return f.animation=void 0,!1;const{scrollTop:U}=f,X=performance.now(),d=(X-(f.lastTick??X))/y0e;if(f.animation||(f.animation={behavior:L,promise:se,ignoreEscapes:P}),f.animation.behavior===L&&(f.lastTick=X),u()||R>Date.now())return G();if(U<Math.min(Z,f.calculatedTargetScrollTop)){if(f.animation?.behavior===L){if(L==="instant")return f.scrollTop=f.calculatedTargetScrollTop,G();f.velocity=(L.damping*f.velocity+L.stiffness*f.scrollDifference)/L.mass,f.accumulated+=f.velocity*d,f.scrollTop+=f.accumulated,f.scrollTop!==U&&(f.accumulated=0)}return G()}return F>Date.now()?(Z=f.calculatedTargetScrollTop,G()):(f.animation=void 0,f.scrollTop<f.calculatedTargetScrollTop?v({animation:w1(l.current,l.current.resize),ignoreEscapes:P,duration:Math.max(0,F-Date.now())||void 0}):f.isAtBottom)});return se.then(U=>(requestAnimationFrame(()=>{f.animation||(f.lastTick=void 0,f.velocity=0)}),U))},"next");return I.wait!==!0&&(f.animation=void 0),f.animation?.behavior===L?f.animation.promise:G()},[c,u,f]),m=H.useCallback(()=>{h(!0),c(!1)},[h,c]),w=H.useCallback(({target:I})=>{if(I!==A.current)return;const{scrollTop:R,ignoreScrollToTop:L}=f;let{lastScrollTop:P=R}=f;f.lastScrollTop=R,f.ignoreScrollToTop=void 0,L&&L>R&&(P=L),a(f.isNearBottom),setTimeout(()=>{if(f.resizeDifference||R===L)return;if(u()){h(!0),c(!1);return}const F=R>P,Z=R<P;if(f.animation?.ignoreEscapes){f.scrollTop=P;return}Z&&(h(!0),c(!1)),F&&h(!1),!f.escapedFromLock&&f.isNearBottom&&c(!0)},1)},[h,c,u,f]),_=H.useCallback(({target:I,deltaY:R})=>{let L=I;for(;!["scroll","auto"].includes(getComputedStyle(L).overflow);){if(!L.parentElement)return;L=L.parentElement}L===A.current&&R<0&&A.current.scrollHeight>A.current.clientHeight&&!f.animation?.ignoreEscapes&&(h(!0),c(!1))},[h,c,f]),A=q_(I=>{A.current?.removeEventListener("scroll",w),A.current?.removeEventListener("wheel",_),I?.addEventListener("scroll",w,{passive:!0}),I?.addEventListener("wheel",_,{passive:!0})},[]),M=q_(I=>{if(f.resizeObserver?.disconnect(),!I)return;let R;f.resizeObserver=new ResizeObserver(([L])=>{const{height:P}=L.contentRect,F=P-(R??P);if(f.resizeDifference=F,f.scrollTop>f.targetScrollTop&&(f.scrollTop=f.targetScrollTop),a(f.isNearBottom),F>=0){const Z=w1(l.current,R?l.current.resize:l.current.initial);v({animation:Z,wait:!0,preserveScrollPosition:!0,duration:Z==="instant"?void 0:w0e})}else f.isNearBottom&&(h(!1),c(!0));R=P,requestAnimationFrame(()=>{setTimeout(()=>{f.resizeDifference===F&&(f.resizeDifference=0)},1)})}),f.resizeObserver?.observe(I)},[]);return{contentRef:M,scrollRef:A,scrollToBottom:v,stopScroll:m,isAtBottom:n||o,isNearBottom:o,escapedFromLock:t,state:f}},"useStickToBottom");function q_(e,t){const r=H.useCallback(n=>(r.current=n,e(n)),t);return r}s(q_,"useRefCallback");const y1=new Map;function w1(...e){const t={...v0e};let r=!1;for(const i of e){if(i==="instant"){r=!0;continue}typeof i=="object"&&(r=!1,t.damping=i.damping??t.damping,t.stiffness=i.stiffness??t.stiffness,t.mass=i.mass??t.mass)}const n=JSON.stringify(t);return y1.has(n)||y1.set(n,Object.freeze(t)),r?"instant":y1.get(n)}s(w1,"mergeAnimations");function _0e(e={}){const{smooth:t=!1}=e,r=H.useRef(!1),n=x0e({initial:t?"smooth":"instant",resize:t?"smooth":"instant"}),[i,o]=H.useState({isAtBottom:!0,autoScrollEnabled:!0});H.useEffect(()=>{n.isAtBottom?(r.current=!1,o({isAtBottom:!0,autoScrollEnabled:!0})):o(c=>({...c,isAtBottom:!1,autoScrollEnabled:r.current?!1:c.autoScrollEnabled}))},[n.isAtBottom]);const a=H.useCallback(u=>{const c=u?"instant":t?"smooth":"instant";n.scrollToBottom({animation:c,preserveScrollPosition:!1}),o({isAtBottom:!0,autoScrollEnabled:!0}),r.current=!1},[n.scrollToBottom,t]),l=H.useCallback(()=>{n.isAtBottom||(r.current=!0,n.stopScroll(),o(u=>({...u,autoScrollEnabled:!1})))},[n.isAtBottom,n.stopScroll]);return{scrollRef:n.scrollRef,contentRef:n.contentRef,isAtBottom:i.isAtBottom,autoScrollEnabled:i.autoScrollEnabled,scrollToBottom:s(()=>a(!1),"scrollToBottom"),disableAutoScroll:l,_stickToBottom:n}}s(_0e,"useAutoScroll");const E0e=s(({className:e,...t})=>b.jsx(aD,{className:Fe("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),"ResizablePanelGroup"),Y_=sD,S0e=s(({withHandle:e,className:t,...r})=>b.jsx(oD,{className:Fe("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&b.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:b.jsx(lD,{className:"h-2.5 w-2.5"})})}),"ResizableHandle"),mb=H.forwardRef(({mainAction:e,actions:t,variant:r="default",size:n="default",disabled:i,className:o,mainButtonClassName:a,dropdownButtonClassName:l},u)=>{const c=H.useRef(null),[h,f]=H.useState();return H.useImperativeHandle(u,()=>c.current,[]),H.useLayoutEffect(()=>{c.current&&f(c.current.offsetWidth)},[t.length,e.label]),b.jsxs("div",{ref:c,className:Fe("flex w-full",o),children:[b.jsxs(dt,{type:"button",variant:r,size:n,onClick:e.onClick,disabled:i||e.disabled,className:Fe("rounded-r-none flex-1",r==="destructive"?"border-r border-red-700":"border-r-0",a),children:[e.icon&&b.jsx("span",{className:"mr-2",children:e.icon}),e.label]}),b.jsxs(wc,{children:[b.jsx(xc,{asChild:!0,children:b.jsxs(dt,{type:"button",variant:r,size:n,disabled:i,className:Fe("rounded-l-none px-2 flex-shrink-0",l),children:[b.jsx(Es,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"More options"})]})}),b.jsx(_c,{align:"end",style:{width:h},children:t.map((v,m)=>b.jsxs(H.Fragment,{children:[b.jsxs(ps,{onClick:v.onClick,disabled:v.disabled,className:Fe(v.variant==="destructive"&&"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50"),children:[v.icon,v.label]}),m<t.length-1&&b.jsx(ih,{})]},m))})]})]})});mb.displayName="SplitButton";const k0e=Cb,T0e=uD,A0e=cD,N0e=s(({toolPart:e,defaultOpen:t=!1,className:r})=>{const[n,i]=H.useState(t),{state:o,input:a,output:l,toolCallId:u}=e,c=s(()=>{switch(o){case"input-streaming":return b.jsx(Nn,{className:"h-4 w-4 animate-spin text-blue-500"});case"input-available":return b.jsx(Co,{className:"h-4 w-4 text-orange-500"});case"output-available":return b.jsx(QE,{className:"h-4 w-4 text-green-500"});case"output-error":return b.jsx(dD,{className:"h-4 w-4 text-red-500"});default:return b.jsx(Co,{className:"text-muted-foreground h-4 w-4"})}},"getStateIcon"),h=s(()=>{const v="px-2 py-1 rounded-full text-xs font-medium";switch(o){case"input-streaming":return b.jsx("span",{className:Fe(v,"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:"Processing"});case"input-available":return b.jsx("span",{className:Fe(v,"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"),children:"Ready"});case"output-available":return b.jsx("span",{className:Fe(v,"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:"Completed"});case"output-error":return b.jsx("span",{className:Fe(v,"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"Error"});default:return b.jsx("span",{className:Fe(v,"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"),children:"Pending"})}},"getStateBadge"),f=s(v=>v===null?"null":v===void 0?"undefined":typeof v=="string"?v:typeof v=="object"?JSON.stringify(v,null,2):String(v),"formatValue");return b.jsx("div",{className:Fe("border-border mt-3 overflow-hidden rounded-lg border",r),children:b.jsxs(k0e,{open:n,onOpenChange:i,children:[b.jsx(T0e,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",className:"bg-background h-auto w-full justify-between rounded-b-none px-3 py-2 font-normal",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[c(),b.jsx("span",{className:"font-mono text-sm font-medium",children:e.type}),h()]}),b.jsx(Es,{className:Fe("h-4 w-4",n&&"rotate-180")})]})}),b.jsx(A0e,{className:Fe("border-border border-t","data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden"),children:b.jsxs("div",{className:"bg-background space-y-3 p-3",children:[a&&Object.keys(a).length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Input"}),b.jsx("div",{className:"bg-background rounded border p-2 font-mono text-sm",children:Object.entries(a).map(([v,m])=>b.jsxs("div",{className:"mb-1",children:[b.jsxs("span",{className:"text-muted-foreground",children:[v,":"]})," ",b.jsx("span",{children:f(m)})]},v))})]}),l&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Output"}),b.jsx("div",{className:"bg-background max-h-60 overflow-auto rounded border p-2 font-mono text-sm",children:b.jsx("pre",{className:"whitespace-pre-wrap",children:f(l)})})]}),o==="output-error"&&e.errorText&&b.jsxs("div",{children:[b.jsx("h4",{className:"mb-2 text-sm font-medium text-red-500",children:"Error"}),b.jsx("div",{className:"bg-background rounded border border-red-200 p-2 text-sm dark:border-red-950 dark:bg-red-900/20",children:e.errorText})]}),o==="input-streaming"&&b.jsx("div",{className:"text-muted-foreground text-sm",children:"Processing tool call..."}),u&&b.jsx("div",{className:"text-muted-foreground border-t border-blue-200 pt-2 text-xs",children:b.jsxs("span",{className:"font-mono",children:["Call ID: ",u]})})]})})]})})},"Tool");function C0e({agentId:e,channelId:t,chatType:r}){const[n,i]=H.useState([]),o=H.useRef(new Set),{toast:a}=Mr(),l=Nr();H.useEffect(()=>()=>{o.current.forEach(w=>URL.revokeObjectURL(w)),o.current.clear()},[]);const u=H.useCallback(w=>{const I=Array.from(w.target.files||[]).filter(R=>R.type.startsWith("image/")||R.type.startsWith("video/")||R.type.startsWith("audio/")||R.type==="application/pdf"||R.type==="application/msword"||R.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||R.type==="application/vnd.ms-excel"||R.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||R.type==="application/vnd.ms-powerpoint"||R.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||R.type.startsWith("text/")).filter(R=>!n.some(L=>L.file.name===R.name&&L.file.size===R.size&&L.file.lastModified===R.lastModified)).map(R=>({file:R,id:ta(),isUploading:!1}));i(R=>{const L=[...R,...I];return Array.from(new Map(L.map(P=>[`${P.file.name}-${P.file.size}`,P])).values())}),w.target&&(w.target.value="")},[n]),c=H.useCallback(w=>{i(_=>{const A=_.find(M=>M.id===w);return A?.blobUrl&&(URL.revokeObjectURL(A.blobUrl),o.current.delete(A.blobUrl)),_.filter(M=>M.id!==w)})},[]),h=H.useCallback(w=>w.map(A=>{const M=URL.createObjectURL(A.file);return o.current.add(M),A.blobUrl=M,{id:A.id,url:M,title:A.file.name,contentType:Om(A.file.type),isUploading:!0}}).filter(A=>A.contentType!==void 0),[]),f=H.useCallback(async w=>{if(!w.length)return{uploaded:[],failed:[],blobUrls:[]};const _=w.map(async L=>{try{const P=r===Ft.DM&&e?await l.media.uploadAgentMedia(e,{file:L.file,filename:L.file.name}):await l.media.uploadChannelMedia(t,L.file);return{success:!0,media:{id:L.id,url:P.url,title:L.file.name,source:"file_upload",contentType:Om(L.file.type)}}}catch(P){return Ye.error(`Failed to upload ${L.file.name}:`,P),a({title:`Upload Failed: ${L.file.name}`,description:P instanceof Error?P.message:"Upload failed",variant:"destructive"}),{success:!1,file:L,error:P instanceof Error?P.message:"Upload failed"}}}),A=await Promise.allSettled(_),M=[],I=[],R=[];return A.forEach((L,P)=>{L.status==="fulfilled"?L.value.success&&"media"in L.value?M.push(L.value.media):"file"in L.value&&I.push(L.value):I.push({file:w[P],error:L.reason?.message||"Upload failed"})}),w.forEach(L=>{L.blobUrl&&R.push(L.blobUrl)}),{uploaded:M,failed:I,blobUrls:R}},[r,e,t,a]),v=H.useCallback(w=>{w.forEach(_=>{URL.revokeObjectURL(_),o.current.delete(_)})},[]),m=H.useCallback(()=>{n.forEach(w=>{w.blobUrl&&(URL.revokeObjectURL(w.blobUrl),o.current.delete(w.blobUrl))}),i([])},[n]);return{selectedFiles:n,setSelectedFiles:i,handleFileChange:u,removeFile:c,createBlobUrls:h,uploadFiles:f,cleanupBlobUrls:v,clearFiles:m,getContentTypeFromMimeType:Om}}s(C0e,"useFileUpload");function M0e({channelId:e,currentUserId:t,contextId:r,chatType:n,allAgents:i,messages:o,onAddMessage:a,onUpdateMessage:l,onDeleteMessage:u,onClearMessages:c,onInputDisabledChange:h}){const f=Ti.getInstance(),v=H.useRef(null),m=H.useRef(null),w=H.useCallback(async(_,A,M,I,R,L,P)=>{const F=P||e;if(!F){Ye.error("[useSocketChat] Cannot send message: no channel ID available");return}const Z={...L,channelType:n,...n===Ft.DM&&{isDm:!0,targetUserId:r}};await f.sendMessage(_,F,A,M,I,R,Z)},[e,f,n,r]);return H.useEffect(()=>{if(!e||!t){m.current&&(Ye.info(`[useSocketChat] useEffect: channelId is now null/undefined, resetting joinedChannelRef from ${m.current}`),m.current=null);return}f.initialize(t),e!==m.current?(Ye.info(`[useSocketChat] useEffect: Joining channel ${e}. Previous joinedChannelRef: ${m.current}`),f.joinChannel(e),m.current=e):Ye.info(`[useSocketChat] useEffect: Channel ${e} already marked as joined by this instance. Skipping joinChannel call.`);const _=s(d=>{if(Ye.info("[useSocketChat] Received raw messageBroadcast data:",JSON.stringify(d)),(d.channelId||d.roomId)!==e)return;const g=d.senderId===t,x=n===Ft.DM?d.senderId===r:i.some(T=>T.id===d.senderId);!g&&x&&h(!1);const E=d.clientMessageId;if(E&&g)l(E,{id:d.id||ta(),isLoading:!1,createdAt:typeof d.createdAt=="number"?d.createdAt:Date.parse(d.createdAt),text:d.text,attachments:d.attachments,isAgent:!1});else{const T={id:d.id||ta(),text:d.text,name:d.senderName,senderId:d.senderId,isAgent:x,createdAt:typeof d.createdAt=="number"?d.createdAt:Date.parse(d.createdAt),channelId:d.channelId||d.roomId,serverId:d.serverId,source:d.source,attachments:d.attachments,thought:d.thought,actions:d.actions,isLoading:!1,prompt:d.prompt,rawMessage:d.rawMessage};o.some(k=>k.id===d.id)||(Ye.info("[useSocketChat] Adding new UiMessage:",JSON.stringify(T)),a(T),x&&T.id?v.current=T.id:v.current=null)}},"handleMessageBroadcasting"),A=s(d=>{(d.channelId||d.roomId)===e&&h(!1)},"handleMessageComplete"),M=s(d=>{(d.channelId||d.roomId)===e&&(d.action==="disable_input"?h(!0):d.action==="enable_input"&&h(!1))},"handleControlMessage"),I=s(d=>{(d.channelId||d.roomId)===e&&d.messageId&&u(d.messageId)},"handleMessageDeleted"),R=s(d=>{(d.channelId||d.roomId)===e&&c()},"handleChannelCleared"),L=s(d=>{(d.channelId||d.roomId)===e&&c()},"handleChannelDeleted"),P=f.evtMessageBroadcast.attach(d=>(d.channelId||d.roomId)===e,_),F=f.evtMessageComplete.attach(d=>(d.channelId||d.roomId)===e,A),Z=f.evtControlMessage.attach(d=>(d.channelId||d.roomId)===e,M),G=f.evtMessageDeleted.attach(d=>(d.channelId||d.roomId)===e,I),se=f.evtChannelCleared.attach(d=>(d.channelId||d.roomId)===e,R),U=f.evtChannelDeleted.attach(d=>(d.channelId||d.roomId)===e,L);return()=>{e&&(Ye.info(`[useSocketChat] useEffect cleanup: Leaving channel ${e}. Current joinedChannelRef: ${m.current}`),f.leaveChannel(e),e===m.current&&(m.current=null,Ye.info(`[useSocketChat] useEffect cleanup: Reset joinedChannelRef for ${e}`))),X([P,F,Z,G,se,U])};function X(d){d.forEach(y=>y?.detach())}},[e,t,f]),{sendMessage:w,animatedMessageId:v.current}}s(M0e,"useSocketChat");const I0e=new Set(["jpg","jpeg","png","gif","webp","svg","bmp","ico","tiff","avif"]),O0e=new Set(["mp4","webm","mov","avi","mkv","flv","wmv","m4v","ogv"]),R0e={youtube:{patterns:[/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/],getEmbedUrl:s(e=>`https://www.youtube.com/embed/${e}`,"getEmbedUrl")},vimeo:{patterns:[/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/],getEmbedUrl:s(e=>`https://player.vimeo.com/video/${e}`,"getEmbedUrl")}};function OL(e){try{return new URL(e).pathname.split(".").pop()?.toLowerCase()||""}catch{return""}}s(OL,"getFileExtension");function j0e(e){const t=OL(e);return I0e.has(t)}s(j0e,"isImageUrl");function L0e(e){const t=OL(e);return O0e.has(t)}s(L0e,"isVideoFileUrl");function RL(e){for(const[t,r]of Object.entries(R0e))for(const n of r.patterns){const i=e.match(n);if(i&&i[1])return{platform:t,id:i[1],embedUrl:r.getEmbedUrl(i[1])}}return null}s(RL,"getVideoPlatformInfo");function jL(e){if(!e)return[];const t=/(https?:\/\/[^\s]+)/g;return(e.match(t)||[]).map(n=>{const i=n.replace(/[.,!?;)]*$/,"");if(j0e(i))return{url:i,type:"image",isEmbed:!1};if(L0e(i))return{url:i,type:"video",isEmbed:!1};const o=RL(i);return o?{url:o.embedUrl,type:"video",isEmbed:!0}:{url:i,type:"unknown",isEmbed:!1}}).filter(n=>n.type!=="unknown")}s(jL,"parseMediaFromText");function P0e(e,t){let r=e;return t.forEach(n=>{if(n.isEmbed){const i=/(https?:\/\/[^\s]+)/g,o=e.match(i)||[];for(const a of o){const l=a.replace(/[.,!?;)]*$/,""),u=RL(l);if(u&&u.embedUrl===n.url){r=r.replace(a,"").trim();break}}}else r=r.replace(n.url,"").trim()}),r}s(P0e,"removeMediaUrlsFromText");const Cf=15;function LL(e){return(e.includes("TEXT")||e.includes("OBJECT"))&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"LLM":e.includes("EMBEDDING")?"Embedding":e.includes("TRANSCRIPTION")?"Transcription":e.includes("IMAGE")?"Image":!e.includes("TEXT")&&!e.includes("IMAGE")&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"Other":"Unknown"}s(LL,"getModelUsageType");function D0e(e){if(!e)return"Unknown date";const t=new Date(e),r=new Date,n=(r.getTime()-t.getTime())/(1e3*60*60);return n<1?`${Math.floor((r.getTime()-t.getTime())/6e4)}m ago`:n<24?`${Math.floor(n)}h ago`:n<168?t.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}s(D0e,"formatDate");function B0e(e=""){return e==="ACTION"?Mb:e.includes("TEXT_EMBEDDING")?rh:e.includes("TRANSCRIPTION")?xo:e.includes("TEXT")||e.includes("OBJECT")?Ib:e.includes("IMAGE")?fD:p7}s(B0e,"getModelIcon");function z0e(e){if(!e)return null;const{prompt_tokens:t,completion_tokens:r,total_tokens:n}=e;return n?{prompt:t||0,completion:r||0,total:n}:null}s(z0e,"formatTokenUsage");function eE(e,t=100){return e.length<=t?e:e.substring(0,t)+"..."}s(eE,"truncateText");function Mf(e){navigator.clipboard.writeText(e).catch(console.error)}s(Mf,"copyToClipboard");function U0e(e){const t={};for(const r of e){const n=r.createdAt||r.timestamp||0,o=new Date(n).toLocaleDateString();t[o]||(t[o]=[]),t[o].push(r)}return t}s(U0e,"groupActionsByDate");function F0e({action:e,onDelete:t}){const[r,n]=H.useState(!1),[i,o]=H.useState(!1),[a,l]=H.useState(!1),u=e.body?.modelType||"",c=e.body?.modelKey||"",h=e.type==="action",f=e.body?.action||"",v=B0e(h?"ACTION":u),m=h?"Action":LL(u),w=z0e(e.body?.response?.usage||e.body?.usage),_=e.body?.prompts,A=s(()=>{const R=e.body?.params;if(!R&&!_)return null;if(u.includes("TRANSCRIPTION")&&Array.isArray(R))return b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(xo,{className:"h-3 w-3"}),b.jsx("span",{children:"Audio input data"})]});const{prompt:L,...P}=R||{};return b.jsxs("div",{className:"space-y-4",children:[_&&Array.isArray(_)&&_.length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Prompts (",_.length,")"]})}),b.jsx("div",{className:"space-y-3",children:_.map((F,Z)=>b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.modelType||"Prompt"," #",Z+1]}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>Mf(F.prompt),"onClick"),className:"h-5 px-1 text-xs",title:"Copy prompt",children:b.jsx(hs,{className:"h-3 w-3"})})]}),b.jsx("div",{className:"bg-muted/30 rounded-md p-2",children:b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:F.prompt})})]},Z))})]}),!_&&L&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Prompt"}),b.jsxs(dt,{variant:"ghost",size:"sm",onClick:s(()=>Mf(L),"onClick"),className:"h-6 px-2 text-xs",title:"Copy prompt",children:[b.jsx(hs,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),b.jsx("div",{className:"bg-muted/30 rounded-md p-3 relative",children:b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:typeof L=="string"?L:JSON.stringify(L,null,2)})})]}),Object.keys(P).length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Other Parameters"}),JSON.stringify(P,null,2).length>200?b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>o(!i),"onClick"),className:"h-6 px-2 text-xs",children:i?"Show less":"Show more"}):null]}),b.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group",children:[b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:(()=>{const F=JSON.stringify(P,null,2),Z=F.length>200;return i||!Z?F:eE(F,200)})()}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>Mf(JSON.stringify(P,null,2)),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy parameters",children:b.jsx(hs,{className:"h-3 w-3"})})]})]})]})},"renderParams"),M=s(()=>{const R=e.body?.response;if(!R)return null;if(R==="[array]")return b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(Pa,{className:"h-3 w-3"}),b.jsx("span",{children:"Array response data"})]});const L=typeof R=="object"?JSON.stringify(R,null,2):String(R),P=L.length>300;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Response"}),P&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>l(!a),"onClick"),className:"h-6 px-2 text-xs",children:a?"Show less":"Show more"})]}),b.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group max-h-64 overflow-y-auto",children:[b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:a||!P?L:eE(L,300)}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>Mf(L),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy response",children:b.jsx(hs,{className:"h-3 w-3"})})]})]})},"renderResponse"),I=e.body?.params||e.body?.response||e.message||e.details;return b.jsxs("div",{className:"border rounded-lg bg-card hover:shadow-sm transition-all duration-200 group",children:[b.jsx("div",{className:"p-4 pb-3",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[b.jsx("div",{className:"p-2 rounded-lg bg-muted",children:b.jsx(v,{className:"h-4 w-4 text-muted-foreground"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("h4",{className:"font-semibold text-sm",children:h?f:m}),b.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:h?"Action":u}),e.body?.promptCount&&e.body.promptCount>1&&b.jsxs(Hi,{variant:"secondary",className:"text-xs px-1.5",children:[e.body.promptCount," prompts"]})]}),b.jsxs("div",{className:"space-y-1",children:[(c||h)&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(Mb,{className:"h-3 w-3"}),b.jsx("code",{className:"font-mono",children:h?`Action ID: ${e.body?.actionId?.slice(-8)||"N/A"}`:c})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(p0,{className:"h-3 w-3"}),b.jsx("span",{children:D0e(e.createdAt||e.timestamp)}),e.id&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:e.id.slice(-8)})]})]})]}),w&&b.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"text-muted-foreground",children:"Tokens:"}),b.jsx("span",{className:"font-mono",children:w.total.toLocaleString()})]}),w.prompt>0&&b.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[b.jsx("span",{children:"In:"}),b.jsx("span",{className:"font-mono",children:w.prompt.toLocaleString()})]}),w.completion>0&&b.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[b.jsx("span",{children:"Out:"}),b.jsx("span",{className:"font-mono",children:w.completion.toLocaleString()})]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[I&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>n(!r),"onClick"),className:"h-8 w-8 p-0",title:r?"Collapse details":"Expand details",children:r?b.jsx(jE,{className:"h-3 w-3"}):b.jsx(Es,{className:"h-3 w-3"})}),e.id&&t&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>{typeof e.id=="string"&&t(e.id)},"onClick"),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",title:"Delete log entry",children:b.jsx(No,{className:"h-3 w-3"})})]})]})}),r&&I&&b.jsxs(b.Fragment,{children:[b.jsx(pi,{}),b.jsxs("div",{className:"p-4 pt-3 space-y-4",children:[A(),M(),(e.message||e.details)&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Additional Info"}),b.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[e.message&&b.jsxs("div",{className:"text-xs mb-2",children:[b.jsx("span",{className:"font-medium text-muted-foreground",children:"Message: "}),b.jsx("span",{children:e.message})]}),e.details&&b.jsxs("div",{className:"text-xs",children:[b.jsx("span",{className:"font-medium text-muted-foreground",children:"Details: "}),b.jsx("span",{children:e.details})]})]})]})]})]}),!r&&I&&b.jsxs(b.Fragment,{children:[b.jsx(pi,{}),b.jsx("div",{className:"p-4 pt-3",children:b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(Ni,{className:"h-3 w-3"}),b.jsx("span",{children:(()=>{const R=[];return e.body?.promptCount&&e.body.promptCount>0&&R.push(`${e.body.promptCount} prompt${e.body.promptCount>1?"s":""}`),e.body?.params&&R.push("parameters"),e.body?.response&&R.push("response data"),R.length>0?`Contains ${R.join(" and ")}`:"Contains additional data"})()}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>n(!0),"onClick"),className:"h-5 px-2 text-xs ml-auto",children:"View details"})]})})]})]})}s(F0e,"ActionCard");function $0e({loadingMore:e,onLoadMore:t}){return b.jsx("div",{className:"flex justify-center py-6",children:e?b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(hc,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{className:"text-sm",children:"Loading more actions..."})]}):b.jsx(dt,{variant:"outline",onClick:t,className:"px-8",children:"Load More"})})}s($0e,"LoadingIndicator");function H0e({selectedType:e,searchQuery:t}){return b.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[b.jsx(Pa,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Actions Found"}),b.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:t?`No actions match "${t}". Try adjusting your search or filter.`:e==="all"?"Actions will appear here once the agent has performed operations.":`No ${e} actions found.`}),t&&b.jsx(dt,{variant:"outline",onClick:s(()=>{},"onClick"),children:"Clear Search"})]})}s(H0e,"EmptyState");function V0e({agentId:e,roomId:t}){const[r,n]=H.useState("all"),[i,o]=H.useState(""),[a,l]=H.useState(Cf),[u,c]=H.useState(!1),h=H.useRef(null),f=["embedding","text_embedding"],{data:v=[],isLoading:m,error:w}=Hq(e,t,f),{mutate:_}=Vq(),{confirm:A,isOpen:M,onOpenChange:I,onConfirm:R,options:L}=Ko(),P=v.filter(d=>{if(r!=="all"){const y=d.body?.modelType||"",g=LL(y),x=d.type==="action";switch(r){case"llm":if(g!=="LLM"&&!x)return!1;break;case"transcription":if(g!=="Transcription")return!1;break;case"image":if(g!=="Image")return!1;break;case"other":if(g!=="Other"&&g!=="Unknown"&&!x)return!1;break}}if(i.trim()){const y=i.toLowerCase();return[d.body?.modelType,d.body?.modelKey,d.id,d.message,JSON.stringify(d.body?.params),JSON.stringify(d.body?.response)].filter(Boolean).join(" ").toLowerCase().includes(y)}return!0}),F=H.useCallback(()=>{if(!h.current||u||a>=P.length)return;const{scrollTop:d,scrollHeight:y,clientHeight:g}=h.current;d+g>=y-200&&(c(!0),setTimeout(()=>{l(E=>Math.min(E+Cf,P.length)),c(!1)},500))},[u,a,P.length]);H.useEffect(()=>{l(Cf)},[r,i]),H.useEffect(()=>{const d=h.current;if(d)return d.addEventListener("scroll",F),()=>d.removeEventListener("scroll",F)},[F]);const Z=P.slice(0,a),G=a<P.length,se=U0e(Z),U=s(d=>{A({title:"Delete Log Entry",description:"Are you sure you want to permanently delete this log entry? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{_({agentId:e,logId:d})})},"handleDelete"),X=s(()=>{l(d=>d+Cf)},"handleLoadMore");return m&&v.length===0?b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(hc,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"font-medium",children:"Loading Actions"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent action history..."})]})]})})}):w?b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Pa,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),b.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Actions"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent actions."})]})})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"text-lg font-medium",children:" Actions"}),!m&&b.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:P.length})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx(ed,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(sn,{placeholder:"Search actions...",value:i,onChange:s(d=>o(d.target.value),"onChange"),className:"pl-10 w-64"})]}),b.jsxs(sa,{value:r,onValueChange:s(d=>n(d),"onValueChange"),children:[b.jsx(ys,{className:"w-40",children:b.jsx(aa,{placeholder:"Filter actions"})}),b.jsxs(ws,{children:[b.jsx(yr,{value:"all",children:"All Actions"}),b.jsx(yr,{value:"llm",children:"LLM Calls"}),b.jsx(yr,{value:"transcription",children:"Transcriptions"}),b.jsx(yr,{value:"image",children:"Image Operations"}),b.jsx(yr,{value:"other",children:"Other"})]})]})]})]}),b.jsx("div",{ref:h,className:"flex-1 overflow-y-auto px-4",children:P.length===0?b.jsx(H0e,{selectedType:r,searchQuery:i}):b.jsxs("div",{className:"space-y-4",children:[Object.entries(se).map(([d,y])=>b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3 py-2",children:[b.jsx(pi,{className:"flex-1"}),b.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:d}),b.jsx(pi,{className:"flex-1"})]}),b.jsx("div",{className:"space-y-3",children:y.map((g,x)=>b.jsx(F0e,{action:g,onDelete:U},g.id||x))})]},d)),G&&b.jsx($0e,{loadingMore:u,onLoadMore:X})]})})]}),b.jsx(Xo,{open:M,onOpenChange:I,title:L?.title||"",description:L?.description||"",confirmText:L?.confirmText,cancelText:L?.cancelText,variant:L?.variant,onConfirm:R})]})}s(V0e,"AgentActionViewer");function G0e({isOpen:e,onClose:t,memory:r,agentId:n}){const{toast:i}=Mr(),{mutate:o,isPending:a}=Zq(),{mutate:l,isPending:u}=Gq(),[c,h]=H.useState(""),[f,v]=H.useState(!0),[m,w]=H.useState(!1),[_,A]=H.useState(!1),M=H.useRef(null),I=a||u,R=JSON.stringify(r.content,null,2),{confirm:L,isOpen:P,onOpenChange:F,onConfirm:Z,options:G}=Ko();H.useEffect(()=>{e&&(h(R),v(!0),A(!1),w(!1),setTimeout(()=>{M.current?.focus()},100))},[e,R]),H.useEffect(()=>{A(c!==R)},[c,R]),H.useEffect(()=>{if(!c.trim()){v(!1);return}try{JSON.parse(c),v(!0)}catch{v(!1)}},[c]),H.useEffect(()=>{const E=s(T=>{T.key==="Escape"&&e&&(_?L({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleEscape");return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[e,_,t]);const se=H.useCallback(()=>{if(!c.trim()){i({title:"Error",description:"Memory content cannot be empty",variant:"destructive"});return}if(!f){i({title:"Invalid JSON",description:"Please fix JSON syntax errors before saving",variant:"destructive"});return}try{const E=JSON.parse(c);o({agentId:n,memoryId:r.id,memoryData:{content:E}},{onSuccess:s(()=>{t(),i({title:"Memory Updated",description:"The memory content has been successfully updated"})},"onSuccess"),onError:s(T=>{i({title:"Update Failed",description:T.message||"Failed to update memory",variant:"destructive"})},"onError")})}catch{i({title:"Invalid JSON",description:"Please enter valid JSON format",variant:"destructive"})}},[c,f,o,n,r.id,t,i]),U=H.useCallback(()=>{L({title:"Delete Memory",description:"Are you sure you want to delete this memory? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{l({agentId:n,memoryId:r.id},{onSuccess:s(()=>{t(),i({title:"Memory Deleted",description:"The memory has been successfully removed"})},"onSuccess"),onError:s(E=>{i({title:"Delete Failed",description:E.message||"Failed to delete memory",variant:"destructive"})},"onError")})})},[l,n,r.id,t,i]),X=H.useCallback(()=>{try{const E=JSON.parse(c);h(JSON.stringify(E,null,2)),i({title:"Formatted",description:"JSON has been formatted"})}catch{i({title:"Format Error",description:"Cannot format invalid JSON",variant:"destructive"})}},[c,i]),d=H.useCallback(()=>{L({title:"Reset Changes",description:"Reset to original content? All unsaved changes will be lost.",confirmText:"Reset",variant:"destructive"},()=>{h(R)})},[R]),y=H.useCallback(async()=>{try{await navigator.clipboard.writeText(c),i({title:"Copied",description:"Content copied to clipboard"})}catch{i({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},[c,i]),g=s(E=>new Date(E).toLocaleString(),"formatTimestamp"),x=s(E=>{E.target===E.currentTarget&&(_?L({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleOverlayClick");return e?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"memory-edit-title",children:b.jsxs(Ns,{className:"w-full max-w-4xl h-[85vh] max-h-[800px] flex flex-col",onClick:s(E=>E.stopPropagation(),"onClick"),children:[b.jsxs(hp,{className:"flex flex-row items-center justify-between space-y-0 pb-2 flex-shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(w4,{id:"memory-edit-title",className:"text-xl font-semibold",children:"Edit Memory Content"}),_&&b.jsx("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Unsaved changes"})]}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close dialog",children:b.jsx(ei,{className:"h-4 w-4"})})]}),b.jsx(pi,{}),b.jsxs(qo,{className:"pt-4 flex-1 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"mb-4 flex items-start bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[b.jsx(C1,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[b.jsx("p",{className:"font-medium mb-1",children:"Editing Raw Memory Content"}),b.jsx("p",{children:"Changes may affect agent behavior. Ensure JSON format is valid before saving."})]})]}),b.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"ID:"}),b.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.id})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Created:"}),b.jsx("span",{children:g(r.createdAt||0)})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Room:"}),b.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.roomId})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Type:"}),b.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r.entityId===n?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-white-100 text-white dark:bg-white-800 dark:text-white"}`,children:r.entityId===n?"Agent Message":"User Message"})]})]})]}),b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{htmlFor:"memory-content",className:"text-sm font-medium",children:"Memory Content"}),b.jsxs("div",{className:"flex items-center gap-1",children:[f?b.jsx(ca,{className:"h-3 w-3 text-green-500"}):b.jsx(C1,{className:"h-3 w-3 text-red-500"}),b.jsx("span",{className:`text-xs ${f?"text-green-600":"text-red-600"}`,children:f?"Valid JSON":"Invalid JSON"})]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(dt,{variant:"outline",size:"sm",onClick:s(()=>w(!m),"onClick"),disabled:I,title:m?"Switch to edit mode":"Switch to preview mode",children:m?b.jsx(Ks,{className:"h-3 w-3"}):b.jsx(cs,{className:"h-3 w-3"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:y,disabled:I,title:"Copy to clipboard",children:b.jsx(hs,{className:"h-3 w-3"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:X,disabled:I||!f,title:"Format JSON",children:"Format"}),b.jsx(dt,{variant:"outline",size:"sm",onClick:d,disabled:I||!_,title:"Reset to original",children:b.jsx(GE,{className:"h-3 w-3"})})]})]}),b.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[m?b.jsx("div",{className:"flex-1 border rounded-md p-3 bg-muted/50 overflow-auto",children:b.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:f?JSON.stringify(JSON.parse(c),null,2):c})}):b.jsx(nd,{ref:M,id:"memory-content",value:c,onChange:s(E=>h(E.target.value),"onChange"),className:`flex-1 resize-none font-mono text-sm min-h-[300px] ${f?"":"border-red-300 focus:border-red-500"}`,placeholder:"Memory content in JSON format...",disabled:I,"aria-describedby":"json-help"}),b.jsx("p",{id:"json-help",className:"text-xs text-muted-foreground mt-2 flex-shrink-0",children:"Edit the JSON directly. Use Ctrl+A to select all, Ctrl+Z to undo."})]})]}),b.jsxs(pp,{className:"flex justify-between flex-shrink-0",children:[b.jsxs(dt,{variant:"destructive",onClick:U,disabled:I,children:[b.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Delete Memory"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(dt,{variant:"outline",onClick:t,disabled:I,children:"Cancel"}),b.jsxs(dt,{onClick:se,disabled:I||!f||!_,children:[b.jsx(ZE,{className:"mr-2 h-4 w-4"}),a?"Saving...":"Save Changes"]})]})]})]})}),b.jsx(Xo,{open:P,onOpenChange:F,title:G?.title||"",description:G?.description||"",confirmText:G?.confirmText,cancelText:G?.cancelText,variant:G?.variant,onConfirm:Z})]}):null}s(G0e,"MemoryEditOverlay");const If=15;function Z0e({agentId:e,agentName:t,channelId:r}){const[n,i]=H.useState("all"),[o,a]=H.useState(""),[l,u]=H.useState(null),[c,h]=H.useState(If),[f,v]=H.useState(!1),m=H.useRef(null),{data:w}=m4(),_=n==="facts"?void 0:"messages",A=n==="facts"||n==="all"?"facts":void 0,M=n==="currentChat"&&r?r:void 0,{data:I=[],isLoading:R,error:L}=Wx(e,_,M),{data:P=[],isLoading:F,error:Z}=Wx(e,A,M),G=[...I,...P],se=R||F,U=L||Z,X=G.filter(C=>{if(n!=="all"&&n!=="currentChat"){if(n==="facts")return!0;if(n==="messagesSent"&&C.entityId!==C.agentId||n==="messagesReceived"&&C.entityId===C.agentId)return!1}if(o.trim()){const O=o.toLowerCase(),B=C.content;return[B?.text,B?.thought,C.id,C.metadata].filter(Boolean).join(" ").toLowerCase().includes(O)}return!0}),d=H.useCallback(()=>{if(!m.current||f||c>=X.length)return;const{scrollTop:C,scrollHeight:O,clientHeight:B}=m.current;C+B>=O-200&&(v(!0),setTimeout(()=>{h($=>Math.min($+If,X.length)),v(!1)},500))},[f,c,X.length]);H.useEffect(()=>{h(If)},[n,o]),H.useEffect(()=>{const C=m.current;if(C)return C.addEventListener("scroll",d),()=>C.removeEventListener("scroll",d)},[d]);const y=s(C=>{const O=new Date(C),z=(new Date().getTime()-O.getTime())/(1e3*60*60);return z<24?O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):z<168?O.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):O.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},"formatDate"),g=s((C,O)=>O?.thought?rh:C.entityId===C.agentId?Ib:m7,"getMemoryIcon"),x=s(async C=>{try{await navigator.clipboard.writeText(C)}catch(O){console.error("Failed to copy:",O)}},"copyToClipboard"),E=s(C=>{const O={};for(const B of C){const $=new Date(B.createdAt||0).toLocaleDateString();O[$]||(O[$]=[]),O[$].push(B)}return O},"groupMessagesByDate"),T=X.slice(0,c),N=c<X.length,k=E(T);if(se&&G.length===0)return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(hc,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"font-medium",children:"Loading Memories"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent conversation history..."})]})]})})});if(U)return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Pa,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),b.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Memories"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent memories."})]})})});const p=s(()=>b.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[b.jsx(Pa,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Memories Found"}),b.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:o?`No memories match "${o}". Try adjusting your search or filter.`:"This agent hasn't created any memories yet. Memories will appear here as the agent interacts."}),o&&b.jsx(dt,{variant:"outline",onClick:s(()=>a(""),"onClick"),children:"Clear Search"})]}),"EmptyState"),S=s(({memory:C})=>{const O=C.content,B=g(C,O),z=C.entityId===C.agentId,W=s(()=>z?w?.data?.agents?.find(ne=>ne.id===C.entityId)?.name||t:C.metadata?.raw?.senderName||C.metadata?.source||"User","getEntityName")();return b.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/5 transition-colors group",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-md bg-muted",children:b.jsx(B,{className:"h-4 w-4"})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-medium text-sm",children:W}),b.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:O?.thought?"Thought":z?"Agent":"User"})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[b.jsx(p0,{className:"h-3 w-3"}),b.jsx("span",{children:y(C.createdAt||0)}),C.id&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:C.id.slice(-8)})]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[O?.text&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>x(O.text||""),"onClick"),className:"h-8 w-8 p-0",title:"Copy text",children:b.jsx(hs,{className:"h-3 w-3"})}),C.id&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>u(C),"onClick"),className:"h-8 w-8 p-0",title:"Edit memory",children:b.jsx(hD,{className:"h-3 w-3"})})]})]}),b.jsxs("div",{className:"space-y-3",children:[O?.text&&b.jsx("div",{className:"bg-muted/50 rounded-md p-3",children:b.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:O.text})}),O?.thought&&b.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(rh,{className:"h-3 w-3 text-muted-foreground"}),b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Thought Process"})]}),b.jsx("p",{className:"text-xs text-muted-foreground italic leading-relaxed",children:String(O.thought)})]}),(O?.actions||O?.providers||O?.source)&&b.jsxs("div",{className:"flex flex-wrap gap-1",children:[O.actions?.map(oe=>b.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Action",children:oe},oe)),O.providers?.map(oe=>b.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Provider",children:oe},oe)),O.source&&b.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",children:O.source})]}),C.metadata&&Object.keys(C.metadata).length>0&&b.jsxs("details",{className:"text-xs",children:[b.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View metadata"}),b.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded text-[10px] font-mono overflow-x-auto",children:b.jsx("pre",{children:JSON.stringify(C.metadata,null,2)})})]})]})]})},"MemoryCard");return b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"text-lg font-medium",children:"Memories"}),!se&&b.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:X.length})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx(ed,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(sn,{placeholder:"Search memories...",value:o,onChange:s(C=>a(C.target.value),"onChange"),className:"pl-10 w-full min-w-0 max-w-64"})]}),b.jsxs(sa,{value:n,onValueChange:s(C=>i(C),"onValueChange"),children:[b.jsx(ys,{className:"w-40",children:b.jsx(aa,{placeholder:"Filter memories"})}),b.jsxs(ws,{children:[b.jsx(yr,{value:"all",children:"All Messages"}),r&&b.jsx(yr,{value:"currentChat",children:"Current Chat"}),b.jsx(yr,{value:"messagesSent",children:"Agent Messages"}),b.jsx(yr,{value:"messagesReceived",children:"User Messages"}),b.jsx(yr,{value:"facts",children:"Facts"})]})]})]})]}),b.jsx("div",{ref:m,className:"flex-1 overflow-y-auto px-4",children:X.length===0?b.jsx(p,{}):b.jsxs("div",{className:"space-y-4",children:[Object.entries(k).map(([C,O])=>b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3 py-2",children:[b.jsx(pi,{className:"flex-1"}),b.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:C}),b.jsx(pi,{className:"flex-1"})]}),b.jsx("div",{className:"space-y-3",children:O.map(B=>b.jsx(S,{memory:B},B.id||B.createdAt))})]},C)),N&&b.jsx("div",{className:"flex justify-center py-6",children:f?b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(hc,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{className:"text-sm",children:"Loading more memories..."})]}):b.jsx(dt,{variant:"outline",onClick:s(()=>h(C=>C+If),"onClick"),className:"px-8",children:"Load More"})})]})}),l&&b.jsx(G0e,{isOpen:!!l,onClose:s(()=>u(null),"onClose"),memory:l,agentId:e})]})}s(Z0e,"AgentMemoryViewer");function PL(e){const[t,r]=H.useState(!1),{toast:n}=Mr(),i=Rn(),o=En();return{handleDelete:H.useCallback(async()=>{r(!0),n({title:"Deleting...",description:`Deleting agent "${e.name}"`});let l=!1,u=null;try{u=setTimeout(()=>{l||(o.invalidateQueries({queryKey:["agents"]}),i("/"),n({title:"Note",description:"Deletion is still processing in the background."}))},8e3);const c=Nr();if(!e.id)throw new Error("Agent ID is required for deletion");const h=await c.agents.deleteAgent(e.id);l=!0,u&&clearTimeout(u);const f=h?.partial;n(f?{title:"Processing",description:"Deletion is still in progress and will complete in the background."}:{title:"Success",description:"Agent deleted successfully"}),o.invalidateQueries({queryKey:["agents"]}),i("/")}catch(c){l=!0,u&&clearTimeout(u);const h=c?.message??"Failed to delete agent",f=c?.statusCode||c?.response?.status;f===409||h.includes("409")||h.includes("Conflict")||h.includes("foreign key constraint")||h.includes("active references")?n({title:"Cannot Delete",description:"This agent cannot be deleted because it has active references. Try stopping the agent first.",variant:"destructive"}):f===408||f===504||h.includes("408")||h.includes("504")||h.includes("timeout")||h.includes("timed out")?(n({title:"Operation Timeout",description:"The deletion is taking longer than expected and will continue in the background.",variant:"destructive"}),o.invalidateQueries({queryKey:["agents"]}),i("/")):n({title:"Error",description:h,variant:"destructive"})}finally{r(!1)}},[e,n,i,o]),isDeleting:t}}s(PL,"useDeleteAgent");function DL({agent:e,agentId:t,onSaveComplete:r}){const{toast:n}=Mr(),i=Rn(),o=En(),{confirm:a,isOpen:l,onOpenChange:u,onConfirm:c,options:h}=Ko(),f=e?.status===on.ACTIVE,v=H.useRef(null),[m,w]=H.useState({}),{handleDelete:_,isDeleting:A}=PL(e),M=CM(e),{stopAgent:I,isAgentStopping:R}=tu(),L=s(async()=>{try{await I(e),n({title:"Success",description:"Agent stopped successfully"})}catch(Z){n({title:"Error",description:Z instanceof Error?Z.message:"Failed to stop agent",variant:"destructive"})}},"handleStopAgent"),P=s(async()=>{if(!t){n({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const Z=s(async()=>{try{const G=Nr(),se=Object.keys(m).length>0?m:v.current?.getSecrets()||{},U=M.getChangedFields();if(se&&Object.keys(se).length>0){U.settings||(U.settings={});const d=Object.entries(se).filter(([y,g])=>g!==null).reduce((y,[g,x])=>({...y,[g]:x}),{});U.settings.secrets=d}if(Object.keys(U).length===0){const d=M.agent?.settings?.secrets;if(d&&Object.keys(d).length>0){const y={id:t,settings:{secrets:d}};await G.agents.updateAgent(t,y),o.invalidateQueries({queryKey:["agent",t]}),o.invalidateQueries({queryKey:["agents"]}),n({title:"Success",description:"Agent secrets updated successfully"}),r?r():i("/");return}n({title:"No Changes",description:"No changes were made to the agent"}),r?r():i("/");return}const X={id:t,...U};await G.agents.updateAgent(t,X),o.invalidateQueries({queryKey:["agent",t]}),o.invalidateQueries({queryKey:["agents"]}),n({title:"Success",description:"Agent updated successfully"}),r?r():i("/")}catch(G){throw n({title:"Error",description:G instanceof Error?G.message:"Failed to update agent",variant:"destructive"}),G}},"performSave");if(v?.current){const G=v.current.validateSecrets();if(!G.isValid){a({title:"Missing Required Secrets",description:`The following required secrets are missing: ${G.missingSecrets.join(", ")}. Do you want to save anyway?`,confirmText:"Save Anyway",cancelText:"Cancel",variant:"destructive"},Z);return}}await Z()},"handleSubmit"),F=s(()=>{A||a({title:"Delete Agent",description:`Are you sure you want to delete the agent "${e.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},_)},"handleDelete");return b.jsxs(b.Fragment,{children:[b.jsx(EM,{characterValue:M.agent,setCharacterValue:M,title:"Agent Settings",description:"Configure your AI agent's behaviour and capabilities.",onSubmit:P,onReset:M.reset,onDelete:F,onStopAgent:f?L:void 0,isAgent:!0,isDeleting:A,isStopping:R(t),customComponents:[{name:"Plugins",component:b.jsx(TM,{characterValue:M.agent,setCharacterValue:M,initialPlugins:e.plugins})},{name:"Secret",component:b.jsx(i4,{characterValue:M.agent,ref:v,onChange:s(Z=>{w(Z),M.updateSettings({secrets:Z})},"onChange")})},{name:"Avatar",component:b.jsx(SM,{characterValue:M.agent,setCharacterValue:M})}]}),b.jsx(Xo,{open:l,onOpenChange:u,title:h?.title||"",description:h?.description||"",confirmText:h?.confirmText,cancelText:h?.cancelText,variant:h?.variant,onConfirm:c})]})}s(DL,"AgentSettings");const tE="eliza-agent-tab-states";function J0e(e){const[t,r]=H.useState("details"),n=H.useCallback(()=>{try{const a=localStorage.getItem(tE);return a?JSON.parse(a):{}}catch(a){return Ye.error("Error reading agent tab states from localStorage:",a),{}}},[]),i=H.useCallback(a=>{try{localStorage.setItem(tE,JSON.stringify(a))}catch(l){Ye.error("Error saving agent tab states to localStorage:",l)}},[]);H.useEffect(()=>{if(!e){r("details");return}const l=n()[e]||"details";r(l)},[e,n]);const o=H.useCallback(a=>{if(r(a),e){const u={...n(),[e]:a};i(u)}},[e,n,i]);return{currentTab:t,setTab:o}}s(J0e,"useAgentTabState");class W0e{static{s(this,"ElizaSpanAdapter")}convertRunDetailToTraceSpans(t){const r=t.events;if(!r||r.length===0)return[];const n=[...r].sort((l,u)=>l.timestamp-u.timestamp),i=new Map,o=new Map,a=[];return n.forEach((l,u)=>{switch(l.type){case"RUN_STARTED":{const c=this.createRunSpan(t,l);a.push(c);break}case"ACTION_STARTED":{const c=l.data.actionName||l.data.actionId||`Action ${u}`,h=l.data.actionId||c;let f=i.get(h);f||(f={id:`action-${h}`,title:c,type:"agent_invocation",status:"pending",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),children:[]},i.set(h,f),a.push(f));const v=(f.children?.length||0)+1,m={id:`attempt-${h}-${v}`,title:`Attempt ${v}`,type:"span",status:"pending",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),children:[]};f.children=[...f.children||[],m],o.set(h,m);break}case"ACTION_COMPLETED":{const c=l.data.actionName||l.data.actionId||`Action ${u}`,h=l.data.actionId||c,f=i.get(h),v=o.get(h),m=this.extractPrompt(l.data),w=this.extractResponse(l.data);if(v){const _=l.data.success!==!1;v.status=_?"success":"error",v.endTime=new Date(l.timestamp),v.duration=l.timestamp-v.startTime.getTime(),m&&(v.input=m),w&&(v.output=w),o.delete(h)}if(f){const _=l.data.success!==!1;f.status=_?"success":"error",f.endTime=new Date(l.timestamp),f.duration=l.timestamp-f.startTime.getTime(),m&&!f.input&&(f.input=m),w&&!f.output&&(f.output=w)}break}case"MODEL_USED":{const c=l.data.modelType||"Model Call",h=this.extractPrompt(l.data),f=this.extractResponse(l.data),v={id:`model-${u}`,title:c,type:"llm_call",status:"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp+(l.data.executionTime||0)),duration:l.data.executionTime||0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),input:h,output:f,tokensCount:this.extractTokensCount(l.data),cost:this.extractCost(l.data)},w=l.data.actionContext||void 0||Array.from(o.keys()).pop();if(w){const _=o.get(w);if(_)_.children=[..._.children||[],v];else{const A=i.get(w);if(A&&A.children&&A.children.length>0){const M=A.children[A.children.length-1];M.children=[...M.children||[],v]}}}else a.push(v);break}case"EVALUATOR_COMPLETED":{const c=l.data.evaluatorName||`Evaluator ${u}`,h={id:`evaluator-${u}`,title:c,type:"chain_operation",status:"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data)};a.push(h);break}case"EMBEDDING_EVENT":{const c=l.data.status||"completed",h={id:`embedding-${u}`,title:`Embedding ${c}`,type:"embedding",status:c==="failed"?"error":"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp+(l.data.durationMs||0)),duration:l.data.durationMs||0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data)},f=Array.from(o.keys()).pop();if(f){const v=o.get(f);v&&(v.children=[...v.children||[],h])}else a.push(h);break}}}),a}createRunSpan(t,r){const n=t.summary,i=n.durationMs||0,o=new Date(r.timestamp),a=new Date(r.timestamp+i);return{id:n.runId,title:`Run ${new Date(n.startedAt||Date.now()).toLocaleTimeString()}`,type:"agent_invocation",status:this.convertRunStatus(n.status),startTime:o,endTime:a,duration:i,raw:JSON.stringify(t,null,2),attributes:[{key:"run.id",value:{stringValue:n.runId}},{key:"run.status",value:{stringValue:n.status}},...n.messageId?[{key:"message.id",value:{stringValue:n.messageId}}]:[],...n.roomId?[{key:"room.id",value:{stringValue:n.roomId}}]:[]],children:[]}}convertRunStatus(t){switch(t){case"completed":return"success";case"error":return"error";case"timeout":return"warning";case"started":return"pending";default:return"pending"}}convertEventDataToAttributes(t){return Object.entries(t).map(([r,n])=>({key:r,value:this.convertValueToAttributeValue(n)}))}convertValueToAttributeValue(t){return typeof t=="string"?{stringValue:t}:typeof t=="number"?{intValue:t.toString()}:typeof t=="boolean"?{boolValue:t}:{stringValue:JSON.stringify(t)}}coerceToNumber(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string"){const r=Number(t);return Number.isFinite(r)?r:void 0}}extractTokensCount(t){const r=Object.prototype.hasOwnProperty.call(t,"inputTokens"),n=Object.prototype.hasOwnProperty.call(t,"outputTokens");if(r||n){const a=this.coerceToNumber(t.inputTokens)??0,l=this.coerceToNumber(t.outputTokens)??0;return a+l}const i=s(a=>{if(!a||typeof a!="object")return;const l=a,u=this.coerceToNumber(l.total_tokens);if(u!==void 0)return u;const c=Object.prototype.hasOwnProperty.call(l,"prompt_tokens"),h=Object.prototype.hasOwnProperty.call(l,"completion_tokens");if(c||h){const f=this.coerceToNumber(l.prompt_tokens)??0,v=this.coerceToNumber(l.completion_tokens)??0;return f+v}},"extractFromUsage");if(t.response&&typeof t.response=="object"){const a=t.response,l=i(a.usage);if(l!==void 0)return l}const o=i(t.usage);if(o!==void 0)return o}extractCost(t){if(t.cost&&typeof t.cost=="number")return t.cost;if(t.response&&typeof t.response=="object"){const r=t.response;if(r.cost&&typeof r.cost=="number")return r.cost}}extractPrompt(t){if(t.prompts&&Array.isArray(t.prompts)){const r=t.prompts;if(r.length>0)return r.map((n,i)=>(r.length>1?`[Prompt ${i+1}${n.modelType?` - ${n.modelType}`:""}]
`:"")+(n.prompt||"")).join(`

---

`)}if(t.prompt&&typeof t.prompt=="string")return t.prompt;if(t.params&&typeof t.params=="object"){const r=t.params;if(r.prompt&&typeof r.prompt=="string")return r.prompt;const{prompt:n,...i}=r;if(Object.keys(i).length>0)return JSON.stringify(i,null,2)}if(t.input&&typeof t.input=="string")return t.input}extractResponse(t){if(t.response){if(typeof t.response=="string")return t.response;if(typeof t.response=="object"){const r=t.response;return r.content&&typeof r.content=="string"?r.content:r.text&&typeof r.text=="string"?r.text:r.message&&typeof r.message=="string"?r.message:JSON.stringify(r,null,2)}return String(t.response)}if(t.output)return typeof t.output=="string"?t.output:JSON.stringify(t.output,null,2);if(t.result)return typeof t.result=="string"?t.result:JSON.stringify(t.result,null,2)}convertRunSummaryToTraceRecord(t){const r=t.runId.slice(0,8);return{id:t.runId,name:`Run ${r}`,spansCount:Object.values(t.counts||{}).reduce((n,i)=>n+i,0),durationMs:t.durationMs||0,agentDescription:`Status: ${t.status}`,startTime:t.startedAt||void 0}}}const rE=new W0e,BL=s(e=>{const t=+e.startTime;return+e.endTime-t},"getDurationMs"),Rl=s(e=>{if(e<1e3)return`${Math.round(e)}ms`;if(e<6e4)return`${Math.round(e/1e3)}s`;if(e<36e5){const n=Math.floor(e/6e4),i=Math.floor(e%6e4/1e3);return i>0?`${n}m ${i}s`:`${n}m`}const t=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return r>0?`${t}h ${r}m`:`${t}h`},"formatDuration"),zL=s(({spanCard:e,minStart:t,maxEnd:r})=>{const n=+e.startTime,i=r-t,o=BL(e),a=(n-t)/i*100,l=o/i*100;return{durationMs:o,startPercent:a,widthPercent:l}},"getTimelineData"),UL=s(e=>{const t=[],r=s(n=>{n.forEach(i=>{t.push(i),i.children?.length&&r(i.children)})},"traverse");return r(e),t},"flattenSpans");function Q0e(e){return e.reduce((t,r)=>{const n=+new Date(r.startTime),i=+new Date(r.endTime);return{minStart:Math.min(t.minStart,n),maxEnd:Math.max(t.maxEnd,i)}},{minStart:e.length>0?+new Date(e[0].startTime):1/0,maxEnd:e.length>0?+new Date(e[0].endTime):-1/0})}s(Q0e,"findTimeRange");function FL(e,t){const r=t.toLowerCase().trim();if(!r)return e;const n=[];for(const i of e){const o=i.title.toLowerCase().includes(r),a=i.type.toLowerCase().includes(r),l=i.attributes?.some(h=>h.key.toLowerCase().includes(r)||h.value.stringValue?.toLowerCase().includes(r)||h.value.intValue?.toLowerCase().includes(r)),u=o||a||l,c=i.children?FL(i.children,t):[];(u||c.length>0)&&n.push({...i,children:c.length>0?c:i.children})}return n}s(FL,"filterSpansRecursively");const $L={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},X0e={purple:{bg:"bg-purple-100",darkBg:"dark:bg-purple-950/60",text:"text-purple-500",darkText:"dark:text-purple-300"},indigo:{bg:"bg-indigo-100",darkBg:"dark:bg-indigo-950/60",text:"text-indigo-500",darkText:"dark:text-indigo-300"},orange:{bg:"bg-orange-100",darkBg:"dark:bg-orange-950/60",text:"text-orange-600",darkText:"dark:text-orange-300"},teal:{bg:"bg-teal-100",darkBg:"dark:bg-teal-950/60",text:"text-teal-600",darkText:"dark:text-teal-300"},cyan:{bg:"bg-cyan-100",darkBg:"dark:bg-cyan-950/60",text:"text-cyan-600",darkText:"dark:text-cyan-300"},sky:{bg:"bg-sky-100",darkBg:"dark:bg-sky-950/60",text:"text-sky-600",darkText:"dark:text-sky-300"},yellow:{bg:"bg-yellow-100",darkBg:"dark:bg-yellow-950/60",text:"text-yellow-700",darkText:"dark:text-yellow-300"},emerald:{bg:"bg-emerald-100",darkBg:"dark:bg-emerald-950/60",text:"text-emerald-600",darkText:"dark:text-emerald-300"},red:{bg:"bg-red-100",darkBg:"dark:bg-red-950/60",text:"text-red-600",darkText:"dark:text-red-300"},gray:{bg:"bg-gray-100",darkBg:"dark:bg-gray-900",text:"text-gray-600",darkText:"dark:text-gray-300"}},I6={llm_call:{label:"LLM",theme:"purple",icon:Mb},tool_execution:{label:"TOOL",theme:"orange",icon:wD},agent_invocation:{label:"AGENT INVOCATION",theme:"indigo",icon:Ib},chain_operation:{label:"CHAIN",theme:"teal",icon:yD},retrieval:{label:"RETRIEVAL",theme:"cyan",icon:ed},embedding:{label:"EMBEDDING",theme:"emerald",icon:bD},create_agent:{label:"CREATE AGENT",theme:"sky",icon:f0},span:{label:"SPAN",theme:"cyan",icon:vD},event:{label:"EVENT",theme:"emerald",icon:gD},guardrail:{label:"GUARDRAIL",theme:"red",icon:mD},unknown:{label:"UNKNOWN",theme:"gray",icon:pD}};function O6(e){return I6[e].theme}s(O6,"getSpanCategoryTheme");function HL(e){return I6[e].label}s(HL,"getSpanCategoryLabel");function VL(e){return I6[e].icon}s(VL,"getSpanCategoryIcon");const K0e="inline-flex items-center justify-center font-medium transition-all duration-200",q0e={6:"h-6 px-2 gap-1 text-xs",7:"h-7 px-2 gap-1 text-xs",8:"h-8 px-2 gap-1 text-xs",9:"h-9 px-2.5 gap-2 text-sm",10:"h-10 px-4 gap-2 text-sm",11:"h-11 px-5 gap-3 text-base",12:"h-12 px-5 gap-2.5 text-base",16:"h-16 px-7 gap-3 text-lg"},nE={gray:"bg-muted text-muted-foreground",purple:"bg-primary text-primary-foreground",indigo:"bg-primary text-primary-foreground",orange:"bg-chart-1 text-primary-foreground",teal:"bg-chart-2 text-primary-foreground",cyan:"bg-chart-3 text-primary-foreground",sky:"bg-chart-4 text-primary-foreground",yellow:"bg-chart-5 text-primary-foreground",emerald:"bg-accent text-accent-foreground",red:"bg-destructive text-destructive-foreground"},Y0e={filled:"",outlined:"border border-2 bg-transparent text-foreground border-border",ghost:"bg-transparent text-muted-foreground"},iE=s(({children:e,size:t="6",theme:r="gray",rounded:n="md",variant:i="filled",fullWidth:o=!1,disabled:a=!1,iconStart:l,iconEnd:u,type:c="button",onClick:h,className:f="",...v})=>{const m=o?"w-full":"",w=a?"cursor-not-allowed opacity-50":"hover:opacity-70",_=i==="filled"?nE[r]||nE.gray:"";return b.jsxs("button",{type:c,onClick:h,disabled:a,className:Fe(K0e,q0e[t],$L[n],Y0e[i],_,m,w,f),...v,children:[l&&b.jsx("span",{className:"mr-1",children:l}),e,u&&b.jsx("span",{className:"ml-1",children:u})]})},"Button"),epe={6:"h-6 min-h-6",7:"h-7 min-h-7",8:"h-8 min-h-8",9:"h-9 min-h-9",10:"h-10 min-h-10",11:"h-11 min-h-11",12:"h-12 min-h-12",16:"h-16 min-h-16"},tpe={default:"border border-border bg-transparent ",ghost:"bg-transparent"},Hp=s(({children:e,className:t,size:r="6",variant:n="default",type:i="button","aria-label":o,...a})=>b.jsx("button",{type:i,"aria-label":o,className:Fe(t,epe[r],"inline-flex aspect-square shrink-0 items-center justify-center","rounded-md",tpe[n],"text-muted-foreground ","hover:bg-gray-200 dark:hover:bg-gray-800"),...a,children:e}),"IconButton"),GL=s(({onExpandAll:e,...t})=>b.jsx(Hp,{size:"7",onClick:e,"aria-label":"Expand all",...t,children:b.jsx(xD,{className:"size-3.5"})}),"ExpandAllButton"),ZL=s(({onCollapseAll:e,...t})=>b.jsx(Hp,{size:"7",onClick:e,"aria-label":"Collapse all",...t,children:b.jsx(_D,{className:"size-3.5"})}),"CollapseAllButton"),sE="text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",rpe={underline:{list:"h-9 flex border-b border-border ",trigger:`w-full justify-center px-3 ${sE} 
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      border-b-2 border-transparent data-[state=active]:border-primary 
      dark:data-[state=active]:border-muted -mb-[2px]
      hover:border-muted `},pill:{list:"h-9 inline-flex gap-1 p-1 bg-muted rounded-lg",trigger:`px-3 ${sE} rounded-md
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      hover:bg-accent data-[state=active]:bg-card data-[state=active]:shadow-sm
      dark:hover:bg-gray-700 dark:data-[state=active]:bg-gray-600 dark:data-[state=active]:shadow-none`}},JL=s(({items:e,defaultValue:t,value:r,onValueChange:n,theme:i="underline",className:o="",tabsListClassName:a="",triggerClassName:l="",dir:u,...c})=>{const h=t||e[0]?.value,f=rpe[i];return b.jsx(TE,{className:o,defaultValue:r?void 0:h,value:r,onValueChange:n,dir:u,...c,children:b.jsx(vb,{className:Fe(f.list,a),"aria-label":"Navigation tabs",children:e.map(v=>b.jsxs(bb,{value:v.value,disabled:v.disabled,className:Fe("flex items-center overflow-hidden",f.trigger,l),children:[v.icon&&b.jsx("span",{className:"mr-2 text-muted-foreground group-data-[state=active]:text-current ",children:v.icon}),b.jsx("span",{className:"truncate",children:v.label})]},v.value))})})},"Tabs"),WL=s(({title:e,rightContent:t,children:r,defaultOpen:n=!1,className:i="",triggerClassName:o="",contentClassName:a="",onOpenChange:l})=>{const[u,c]=H.useState(n),h=H.useCallback(v=>{c(v),l?.(v)},[l]),f=H.useCallback(v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),h(!u))},[h,u]);return b.jsxs(Cb,{open:u,onOpenChange:h,className:Fe("rounded-lg",i),children:[b.jsx(g7,{asChild:!0,children:b.jsxs("div",{tabIndex:0,role:"button",className:Fe("mb-1 flex w-full items-center justify-between gap-2 rounded-lg px-1 py-3 text-left text-sm font-medium text-foreground",o),onKeyDown:f,"aria-expanded":u,"aria-label":`${u?"Collapse":"Expand"} content of "${e}" section`,children:[b.jsxs("div",{className:"flex w-full items-center gap-2",children:[b.jsx(Es,{className:Fe("h-3 w-3 text-muted-foreground transition-transform duration-200",u&&"rotate-180")}),b.jsx("span",{className:"truncate",children:e})]}),t]})}),b.jsx(v7,{className:Fe("data-[state=closed]:animate-slideUp data-[state=open]:animate-slideDown",a),children:r})]})},"CollapsibleSection"),aE="absolute top-1/2 -translate-y-1/2 flex items-center justify-center text-foreground",QL=s(({className:e,onChange:t,onValueChange:r,startIcon:n,onClear:i,ref:o,inputClassName:a,label:l,hideLabel:u=!1,id:c,...h})=>{const f=H.useRef(null),v=s(w=>{t?.(w),r?.(w.target.value)},"handleChange"),m=s(()=>{if(i?.(),o){o.current?.focus();return}f.current?.focus()},"handleClear");return b.jsxs("div",{className:Fe("w-full",e),children:[l&&b.jsx("label",{htmlFor:c,className:Fe("block text-sm font-medium text-foreground ",u&&"sr-only"),children:l}),b.jsxs("div",{className:Fe("relative flex w-full items-center justify-center",l&&!u&&"mt-1"),children:[b.jsx("input",{id:c,ref:o||f,onChange:v,className:Fe(a,"flex h-7 items-center truncate","w-full px-2",!!n&&"pl-8",!!i&&"pr-8","rounded border border-border bg-transparent ","text-foreground placeholder:text-muted-foreground ","hover:border-border dark:hover:border-gray-700"),...h}),n&&b.jsx("div",{className:Fe(aE,"left-2"),"aria-hidden":!0,children:n}),i&&h.value&&b.jsx("button",{className:Fe(aE,"right-2"),"aria-label":"Clear input value",onClick:m,type:"button",children:b.jsx(ei,{className:"size-4"})})]})]})},"TextInput"),npe=s(({data:e})=>b.jsxs("div",{className:"space-y-6",children:[(!e.attributes||e.attributes.length===0)&&b.jsx("div",{className:"p-6 text-center",children:b.jsx("p",{className:"text-muted-foreground ",children:"No attributes available for this span."})}),(e.attributes||[]).map((t,r)=>{const n=t.value.stringValue||t.value.intValue||t.value.boolValue?.toString()||"N/A";return b.jsx(WL,{title:t.key,defaultOpen:!0,children:b.jsx(QL,{id:`${e.id}-attribute-${r}`,value:n,disabled:!0,readOnly:!0,inputClassName:"font-mono text-xs",className:"w-full"})},`${t.key}-${r}`)})]}),"DetailsViewAttributesTab"),ipe={4:"size-4 text-xs",6:"size-6 text-xs",8:"size-8 text-xs",9:"size-9 text-sm",10:"size-10 text-base",11:"size-11 text-lg",12:"size-12 text-xl",16:"size-16 text-2xl"},spe={4:"size-3",6:"size-4",8:"size-6",9:"size-7",10:"size-8",11:"size-9",12:"size-10",16:"size-12"},ape={4:"text-xs",6:"text-xs",8:"text-xs",9:"text-sm",10:"text-base",11:"text-lg",12:"text-xl",16:"text-2xl"},ope={gray:"bg-muted-foreground",red:"bg-destructive",orange:"bg-chart-1",yellow:"bg-chart-5",teal:"bg-chart-2",indigo:"bg-primary",purple:"bg-primary",sky:"bg-chart-4",cyan:"bg-chart-3",emerald:"bg-accent"},R6=s(({src:e,alt:t="Avatar",size:r="10",rounded:n="full",bgColor:i="gray",textColor:o="white",letter:a,className:l="",...u})=>{const[c,h]=H.useState(!1),f=a?a.charAt(0):t.charAt(0).toUpperCase(),v=o==="white"?"text-white":"text-black";return b.jsx("div",{className:Fe("flex items-center justify-center overflow-hidden","bg-muted",c&&"border border-border",ipe[r],ape[r],$L[n],l),...u,children:c?b.jsx(m7,{className:Fe(spe[r],"text-muted-foreground")}):b.jsx(b.Fragment,{children:e?b.jsx("img",{src:e,alt:t,className:"h-full w-full object-cover",onError:s(()=>h(!0),"onError")}):b.jsx("div",{className:Fe("flex h-full w-full items-center justify-center",ope[i],v,"font-medium"),children:f})})})},"Avatar"),lpe={success:"bg-green-500 dark:bg-green-500",error:"bg-red-500 dark:bg-red-500",pending:"bg-violet-500 dark:bg-violet-500",warning:"bg-yellow-500 dark:bg-yellow-500"},upe={success:"bg-green-100 dark:bg-green-950 text-green-600 dark:text-green-400",error:"bg-red-100 dark:bg-red-950 text-red-600 dark:text-red-400",pending:"bg-violet-100 dark:bg-violet-950 text-violet-600 dark:text-violet-400",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-600 dark:text-yellow-400"},gb=s(({status:e,variant:t="dot",...r})=>{const n=`Status: ${e}`;return b.jsx("div",{className:"flex size-4 items-center justify-center",...r,children:t==="dot"?b.jsx(cpe,{status:e,title:n}):b.jsx(dpe,{status:e,title:n})})},"SpanStatus"),cpe=s(({status:e,title:t})=>b.jsx("span",{className:Fe("block size-1.5 rounded-full",lpe[e]),"aria-label":t,title:t}),"SpanStatusDot"),dpe=s(({status:e,title:t})=>b.jsxs("span",{className:Fe("inline-flex items-center justify-center","h-3.5 w-4 rounded",upe[e]),"aria-label":t,title:t,children:[e==="success"&&b.jsx(ca,{className:"size-2.5","aria-hidden":!0}),e==="error"&&b.jsx(C1,{className:"size-2.5","aria-hidden":!0}),e==="warning"&&b.jsx(wb,{className:"size-2.5","aria-hidden":!0}),e==="pending"&&b.jsx(_b,{className:"size-2.5","aria-hidden":!0})]}),"SpanStatusBadge"),fpe=s(({data:e,avatar:t,copyButton:r,actions:n,className:i="mb-4 flex flex-wrap items-center gap-4"})=>{const[o,a]=H.useState(!1),l=s(()=>{r?.onCopy&&(r.onCopy(e),a(!0),setTimeout(()=>a(!1),2e3))},"handleCopy");return b.jsxs("div",{className:i,children:[b.jsxs("div",{className:"flex items-center gap-1.5",children:[t&&b.jsx(R6,{size:"4",...t}),b.jsx("span",{className:"text-base tracking-wide text-foreground ",children:e.title}),b.jsx("div",{className:"flex size-5 items-center justify-center",children:b.jsx(gb,{status:e.status})}),r&&b.jsx(Hp,{"aria-label":r.isEnabled?"Copy span details":"Copy disabled",variant:"ghost",onClick:l,children:o?b.jsx(ca,{className:"size-3 text-muted-foreground"}):b.jsx(hs,{className:"size-3 text-muted-foreground"})})]}),n]})},"DetailsViewHeader"),hpe=s(({data:e})=>{const t=!!e.input,r=!!e.output;if(!t&&!r)return b.jsx("div",{className:"p-6 text-center",children:b.jsx("p",{className:"text-muted-foreground ",children:"No input or output data available for this span."})});let n=null,i=null;if(typeof e.input=="string")try{n=JSON.parse(e.input)}catch{n=null}if(typeof e.output=="string")try{i=JSON.parse(e.output)}catch{i=null}return b.jsxs("div",{className:"space-y-3",children:[typeof e.input=="string"&&b.jsx(oE,{section:"Input",content:e.input,parsedContent:n}),typeof e.output=="string"&&b.jsx(oE,{section:"Output",content:e.output,parsedContent:i})]})},"DetailsViewInputOutputTab"),oE=s(({section:e,content:t,parsedContent:r})=>{const[n,i]=H.useState("plain"),[o,a]=H.useState(!0),l=[{value:"json",label:"JSON",disabled:!r},{value:"plain",label:"Plain"}];return b.jsx(WL,{title:e,defaultOpen:!0,onOpenChange:a,rightContent:o?b.jsx(JL,{items:l,defaultValue:"plain",value:n,onValueChange:i,theme:"pill",onClick:s(u=>u.stopPropagation(),"onClick")}):null,triggerClassName:"min-h-16",children:b.jsx(ppe,{content:t,section:e,tab:n,parsedContent:r})})},"IOSection"),ppe=s(({tab:e,content:t,section:r,parsedContent:n})=>t?b.jsxs("div",{className:"relative rounded-lg border border-border ",children:[b.jsx(mpe,{section:r,content:t}),e==="json"&&b.jsx(b.Fragment,{children:n?b.jsx(b7,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:n,id:`json-pretty-${r}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"}):b.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Invalid JSON format"})}),e==="plain"&&b.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:b.jsx("pre",{className:"overflow-x-auto whitespace-pre-wrap text-left font-mono text-xs text-foreground",children:t})})]}):b.jsx("p",{className:"p-3 text-sm italic text-muted-foreground ",children:"No data available"}),"IOContent"),mpe=s(({section:e,content:t})=>{const[r,n]=H.useState(!1),i=s(()=>{navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)},"onClick");return b.jsx(Hp,{onClick:i,"aria-label":r?`${e} Data Copied`:`Copy ${e} Data`,variant:"ghost",className:"absolute right-1.5 top-1.5",children:r?b.jsx(ca,{className:"size-3"}):b.jsx(hs,{className:"size-3"})})},"CopyButton"),gpe={4:"px-1 gap-1 h-4",5:"px-1.5 gap-1 h-5",6:"px-2 gap-1.5 h-6",7:"px-2.5 gap-2 h-7"},vpe={4:"text-xs font-normal leading-3",5:"text-xs font-medium",6:"text-sm font-medium",7:"text-sm font-medium"},An=s(({label:e,theme:t="gray",variant:r="solid",size:n="4",iconStart:i,iconEnd:o,className:a="",...l})=>{const{bg:u,darkBg:c,text:h,darkText:f}=X0e[t],v=r==="outline"?`border ${h} ${f} bg-transparent dark:bg-transparent border-current`:`${u} ${h} ${c} ${f}`;return b.jsxs("span",{className:Fe("inline-flex min-w-0 items-center overflow-hidden rounded font-medium",v,gpe[n],a),...l,children:[i&&b.jsx("span",{className:"shrink-0",children:i}),b.jsx("span",{className:Fe(vpe[n],"min-w-0 max-w-full flex-shrink-0 truncate tracking-normal"),children:e}),o&&b.jsx("span",{className:"shrink-0",children:o})]})},"Badge"),XL=s(({timestamp:e,size:t,...r})=>b.jsx(An,{variant:"outline",theme:"gray",size:t,...r,label:bpe(e)}),"TimestampBadge");function bpe(e){return new Date(e).toLocaleString()}s(bpe,"formatTimestamp");const ype=s(({data:e})=>{const t=VL(e.type),r=BL(e);return b.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-start gap-1",children:[b.jsx(An,{iconStart:b.jsx(t,{className:"size-2.5"}),theme:O6(e.type),size:"4",label:HL(e.type)}),typeof e.tokensCount=="number"&&b.jsx(An,{iconStart:b.jsx(y7,{className:"size-2.5"}),theme:"gray",size:"4",label:e.tokensCount}),typeof e.cost=="number"&&b.jsx(An,{theme:"gray",size:"4",label:`$ ${e.cost.toFixed(4)}`}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["LATENCY: ",Rl(r)]}),typeof e.startTime=="number"&&b.jsx(XL,{timestamp:e.startTime})]})},"DetailsViewMetrics"),wpe=s(({data:e})=>b.jsx("div",{className:"pt-4",children:b.jsx("div",{className:"rounded border border-border bg-transparent ",children:b.jsx(b7,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:e.raw,id:`json-pretty-${e.id||"span-details"}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"})})}),"DetailsViewRawDataTab"),KL=s(({data:e,avatar:t,defaultTab:r,className:n,copyButton:i,headerActions:o,customHeader:a,onTabChange:l})=>{const[u,c]=H.useState(r||"input-output"),h=[{value:"input-output",label:"In/Out",icon:b.jsx(ED,{className:"size-4"})},{value:"attributes",label:"Attributes",icon:b.jsx(SD,{className:"size-4"})},{value:"raw",label:"RAW",icon:b.jsx(kD,{className:"size-4"})}];function f(w){c(w),l?.(w)}s(f,"handleTabChange");const v=typeof o=="function"?o(e):o,m=a?typeof a=="function"?a({data:e}):a:b.jsx(fpe,{data:e,avatar:t,copyButton:i,actions:v});return b.jsxs("div",{className:Fe("min-w-0 rounded-lg border border-border bg-card p-4 shadow-sm",n),children:[m,b.jsx(ype,{data:e}),b.jsx(JL,{items:h,value:u,onValueChange:f,theme:"underline",defaultValue:r}),u==="input-output"&&b.jsx(hpe,{data:e}),u==="attributes"&&b.jsx(npe,{data:e}),u==="raw"&&b.jsx(wpe,{data:e})]})},"DetailsView"),qL=s(({...e})=>b.jsx(QL,{startIcon:b.jsx(ed,{className:"size-4"}),placeholder:"Filter...",...e}),"SearchInput"),YL=s(({cost:e,size:t,...r})=>b.jsx(An,{theme:"gray",size:t,...r,label:`$ ${e}`}),"PriceBadge"),eP=s(({tokensCount:e,size:t,...r})=>b.jsx(An,{iconStart:b.jsx(y7,{className:"size-2.5"}),theme:"gray",size:t,...r,label:e}),"TokensBadge"),tP=s(({trace:e,avatar:t})=>b.jsxs("header",{className:"flex min-w-0 flex-wrap items-center justify-between gap-2",children:[b.jsxs("div",{className:"flex min-w-0 items-center gap-1.5 overflow-hidden",children:[t&&b.jsx(R6,{size:"4",...t}),b.jsx("h3",{className:"font-medium max-w-full truncate text-sm text-foreground",children:e.name})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(An,{size:"5",theme:"gray",variant:"outline",label:e.spansCount===1?"1 span":`${e.spansCount} spans`}),b.jsx(An,{size:"5",theme:"gray",variant:"outline",label:Rl(e.durationMs)})]})]}),"TraceListItemHeader"),xpe=s(({trace:e,avatar:t,onClick:r,badges:n,isSelected:i})=>{const o=H.useCallback(f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),r?.())},[r]),{name:a,agentDescription:l,totalCost:u,totalTokens:c,startTime:h}=e;return b.jsxs("div",{className:Fe("group w-full","flex flex-col gap-2.5 p-4","cursor-pointer",i?"bg-muted":"bg-card"),role:"button",tabIndex:0,onClick:r,onKeyDown:o,"aria-label":`Select trace ${a}`,children:[b.jsx(tP,{trace:e,avatar:t}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("span",{className:"mr-4 max-w-full truncate text-sm text-muted-foreground ",children:l}),typeof u=="number"&&b.jsx(YL,{cost:u}),typeof c=="number"&&b.jsx(eP,{tokensCount:c}),n?.map((f,v)=>b.jsx(An,{theme:f.theme,size:"4",label:f.label},v)),typeof h=="number"&&b.jsx(XL,{timestamp:h})]})]})},"TraceListItem"),_pe=s(({traces:e,expanded:t,onExpandStateChange:r,className:n,onTraceSelect:i,selectedTrace:o})=>b.jsxs("div",{className:Fe("w-full min-w-0","flex flex-col gap-3",t?"w-full":"w-fit",n),children:[b.jsx("header",{className:"flex min-h-6 items-center justify-between gap-2",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:Fe("font-semibold text-lg text-foreground",!t&&"hidden"),children:"Traces"}),b.jsx(An,{size:"5",theme:"teal","aria-label":`Total number of traces: ${e.length}`,label:e.length})]})}),t&&b.jsx("ul",{className:"flex flex-col items-center overflow-hidden rounded border border-border ",children:e.map(a=>b.jsx("li",{className:"w-full list-none border-b-border [&:not(:last-child)]:border-b",children:b.jsx(xpe,{trace:a,onClick:s(()=>i?.(a),"onClick"),isSelected:o?.id===a.id,badges:a.badges})},a.id))})]}),"TraceList"),Epe=s(({data:e})=>{const t=VL(e.type);return b.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-1",children:[b.jsx(An,{iconStart:b.jsx(t,{className:"size-2.5"}),theme:O6(e.type),size:"4",label:HL(e.type)}),typeof e.tokensCount=="number"&&b.jsx(eP,{tokensCount:e.tokensCount}),typeof e.cost=="number"&&b.jsx(YL,{cost:e.cost})]})},"SpanCardBadges"),lE=s(({type:e})=>e==="empty"?b.jsx("div",{className:"w-5 shrink-0 grow"}):b.jsxs("div",{className:"relative w-5 shrink-0 grow",children:[(e==="vertical"||e==="t-right")&&b.jsx("div",{className:"absolute bottom-0 left-1/2 top-0 w-0.5 -translate-x-1/2 bg-muted"}),e==="t-right"&&b.jsx("div",{className:"absolute left-2.5 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),e==="corner-top-right"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute left-1/2 top-2 size-0.5 -translate-x-1/2 -translate-y-px bg-muted"}),b.jsx("div",{className:"absolute left-1/2 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),b.jsx("div",{className:"absolute left-1/2 top-0 h-[7px] w-0.5 -translate-x-px bg-muted"})]})]}),"SpanCardConnector"),Spe={purple:"bg-primary",indigo:"bg-primary",orange:"bg-chart-1",teal:"bg-chart-2",cyan:"bg-chart-3",sky:"bg-chart-4",yellow:"bg-chart-5",emerald:"bg-accent",red:"bg-destructive",gray:"bg-muted-foreground"},kpe=s(({spanCard:e,theme:t,minStart:r,maxEnd:n,className:i})=>{const{startPercent:o,widthPercent:a}=zL({spanCard:e,minStart:r,maxEnd:n});return b.jsx("span",{className:Fe("relative flex h-4 min-w-20 flex-1 rounded bg-muted",i),children:b.jsx("span",{className:"pointer-events-none absolute inset-x-1 top-1/2 h-1.5 -translate-y-1/2",children:b.jsx("span",{className:`absolute h-full rounded-sm ${Spe[t]}`,style:{left:`${o}%`,width:`${a}%`}})})})},"SpanCardTimeline"),uE=s(({isExpanded:e,title:t,onToggleClick:r})=>b.jsx(g7,{asChild:!0,children:b.jsx("button",{className:"flex h-4 w-5 shrink-0 items-center justify-center",onClick:r,onKeyDown:r,"aria-label":`${e?"Collapse":"Expand"} ${t} children`,"aria-expanded":e,type:"button",children:e?b.jsx(Es,{"aria-hidden":"true",className:"size-3 text-muted-foreground"}):b.jsx($E,{"aria-hidden":"true",className:"size-3 text-muted-foreground"})})}),"SpanCardToggle"),wo={CONNECTOR_WIDTH:20,CONTENT_BASE_WIDTH:320},eh={withStatus:!0,expandButton:"inside"},Tpe=s(({level:e,hasExpandButton:t,contentPadding:r,expandButton:n})=>{let i=wo.CONTENT_BASE_WIDTH-e*wo.CONNECTOR_WIDTH;return t&&n==="inside"&&(i-=wo.CONNECTOR_WIDTH),n==="outside"&&e===0&&(i-=wo.CONNECTOR_WIDTH),i-r},"getContentWidth"),Ape=s(({connectorsColumnWidth:e,expandButton:t})=>t==="inside"?`${e}px 1fr`:`${e}px 1fr ${wo.CONNECTOR_WIDTH}px`,"getGridTemplateColumns"),Npe=s(({level:e,hasExpandButton:t})=>e===0?0:t?4:8,"getContentPadding"),Cpe=s(({level:e,hasExpandButton:t,isLastChild:r,prevConnectors:n,expandButton:i})=>{const o=[];if(e===0)return{connectors:i==="inside"?[]:["vertical"],connectorsColumnWidth:20};for(let l=0;l<e-1;l++)o.push("vertical");r||o.push("t-right"),r&&o.push("corner-top-right");let a=o.length*wo.CONNECTOR_WIDTH;t&&(a+=wo.CONNECTOR_WIDTH);for(let l=0;l<n.length;l++)(n[l]==="empty"||n[l]==="corner-top-right")&&(o[l]="empty");return{connectors:o,connectorsColumnWidth:a}},"getConnectorsLayout"),Mpe=s((e,t)=>{const r=H.useCallback(()=>{t?.(e)},[e,t]),n=H.useCallback(o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),r())},[r]),i=H.useCallback(o=>{o.stopPropagation()},[]);return{handleCardClick:r,handleKeyDown:n,handleToggleClick:i}},"useSpanCardEventHandlers"),Ipe=s(({data:e,level:t,selectedSpan:r,onSpanSelect:n,minStart:i,maxEnd:o,prevLevelConnectors:a,expandedSpansIds:l,onExpandSpansIdsChange:u,viewOptions:c=eh})=>e.children?.length?b.jsx("div",{className:"relative",children:b.jsx(v7,{children:b.jsx("ul",{role:"group",children:e.children.map((h,f)=>b.jsx(rP,{viewOptions:c,data:h,minStart:i,maxEnd:o,level:t+1,selectedSpan:r,onSpanSelect:n,isLastChild:f===(e.children||[]).length-1,prevLevelConnectors:a,expandedSpansIds:l,onExpandSpansIdsChange:u},h.id))})})}):null,"SpanCardChildren"),rP=s(({data:e,level:t=0,selectedSpan:r,onSpanSelect:n,viewOptions:i=eh,avatar:o,minStart:a,maxEnd:l,isLastChild:u,prevLevelConnectors:c=[],expandedSpansIds:h,onExpandSpansIdsChange:f})=>{const v=h.includes(e.id),m=i.withStatus??eh.withStatus,w=i.expandButton||eh.expandButton,_=H.useCallback(se=>{const U=h.includes(e.id);U&&!se&&f(h.filter(X=>X!==e.id)),!U&&se&&f([...h,e.id])},[v,h,e.id,f]),A={isExpanded:v,hasChildren:!!e.children?.length,isSelected:r?.id===e.id},M=Mpe(e,n),{durationMs:I}=zL({spanCard:e,minStart:a,maxEnd:l}),R=w==="inside"&&A.hasChildren,L=Npe({level:t,hasExpandButton:R}),P=Tpe({level:t,hasExpandButton:R,contentPadding:L,expandButton:w}),{connectors:F,connectorsColumnWidth:Z}=Cpe({level:t,hasExpandButton:R,isLastChild:u,prevConnectors:c,expandButton:w}),G=Ape({connectorsColumnWidth:Z,expandButton:w});return b.jsx("li",{role:"treeitem","aria-expanded":A.hasChildren?A.isExpanded:void 0,className:"list-none",children:b.jsxs(Cb,{open:A.isExpanded,onOpenChange:_,children:[b.jsxs("div",{className:Fe("relative grid w-full rounded-md transition-colors",A.isSelected?"bg-accent/50 border border-accent":"hover:bg-muted/30"),style:{gridTemplateColumns:G},onClick:M.handleCardClick,onKeyDown:M.handleKeyDown,tabIndex:0,role:"button","aria-pressed":A.isSelected,"aria-describedby":`span-card-desc-${e.id}`,"aria-expanded":A.hasChildren?A.isExpanded:void 0,"aria-label":`${A.isSelected?"Selected":"Not selected"} span card for ${e.title} at level ${t}`,children:[b.jsxs("div",{className:"flex flex-nowrap",children:[F.map((se,U)=>b.jsx(lE,{type:se},`${se}-${U}`)),R&&b.jsxs("div",{className:"flex w-5 flex-col items-center",children:[b.jsx(uE,{isExpanded:A.isExpanded,title:e.title,onToggleClick:M.handleToggleClick}),A.isExpanded&&b.jsx(lE,{type:"vertical"})]})]}),b.jsxs("div",{className:Fe("flex flex-nowrap items-center align-middle gap-x-3 gap py-3 px-2","min-h-5 w-full cursor-pointer",t!==0&&!R&&"pl-2",t!==0&&R&&"pl-1"),children:[b.jsxs("div",{className:"relative flex min-h-4 flex-shrink-0 flex-grow-0 flex-wrap items-start gap-1",style:{width:`min(${P}px, 100%)`,minWidth:140},children:[o&&b.jsx(R6,{size:"4",...o}),b.jsx("h3",{className:"mr-1 h-4 max-w-32 truncate text-sm leading-[14px] text-foreground ",title:e.title,children:e.title}),b.jsx(Epe,{data:e})]}),b.jsxs("div",{className:"flex flex-shrink flex-grow flex-nowrap items-center justify-end gap-1 min-w-0",children:[w==="outside"&&m&&b.jsx("div",{className:"flex-shrink-0",children:b.jsx(gb,{status:e.status})}),b.jsx(kpe,{theme:O6(e.type),minStart:a,maxEnd:l,spanCard:e,className:"max-w-48 flex-shrink"}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsx("span",{className:"inline-block w-14 whitespace-nowrap px-1 text-right text-xs text-foreground",children:Rl(I)}),w==="inside"&&m&&b.jsx("div",{children:b.jsx(gb,{status:e.status})})]})]})]}),w==="outside"&&(A.hasChildren?b.jsx(uE,{isExpanded:A.isExpanded,title:e.title,onToggleClick:M.handleToggleClick}):b.jsx("div",{}))]}),b.jsx(Ipe,{minStart:a,maxEnd:l,viewOptions:i,data:e,level:t,selectedSpan:r,onSpanSelect:n,prevLevelConnectors:F,expandedSpansIds:h,onExpandSpansIdsChange:f})]})})},"SpanCard"),nP=s(({spans:e,onSpanSelect:t,className:r="",selectedSpan:n,expandedSpansIds:i,onExpandSpansIdsChange:o,spanCardViewOptions:a})=>{const l=UL(e),{minStart:u,maxEnd:c}=Q0e(l);return b.jsx("div",{className:"w-full min-w-0 p-4",children:b.jsx("ul",{className:Fe(r,"overflow-x-auto space-y-1"),role:"tree","aria-label":"Hierarchical card list",children:e.map((h,f)=>b.jsx(rP,{data:h,level:0,selectedSpan:n,onSpanSelect:t,minStart:u,maxEnd:c,isLastChild:f===e.length-1,expandedSpansIds:i,onExpandSpansIdsChange:o,viewOptions:a},h.id))})})},"TreeView"),Ope=s(({data:e})=>{const[t,r]=H.useState(e[0]?.traceRecord),[n,i]=H.useState(e[0]?.spans??[]),[o,a]=H.useState(e[0]?.spans?.[0]?.children?.[0]),[l,u]=H.useState(""),[c,h]=H.useState(!0),f=H.useMemo(()=>e.map(L=>({...L.traceRecord,badges:L.badges,spanCardViewOptions:L.spanCardViewOptions})),[e]),v=H.useMemo(()=>l.trim()?FL(n,l):n,[n,l]),m=H.useMemo(()=>UL(n).map(L=>L.id),[n]),[w,_]=H.useState(m);H.useEffect(()=>{_(m)},[m]);const A=H.useCallback(()=>{_(m)},[m]),M=H.useCallback(()=>{_([])},[]);H.useEffect(()=>{a(n[0])},[n]);const I=H.useCallback(L=>{r(L),i(e.find(P=>P.traceRecord.id===L.id)?.spans??[])},[e]),R={traceRecords:f,traceListExpanded:c,setTraceListExpanded:h,selectedTrace:t,setSelectedTrace:r,selectedTraceSpans:n,setSelectedTraceSpans:i,selectedSpan:o,setSelectedSpan:a,searchValue:l,setSearchValue:u,filteredSpans:v,expandedSpansIds:w,setExpandedSpansIds:_,handleExpandAll:A,handleCollapseAll:M,handleTraceSelect:I};return b.jsxs("div",{className:"h-full w-full p-4 lg:p-8",children:[b.jsx("div",{className:"hidden lg:block",children:b.jsx(Rpe,{...R})}),b.jsx("div",{className:"lg:hidden",children:b.jsx(jpe,{...R})})]})},"TraceViewer"),Rpe=s(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:n,selectedSpan:i,setSelectedSpan:o,searchValue:a,setSearchValue:l,filteredSpans:u,expandedSpansIds:c,setExpandedSpansIds:h,handleExpandAll:f,handleCollapseAll:v,handleTraceSelect:m})=>b.jsx("div",{className:"flex flex-col gap-4",children:n?b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(sa,{value:n.id,onValueChange:s(w=>{const _=e.find(A=>A.id===w);_&&m(_)},"onValueChange"),children:[b.jsx(ys,{className:"w-full h-auto py-3",children:b.jsx(aa,{children:b.jsxs("div",{className:"flex items-center gap-4 w-full",children:[b.jsx("span",{className:"font-semibold text-base",children:n.name}),b.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[typeof n.startTime=="number"&&b.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(n.startTime).toLocaleTimeString()}),b.jsx(An,{size:"4",theme:"gray",variant:"outline",label:`${n.spansCount} span${n.spansCount===1?"":"s"}`}),b.jsx(An,{size:"4",theme:"gray",variant:"outline",label:Rl(n.durationMs)})]})]})})}),b.jsx(ws,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(w=>b.jsx(yr,{value:w.id,className:"py-2.5 px-4 cursor-pointer",children:b.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[b.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[b.jsx("span",{className:"font-semibold text-base text-foreground",children:w.name}),w.agentDescription&&b.jsx("span",{className:"text-xs text-muted-foreground",children:w.agentDescription})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof w.startTime=="number"&&b.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(w.startTime).toLocaleTimeString()}),b.jsx(An,{size:"4",theme:"gray",variant:"outline",label:`${w.spansCount} span${w.spansCount===1?"":"s"}`}),b.jsx(An,{size:"4",theme:"gray",variant:"outline",label:Rl(w.durationMs)})]})]})},w.id))})]}),b.jsxs("div",{className:"rounded-lg border border-border bg-card shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-4",children:[b.jsx(qL,{id:"span-search-desktop",name:"search",onClear:s(()=>l(""),"onClear"),value:a,onValueChange:l,className:"max-w-60 grow"}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[b.jsx(GL,{onExpandAll:f}),b.jsx(ZL,{onCollapseAll:v})]})})]}),u.length===0?b.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):b.jsx(nP,{spans:u,onSpanSelect:o,selectedSpan:i,expandedSpansIds:c,onExpandSpansIdsChange:h,spanCardViewOptions:n.spanCardViewOptions})]}),i?b.jsx(KL,{data:i}):b.jsx(cE,{title:"Select a span to see the details"})]}):b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(sa,{value:"",onValueChange:s(w=>{const _=e.find(A=>A.id===w);_&&m(_)},"onValueChange"),children:[b.jsx(ys,{className:"w-full",children:b.jsx(aa,{placeholder:"Select a trace to view details..."})}),b.jsx(ws,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(w=>b.jsx(yr,{value:w.id,className:"py-2.5 px-4 cursor-pointer",children:b.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[b.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[b.jsx("span",{className:"font-semibold text-base text-foreground",children:w.name}),w.agentDescription&&b.jsx("span",{className:"text-xs text-muted-foreground",children:w.agentDescription})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof w.startTime=="number"&&b.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(w.startTime).toLocaleTimeString()}),b.jsx(An,{size:"4",theme:"gray",variant:"outline",label:`${w.spansCount} span${w.spansCount===1?"":"s"}`}),b.jsx(An,{size:"4",theme:"gray",variant:"outline",label:Rl(w.durationMs)})]})]})},w.id))})]}),b.jsx(cE,{title:"Select a trace to see the details"})]})}),"DesktopLayout"),jpe=s(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:n,setSelectedTrace:i,selectedTraceSpans:o,setSelectedTraceSpans:a,selectedSpan:l,setSelectedSpan:u,searchValue:c,setSearchValue:h,filteredSpans:f,expandedSpansIds:v,setExpandedSpansIds:m,handleExpandAll:w,handleCollapseAll:_,handleTraceSelect:A})=>n?n&&o.length&&!l?b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx(iE,{onClick:s(()=>{i(void 0),a([])},"onClick"),iconStart:b.jsx(M1,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Traces list"}),b.jsx(tP,{trace:n}),b.jsxs("div",{className:"rounded border border-border bg-card",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-3",children:[b.jsx(qL,{id:"span-search-mobile",name:"search",onClear:s(()=>h(""),"onClear"),value:c,onValueChange:h,className:"max-w-60 grow"}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[b.jsx(GL,{onExpandAll:w}),b.jsx(ZL,{onCollapseAll:_})]})})]}),f.length===0?b.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):b.jsx(nP,{spans:f,spanCardViewOptions:n.spanCardViewOptions,onSpanSelect:u,selectedSpan:l,expandedSpansIds:v,onExpandSpansIdsChange:m})]})]}):n&&o.length&&l?b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx(iE,{onClick:s(()=>{u(void 0)},"onClick"),iconStart:b.jsx(M1,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Tree View"}),b.jsx(KL,{data:l})]}):null:b.jsx(_pe,{traces:e,expanded:t,onExpandStateChange:r,onTraceSelect:A,selectedTrace:n}),"MobileLayout"),cE=s(({title:e})=>b.jsx("p",{className:"hidden items-center justify-center rounded-lg bg-muted p-4 text-center text-muted-foreground lg:flex",children:e}),"Placeholder"),Lpe=Nr(),Ppe=s(({agentId:e})=>{const t=Uq(e),r=t.data?.runs??[],n=YE({queries:r.map(c=>({queryKey:["agent",e,"runs","detail",c.runId,null],queryFn:s(async()=>Lpe.runs.getRun(e,c.runId),"queryFn"),enabled:!!(e&&c.runId),staleTime:3e4}))}),i=H.useMemo(()=>r.map((c,h)=>{const f=n[h];return f?.data?{traceRecord:rE.convertRunSummaryToTraceRecord(c),spans:rE.convertRunDetailToTraceSpans(f.data)}:null}).filter(c=>c!==null),[r,...n.map(c=>c.data)]),o=t.isLoading,a=t.error?t.error.message:void 0,l=r.length>0,u=i.length>0;return o?b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsx(Nn,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):a?b.jsxs("div",{className:"px-4 py-3 text-sm text-destructive",children:["Failed to load runs: ",a]}):l?u?b.jsx("div",{className:"h-full w-full",children:b.jsx(Ope,{data:i})}):b.jsxs("div",{className:"flex items-center justify-center h-32",children:[b.jsx(Nn,{className:"h-5 w-5 animate-spin text-muted-foreground"}),b.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading run details..."})]}):b.jsx("div",{className:"px-4 py-8 text-sm text-center text-muted-foreground",children:"No agent runs yet. Runs will appear here after the agent processes messages."})},"AgentRunTimeline");function dE({agentId:e,agentName:t,channelId:r}){const{currentTab:n,setTab:i}=J0e(e),{data:o,isLoading:a}=Jq(e,{enabled:!!e}),{data:l,isLoading:u,error:c}=xd(e,{enabled:!!e&&n==="details"}),h=l?.data,f=H.useMemo(()=>o?.data||[],[o]),v=H.useMemo(()=>{const m=[{value:"details",label:"Details",icon:b.jsx(wb,{className:"h-4 w-4"})},{value:"timeline",label:"Timeline",icon:b.jsx(p7,{className:"h-4 w-4"})},{value:"actions",label:"Model Calls",icon:b.jsx(cs,{className:"h-4 w-4"})},{value:"memories",label:"Memories",icon:b.jsx(Pa,{className:"h-4 w-4"})},{value:"logs",label:"Logs",icon:b.jsx(AD,{className:"h-4 w-4"})}],w=f.map(_=>({value:_.name,label:_.name,icon:b.jsx(TD,{className:"h-4 w-4"})}));return[...m,...w]},[f]);return b.jsxs(Db,{defaultValue:"details",value:n,onValueChange:i,className:"flex flex-col h-screen w-full max-w-full",children:[b.jsxs(_0,{className:"flex w-full max-w-full overflow-x-auto flex-shrink-0",children:[v.map(m=>b.jsxs(yc,{value:m.value,className:"flex items-center gap-1.5 flex-shrink-0",children:[m.icon,b.jsx("span",{className:"truncate",children:m.label})]},m.value)),a&&b.jsx(b.Fragment,{children:[...Array(2)].map((m,w)=>b.jsx(bc,{className:"h-9 w-full rounded-md flex-shrink-0"},`skel-tab-${w}`))})]}),b.jsxs(Fi,{value:"details",className:"overflow-y-auto overflow-x-hidden flex-1 p-4 w-full max-w-full min-h-0",children:[n==="details"&&e&&b.jsxs(b.Fragment,{children:[u&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx(Nn,{className:"h-6 w-6 animate-spin text-primary"})}),c&&b.jsxs("div",{className:"text-red-500 break-words",children:["Error loading agent details: ",c.message]}),!u&&!c&&h&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(DL,{agent:h,agentId:e,onSaveComplete:s(()=>{},"onSaveComplete")})}),!u&&!c&&!h&&!a&&b.jsx("div",{className:"text-muted-foreground",children:"Agent details not found."})]}),n==="details"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their details."})]}),b.jsxs(Fi,{value:"timeline",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0 p-0",children:[n==="timeline"&&e&&b.jsx("div",{className:"w-full max-w-full h-full",children:b.jsx(Ppe,{agentId:e})}),n==="timeline"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see run activity."})]}),b.jsxs(Fi,{value:"actions",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="actions"&&e&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(V0e,{agentId:e})}),n==="actions"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their actions."})]}),b.jsxs(Fi,{value:"logs",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="logs"&&e&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(tI,{agentName:t,level:"all"})}),n==="logs"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their logs."})]}),b.jsxs(Fi,{value:"memories",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="memories"&&e&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(Z0e,{agentId:e,agentName:t,channelId:r})}),n==="memories"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their memories."})]}),f.map(m=>b.jsx(Fi,{value:m.name,className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:n===m.name&&e&&b.jsx("iframe",{src:m.url,title:m.name,className:"w-full h-full border-0 flex-1 max-w-full"})},m.name))]})}s(dE,"AgentSidebar");const Dpe=160,iP=H.forwardRef(({className:e,...t},r)=>{const n=H.useRef(null),i=s(a=>{typeof r=="function"?r(a):r&&(r.current=a),n.current=a},"combinedRef"),o=s(()=>{const a=n.current;a&&(a.style.height="auto",a.style.height=Math.min(a.scrollHeight,Dpe)+"px")},"resizeTextarea");return H.useEffect(()=>{o()},[t.value]),b.jsx(nd,{autoComplete:"off",ref:i,name:"message",className:Fe("px-4 py-3 bg-background text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring disabled:cursor-not-allowed disabled:opacity-50 w-full rounded-md flex items-center h-16 resize-none",e),...t})});iP.displayName="ChatInput";let $u,Hu=[],Of;const fE=s((e,t)=>String(e).padStart(t,"0"),"padWithLeadingZeros"),Bpe=s(({className:e,timerClassName:t,agentId:r,onChange:n})=>{const{toast:i}=Mr(),[o,a]=H.useState(!1),[l,u]=H.useState(!1),[c,h]=H.useState(0),[f,v]=H.useState({id:-1,name:"",file:null}),m=Math.floor(c%3600/60),w=c%60,[_,A]=H.useMemo(()=>fE(m,2).split(""),[m]),[M,I]=H.useMemo(()=>fE(w,2).split(""),[w]),R=H.useRef({stream:null,analyser:null,mediaRecorder:null,audioContext:null}),L=Nr(),P=ci({mutationKey:["whisper"],mutationFn:s(U=>L.audio.transcribe(r,{audio:U}),"mutationFn"),onSuccess:s(U=>{U?.text&&n(U.text)},"onSuccess"),onError:s(U=>{i({variant:"destructive",title:"Unable to start recording",description:U.message}),console.log(U)},"onError")});function F(){navigator.mediaDevices?.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then(U=>{a(!0);const X=window.AudioContext,d=new X,y=d.createAnalyser();d.createMediaStreamSource(U).connect(y),R.current={stream:U,analyser:y,mediaRecorder:null,audioContext:d};const E={mimeType:MediaRecorder.isTypeSupported("audio/mpeg")?"audio/mpeg":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/wav"};R.current.mediaRecorder=new MediaRecorder(U,E),R.current.mediaRecorder.start(),Hu=[],$u=new MediaRecorder(U),$u.start(),$u.ondataavailable=T=>{Hu.push(T.data)}}).catch(U=>{i({variant:"destructive",title:"Unable to start recording",description:U.message}),console.log(U)})}s(F,"startRecording");function Z(){$u.onstop=()=>{const U=new Blob(Hu,{type:"audio/wav"});P.mutate(U),v({...f,file:window.URL.createObjectURL(U)}),Hu=[]},$u.stop(),a(!1),u(!0),h(0),clearTimeout(Of)}s(Z,"stopRecording");function G(){const{mediaRecorder:U,stream:X,analyser:d,audioContext:y}=R.current;if(U&&(U.onstop=()=>{Hu=[]},U.stop()),d&&d.disconnect(),X)for(const g of X.getTracks())g.stop();y&&y.close(),a(!1),u(!0),h(0),clearTimeout(Of)}s(G,"resetRecording");const se=s(()=>{Z()},"handleSubmit");return H.useEffect(()=>(o&&(Of=setTimeout(()=>{h(c+1)},1e3)),()=>clearTimeout(Of)),[o,c]),P?.isPending?b.jsx(dt,{variant:"ghost",disabled:!0,size:"icon",children:b.jsx(_b,{className:"size-4"})}):b.jsxs("div",{className:Fe("flex items-center justify-center gap-2 border-l border-l-transparent border-opacity-0 transition-all duration-300",{"border-opacity-100 border-l-border pl-2":o},e),children:[o?b.jsxs("div",{className:"flex gap-1 items-center",children:[b.jsx("div",{className:"bg-red-500 rounded-full h-2.5 w-2.5 animate-pulse"}),b.jsx(sP,{minuteLeft:_,minuteRight:A,secondLeft:M,secondRight:I,timerClassName:t})]}):null,b.jsxs("div",{className:"flex items-center gap-2",children:[o?b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{onClick:G,size:"icon",variant:"ghost",children:b.jsx(Yc,{className:"size-4"})})}),b.jsx(Wr,{className:"m-2",children:b.jsx("span",{children:" Reset recording"})})]}):null,b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:o?b.jsx(dt,{onClick:se,variant:"ghost",size:"icon",children:b.jsx(w7,{className:"size-4"})}):b.jsxs(dt,{variant:"ghost",size:"icon",onClick:s(()=>F(),"onClick"),children:[b.jsx(ND,{className:"size-4"}),b.jsx("span",{className:"sr-only",children:"Use Microphone"})]})}),b.jsx(Wr,{side:"right",children:b.jsxs("span",{children:[o?"Send":"Start"," "]})})]})]})]})},"AudioRecorder"),sP=g0.memo(({minuteLeft:e,minuteRight:t,secondLeft:r,secondRight:n,timerClassName:i})=>b.jsx("div",{className:Fe("text-sm animate-in duration-1000 fade-in-0 select-none",i),children:b.jsxs("p",{children:[e,t,":",r,n]})}));sP.displayName="Timer";const hE=s(({input:e,setInput:t,inputDisabled:r,selectedFiles:n,removeFile:i,handleFileChange:o,handleSendMessage:a,handleKeyDown:l,chatType:u,targetAgentData:c,formRef:h,inputRef:f,fileInputRef:v})=>b.jsxs("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 mt-auto flex-shrink-0","data-testid":"chat-container",children:[r&&b.jsxs("div",{className:"px-2 pb-2 text-sm text-muted-foreground flex items-center gap-2",children:[b.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[b.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0s]"}),b.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.2s]"}),b.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.4s]"})]}),b.jsx("span",{className:"text-xs sm:text-sm",children:u===Ft.DM&&c?`${c.name} is thinking`:"Agent is thinking"}),b.jsxs("div",{className:"flex",children:[b.jsx("span",{className:"animate-pulse [animation-delay:0ms]",children:"."}),b.jsx("span",{className:"animate-pulse [animation-delay:200ms]",children:"."}),b.jsx("span",{className:"animate-pulse [animation-delay:400ms]",children:"."})]})]}),b.jsxs("form",{ref:h,onSubmit:a,className:"relative rounded-md border bg-card p-2 sm:p-3",children:[n.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 p-2 sm:p-3 pb-0 max-h-32 sm:max-h-40 overflow-y-auto",children:n.map(m=>{const w=m.blobUrl||URL.createObjectURL(m.file);return b.jsxs("div",{className:"relative p-1 sm:p-2",children:[b.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-lg overflow-hidden border bg-muted",children:[m.isUploading&&b.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:b.jsx(Nn,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-white"})}),m.file.type.startsWith("image/")?b.jsx("img",{alt:"Selected file",src:w,className:"w-full h-full object-cover"}):m.file.type.startsWith("video/")?b.jsx("video",{src:w,className:"w-full h-full object-cover",muted:!0}):b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:b.jsx(xo,{className:"h-4 w-4 sm:h-8 sm:w-8 text-muted-foreground"})}),m.error&&b.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-xs p-1 text-center",children:"Error"})]}),b.jsx(dt,{onClick:s(()=>i(m.id),"onClick"),className:"absolute -right-1 -top-1 size-[16px] sm:size-[20px] ring-2 ring-background z-20",variant:"outline",size:"icon",disabled:m.isUploading,children:b.jsx(ei,{className:"h-2 w-2 sm:h-3 sm:w-3"})}),b.jsx("div",{className:"text-xs text-center mt-1 truncate w-12 sm:w-16",children:m.file.name})]},m.id)})}),b.jsx(iP,{ref:f,onKeyDown:l,value:e,onChange:s(({target:m})=>t(m.value),"onChange"),placeholder:r?u===Ft.DM&&c?`${c.name} is thinking...`:"Agent is processing...":u===Ft.DM?"Type your message here...":"Message group...",className:"min-h-12 resize-none rounded-none bg-card border-0 px-0 py-0 shadow-none focus-visible:ring-0 text-sm sm:text-base",disabled:r||u===Ft.DM&&c?.status==="inactive","data-testid":"chat-input"}),b.jsxs("div",{className:"flex items-center pt-0 gap-1",children:[b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsxs("div",{children:[b.jsxs(dt,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10",onClick:s(()=>{v.current&&v.current.click()},"onClick"),children:[b.jsx(CD,{className:"size-3 sm:size-4"}),b.jsx("span",{className:"sr-only",children:"Attach file"})]}),b.jsx("input",{type:"file",ref:v,onChange:o,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.rtf,...",multiple:!0,className:"hidden"})]})}),b.jsx(Wr,{side:"left",children:b.jsx("p",{children:"Attach files"})})]}),u===Ft.DM&&c?.id&&b.jsx(Bpe,{agentId:c.id,onChange:s(m=>t(m),"onChange")}),b.jsx(dt,{disabled:r||u===Ft.DM&&c?.status==="inactive"||n.some(m=>m.isUploading),type:"submit",size:"sm",className:"ml-auto gap-1.5 h-[26px] sm:h-[30px] px-2 sm:px-3","data-testid":"send-button",children:r||n.some(m=>m.isUploading)?b.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[b.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0s]"}),b.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),b.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]}):b.jsx(w7,{className:"size-3 sm:size-3.5"})})]})]})]}),"ChatInputArea"),aP=H.forwardRef(({className:e,children:t,scrollRef:r,contentRef:n,isAtBottom:i,scrollToBottom:o,disableAutoScroll:a,...l},u)=>b.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[b.jsx("div",{className:`flex flex-col w-full h-full p-2 overflow-y-auto ${e}`,ref:r,onWheel:a,onTouchMove:a,...l,children:b.jsx("div",{className:"flex flex-col gap-10",ref:n,children:t})}),!i&&b.jsx(dt,{onClick:s(()=>{o()},"onClick"),size:"icon",variant:"outline",className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 inline-flex rounded-full shadow-md",children:b.jsx(MD,{className:"h-4 w-4"})})]}));aP.displayName="ChatMessageList";const pE=s(({messages:e,isLoadingMessages:t,chatType:r,currentClientEntityId:n,targetAgentData:i,allAgents:o,animatedMessageId:a,scrollRef:l,contentRef:u,isAtBottom:c,scrollToBottom:h,disableAutoScroll:f,finalChannelId:v,getAgentInMessage:m,agentAvatarMap:w,onDeleteMessage:_,onRetryMessage:A,selectedGroupAgentId:M})=>{const I=g0.useMemo(()=>r===Ft.GROUP&&M?e.filter(R=>{const L=R.senderId===n,P=R.senderId===M;return L||P}):e,[e,r,M,n]);return b.jsxs(aP,{scrollRef:l,contentRef:u,isAtBottom:c,scrollToBottom:h,disableAutoScroll:f,className:"h-full w-full","data-testid":"chat-messages",children:[t&&I.length===0&&b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"Loading messages..."})}),!t&&I.length===0&&b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"No messages yet. Start the conversation!"})}),I.map((R,L)=>{const P=R.senderId===n,F=L===I.length-1&&R.isAgent&&R.id===a,Z=!P&&m?m(R.senderId):void 0;return b.jsx("div",{className:Fe("flex gap-1",P?"justify-end":"justify-start"),children:b.jsxs(hI,{variant:P?"sent":"received",className:`flex flex-col gap-1 ${P?"flex-row-reverse":""}`,children:[!P&&r===Ft.GROUP&&b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx($a,{className:"size-5 border rounded-full select-none",children:b.jsx(Uo,{src:vc(Z||(w&&R.senderId&&o?o.find(G=>G.id===R.senderId):void 0))})}),b.jsx("div",{children:Z?.name})]}),b.jsx(Kpe,{message:R,agentForTts:r===Ft.DM?i:Z,shouldAnimate:F,onDelete:_,onRetry:A,isUser:P,getAgentInMessage:r===Ft.GROUP?m:void 0,agentAvatarMap:r===Ft.GROUP?w:void 0,chatType:r})]})},`${R.id}-${R.createdAt}`)})]},v||"no-channel")},"ChatMessageListComponent");function zpe({options:e=[],className:t="",onSelect:r,initialSelected:n=[]}){const[i,o]=H.useState(n),[a,l]=H.useState(!1),u=H.useRef(null);H.useEffect(()=>{o(n)},[n]),H.useEffect(()=>{const m=s(w=>{u.current&&!u.current.contains(w.target)&&l(!1)},"handleClickOutside");return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const c=s(m=>i.some(w=>m.id&&w.id?w.id===m.id:w.label===m.label),"isOptionSelected"),h=s(m=>{console.log("[MultiSelectCombobox] toggleSelection called with:",m),o(w=>{const _=c(m);let A;return _?A=w.filter(M=>m.id&&M.id?M.id!==m.id:M.label!==m.label):A=[...w,m],console.log("[MultiSelectCombobox] New selection:",A),r&&r(A),A})},"toggleSelection"),f=s(m=>{o(w=>{const _=w.filter(A=>m.id&&A.id?A.id!==m.id:A.label!==m.label);return r&&r(_),_})},"removeSelection"),v=s(()=>{o(m=>{const w=m.slice(0,3);return r&&r(w),w})},"removeExtraSelections");return b.jsxs("div",{className:`relative w-80 ${t}`,ref:u,children:[b.jsxs("div",{className:`flex items-center gap-2 border p-2 bg-background rounded cursor-pointer ${a?"border-primary":"border-input"}`,onClick:s(()=>l(!a),"onClick"),children:[b.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:i.length>0?b.jsxs(b.Fragment,{children:[i.slice(0,3).map((m,w)=>b.jsxs(Hi,{className:"flex items-center gap-1 px-2",children:[m.label,b.jsx(ei,{size:12,className:"cursor-pointer",onClick:s(_=>{_.stopPropagation(),f(m)},"onClick")})]},m.id||m.label||w)),i.length>3&&b.jsxs(Hi,{className:"px-2 cursor-pointer",onClick:s(m=>{m.stopPropagation(),v()},"onClick"),children:["+",i.length-3," more"]})]}):b.jsx("span",{className:"text-muted-foreground",children:"Select agents..."})}),b.jsx(Es,{size:16})]}),a&&b.jsx(Ns,{className:"absolute left-0 mt-2 w-full shadow-md border border-border rounded z-40 max-h-60 overflow-y-auto",children:e.length===0?b.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"No agents available"}):e.map((m,w)=>b.jsxs("div",{className:`flex items-center gap-2 p-2 cursor-pointer rounded hover:bg-muted ${c(m)?"bg-muted":"bg-card"}`,onClick:s(()=>h(m),"onClick"),children:[b.jsx("div",{className:"bg-gray-500 rounded-full w-4 h-4 flex justify-center items-center overflow-hidden text-xs",children:m.icon?b.jsx("img",{src:m.icon,alt:m.label,className:"w-full h-full object-cover"}):Mo(m.label)}),m.label]},m.id||m.label||w))})]})}s(zpe,"MultiSelectCombobox");const Upe="00000000-0000-0000-0000-000000000000";function Fpe(e){return!!e.id&&!!$c(e.id)&&typeof e.name=="string"&&e.name.trim()!==""}s(Fpe,"isAgentSelectable");function Vp({onClose:e,channelId:t}){const[r,n]=H.useState(""),[i,o]=H.useState([]),[a,l]=H.useState(""),[u,c]=H.useState([]),h=Upe,f=H.useRef(!1),v=H.useRef(t),m=H.useRef(!1),{data:w}=v4(t?h:void 0,{enabled:!!t}),{data:_,isLoading:A,isError:M}=Yl(),I=H.useMemo(()=>(_?.agents||[]).filter(Fpe),[_]),R=En(),L=Rn(),{toast:P}=Mr(),{confirm:F,isOpen:Z,onOpenChange:G,onConfirm:se,options:U}=Ko();H.useEffect(()=>{t&&(R.invalidateQueries({queryKey:["channelParticipants",t]}),R.refetchQueries({queryKey:["channelParticipants",t]}))},[t,R]);const X=ci({mutationFn:s(async({name:$,participantIds:W})=>await Nr().messaging.createGroupChannel({name:$,participantIds:W,metadata:{type:Ft.GROUP,server_id:h,source:Gu}}),"mutationFn"),onSuccess:s($=>{$&&(P({title:"Success",description:"Group created successfully."}),R.invalidateQueries({queryKey:["channels",h]}),R.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{L(`/group/${$.id}?serverId=${h}`)},100))},"onSuccess"),onError:s($=>{Ye.error("Failed to create group",$);const W=$ instanceof Error?$.message:"Failed to create group.";P({title:"Error",description:W,variant:"destructive"})},"onError")}),d=ci({mutationFn:s(async({name:$,participantIds:W})=>{if(!t)throw new Error("Channel ID is required for update");return await Nr().messaging.updateChannel(t,{name:$,participantCentralUserIds:W})},"mutationFn"),onSuccess:s(()=>{P({title:"Group Updated",description:"Group details updated successfully."}),R.invalidateQueries({queryKey:["channels",h]}),R.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{L(`/group/${t}?serverId=${h}`)},100)},"onSuccess"),onError:s($=>{Ye.error("Failed to update group",$),console.error("Group update error details:",$);const W=$ instanceof Error?$.message:"Failed to update group.";P({title:"Error",description:W,variant:"destructive"})},"onError")}),y=ci({mutationFn:s(async()=>{if(!t)throw new Error("Channel ID is required for delete");return await Nr().messaging.deleteChannel(t)},"mutationFn"),onSuccess:s(()=>{P({title:"Group Deleted",description:"The group has been successfully deleted."}),R.invalidateQueries({queryKey:["channels",h]}),R.invalidateQueries({queryKey:["channels"]}),L("/"),e()},"onSuccess"),onError:s($=>{Ye.error("Failed to delete channel",$);const W=$ instanceof Error?$.message:"Could not delete group.";typeof $=="object"&&$!==null&&$.statusCode===404?P({title:"Error Deleting Group",description:"Delete operation not found on server.",variant:"destructive"}):P({title:"Error Deleting Group",description:W,variant:"destructive"})},"onError")}),{data:g,isLoading:x,isError:E,error:T}=Cn({queryKey:["channelParticipants",t],queryFn:s(async()=>{if(!t)return{success:!0,data:[]};try{const W=await Nr().messaging.getChannelParticipants(t);let oe=[];return W&&Array.isArray(W.participants)?oe=W.participants.map(ne=>ne.userId):W&&Array.isArray(W)&&(oe=W.map(ne=>ne.userId||ne.id||ne)),{success:!0,data:oe}}catch($){return console.error("[GroupPanel] Error fetching channel participants:",$),{success:!1,error:{message:$ instanceof Error?$.message:"Unknown error"}}}},"queryFn"),enabled:!!t,retry:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0,gcTime:0});H.useEffect(()=>{if(t&&w?.data?.channels){const $=w.data.channels.find(W=>W.id===t);if(!f.current||v.current!==t){const W=$?.name||"";n(W),l(W),f.current=!0,v.current=t,m.current=!1}}else t||(f.current=!1,n(""),o([]),l(""),c([]))},[t,w]),H.useEffect(()=>{if(!A&&!(t&&x)){if(!t){m.current=!1;return}if(!(m.current&&v.current===t)){if(E){P({title:"Error",description:`Could not load group participants: ${T?.message||"Unknown error"}`,variant:"destructive"}),o([]),c([]),m.current=!0;return}if(g?.success&&g.data){const $=g.data,W=I.filter(oe=>$.includes(oe.id));o(W),c(W.map(oe=>oe.id)),m.current=!0}else g&&!g.success?(P({title:"Error",description:`Could not load group participants: ${g.error?.message||"Server error"}`,variant:"destructive"}),o([]),c([]),m.current=!0):(o([]),c([]),m.current=!0)}}},[t,A,x,g,I,E,T,P]);const N=H.useMemo(()=>A||M?[]:I.map($=>({id:$.id,label:`${$.name}${$.status===on.INACTIVE?" (Inactive)":""}`,icon:typeof $.settings?.avatar=="string"?$.settings.avatar:""})),[I,A,M]),k=H.useMemo(()=>[],[]),p=H.useMemo(()=>A||!t||t&&!m.current?k:i.map(W=>({id:W.id,label:`${W.name}${W.status===on.INACTIVE?" (Inactive)":""}`,icon:typeof W.settings?.avatar=="string"?W.settings.avatar:""})),[t,i,A,k]),S=H.useCallback($=>{const W=I.filter(oe=>$.some(ne=>ne.id===oe.id));o(W)},[I]),C=H.useCallback(async()=>{if(!t)return;const $=w?.data?.channels.find(W=>W.id===t);F({title:"Delete Group",description:`Are you sure you want to permanently delete the group chat "${$?.name||r||"this group"}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},()=>{y.mutate()})},[t,r,w,y]),O=H.useMemo(()=>{if(!t)return!0;const $=r.trim()!==a.trim(),W=i.map(ie=>ie.id).sort(),oe=u.sort(),ne=JSON.stringify(W)!==JSON.stringify(oe);return $||ne},[t,r,a,i,u]),B=H.useCallback(async()=>{if(!t&&i.length===0){P({title:"Validation Error",description:"Please select at least one agent for the group.",variant:"destructive"});return}const $=s(()=>{const W=i.map(ne=>ne.id),oe=r.trim()||(i.length>0?i.map(ne=>ne.name).join(", "):"Empty Group");t?d.mutate({name:oe,participantIds:W}):X.mutate({name:oe,participantIds:W})},"proceed");if(t&&i.length===0){F({title:"Remove All Agents?",description:"Are you sure you want to remove all agents from this group? This will leave the group with no participants.",confirmText:"Remove All",variant:"destructive"},()=>{$()});return}$()},[t,r,i,X,d,P]),z=t?!O||X.isPending||d.isPending||y.isPending:i.length===0||X.isPending||d.isPending||y.isPending;return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:e,children:b.jsxs(Ns,{className:"w-[80%] max-w-2xl",onClick:s($=>$.stopPropagation(),"onClick"),children:[b.jsxs(hp,{className:"flex flex-row items-center justify-between space-y-0",children:[b.jsx(w4,{className:"text-xl font-semibold",children:t?"Edit Group Chat":"Create Group Chat"}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:e,children:b.jsx(ei,{className:"h-4 w-4"})})]}),b.jsx(pi,{}),b.jsx(qo,{className:"pt-4",children:b.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[b.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[b.jsx("label",{htmlFor:"chat-name",className:"text-sm font-medium",children:"Chat Name (Optional)"}),b.jsx(sn,{id:"chat-name",value:r,onChange:s($=>n($.target.value),"onChange"),className:"w-full bg-background text-foreground",placeholder:"Leave blank to auto-generate from participants",disabled:X.isPending||d.isPending||y.isPending})]}),b.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[b.jsxs("label",{htmlFor:"invite-agents",className:"text-sm font-medium",children:["Select Agents"," ",!t&&b.jsx("span",{className:"text-muted-foreground",children:"(Required)"})]}),A?b.jsxs("div",{className:"flex items-center justify-center p-4",children:[b.jsx(Nn,{className:"h-6 w-6 animate-spin text-muted-foreground"}),b.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading agents..."})]}):M?b.jsx("div",{className:"flex items-center justify-center p-4 text-red-500",children:"Error loading agents. Please try again later."}):b.jsx(zpe,{options:N,onSelect:S,className:"w-full",initialSelected:p},`group-panel-combobox-${t||"create"}-${I.length}`),i.length>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," agent",i.length>1?"s":""," selected"]}),t&&O&&b.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"You have unsaved changes"})]})]})}),b.jsxs(pp,{className:"flex justify-between pt-4",children:[t&&b.jsxs(dt,{variant:"destructive",onClick:C,disabled:y.isPending||X.isPending||d.isPending||A,children:[y.isPending?b.jsx(Nn,{className:"mr-2 h-4 w-4 animate-spin"}):b.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Delete Group"]}),b.jsxs(dt,{variant:"default",className:t?"":"w-full",onClick:B,disabled:z,children:[(X.isPending||d.isPending)&&b.jsx(Nn,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Group":"Create Group"]})]})]})}),b.jsx(Xo,{open:Z,onOpenChange:G,title:U?.title||"",description:U?.description||"",confirmText:U?.confirmText,cancelText:U?.cancelText,variant:U?.variant,onConfirm:se})]})}s(Vp,"GroupPanel");function $pe(e,t="00000000-0000-0000-0000-000000000000"){const r=Io();return Cn({queryKey:["dmChannels",e,r,t],queryFn:s(async()=>{if(!e)return[];Ye.info("[useDmChannelsForAgent] Fetching distinct DM channels for agent:",e);const l=((await Nr().messaging.getServerChannels(t)).channels||[]).map(p4).filter(u=>{const c=u.metadata||{},h=u.type===Ft.DM,f=c.isDm===!0,v=c.forAgent===e,m=c.user1===r&&c.user2===e||c.user1===e&&c.user2===r;if(h&&f&&v&&m)return!0;if(u.type===Ft.DM&&!c.isDm&&!c.forAgent){const w=u.name.toLowerCase(),_=`dm-${r}-${e}`.toLowerCase(),A=`dm-${e}-${r}`.toLowerCase();if(w===_||w===A)return Ye.warn("[useDmChannelsForAgent] Matched a canonical DM channel by name convention:",u.id,u.name),!0}return!1});return Ye.info("[useDmChannelsForAgent] Found distinct DM channels:",l.length,l.map(u=>({id:u.id,name:u.name,metadata:u.metadata}))),l.sort((u,c)=>{const h=new Date(u.updatedAt||u.createdAt).getTime();return new Date(c.updatedAt||c.createdAt).getTime()-h})},"queryFn"),enabled:!!e,staleTime:Er.FREQUENT,refetchInterval:Er.STANDARD})}s($pe,"useDmChannelsForAgent");function Hpe(){const e=En(),{toast:t}=Mr(),r=Io();return ci({mutationFn:s(async({agentId:n,channelName:i,serverId:o="00000000-0000-0000-0000-000000000000"})=>{if(Ye.info("[useCreateDmChannel] Creating new distinct DM channel with agent:",{agentId:n,channelName:i,serverId:o}),!i||!i.trim())throw new Error("Channel name cannot be empty for a new DM conversation.");return await Nr().messaging.createGroupChannel({name:i.trim(),participantIds:[r,n],metadata:{type:Ft.DM,server_id:o,isDm:!0,user1:r,user2:n,forAgent:n,createdAt:new Date().toISOString()}})},"mutationFn"),onSuccess:s((n,i)=>{Ye.info("[useCreateDmChannel] Distinct DM channel created successfully:",n),t({title:"New Chat Started",description:`Conversation "${n.name}" created.`}),e.invalidateQueries({queryKey:["dmChannels",i.agentId,r,i.serverId]}),e.invalidateQueries({queryKey:["channels"]})},"onSuccess"),onError:s(n=>{Ye.error("[useCreateDmChannel] Error creating distinct DM channel:",n),t({title:"Error Creating Chat",description:n instanceof Error?n.message:"Could not start new chat.",variant:"destructive"})},"onError")})}s(Hpe,"useCreateDmChannel");const mE="eliza-agent-sidebar-visible";function Vpe(){const[e,t]=H.useState(!1);H.useEffect(()=>{try{const i=localStorage.getItem(mE);if(i!==null){const o=JSON.parse(i);t(o)}}catch(i){Ye.error("Error reading sidebar state from localStorage:",i),t(!1)}},[]);const r=H.useCallback(i=>{t(i);try{localStorage.setItem(mE,JSON.stringify(i))}catch(o){Ye.error("Error saving sidebar state to localStorage:",o)}},[]),n=H.useCallback(()=>{r(!e)},[e,r]);return{isVisible:e,setSidebarVisible:r,toggleSidebar:n}}s(Vpe,"useSidebarState");const x1="eliza-main-panel-width",_1="eliza-sidebar-panel-width",E1="eliza-floating-threshold",S1=70,k1=30,T1=1400;function Gpe(){const[e,t]=H.useState(S1),[r,n]=H.useState(k1),[i,o]=H.useState(!1),[a,l]=H.useState(T1);H.useEffect(()=>{try{const m=localStorage.getItem(x1),w=localStorage.getItem(_1),_=localStorage.getItem(E1);if(m!==null){const A=parseFloat(m);!isNaN(A)&&A>0&&A<=100&&t(A)}if(w!==null){const A=parseFloat(w);!isNaN(A)&&A>0&&A<=100&&n(A)}if(_!==null){const A=parseFloat(_);!isNaN(A)&&A>0&&l(A)}}catch(m){Ye.error("Error reading panel sizes from localStorage:",m),t(S1),n(k1),l(T1)}},[]),H.useEffect(()=>{const m=s(()=>{const w=window.innerWidth<a;o(w)},"checkFloatingMode");return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[a]);const u=H.useCallback(m=>{const w=Math.max(20,Math.min(80,m));t(w);try{localStorage.setItem(x1,w.toString())}catch(_){Ye.error("Error saving main panel size to localStorage:",_)}},[]),c=H.useCallback(m=>{const w=Math.max(20,Math.min(80,m));n(w);try{localStorage.setItem(_1,w.toString())}catch(_){Ye.error("Error saving sidebar panel size to localStorage:",_)}},[]),h=H.useCallback(m=>{const w=Math.max(320,Math.min(2560,m));l(w);try{localStorage.setItem(E1,w.toString())}catch(_){Ye.error("Error saving floating threshold to localStorage:",_)}},[]),f=H.useCallback(()=>{o(m=>!m)},[]),v=H.useCallback(()=>{t(S1),n(k1),l(T1);try{localStorage.removeItem(x1),localStorage.removeItem(_1),localStorage.removeItem(E1)}catch(m){Ye.error("Error clearing panel sizes from localStorage:",m)}},[]);return{mainPanelSize:e,sidebarPanelSize:r,isFloatingMode:i,floatingThreshold:a,setMainPanelSize:u,setSidebarPanelSize:c,setFloatingThreshold:h,toggleFloatingMode:f,resetPanelSizes:v}}s(Gpe,"usePanelWidthState");var th={exports:{}},Zpe=th.exports,gE;function Jpe(){return gE||(gE=1,(function(e,t){(function(r,n){e.exports=n()})(Zpe,(function(){return function(r,n,i){r=r||{};var o=n.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,h,f,v){return o.fromToBase(c,h,f,v)}s(l,"i"),i.en.relativeTime=a,o.fromToBase=function(c,h,f,v,m){for(var w,_,A,M=f.$locale().relativeTime||a,I=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=I.length,L=0;L<R;L+=1){var P=I[L];P.d&&(w=v?i(c).diff(f,P.d,!0):f.diff(c,P.d,!0));var F=(r.rounding||Math.round)(Math.abs(w));if(A=w>0,F<=P.r||!P.r){F<=1&&L>0&&(P=I[L-1]);var Z=M[P.l];m&&(F=m(""+F)),_=typeof Z=="string"?Z.replace("%d",F):Z(F,h,P.l,A);break}}if(h)return _;var G=A?M.future:M.past;return typeof G=="function"?G(_):G.replace("%s",_)},o.to=function(c,h){return l(c,h,this,!0)},o.from=function(c,h){return l(c,h,this)};var u=s(function(c){return c.$u?i.utc():i()},"d");o.toNow=function(c){return this.to(u(this),c)},o.fromNow=function(c){return this.from(u(this),c)}}}))})(th)),th.exports}s(Jpe,"requireRelativeTime");var Wpe=Jpe();const Qpe=a0(Wpe);_o.extend(Qpe);const vE="00000000-0000-0000-0000-000000000000",Xpe=s(e=>{const t=e.rawMessage,r=s(h=>{switch(h){case"pending":case"executing":case"running":return"input-streaming";case"completed":case"success":return"output-available";case"failed":case"error":return"output-error";default:return"input-available"}},"mapActionStatusToState"),n=t.actions?.[0]||t.action||"ACTION",i=t.actionStatus||"completed",o=t.actionId,a={};t.actions&&(a.actions=t.actions),t.action&&(a.action=t.action),t.thought&&(a.thought=t.thought);const l={};t.text&&(l.result=t.text),l.status=i,t.thought&&(l.thought=t.thought),t.actionResult&&(l.actionResult=t.actionResult);const c=i==="failed"||i==="error"?t.text||"Action failed":void 0;return{type:n,state:r(i),toolCallId:o,input:Object.keys(a).length>0?a:void 0,output:Object.keys(l).length>0?l:void 0,errorText:c}},"convertActionMessageToToolPart"),Kpe=g0.memo(qpe,(e,t)=>e.message.id===t.message.id&&e.message.text===t.message.text&&e.message.isLoading===t.message.isLoading&&e.shouldAnimate===t.shouldAnimate&&e.isUser===t.isUser);function qpe({message:e,agentForTts:t,shouldAnimate:r,onDelete:n,onRetry:i,isUser:o,getAgentInMessage:a,agentAvatarMap:l,chatType:u}){const c=e.type==="agent_action"||e.source==="agent_action";return b.jsxs("div",{className:"flex flex-col w-full",children:[b.jsxs(pI,{isLoading:e.isLoading,...o?{variant:"sent"}:{},...!e.text&&!e.attachments?.length?{className:"bg-transparent"}:{},children:[c?b.jsx(N0e,{toolPart:Xpe(e),defaultOpen:!1,className:"max-w-none"}):b.jsx("div",{children:(()=>{if(!e.text)return null;const h=jL(e.text),f=new Set(e.attachments?.map(w=>w.url).filter(Boolean)||[]),v=h.filter(w=>!f.has(w.url)),m=P0e(e.text,h);return b.jsxs("div",{className:"space-y-3",children:[m.trim()&&b.jsx("div",{children:o?b.jsx("div",{className:"whitespace-pre-wrap",children:m}):b.jsx(IL,{className:"max-w-none",isAnimating:r,children:m})}),v.length>0&&b.jsx("div",{className:"space-y-2",children:v.map((w,_)=>b.jsx("div",{children:b.jsx(H8,{url:w.url,title:"Shared media"})},`${w.url}-${_}`))})]})})()}),e.attachments?.filter(h=>h.url&&h.url.trim()!=="").map(h=>b.jsx(H8,{url:h.url,title:h.title||"Attachment"},`${h.url}-${h.title}`))]}),b.jsxs("div",{className:"flex items-center justify-between w-full py-1",children:[b.jsx("div",{children:!o&&(e.text||e.attachments?.length)&&e.createdAt&&b.jsx(lee,{className:"text-muted-foreground",timestamp:_o(e.createdAt).format("LT")})}),b.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[!o&&e.text&&!e.isLoading&&t?.id&&b.jsxs(b.Fragment,{children:[b.jsx(WY,{text:e.text}),b.jsx(cee,{agentId:t.id,text:e.text})]}),o&&e.text&&!e.isLoading&&i&&b.jsx(XY,{onClick:s(()=>i(e.text||""),"onClick")}),b.jsx(QY,{onClick:s(()=>n(e.id),"onClick")})]})]})]})}s(qpe,"MessageContent");function oP({chatType:e,contextId:t,serverId:r,initialDmChannelId:n}){const{toast:i}=Mr(),o=En(),{isVisible:a,setSidebarVisible:l,toggleSidebar:u}=Vpe(),{mainPanelSize:c,sidebarPanelSize:h,isFloatingMode:f,setMainPanelSize:v,setSidebarPanelSize:m}=Gpe(),[w,_]=H.useState({showGroupEditPanel:!1,showProfileOverlay:!1,input:"",inputDisabled:!1,selectedGroupAgentId:null,currentDmChannelId:null,isCreatingDM:!1,isMobile:!1}),I=d0().state?.forceNew||!1;Rn();const[R,L]=H.useState(I),P=f||w.isMobile,{confirm:F,isOpen:Z,onOpenChange:G,onConfirm:se,options:U}=Ko(),{stopAgent:X,isAgentStopping:d}=tu(),y=H.useCallback(Ge=>{_(st=>({...st,...Ge}))},[]),g=Io(),x=H.useRef(null),E=H.useRef(null),T=H.useRef(null),N=H.useRef(!1),k=H.useRef(!1),p=H.useRef(""),{data:S,isLoading:C}=xd(e===Ft.DM?t:void 0,{enabled:e===Ft.DM}),O=S?.data?{...S.data,createdAt:S.data.createdAt||Date.now(),updatedAt:S.data.updatedAt||Date.now()}:void 0,{handleDelete:B,isDeleting:z}=PL(O||{}),{data:$=[],isLoading:W}=$pe(e===Ft.DM?t:void 0,r||vE),oe=Hpe(),{data:ne}=Wq(e===Ft.GROUP?t:void 0),{data:ie}=b4(e===Ft.GROUP?t:void 0),Qe=ie?.data,{data:Ne}=Yl(),ve=Ne?.agents||[],Me=$[0],J=e===Ft.DM?w.currentDmChannelId||void 0:t||void 0,ae=H.useMemo(()=>r||vE,[r]),{data:K=[],isLoading:Y}=Jx(Me?.id,ae),{data:de=[],isLoading:Be,addMessage:Pe,updateMessage:we,removeMessage:q,clearMessages:te}=Jx(J,ae),re=H.useMemo(()=>e!==Ft.GROUP||!Qe?[]:Qe.map(Ge=>ve.find(st=>st.id===Ge)).filter(Boolean),[e,Qe,ve]),Ee=H.useMemo(()=>ve.reduce((Ge,st)=>(st.id&&typeof st.settings?.avatar=="string"&&(Ge[st.id]=st.settings.avatar),Ge),{}),[ve]),ge=H.useCallback(Ge=>ve.find(st=>st.id===Ge),[ve]),{scrollRef:he,contentRef:it,isAtBottom:Re,scrollToBottom:Xe,disableAutoScroll:Nt,autoScrollEnabled:Ae}=_0e({smooth:!0}),qe=H.useRef(0),ye=H.useCallback(()=>{he.current&&setTimeout(()=>Xe(),0)},[Xe,he]),Ce=H.useRef(!1),He=H.useRef(null),We=H.useCallback(async Ge=>{if(!Ge||e!=="DM")return;if(Me)try{const Kt=await Nr().messaging.getChannelMessages(Me.id,{limit:30}),$t=et(Me.name),pr=(Kt?.messages?.length??0)===0;if($t&&pr){w.currentDmChannelId===Me.id?i({title:"Already in a fresh chat",description:`You're already in a new chat with ${O?.name||"the agent"}.`}):(y({currentDmChannelId:Me.id}),i({title:"Chat opened",description:`You can now start chatting with ${O?.name||"the agent"}.`})),y({currentDmChannelId:Me.id});return}else Ye.info("[Chat] Latest DM channel has messages or customized name, proceeding to create a new one.")}catch(Lt){Ye.error("[Chat] Failed to fetch latest DM channel messages:",Lt)}const st=`Chat - ${_o().format("MMM D, HH:mm:ss")}`;Ye.info(`[Chat] Creating new distinct DM channel with agent ${Ge}, name: "${st}"`),y({isCreatingDM:!0});try{Ce.current=!0,await oe.mutateAsync({agentId:Ge,channelName:st,serverId:ae}),y({input:""}),setTimeout(()=>ye(),150)}catch(Lt){Ye.error("[Chat] Error creating new distinct DM channel:",Lt),y({currentDmChannelId:null,input:""})}finally{y({isCreatingDM:!1}),i({title:"Chat opened",description:`You can now start chatting with ${O?.name||"the agent"}.`})}},[e,oe,y,ye,Me]),Ue=H.useCallback(Ge=>{const st=$.find(Lt=>Lt.id===Ge);st&&(Ye.info(`[Chat] DM Channel selected: ${st.name} (Channel ID: ${st.id})`),y({currentDmChannelId:st.id,input:""}),setTimeout(()=>ye(),150))},[$,y,ye]),tt=H.useCallback(()=>{if(e!==Ft.DM||!w.currentDmChannelId||!O?.id)return;const Ge=$.find(st=>st.id===w.currentDmChannelId);Ge&&F({title:"Delete Chat",description:`Are you sure you want to delete the chat "${Ge.name}" with ${O.name}? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},async()=>{Ye.info(`[Chat] Deleting DM channel ${Ge.id}`);try{await Nr().messaging.deleteChannel(Ge.id),o.setQueryData(["dmChannels",O.id,g],Kt=>Kt?.filter($t=>$t.id!==Ge.id)),o.invalidateQueries({queryKey:["dmChannels",O.id,g]}),o.invalidateQueries({queryKey:["channels"]}),i({title:"Chat Deleted",description:`"${Ge.name}" was deleted.`});const Lt=o.getQueryData(["dmChannels",O.id,g])||[];Lt.length>0?(y({currentDmChannelId:Lt[0].id}),Ye.info("[Chat] Switched to DM channel:",Lt[0].id)):(Ye.info("[Chat] No DM channels left after deletion. Will create a fresh chat once."),y({currentDmChannelId:null}),Ce.current=!1,await We(O.id))}catch(st){Ye.error("[Chat] Error deleting DM channel:",st),i({title:"Error",description:"Could not delete chat. The server might not support this action yet.",variant:"destructive"})}})},[e,w.currentDmChannelId,O,$,F,i,y,We,o,g]);H.useEffect(()=>{Me&&!Y&&K&&O?.id&&R&&(We(O.id),L(!1))},[R,L,We,O?.id,Me,K,Y]),H.useEffect(()=>{N.current=w.inputDisabled},[w.inputDisabled]),H.useEffect(()=>{const Ge=$.find(st=>st.id===w.currentDmChannelId);Ge?.name&&(p.current=Ge.name)},[$,w.currentDmChannelId]),H.useEffect(()=>{!W&&$.length>0&&(Ye.info("[Chat] Selecting first available DM channel:",$[0].id),y({currentDmChannelId:$[0].id}))},[$,W,y]);const Ot=H.useCallback(Ge=>{if(e===Ft.DM&&t&&Ge&&typeof window<"u"){const st=`/chat/${t}/${Ge}`;window.location.pathname!==st&&window.history&&window.history.replaceState(null,"",st)}},[e,t]);H.useEffect(()=>{w.currentDmChannelId&&Ot(w.currentDmChannelId)},[w.currentDmChannelId,Ot]),H.useEffect(()=>{if(Ye.info("[Chat] URL navigation effect triggered",{initialDmChannelId:n,agentDmChannelsLength:$.length,isLoadingAgentDmChannels:W,currentDmChannelId:w.currentDmChannelId}),n&&$.length>0&&!W&&!k.current){if(!$c(n)){Ye.warn("[Chat] Invalid channel ID format from URL:",n),k.current=!0;return}$.some(Lt=>Lt.id===n)?(Ye.info("[Chat] Switching to channel from URL:",n),y({currentDmChannelId:n}),k.current=!0):(Ye.warn("[Chat] Channel from URL not found, staying with current channel",{initialDmChannelId:n,availableChannels:$.map(Lt=>Lt.id)}),k.current=!0)}},[n,$,W,y]),H.useEffect(()=>{if(e===Ft.DM&&O?.id){if(!(!w.currentDmChannelId||$.some(st=>st.id===w.currentDmChannelId))&&!W){Ye.info(`[Chat] Current DM channel ${w.currentDmChannelId} doesn't belong to agent ${O.id}, clearing it`),y({currentDmChannelId:null});return}!W&&$.length===0&&!n&&!Ce.current&&!w.isCreatingDM&&!oe.isPending&&(Ye.info("[Chat] No existing DM channels found; auto-creating a fresh one."),Ce.current=!0,We(O.id))}else e!==Ft.DM&&w.currentDmChannelId!==null&&y({currentDmChannelId:null})},[e,O?.id,$,W,oe.isPending,w.isCreatingDM,w.currentDmChannelId,n,y,We]),H.useEffect(()=>($.length>0&&He.current&&(clearTimeout(He.current),He.current=null),()=>{He.current&&(clearTimeout(He.current),He.current=null)}),[$]),H.useEffect(()=>{e===Ft.GROUP&&re.length===1&&!w.selectedGroupAgentId&&(y({selectedGroupAgentId:re[0].id}),a||l(!0))},[e,re,w.selectedGroupAgentId,y,a,l]);const{mutate:Ke}=Qq(),{mutate:Ie}=Xq();H.useEffect(()=>{const Ge=qe.current===0&&de.length>0,st=de.length!==qe.current&&qe.current!==0;Ge?(Ye.debug("[chat] Initial messages loaded, scrolling to bottom.",{count:de.length}),ye()):st&&(Ae?(Ye.debug("[chat] New messages and autoScroll enabled, scrolling."),ye()):Ye.debug("[chat] New messages, but autoScroll is disabled (user scrolled up).")),qe.current=de.length},[de,Ae,ye,J]);function et(Ge){return!!Ge?.match(/^Chat - [A-Z][a-z]{2} \d{1,2}, \d{2}:\d{2}(:\d{2})?$/)}s(et,"isAutoGeneratedChatName");const De=s(async()=>{if(!(!!p.current&&et(p.current)&&e===Ft.DM))return;if(!J||!w.currentDmChannelId){Ye.warn("Cannot update chat title: missing channel ID");return}const st=Nr(),Kt=(await st.messaging.generateChannelTitle(J,t))?.title,$t=await st.messaging.getChannelParticipants(w.currentDmChannelId);if(Kt&&$t){let pr=[];$t&&Array.isArray($t.participants)?pr=$t.participants.map(mr=>mr.userId):$t&&Array.isArray($t)&&(pr=$t.map(mr=>mr.userId||mr.id||mr)),await st.messaging.updateChannel(J,{name:Kt,participantCentralUserIds:pr});const kr=Io();o.invalidateQueries({queryKey:["dmChannels",t,kr]})}},"updateChatTitle"),{sendMessage:rt,animatedMessageId:Tt}=M0e({channelId:J,currentUserId:g,contextId:t,chatType:e,allAgents:ve,messages:de,onAddMessage:s(Ge=>{Pe(Ge),De(),Ge.isAgent&&ye()},"onAddMessage"),onUpdateMessage:s((Ge,st)=>{we(Ge,st),!st.isLoading&&st.isLoading!==void 0&&ye()},"onUpdateMessage"),onDeleteMessage:s(Ge=>{q(Ge)},"onDeleteMessage"),onClearMessages:s(()=>{te()},"onClearMessages"),onInputDisabledChange:s(Ge=>y({inputDisabled:Ge}),"onInputDisabledChange")}),{selectedFiles:ue,handleFileChange:be,removeFile:Ze,createBlobUrls:je,uploadFiles:ze,cleanupBlobUrls:ct,clearFiles:ce}=C0e({agentId:O?.id,channelId:J,chatType:e}),Le=s(Ge=>{Ge.key==="Enter"&&!Ge.shiftKey&&!Ge.nativeEvent.isComposing&&(Ge.preventDefault(),lt(Ge))},"handleKeyDown"),lt=s(async Ge=>{Ge.preventDefault();let st=J;if(e===Ft.DM&&!st&&O?.id){if(w.isCreatingDM||oe.isPending){Ye.info("[Chat] DM channel creation already in progress; will wait for it to finish instead of creating another.");return}Ye.info("[Chat] No DM channel selected, creating one before sending message");try{Ce.current=!0;const ur=await oe.mutateAsync({agentId:O.id,channelName:`Chat - ${_o().format("MMM D, HH:mm")}`,serverId:ae});y({currentDmChannelId:ur.id}),st=ur.id,await new Promise(Lr=>setTimeout(Lr,100))}catch(ur){Ye.error("[Chat] Failed to create DM channel before sending message:",ur),i({title:"Error",description:"Failed to create chat channel. Please try again.",variant:"destructive"}),y({inputDisabled:!1});return}}if(!w.input.trim()&&ue.length===0||N.current||!st||!ae||!g||e===Ft.DM&&!O?.id)return;const Lt=ta();let Kt=w.input.trim();const $t=w.input;y({input:"",inputDisabled:!0});const pr=[...ue];ce(),T.current?.reset();const kr=je(pr),mr={id:Lt,text:Kt,name:wl,createdAt:Date.now(),senderId:g,isAgent:!1,isLoading:!0,channelId:st,serverId:ae,source:e===Ft.DM?jd:Gu,attachments:kr};(Kt||pr.length>0)&&Pe(mr),ye();try{let ur=[];if(pr.length>0){const{uploaded:br,failed:_r,blobUrls:Rr}=await ze(pr);ur=br,_r.length>0&&we(Lt,{attachments:mr.attachments?.filter(zr=>!_r.some(Ur=>Ur.file.id===zr.id))}),ct(Rr),!Kt.trim()&&ur.length>0&&(Kt=`Shared ${ur.length} file(s).`)}const Br=jL($t).map((br,_r)=>({id:`textmedia-${Lt}-${_r}`,url:br.url,title:br.type==="image"?"Image":br.type==="video"?"Video":"Media Link",source:"user_input_url",contentType:br.type==="image"?lh.IMAGE:br.type==="video"?lh.VIDEO:void 0})),xr=[...ur,...Br],Or=Kt||(xr.length>0?"Shared content.":"");if(!Or.trim()&&xr.length===0){y({inputDisabled:!1}),q(Lt);return}await rt(Or,ae,e===Ft.DM?jd:Gu,xr.length>0?xr:void 0,Lt,void 0,st)}catch(ur){Ye.error("Error sending message or uploading files:",ur),i({title:"Error Sending Message",description:ur instanceof Error?ur.message:"Could not send message.",variant:"destructive"}),we(Lt,{isLoading:!1,text:`${mr.text||"Attachment(s)"} (Failed to send)`}),y({inputDisabled:!1})}finally{x.current?.focus()}},"handleSendMessage"),Te=s(Ge=>{if(!J||!Ge)return;const st=$c(Ge);st&&(q(Ge),Ke({channelId:J,messageId:st}))},"handleDeleteMessage"),ut=s(async Ge=>{if(N.current||!Ge.text?.trim()&&Ge.attachments?.length===0)return;y({inputDisabled:!0});const st=ta(),Lt=Ge.text?.trim()||`Shared ${Ge.attachments?.length} file(s).`,Kt={id:st,text:Ge.text,name:wl,createdAt:Date.now(),senderId:g,isAgent:!1,isLoading:!0,channelId:Ge.channelId,serverId:ae,source:e===Ft.DM?jd:Gu,attachments:Ge.attachments};if(Pe(Kt),ye(),!ae||!J){Ye.error("Cannot retry message: missing server or channel ID"),i({title:"Error Sending Message",description:"Missing required channel information.",variant:"destructive"}),y({inputDisabled:!1}),q(st);return}try{await rt(Lt,ae,e===Ft.DM?jd:Gu,Ge.attachments,st,void 0,J)}catch($t){Ye.error("Error sending message or uploading files:",$t),i({title:"Error Sending Message",description:$t instanceof Error?$t.message:"Could not send message.",variant:"destructive"}),we(st,{isLoading:!1,text:`${Kt.text||"Attachment(s)"} (Failed to send)`}),y({inputDisabled:!1})}},"handleRetryMessage"),zt=s(()=>{if(!J)return;const Ge=e===Ft.DM?`Clear all messages in this chat with ${O?.name}?`:"Clear all messages in this group chat?";F({title:"Clear Chat",description:`${Ge} This action cannot be undone.`,confirmText:"Clear",variant:"destructive"},()=>{Ie(J)})},"handleClearChat");if(H.useEffect(()=>{const Ge=s(()=>{const st=window.innerWidth<768;y({isMobile:st})},"checkMobile");return Ge(),window.addEventListener("resize",Ge),()=>window.removeEventListener("resize",Ge)},[y]),e===Ft.DM&&(C||!O&&t||W))return b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx(Nn,{className:"h-8 w-8 animate-spin text-primary"})});if(!J||!ae||e===Ft.DM&&!O)return b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"Loading chat context..."})});const at=s(()=>{z||F({title:"Delete Agent",description:`Are you sure you want to delete the agent "${O?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},B)},"onDeleteAgent"),mt=s(()=>{if(e===Ft.DM&&O)return b.jsxs("div",{className:"flex items-center justify-between mb-4 p-3",children:[b.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:b.jsxs(wc,{children:[b.jsx(xc,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",size:"sm",className:"py-6 px-2 flex-shrink-0",children:[b.jsxs("div",{className:"relative flex-shrink-0",children:[b.jsx($a,{className:"size-4 sm:size-10 border rounded-full",children:b.jsx(Uo,{src:vc(O)})}),O?.status===on.ACTIVE?b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-green-500"})}),b.jsx(Wr,{side:"right",children:b.jsx("p",{children:"Agent is active"})})]}):b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-muted-foreground"})}),b.jsx(Wr,{side:"right",children:b.jsx("p",{children:"Agent is inactive"})})]})]}),b.jsx("div",{children:b.jsx("h2",{className:"font-semibold text-lg truncate max-w-[80px] sm:max-w-none",children:O?.name||"Agent"})}),b.jsx(Es,{className:"size-4"})]})}),b.jsxs(_c,{align:"start",side:"bottom",className:"min-w-36 w-[var(--radix-dropdown-menu-trigger-width)]",children:[b.jsxs(ps,{onClick:s(()=>{Bb(O,i)},"onClick"),children:[b.jsx(VE,{className:"h-4 w-4 mr-2"}),"Export"]}),b.jsx(ih,{}),b.jsxs(ps,{onClick:s(()=>{O&&!d(O.id)&&X(O)},"onClick"),children:[b.jsx(yb,{className:"h-4 w-4 mr-2"}),"Stop Agent"]}),b.jsxs(ps,{onClick:s(()=>{O&&!z&&at()},"onClick"),className:"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50",children:[b.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Delete Agent"]})]})]})}),b.jsx("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:e===Ft.DM&&b.jsxs("div",{className:"flex items-center gap-2",children:[$.length>0&&b.jsxs(wc,{children:[b.jsx(xc,{asChild:!0,children:b.jsxs(dt,{variant:"outline",size:"sm",className:"w-8 h-9 sm:max-w-[300px] sm:w-auto rounded-[12px]",children:[b.jsx(p0,{className:"size-4 flex-shrink-0 text-muted-foreground"}),b.jsx("span",{className:"hidden md:inline truncate text-xs sm:text-sm",children:$.find(Ge=>Ge.id===w.currentDmChannelId)?.name||"Select Chat"}),b.jsx(Es,{className:"hidden md:inline-flex size-4 text-muted-foreground"})]})}),b.jsxs(_c,{align:"end",className:"w-[280px] sm:w-[320px]",children:[b.jsxs(vz,{className:"font-medium",children:["Chat History with ",O.name]}),b.jsx(ih,{}),b.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:$.map(Ge=>b.jsx(ps,{onClick:s(()=>Ue(Ge.id),"onClick"),className:Fe("cursor-pointer",Ge.id===w.currentDmChannelId&&"bg-muted"),children:b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[b.jsx("span",{className:Fe("text-sm truncate",Ge.id===w.currentDmChannelId&&"font-medium"),children:Ge.name}),b.jsx("span",{className:"text-xs text-muted-foreground",children:_o((typeof Ge.metadata?.createdAt=="string"||typeof Ge.metadata?.createdAt=="number"?Ge.metadata.createdAt:null)||Ge.updatedAt||Ge.createdAt).fromNow()})]}),Ge.id===w.currentDmChannelId&&b.jsx(Hi,{variant:"default",className:"text-xs flex-shrink-0 ml-2",children:"Current"})]})},Ge.id))})]})]}),b.jsx(mb,{mainAction:{label:w.isCreatingDM?"Creating...":b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"sm:hidden",children:"New"}),b.jsx("span",{className:"hidden sm:inline",children:"New Chat"})]}),onClick:s(()=>We(O?.id),"onClick"),icon:w.isCreatingDM?b.jsx(Nn,{className:"size-4 animate-spin"}):b.jsx(f0,{className:"size-4"}),disabled:w.isCreatingDM||W},actions:[{label:"Clear Chat",onClick:zt,icon:b.jsx(V6,{className:"size-4"}),disabled:!de||de.length===0},{label:"Delete Chat",onClick:tt,icon:b.jsx(No,{className:"size-4"}),disabled:!w.currentDmChannelId,variant:"destructive"}],variant:"outline",size:"sm",mainButtonClassName:"rounded-l-[12px] h-9",dropdownButtonClassName:"rounded-r-[12px] h-9"}),b.jsxs(tn,{children:[b.jsx(rn,{asChild:!0,children:b.jsx(dt,{className:"w-9 h-9 rounded-[12px]",variant:"outline",onClick:u,children:a?b.jsx(Xp,{className:"size-4"}):b.jsx(G6,{className:"size-4"})})}),b.jsx(Wr,{side:"bottom",children:b.jsx("p",{children:a?"Close SidePanel":"Open SidePanel"})})]})]})})]});if(e===Ft.GROUP){const Ge=jb(ne?.data||void 0,re,g);return b.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[b.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:b.jsx("h2",{className:"font-semibold text-lg truncate",title:Ge,children:Ge})}),b.jsxs("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:[b.jsx(mb,{mainAction:{label:"Edit Group",onClick:s(()=>y({showGroupEditPanel:!0}),"onClick"),icon:b.jsx(ID,{className:"size-4"})},actions:[{label:"Clear Messages",onClick:zt,icon:b.jsx(V6,{className:"size-4"}),disabled:!de||de.length===0},{label:"Delete Group",onClick:s(()=>{if(!J||!ae)return;const st=J;F({title:"Delete Group",description:"Are you sure you want to delete this group? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{await Nr().messaging.deleteChannel(st),i({title:"Group Deleted",description:"The group has been successfully deleted."}),window.location.href="/"}catch(Lt){Ye.error("[Chat] Error deleting group:",Lt),i({title:"Error",description:"Could not delete group.",variant:"destructive"})}})},"onClick"),icon:b.jsx(No,{className:"size-4"}),disabled:!J||!ae,variant:"destructive"}],variant:"outline",size:"sm",className:"px-2 sm:px-3"}),b.jsx(dt,{variant:"ghost",size:"sm",className:"px-2 sm:px-3 h-8 w-8 sm:w-auto",onClick:u,children:a?b.jsx(Xp,{className:"h-4 w-4"}):b.jsx(G6,{className:"h-4 w-4"})})]})]}),re.length>0&&b.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card rounded-lg border overflow-x-auto",children:[b.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap flex-shrink-0",children:"Agents:"}),b.jsxs("div",{className:"flex gap-2 min-w-0",children:[b.jsx(dt,{variant:w.selectedGroupAgentId?"ghost":"default",size:"sm",onClick:s(()=>y({selectedGroupAgentId:null}),"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:b.jsx("span",{children:"All"})}),re.map(st=>b.jsxs(dt,{variant:w.selectedGroupAgentId===st?.id?"default":"ghost",size:"sm",onClick:s(()=>{y({selectedGroupAgentId:st?.id||null}),st?.id&&!a&&l(!0)},"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:[b.jsx($a,{className:"size-5",children:b.jsx(Uo,{src:vc(st)})}),b.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:st?.name})]},st?.id))]})]})]})}return null},"renderChatHeader");return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden",children:[P?b.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:mt()}),b.jsxs("div",{className:Fe("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:b.jsx(pE,{messages:de,isLoadingMessages:Be,chatType:e,currentClientEntityId:g,targetAgentData:O,allAgents:ve,animatedMessageId:Tt,scrollRef:he,contentRef:it,isAtBottom:Re,scrollToBottom:Xe,disableAutoScroll:Nt,finalChannelId:J,getAgentInMessage:ge,agentAvatarMap:Ee,onDeleteMessage:Te,onRetryMessage:s(Ge=>{if(!J){i({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const st={id:ta(),text:Ge,name:wl,senderId:g,isAgent:!1,createdAt:Date.now(),channelId:J,serverId:ae};ut(st)},"onRetryMessage"),selectedGroupAgentId:w.selectedGroupAgentId})}),b.jsx("div",{className:"flex-shrink-0",children:b.jsx(hE,{input:w.input,setInput:s(Ge=>y({input:Ge}),"setInput"),inputDisabled:w.inputDisabled,selectedFiles:ue,removeFile:Ze,handleFileChange:be,handleSendMessage:lt,handleKeyDown:Le,chatType:e,targetAgentData:O,formRef:T,inputRef:x,fileInputRef:E})})]})]}):b.jsxs(E0e,{direction:"horizontal",className:"h-full flex-1 overflow-hidden",onLayout:s(Ge=>{Ge.length>=2&&a&&!w.isMobile&&(v(Ge[0]),m(Ge[1]))},"onLayout"),children:[b.jsx(Y_,{defaultSize:a&&!w.isMobile?c:100,minSize:w.isMobile?100:50,children:b.jsx("div",{className:"relative h-full overflow-hidden",children:b.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:mt()}),b.jsxs("div",{className:Fe("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:b.jsx(pE,{messages:de,isLoadingMessages:Be,chatType:e,currentClientEntityId:g,targetAgentData:O,allAgents:ve,animatedMessageId:Tt,scrollRef:he,contentRef:it,isAtBottom:Re,scrollToBottom:Xe,disableAutoScroll:Nt,finalChannelId:J,getAgentInMessage:ge,agentAvatarMap:Ee,onDeleteMessage:Te,onRetryMessage:s(Ge=>{if(!J){i({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const st={id:ta(),text:Ge,name:wl,senderId:g,isAgent:!1,createdAt:Date.now(),channelId:J,serverId:ae};ut(st)},"onRetryMessage"),selectedGroupAgentId:w.selectedGroupAgentId})}),b.jsx("div",{className:"flex-shrink-0",children:b.jsx(hE,{input:w.input,setInput:s(Ge=>y({input:Ge}),"setInput"),inputDisabled:w.inputDisabled,selectedFiles:ue,removeFile:Ze,handleFileChange:be,handleSendMessage:lt,handleKeyDown:Le,chatType:e,targetAgentData:O,formRef:T,inputRef:x,fileInputRef:E})})]})]})})}),(()=>{let Ge,st="Agent",Lt;return e===Ft.DM?(Ge=t,st=O?.name||"Agent",Lt=w.currentDmChannelId||void 0):e===Ft.GROUP&&w.selectedGroupAgentId?(Ge=w.selectedGroupAgentId,st=ve.find($t=>$t.id===w.selectedGroupAgentId)?.name||"Group Member",Lt=t):e===Ft.GROUP&&!w.selectedGroupAgentId&&(st="Group",Lt=t),a&&!w.isMobile&&b.jsxs(b.Fragment,{children:[b.jsx(S0e,{withHandle:!0}),b.jsx(Y_,{defaultSize:h,minSize:15,maxSize:85,children:b.jsx(dE,{agentId:Ge,agentName:st,channelId:Lt})})]})})()]}),(()=>{let Ge,st="Agent",Lt;return e===Ft.DM?(Ge=t,st=O?.name||"Agent",Lt=w.currentDmChannelId||void 0):e===Ft.GROUP&&w.selectedGroupAgentId?(Ge=w.selectedGroupAgentId,st=ve.find($t=>$t.id===w.selectedGroupAgentId)?.name||"Group Member",Lt=t):e===Ft.GROUP&&!w.selectedGroupAgentId&&(st="Group",Lt=t),a&&P&&b.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm",children:b.jsx("div",{className:"absolute inset-0 bg-background shadow-lg",children:b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h3",{className:"font-semibold text-lg",children:st}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(()=>l(!1),"onClick"),className:"h-8 w-8 p-0",children:b.jsx(Xp,{className:"h-4 w-4"})})]}),b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx(dE,{agentId:Ge,agentName:st,channelId:Lt})})]})})})})()]}),w.showGroupEditPanel&&e===Ft.GROUP&&b.jsx(Vp,{onClose:s(()=>y({showGroupEditPanel:!1}),"onClose"),channelId:t}),w.showProfileOverlay&&e===Ft.DM&&O?.id&&b.jsx(fI,{isOpen:w.showProfileOverlay,onClose:s(()=>y({showProfileOverlay:!1}),"onClose"),agentId:O.id}),b.jsx(Xo,{open:Z,onOpenChange:G,title:U?.title||"",description:U?.description||"",confirmText:U?.confirmText,cancelText:U?.cancelText,variant:U?.variant,onConfirm:se})]})}s(oP,"Chat");function bE(){const{agentId:e,channelId:t}=Ob(),r=Rn();H.useEffect(()=>(Ye.info("[AgentRoute] Component mounted/updated",{agentId:e,channelId:t}),()=>{Ye.info("[AgentRoute] Component unmounted",{agentId:e,channelId:t})}),[e,t]);const{data:n,isLoading:i}=xd(e),{startAgent:o,isAgentStarting:a}=tu(),{data:l,isLoading:u}=g4(),c=l?.data?.servers?.[0]?.id,h=n?.data?{...n.data,status:n.data.status==="active"?on.ACTIVE:(n.data.status==="inactive",on.INACTIVE),username:n.data.username||n.data.name||"Unknown",bio:n.data.bio||"",messageExamples:n.data.messageExamples||[],postExamples:n.data.postExamples||[],topics:n.data.topics||[],adjectives:n.data.adjectives||[],knowledge:n.data.knowledge||[],plugins:n.data.plugins||[],settings:n.data.settings||{},secrets:n.data.secrets||{},style:n.data.style||{},templates:n.data.templates||{},enabled:typeof n.data.enabled=="boolean"?n.data.enabled:!0,createdAt:typeof n.data.createdAt=="number"?n.data.createdAt:Date.now(),updatedAt:typeof n.data.updatedAt=="number"?n.data.updatedAt:Date.now()}:void 0;if(!e)return b.jsx("div",{className:"p-4",children:"Agent ID not provided."});if(i||u||!h)return b.jsx("div",{className:"p-4 flex items-center justify-center h-full","data-testid":"loader",children:b.jsx(Nn,{className:"h-8 w-8 animate-spin text-primary"})});c||Ye.warn("[AgentRoute] No server ID available, using default");const f=h.status===on.ACTIVE,v=a(h.id),m=s(()=>{h&&o(h)},"handleStartAgent");return f?(Ye.info("[AgentRoute] Agent is active, rendering chat for DM",{agentName:h?.name,dmChannelIdFromRoute:t}),b.jsx(oP,{chatType:Ft.DM,contextId:e,serverId:c,initialDmChannelId:t},`${e}-${t||"no-dm-channel"}`)):(Ye.info("[AgentRoute] Agent is not active, rendering inactive state UI",{agentName:h?.name}),b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 text-center",children:[b.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[h.name," is not active."]}),b.jsx("p",{className:"text-muted-foreground mb-6",children:"Press the button below to start this agent."}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx(dt,{onClick:s(()=>r(`/settings/${e}`),"onClick"),variant:"outline",size:"lg",children:b.jsx(Co,{className:"h-5 w-5"})}),b.jsxs(dt,{onClick:m,disabled:v,size:"lg",children:[v?b.jsx(Nn,{className:"mr-2 h-5 w-5 animate-spin"}):b.jsx(xb,{className:"mr-2 h-5 w-5"}),v?"Starting Agent...":"Start Agent"]})]})]}))}s(bE,"AgentRoute");function Ype(){return b.jsx("div",{className:"h-full w-full overflow-y-auto",children:b.jsx("div",{className:"min-h-full flex w-full justify-center px-4 sm:px-6 py-4",children:b.jsx("div",{className:"w-full max-w-4xl min-w-0",children:b.jsx(MM,{})})})})}s(Ype,"AgentCreatorRoute");function eme({className:e,...t}){return b.jsx(OD,{"data-slot":"switch",className:Fe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-4 w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",e),...t,children:b.jsx(RD,{"data-slot":"switch-thumb",className:Fe("bg-background dark:data-[state=unchecked]:bg-primary-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block h-2.5 w-2.5 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+10px)] data-[state=unchecked]:translate-x-0")})})}s(eme,"Switch");const tme=s(({agent:e,onChat:t})=>{const r=Rn(),{startAgent:n,stopAgent:i,isAgentStarting:o,isAgentStopping:a}=tu();if(!e||!e.id)return Ye.error("[AgentCard] Agent data or ID is missing",{agent:e}),b.jsx(Ns,{className:"p-4 min-h-[100px] flex items-center justify-center text-muted-foreground",children:"Agent data not available."});const l=e.id,u=e.name||"Unnamed Agent",c=Array.isArray(e.bio)?e.bio.filter(Boolean).join(" ").trim():typeof e.bio=="string"&&e.bio.trim()||"Engages with all types of questions and conversations",h=e.status===on.ACTIVE,f=o(e.id),v=a(e.id),m={id:e.id,name:u,username:e.username||u,bio:e.bio||"",messageExamples:e.messageExamples||[],postExamples:e.postExamples||[],topics:e.topics||[],adjectives:e.adjectives||[],knowledge:e.knowledge||[],plugins:e.plugins||[],settings:e.settings||{},secrets:e.secrets||{},style:e.style||{},system:e.system||void 0,templates:e.templates||{},enabled:typeof e.enabled=="boolean"?e.enabled:!0,status:e.status||on.INACTIVE,createdAt:typeof e.createdAt=="number"?e.createdAt:Date.now(),updatedAt:typeof e.updatedAt=="number"?e.updatedAt:Date.now()},w=s(()=>{n(m)},"handleStart"),_=s(()=>{i(m)},"handleStop"),A=s((R=!1)=>{t(R)},"handleNewChat"),M=s(()=>{r(`/settings/${l}`)},"handleSettings"),I=s(()=>{h?_():w()},"handleToggle");return b.jsx(Ns,{className:Fe("w-full transition-all bg-card border border-border/50 rounded-sm hover:bg-card/50 cursor-pointer",h?"":"opacity-75"),"data-testid":"agent-card",onClick:s(R=>{R.stopPropagation(),A()},"onClick"),children:b.jsxs(qo,{className:"p-0 relative h-full",children:[b.jsx("div",{className:"absolute top-3 right-3",children:b.jsx(eme,{checked:h,onCheckedChange:s(R=>{R!==h&&I()},"onCheckedChange"),onClick:s(R=>R.stopPropagation(),"onClick"),"aria-label":`Toggle ${u}`,disabled:f||v,className:Fe(h?"data-[state=checked]:!bg-green-600":"data-[state=unchecked]:!bg-gray-500/80")})}),b.jsxs("div",{className:"flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[b.jsxs($a,{className:"h-16 w-16 flex-shrink-0 rounded-sm",children:[b.jsx(Uo,{src:vc(e),alt:u}),b.jsx(fp,{className:"text-lg font-medium rounded-sm",children:Mo(u)})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:u,children:u}),b.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:c})]})]}),b.jsx("div",{className:"border-t border-muted"}),b.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(R=>{R.stopPropagation(),M()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:b.jsx(Co,{className:"h-4 w-4 text-muted-foreground"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:s(R=>{R.stopPropagation(),A(!0)},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"New Chat"})]})]})]})})},"AgentCard"),rme=s(({group:e})=>{const t=Rn(),r=Io(),[n,i]=H.useState(!1);if(!e||!e.id)return b.jsx(Ns,{className:"p-4 min-h-[180px] flex items-center justify-center text-muted-foreground",children:"Group data not available."});const o=jb(e,e.participants||[],r),a=s(()=>{t(`/group/${e.id}?serverId=${e.server_id}`)},"handleChatClick"),{data:l}=Yl(),u=l?.agents||[],{data:c}=b4(e.id),h=c?.data,f=h&&Array.isArray(h)?h:[],v=f?u.filter(_=>_.id&&f.includes(_.id)):[],m=s(()=>{i(!0)},"handleSettings"),w=v.map(_=>_.name).filter(Boolean).join(", ")||"No members";return b.jsxs(b.Fragment,{children:[b.jsx(Ns,{className:"w-full transition-all bg-card border border-border/50 rounded-sm","data-testid":"agent-card",children:b.jsx(qo,{className:"p-0 relative h-full",children:b.jsxs("div",{className:"flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[b.jsx($a,{className:"bg-[#282829] h-16 w-16 flex-shrink-0 rounded-[3px] relative overflow-hidden",children:v&&v.length>0?b.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 w-full h-full p-1",children:[v.slice(0,3).map(_=>{const A=typeof _.settings?.avatar=="string"?_.settings.avatar:null;return A?b.jsx("img",{src:A,alt:_.name,className:"object-cover w-full h-full rounded-[3px]"},_.id):b.jsx("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:Mo(_.name)},_.id)}),v.length>3?b.jsxs("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:["+",v.length-3]}):Array.from({length:4-v.slice(0,3).length}).map((_,A)=>b.jsx("div",{className:"flex items-center justify-center bg-[#2D2D2D] text-xs font-medium w-full h-full rounded-[3px]"},`empty-${A}`))]}):b.jsx("div",{className:"flex items-center justify-center bg-muted text-lg font-medium w-full h-full",children:Mo(o)})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:o,children:o}),b.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:w})]})]}),b.jsx("div",{className:"border-t border-muted"}),b.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[b.jsx(dt,{variant:"ghost",size:"sm",onClick:s(_=>{_.stopPropagation(),m()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:b.jsx(Co,{className:"h-4 w-4 text-muted-foreground"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:s(_=>{_.stopPropagation(),a()},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"Chat"})]})]})})}),n&&b.jsx(Vp,{onClose:s(()=>i(!1),"onClose"),channelId:e.id})]})},"GroupCard");function nme(){const{data:e,isLoading:t,isError:r,error:n}=Yl(),i=Rn(),o=H.useMemo(()=>e?.agents||[],[e]),a=o.filter(F=>F.status===on.ACTIVE).length,{data:l}=g4(),u=l?.data?.servers||[],[c,h]=H.useState(!1),[f,v]=H.useState(!1),[m,w]=H.useState(null),[_,A]=H.useState(null),[M,I]=H.useState("agents"),R=s(()=>{w(null),h(!1)},"closeOverlay"),L=s(async(F,Z)=>{F.id&&i(`/chat/${F.id}`,{state:{forceNew:Z}})},"handleNavigateToDm"),P=s(()=>{i("/group/new")},"handleCreateGroup");return H.useEffect(()=>{Ye.info("[Home] Component mounted/re-rendered. Key might have changed.")},[]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex-1 w-full overflow-y-auto bg-background",children:b.jsx("div",{className:"flex flex-col w-full h-full",children:b.jsxs(Db,{value:M,onValueChange:I,className:"w-full h-full flex flex-col",children:[b.jsx("div",{className:"w-full",children:b.jsxs("div",{className:"w-full md:max-w-4xl mx-auto px-6 pt-6 pb-2",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsxs(_0,{className:"h-auto p-0 bg-transparent border-0 border-b-0 gap-2 w-auto",children:[b.jsxs(yc,{value:"agents",className:"relative rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:["Agents",b.jsx("span",{className:`
                          absolute -top-2.5 right-0 inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-white text-[8px] font-semibold border border-black
                          transition-all duration-300 ease-in-out
                          ${M==="agents"&&a>0?"opacity-100 scale-100":"opacity-0 scale-75 pointer-events-none"}
                        `,children:a})]}),b.jsx(yc,{value:"groups",className:"rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:"Groups"})]}),b.jsxs(dt,{variant:"ghost",onClick:s(()=>{M==="agents"?i("/create"):P()},"onClick"),className:"create-agent-button cursor-pointer gap-1",children:[b.jsx(f0,{className:"w-4 h-4"}),M==="agents"?"Create New Agent":"Create New Group"]})]}),b.jsx(pi,{})]})}),b.jsx(Fi,{value:"agents",className:"flex-1 mt-0 bg-background",children:b.jsxs("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:[t&&b.jsx("div",{className:"text-center py-8",children:"Loading agents..."}),r&&b.jsxs("div",{className:"text-center py-8",children:["Error loading agents: ",n instanceof Error?n.message:"Unknown error"]}),o.length===0&&!t&&b.jsx("div",{className:"text-center py-8 flex flex-col items-center gap-4",children:b.jsx("p",{className:"text-muted-foreground",children:"No agents currently running. Start a character to begin."})}),!t&&!r&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 agents-section",children:o.sort((F,Z)=>{const G=F.status===on.ACTIVE?1:0;return(Z.status===on.ACTIVE?1:0)-G}).map(F=>b.jsx(tme,{agent:F,onChat:s(Z=>L(F,Z),"onChat")},F.id))})]})}),b.jsx(Fi,{value:"groups",className:"flex-1 mt-0 bg-background",children:b.jsx("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:!t&&!r&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 groups-section",children:u.map(F=>b.jsx(lP,{serverId:F.id},F.id))})})})]})})}),m?.id&&b.jsx(fI,{isOpen:c,onClose:R,agentId:m.id}),f&&b.jsx(Vp,{onClose:s(()=>{A(null),v(!1)},"onClose"),channelId:_??void 0})]})}s(nme,"Home");const lP=g0.memo(({serverId:e})=>{const{data:t,isLoading:r}=v4(e),n=H.useMemo(()=>t?.data?.channels?.filter(i=>i.type===Ft.GROUP)||[],[t]);return r?b.jsx("p",{children:"Loading channels for server..."}):!n||n.length===0?b.jsx("p",{className:"text-sm text-muted-foreground",children:"No group channels in this server."}):b.jsx(b.Fragment,{children:n.map(i=>b.jsx(rme,{group:{...i,server_id:e}},i.id))})});lP.displayName="ServerChannels";function ime(){const t=d0().pathname,r=t.startsWith("/api/")||t.includes("/agents/")||t.includes("/memory/")||t.includes("/speech/");return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[b.jsx("div",{className:"flex items-center justify-center mb-8",children:b.jsx("div",{className:"bg-red-900/20 h-24 w-24 rounded-full flex items-center justify-center",children:b.jsx(Ni,{className:"h-14 w-14 text-red-500"})})}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),b.jsxs("div",{className:"max-w-lg",children:[r?b.jsxs(b.Fragment,{children:[b.jsxs("p",{className:"text-lg mb-6 text-muted-foreground",children:["The endpoint ",b.jsx("span",{className:"font-mono text-red-400",children:t})," does not exist."]}),b.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-8 text-left",children:[b.jsxs("h3",{className:"text-red-400 font-medium mb-2 flex items-center",children:[b.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Endpoint Not Found"]}),b.jsx("p",{className:"text-sm text-red-300/80 mb-2",children:"The requested API endpoint does not exist on this server. Please check that:"}),b.jsxs("ul",{className:"text-sm text-red-300/80 list-disc pl-5 space-y-1",children:[b.jsx("li",{children:"The URL is spelled correctly"}),b.jsx("li",{children:"You're using the correct version of the API"}),b.jsx("li",{children:"The endpoint is available in this version of Eliza"})]})]})]}):b.jsx("p",{className:"text-lg mb-6 text-muted-foreground",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(dt,{asChild:!0,variant:"default",children:b.jsxs(jD,{to:"/",children:[b.jsx(LD,{className:"h-4 w-4 mr-2"}),"Go to Home"]})}),b.jsx(dt,{asChild:!0,variant:"outline",children:b.jsxs("a",{onClick:s(()=>window.history.back(),"onClick"),children:[b.jsx(M1,{className:"h-4 w-4 mr-2"}),"Go Back"]})})]})]})]})}s(ime,"NotFound");function sme(){const{channelId:e}=Ob(),[t]=PD(),r=t.get("serverId"),n=$c(e),i=$c(r||"");return!n||!i?b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"Missing channel or server information."})}):b.jsx(oP,{chatType:Ft.GROUP,contextId:n,serverId:i},n)}s(sme,"GroupRoute");function ame(){const e=Rn();return b.jsx("div",{className:"pt-4 md:pt-8",children:b.jsx(Vp,{onClose:s(()=>e(-1),"onClose")})})}s(ame,"GroupNew");function ome(){const{agentId:e}=Ob(),t=Rn(),{data:r,isLoading:n}=xd(e);if(n)return b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx(Nn,{className:"h-8 w-8 animate-spin"})});if(!r?.data)return b.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[b.jsx("p",{className:"text-muted-foreground",children:"Agent not found"}),b.jsx(dt,{onClick:s(()=>t("/"),"onClick"),children:"Back to Home"})]});const i={...r.data,createdAt:r.data.createdAt??Date.now(),bio:r.data.bio??[],topics:r.data.topics??[],adjectives:r.data.adjectives??[],style:r.data.style??{all:[],chat:[],post:[]},settings:r.data.settings??{secrets:{}}};return b.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:b.jsx("div",{className:"w-full md:max-w-4xl py-6",children:b.jsx(DL,{agent:i,agentId:e,onSaveComplete:s(()=>{},"onSaveComplete")})})})}s(ome,"AgentSettingsRoute");const uP=new BD({defaultOptions:{queries:{staleTime:Er.STANDARD,refetchInterval:!1,retry:3,retryDelay:s(e=>Math.min(1e3*2**e,3e4),"retryDelay"),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:3,retryDelay:s(e=>Math.min(1e3*2**e,3e4),"retryDelay")}}}),cP=s(async()=>{try{await uP.prefetchQuery({queryKey:["agents"],queryFn:s(async()=>({data:await Nr().agents.listAgents()}),"queryFn"),staleTime:Er.FREQUENT})}catch(e){console.error("Error prefetching initial data:",e)}},"prefetchInitialData");cP();function lme(){JY();const{status:e}=h4(),[t,r]=H.useState(!1),[n,i]=H.useState(Date.now()),o=En();H.useEffect(()=>{Ye.info("[AppContent] Mounted/Updated"),cP()},[]);const a=s(()=>{Ye.info("[AppContent] refreshHomePage called. Current homeKey:",n);const l=Date.now();i(l),Ye.info("[AppContent] New homeKey set to:",l),Ye.info("[AppContent] Invalidating queries for Home page refresh."),o.invalidateQueries({queryKey:["agents"]}),o.invalidateQueries({queryKey:["servers"]})},"refreshHomePage");return b.jsxs(Tl,{delayDuration:0,children:[b.jsxs(B7,{children:[b.jsx(Qx,{refreshHomePage:a}),b.jsxs(U7,{className:"h-screen flex flex-col md:ml-72 overflow-hidden",children:[b.jsx("div",{className:"md:hidden absolute top-4 left-4 z-50",children:b.jsxs(L7,{open:t,onOpenChange:r,children:[b.jsx(CB,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",size:"icon","data-testid":"mobile-menu-button",children:[b.jsx(UD,{className:"h-5 w-5"}),b.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),b.jsx(Pb,{side:"left",className:"w-80 p-0 z-50",children:b.jsx(Qx,{isMobile:!0,refreshHomePage:a})})]})}),b.jsx("div",{className:"flex w-full justify-center pt-16 md:pt-0 flex-shrink-0",children:b.jsx("div",{className:"w-full md:max-w-4xl",children:b.jsx(sY,{})})}),b.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:b.jsxs(FD,{children:[b.jsx(Li,{path:"/",element:b.jsx(nme,{},n)}),b.jsx(Li,{path:"chat/:agentId/:channelId",element:b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(bE,{})})}),b.jsx(Li,{path:"chat/:agentId",element:b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(bE,{})})}),b.jsx(Li,{path:"settings/:agentId",element:b.jsx(ome,{})}),b.jsx(Li,{path:"group/new",element:b.jsx(ame,{})}),b.jsx(Li,{path:"agents/new",element:b.jsx(Ype,{})}),b.jsx(Li,{path:"/create",element:b.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:b.jsx("div",{className:"w-full md:max-w-4xl",children:b.jsx(MM,{})})})}),b.jsx(Li,{path:"/logs",element:b.jsx("div",{className:"flex w-full justify-center",children:b.jsxs("div",{className:"w-full md:max-w-4xl",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsx("h2",{className:"text-2xl p-4 font-bold",children:"System Logs"})}),b.jsx(tI,{})]})})}),b.jsx(Li,{path:"group/:channelId",element:b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(sme,{})})}),b.jsx(Li,{path:"settings/",element:b.jsx("div",{className:"flex w-full justify-center overflow-y-auto",children:b.jsx("div",{className:"w-full md:max-w-4xl",children:b.jsx(oY,{})})})}),b.jsx(Li,{path:"*",element:b.jsx(ime,{})})]})})]})]}),b.jsx(yY,{}),e!=="unauthorized"&&b.jsx(gY,{})]})}s(lme,"AppContent");function ume(){return b.jsx(DD,{client:uP,children:b.jsx("div",{className:"dark antialiased font-sans",style:{colorScheme:"dark"},children:b.jsx(zD,{children:b.jsx(iK,{children:b.jsx(Iq,{children:b.jsx(lme,{})})})})})})}s(ume,"App");const dP=document.getElementById("root");if(!dP)throw new Error("Root element not found");$D.createRoot(dP).render(b.jsx(H.StrictMode,{children:b.jsx(ume,{})}));const xme=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{gme as a,_7 as d,wr as k,xme as m};
//# sourceMappingURL=main-CsWbklde.js.map
